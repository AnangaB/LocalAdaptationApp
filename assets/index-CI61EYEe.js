(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=r(s);fetch(s.href,n)}})();var _t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Em(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mw={exports:{}},Wh={},vw={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uc=Symbol.for("react.element"),fx=Symbol.for("react.portal"),gx=Symbol.for("react.fragment"),mx=Symbol.for("react.strict_mode"),vx=Symbol.for("react.profiler"),yx=Symbol.for("react.provider"),Cx=Symbol.for("react.context"),wx=Symbol.for("react.forward_ref"),bx=Symbol.for("react.suspense"),Sx=Symbol.for("react.memo"),Ex=Symbol.for("react.lazy"),j0=Symbol.iterator;function xx(e){return e===null||typeof e!="object"?null:(e=j0&&e[j0]||e["@@iterator"],typeof e=="function"?e:null)}var yw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cw=Object.assign,ww={};function fl(e,t,r){this.props=e,this.context=t,this.refs=ww,this.updater=r||yw}fl.prototype.isReactComponent={};fl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bw(){}bw.prototype=fl.prototype;function xm(e,t,r){this.props=e,this.context=t,this.refs=ww,this.updater=r||yw}var _m=xm.prototype=new bw;_m.constructor=xm;Cw(_m,fl.prototype);_m.isPureReactComponent=!0;var $0=Array.isArray,Sw=Object.prototype.hasOwnProperty,Rm={current:null},Ew={key:!0,ref:!0,__self:!0,__source:!0};function xw(e,t,r){var i,s={},n=null,o=null;if(t!=null)for(i in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(n=""+t.key),t)Sw.call(t,i)&&!Ew.hasOwnProperty(i)&&(s[i]=t[i]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];s.children=u}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)s[i]===void 0&&(s[i]=a[i]);return{$$typeof:uc,type:e,key:n,ref:o,props:s,_owner:Rm.current}}function _x(e,t){return{$$typeof:uc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Tm(e){return typeof e=="object"&&e!==null&&e.$$typeof===uc}function Rx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var K0=/\/+/g;function jp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Rx(""+e.key):t.toString(36)}function dd(e,t,r,i,s){var n=typeof e;(n==="undefined"||n==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(n){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case uc:case fx:o=!0}}if(o)return o=e,s=s(o),e=i===""?"."+jp(o,0):i,$0(s)?(r="",e!=null&&(r=e.replace(K0,"$&/")+"/"),dd(s,t,r,"",function(l){return l})):s!=null&&(Tm(s)&&(s=_x(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(K0,"$&/")+"/")+e)),t.push(s)),1;if(o=0,i=i===""?".":i+":",$0(e))for(var a=0;a<e.length;a++){n=e[a];var u=i+jp(n,a);o+=dd(n,t,r,u,s)}else if(u=xx(e),typeof u=="function")for(e=u.call(e),a=0;!(n=e.next()).done;)n=n.value,u=i+jp(n,a++),o+=dd(n,t,r,u,s);else if(n==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Bc(e,t,r){if(e==null)return e;var i=[],s=0;return dd(e,i,"","",function(n){return t.call(r,n,s++)}),i}function Tx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ai={current:null},hd={transition:null},Ax={ReactCurrentDispatcher:ai,ReactCurrentBatchConfig:hd,ReactCurrentOwner:Rm};function _w(){throw Error("act(...) is not supported in production builds of React.")}Et.Children={map:Bc,forEach:function(e,t,r){Bc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Bc(e,function(){t++}),t},toArray:function(e){return Bc(e,function(t){return t})||[]},only:function(e){if(!Tm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Et.Component=fl;Et.Fragment=gx;Et.Profiler=vx;Et.PureComponent=xm;Et.StrictMode=mx;Et.Suspense=bx;Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ax;Et.act=_w;Et.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=Cw({},e.props),s=e.key,n=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(n=t.ref,o=Rm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Sw.call(t,u)&&!Ew.hasOwnProperty(u)&&(i[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];i.children=a}return{$$typeof:uc,type:e.type,key:s,ref:n,props:i,_owner:o}};Et.createContext=function(e){return e={$$typeof:Cx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yx,_context:e},e.Consumer=e};Et.createElement=xw;Et.createFactory=function(e){var t=xw.bind(null,e);return t.type=e,t};Et.createRef=function(){return{current:null}};Et.forwardRef=function(e){return{$$typeof:wx,render:e}};Et.isValidElement=Tm;Et.lazy=function(e){return{$$typeof:Ex,_payload:{_status:-1,_result:e},_init:Tx}};Et.memo=function(e,t){return{$$typeof:Sx,type:e,compare:t===void 0?null:t}};Et.startTransition=function(e){var t=hd.transition;hd.transition={};try{e()}finally{hd.transition=t}};Et.unstable_act=_w;Et.useCallback=function(e,t){return ai.current.useCallback(e,t)};Et.useContext=function(e){return ai.current.useContext(e)};Et.useDebugValue=function(){};Et.useDeferredValue=function(e){return ai.current.useDeferredValue(e)};Et.useEffect=function(e,t){return ai.current.useEffect(e,t)};Et.useId=function(){return ai.current.useId()};Et.useImperativeHandle=function(e,t,r){return ai.current.useImperativeHandle(e,t,r)};Et.useInsertionEffect=function(e,t){return ai.current.useInsertionEffect(e,t)};Et.useLayoutEffect=function(e,t){return ai.current.useLayoutEffect(e,t)};Et.useMemo=function(e,t){return ai.current.useMemo(e,t)};Et.useReducer=function(e,t,r){return ai.current.useReducer(e,t,r)};Et.useRef=function(e){return ai.current.useRef(e)};Et.useState=function(e){return ai.current.useState(e)};Et.useSyncExternalStore=function(e,t,r){return ai.current.useSyncExternalStore(e,t,r)};Et.useTransition=function(){return ai.current.useTransition()};Et.version="18.3.1";vw.exports=Et;var te=vw.exports;const xe=Em(te);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dx=te,Mx=Symbol.for("react.element"),Px=Symbol.for("react.fragment"),Fx=Object.prototype.hasOwnProperty,Ix=Dx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kx={key:!0,ref:!0,__self:!0,__source:!0};function Rw(e,t,r){var i,s={},n=null,o=null;r!==void 0&&(n=""+r),t.key!==void 0&&(n=""+t.key),t.ref!==void 0&&(o=t.ref);for(i in t)Fx.call(t,i)&&!kx.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)s[i]===void 0&&(s[i]=t[i]);return{$$typeof:Mx,type:e,key:n,ref:o,props:s,_owner:Ix.current}}Wh.Fragment=Px;Wh.jsx=Rw;Wh.jsxs=Rw;mw.exports=Wh;var Ar=mw.exports,jf={},Tw={exports:{}},$i={},Aw={exports:{}},Dw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,E){var R=b.length;b.push(E);e:for(;0<R;){var I=R-1>>>1,k=b[I];if(0<s(k,E))b[I]=E,b[R]=k,R=I;else break e}}function r(b){return b.length===0?null:b[0]}function i(b){if(b.length===0)return null;var E=b[0],R=b.pop();if(R!==E){b[0]=R;e:for(var I=0,k=b.length,U=k>>>1;I<U;){var j=2*(I+1)-1,X=b[j],N=j+1,K=b[N];if(0>s(X,R))N<k&&0>s(K,X)?(b[I]=K,b[N]=R,I=N):(b[I]=X,b[j]=R,I=j);else if(N<k&&0>s(K,R))b[I]=K,b[N]=R,I=N;else break e}}return E}function s(b,E){var R=b.sortIndex-E.sortIndex;return R!==0?R:b.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var n=performance;e.unstable_now=function(){return n.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],l=[],c=1,h=null,d=3,p=!1,g=!1,v=!1,f=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(b){for(var E=r(l);E!==null;){if(E.callback===null)i(l);else if(E.startTime<=b)i(l),E.sortIndex=E.expirationTime,t(u,E);else break;E=r(l)}}function _(b){if(v=!1,w(b),!g)if(r(u)!==null)g=!0,C(A);else{var E=r(l);E!==null&&S(_,E.startTime-b)}}function A(b,E){g=!1,v&&(v=!1,y(L),L=-1),p=!0;var R=d;try{for(w(E),h=r(u);h!==null&&(!(h.expirationTime>E)||b&&!z());){var I=h.callback;if(typeof I=="function"){h.callback=null,d=h.priorityLevel;var k=I(h.expirationTime<=E);E=e.unstable_now(),typeof k=="function"?h.callback=k:h===r(u)&&i(u),w(E)}else i(u);h=r(u)}if(h!==null)var U=!0;else{var j=r(l);j!==null&&S(_,j.startTime-E),U=!1}return U}finally{h=null,d=R,p=!1}}var F=!1,G=null,L=-1,O=5,V=-1;function z(){return!(e.unstable_now()-V<O)}function H(){if(G!==null){var b=e.unstable_now();V=b;var E=!0;try{E=G(!0,b)}finally{E?T():(F=!1,G=null)}}else F=!1}var T;if(typeof m=="function")T=function(){m(H)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,x=M.port2;M.port1.onmessage=H,T=function(){x.postMessage(null)}}else T=function(){f(H,0)};function C(b){G=b,F||(F=!0,T())}function S(b,E){L=f(function(){b(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,C(A))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(b){switch(d){case 1:case 2:case 3:var E=3;break;default:E=d}var R=d;d=E;try{return b()}finally{d=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,E){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var R=d;d=b;try{return E()}finally{d=R}},e.unstable_scheduleCallback=function(b,E,R){var I=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?I+R:I):R=I,b){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=R+k,b={id:c++,callback:E,priorityLevel:b,startTime:R,expirationTime:k,sortIndex:-1},R>I?(b.sortIndex=R,t(l,b),r(u)===null&&b===r(l)&&(v?(y(L),L=-1):v=!0,S(_,R-I))):(b.sortIndex=k,t(u,b),g||p||(g=!0,C(A))),b},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(b){var E=d;return function(){var R=d;d=E;try{return b.apply(this,arguments)}finally{d=R}}}})(Dw);Aw.exports=Dw;var Lx=Aw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nx=te,zi=Lx;function Re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mw=new Set,mu={};function Zo(e,t){ja(e,t),ja(e+"Capture",t)}function ja(e,t){for(mu[e]=t,e=0;e<t.length;e++)Mw.add(t[e])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$f=Object.prototype.hasOwnProperty,Ox=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q0={},Y0={};function Gx(e){return $f.call(Y0,e)?!0:$f.call(q0,e)?!1:Ox.test(e)?Y0[e]=!0:(q0[e]=!0,!1)}function Vx(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bx(e,t,r,i){if(t===null||typeof t>"u"||Vx(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function li(e,t,r,i,s,n,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=n,this.removeEmptyString=o}var Wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wr[e]=new li(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wr[t]=new li(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wr[e]=new li(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wr[e]=new li(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wr[e]=new li(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wr[e]=new li(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wr[e]=new li(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wr[e]=new li(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wr[e]=new li(e,5,!1,e.toLowerCase(),null,!1,!1)});var Am=/[\-:]([a-z])/g;function Dm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Am,Dm);Wr[t]=new li(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Am,Dm);Wr[t]=new li(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Am,Dm);Wr[t]=new li(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wr[e]=new li(e,1,!1,e.toLowerCase(),null,!1,!1)});Wr.xlinkHref=new li("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wr[e]=new li(e,1,!1,e.toLowerCase(),null,!0,!0)});function Mm(e,t,r,i){var s=Wr.hasOwnProperty(t)?Wr[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bx(t,r,s,i)&&(r=null),i||s===null?Gx(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,i=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var cn=Nx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hc=Symbol.for("react.element"),Sa=Symbol.for("react.portal"),Ea=Symbol.for("react.fragment"),Pm=Symbol.for("react.strict_mode"),Kf=Symbol.for("react.profiler"),Pw=Symbol.for("react.provider"),Fw=Symbol.for("react.context"),Fm=Symbol.for("react.forward_ref"),qf=Symbol.for("react.suspense"),Yf=Symbol.for("react.suspense_list"),Im=Symbol.for("react.memo"),xn=Symbol.for("react.lazy"),Iw=Symbol.for("react.offscreen"),X0=Symbol.iterator;function Ll(e){return e===null||typeof e!="object"?null:(e=X0&&e[X0]||e["@@iterator"],typeof e=="function"?e:null)}var pr=Object.assign,$p;function Ul(e){if($p===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);$p=t&&t[1]||""}return`
`+$p+e}var Kp=!1;function qp(e,t){if(!e||Kp)return"";Kp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var i=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){i=l}e.call(t.prototype)}else{try{throw Error()}catch(l){i=l}e()}}catch(l){if(l&&i&&typeof l.stack=="string"){for(var s=l.stack.split(`
`),n=i.stack.split(`
`),o=s.length-1,a=n.length-1;1<=o&&0<=a&&s[o]!==n[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==n[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==n[a]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{Kp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ul(e):""}function Hx(e){switch(e.tag){case 5:return Ul(e.type);case 16:return Ul("Lazy");case 13:return Ul("Suspense");case 19:return Ul("SuspenseList");case 0:case 2:case 15:return e=qp(e.type,!1),e;case 11:return e=qp(e.type.render,!1),e;case 1:return e=qp(e.type,!0),e;default:return""}}function Xf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ea:return"Fragment";case Sa:return"Portal";case Kf:return"Profiler";case Pm:return"StrictMode";case qf:return"Suspense";case Yf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Fw:return(e.displayName||"Context")+".Consumer";case Pw:return(e._context.displayName||"Context")+".Provider";case Fm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Im:return t=e.displayName||null,t!==null?t:Xf(e.type)||"Memo";case xn:t=e._payload,e=e._init;try{return Xf(e(t))}catch{}}return null}function Wx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xf(t);case 8:return t===Pm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zx(e){var t=kw(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,n=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,n.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wc(e){e._valueTracker||(e._valueTracker=zx(e))}function Lw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=kw(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function Hd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qf(e,t){var r=t.checked;return pr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Q0(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=Wn(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nw(e,t){t=t.checked,t!=null&&Mm(e,"checked",t,!1)}function Zf(e,t){Nw(e,t);var r=Wn(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jf(e,t.type,r):t.hasOwnProperty("defaultValue")&&Jf(e,t.type,Wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Z0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Jf(e,t,r){(t!=="number"||Hd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var jl=Array.isArray;function Na(e,t,r,i){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&i&&(e[r].defaultSelected=!0)}else{for(r=""+Wn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function eg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Re(91));return pr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function J0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Re(92));if(jl(r)){if(1<r.length)throw Error(Re(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Wn(r)}}function Ow(e,t){var r=Wn(t.value),i=Wn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function ey(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zc,Vw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zc=zc||document.createElement("div"),zc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var su={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ux=["Webkit","ms","Moz","O"];Object.keys(su).forEach(function(e){Ux.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),su[t]=su[e]})});function Bw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||su.hasOwnProperty(e)&&su[e]?(""+t).trim():t+"px"}function Hw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,s=Bw(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,s):e[r]=s}}var jx=pr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rg(e,t){if(t){if(jx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Re(62))}}function ig(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sg=null;function km(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ng=null,Oa=null,Ga=null;function ty(e){if(e=hc(e)){if(typeof ng!="function")throw Error(Re(280));var t=e.stateNode;t&&(t=Kh(t),ng(e.stateNode,e.type,t))}}function Ww(e){Oa?Ga?Ga.push(e):Ga=[e]:Oa=e}function zw(){if(Oa){var e=Oa,t=Ga;if(Ga=Oa=null,ty(e),t)for(e=0;e<t.length;e++)ty(t[e])}}function Uw(e,t){return e(t)}function jw(){}var Yp=!1;function $w(e,t,r){if(Yp)return e(t,r);Yp=!0;try{return Uw(e,t,r)}finally{Yp=!1,(Oa!==null||Ga!==null)&&(jw(),zw())}}function yu(e,t){var r=e.stateNode;if(r===null)return null;var i=Kh(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Re(231,t,typeof r));return r}var og=!1;if(tn)try{var Nl={};Object.defineProperty(Nl,"passive",{get:function(){og=!0}}),window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,Nl)}catch{og=!1}function $x(e,t,r,i,s,n,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(c){this.onError(c)}}var nu=!1,Wd=null,zd=!1,ag=null,Kx={onError:function(e){nu=!0,Wd=e}};function qx(e,t,r,i,s,n,o,a,u){nu=!1,Wd=null,$x.apply(Kx,arguments)}function Yx(e,t,r,i,s,n,o,a,u){if(qx.apply(this,arguments),nu){if(nu){var l=Wd;nu=!1,Wd=null}else throw Error(Re(198));zd||(zd=!0,ag=l)}}function Jo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Kw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ry(e){if(Jo(e)!==e)throw Error(Re(188))}function Xx(e){var t=e.alternate;if(!t){if(t=Jo(e),t===null)throw Error(Re(188));return t!==e?null:e}for(var r=e,i=t;;){var s=r.return;if(s===null)break;var n=s.alternate;if(n===null){if(i=s.return,i!==null){r=i;continue}break}if(s.child===n.child){for(n=s.child;n;){if(n===r)return ry(s),e;if(n===i)return ry(s),t;n=n.sibling}throw Error(Re(188))}if(r.return!==i.return)r=s,i=n;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,i=n;break}if(a===i){o=!0,i=s,r=n;break}a=a.sibling}if(!o){for(a=n.child;a;){if(a===r){o=!0,r=n,i=s;break}if(a===i){o=!0,i=n,r=s;break}a=a.sibling}if(!o)throw Error(Re(189))}}if(r.alternate!==i)throw Error(Re(190))}if(r.tag!==3)throw Error(Re(188));return r.stateNode.current===r?e:t}function qw(e){return e=Xx(e),e!==null?Yw(e):null}function Yw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Yw(e);if(t!==null)return t;e=e.sibling}return null}var Xw=zi.unstable_scheduleCallback,iy=zi.unstable_cancelCallback,Qx=zi.unstable_shouldYield,Zx=zi.unstable_requestPaint,yr=zi.unstable_now,Jx=zi.unstable_getCurrentPriorityLevel,Lm=zi.unstable_ImmediatePriority,Qw=zi.unstable_UserBlockingPriority,Ud=zi.unstable_NormalPriority,e_=zi.unstable_LowPriority,Zw=zi.unstable_IdlePriority,zh=null,Os=null;function t_(e){if(Os&&typeof Os.onCommitFiberRoot=="function")try{Os.onCommitFiberRoot(zh,e,void 0,(e.current.flags&128)===128)}catch{}}var bs=Math.clz32?Math.clz32:s_,r_=Math.log,i_=Math.LN2;function s_(e){return e>>>=0,e===0?32:31-(r_(e)/i_|0)|0}var Uc=64,jc=4194304;function $l(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jd(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,s=e.suspendedLanes,n=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?i=$l(a):(n&=o,n!==0&&(i=$l(n)))}else o=r&~s,o!==0?i=$l(o):n!==0&&(i=$l(n));if(i===0)return 0;if(t!==0&&t!==i&&!(t&s)&&(s=i&-i,n=t&-t,s>=n||s===16&&(n&4194240)!==0))return t;if(i&4&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-bs(t),s=1<<r,i|=e[r],t&=~s;return i}function n_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function o_(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,n=e.pendingLanes;0<n;){var o=31-bs(n),a=1<<o,u=s[o];u===-1?(!(a&r)||a&i)&&(s[o]=n_(a,t)):u<=t&&(e.expiredLanes|=a),n&=~a}}function lg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jw(){var e=Uc;return Uc<<=1,!(Uc&4194240)&&(Uc=64),e}function Xp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function cc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bs(t),e[t]=r}function a_(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-bs(r),n=1<<s;t[s]=0,i[s]=-1,e[s]=-1,r&=~n}}function Nm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-bs(r),s=1<<i;s&t|e[i]&t&&(e[i]|=t),r&=~s}}var $t=0;function eb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tb,Om,rb,ib,sb,ug=!1,$c=[],In=null,kn=null,Ln=null,Cu=new Map,wu=new Map,Rn=[],l_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sy(e,t){switch(e){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":Cu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(t.pointerId)}}function Ol(e,t,r,i,s,n){return e===null||e.nativeEvent!==n?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:n,targetContainers:[s]},t!==null&&(t=hc(t),t!==null&&Om(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function u_(e,t,r,i,s){switch(t){case"focusin":return In=Ol(In,e,t,r,i,s),!0;case"dragenter":return kn=Ol(kn,e,t,r,i,s),!0;case"mouseover":return Ln=Ol(Ln,e,t,r,i,s),!0;case"pointerover":var n=s.pointerId;return Cu.set(n,Ol(Cu.get(n)||null,e,t,r,i,s)),!0;case"gotpointercapture":return n=s.pointerId,wu.set(n,Ol(wu.get(n)||null,e,t,r,i,s)),!0}return!1}function nb(e){var t=wo(e.target);if(t!==null){var r=Jo(t);if(r!==null){if(t=r.tag,t===13){if(t=Kw(r),t!==null){e.blockedOn=t,sb(e.priority,function(){rb(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=cg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);sg=i,r.target.dispatchEvent(i),sg=null}else return t=hc(r),t!==null&&Om(t),e.blockedOn=r,!1;t.shift()}return!0}function ny(e,t,r){pd(e)&&r.delete(t)}function c_(){ug=!1,In!==null&&pd(In)&&(In=null),kn!==null&&pd(kn)&&(kn=null),Ln!==null&&pd(Ln)&&(Ln=null),Cu.forEach(ny),wu.forEach(ny)}function Gl(e,t){e.blockedOn===t&&(e.blockedOn=null,ug||(ug=!0,zi.unstable_scheduleCallback(zi.unstable_NormalPriority,c_)))}function bu(e){function t(s){return Gl(s,e)}if(0<$c.length){Gl($c[0],e);for(var r=1;r<$c.length;r++){var i=$c[r];i.blockedOn===e&&(i.blockedOn=null)}}for(In!==null&&Gl(In,e),kn!==null&&Gl(kn,e),Ln!==null&&Gl(Ln,e),Cu.forEach(t),wu.forEach(t),r=0;r<Rn.length;r++)i=Rn[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<Rn.length&&(r=Rn[0],r.blockedOn===null);)nb(r),r.blockedOn===null&&Rn.shift()}var Va=cn.ReactCurrentBatchConfig,$d=!0;function d_(e,t,r,i){var s=$t,n=Va.transition;Va.transition=null;try{$t=1,Gm(e,t,r,i)}finally{$t=s,Va.transition=n}}function h_(e,t,r,i){var s=$t,n=Va.transition;Va.transition=null;try{$t=4,Gm(e,t,r,i)}finally{$t=s,Va.transition=n}}function Gm(e,t,r,i){if($d){var s=cg(e,t,r,i);if(s===null)af(e,t,i,Kd,r),sy(e,i);else if(u_(s,e,t,r,i))i.stopPropagation();else if(sy(e,i),t&4&&-1<l_.indexOf(e)){for(;s!==null;){var n=hc(s);if(n!==null&&tb(n),n=cg(e,t,r,i),n===null&&af(e,t,i,Kd,r),n===s)break;s=n}s!==null&&i.stopPropagation()}else af(e,t,i,null,r)}}var Kd=null;function cg(e,t,r,i){if(Kd=null,e=km(i),e=wo(e),e!==null)if(t=Jo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Kw(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kd=e,null}function ob(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jx()){case Lm:return 1;case Qw:return 4;case Ud:case e_:return 16;case Zw:return 536870912;default:return 16}default:return 16}}var Dn=null,Vm=null,fd=null;function ab(){if(fd)return fd;var e,t=Vm,r=t.length,i,s="value"in Dn?Dn.value:Dn.textContent,n=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(i=1;i<=o&&t[r-i]===s[n-i];i++);return fd=s.slice(e,1<i?1-i:void 0)}function gd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kc(){return!0}function oy(){return!1}function Ki(e){function t(r,i,s,n,o){this._reactName=r,this._targetInst=s,this.type=i,this.nativeEvent=n,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(n):n[a]);return this.isDefaultPrevented=(n.defaultPrevented!=null?n.defaultPrevented:n.returnValue===!1)?Kc:oy,this.isPropagationStopped=oy,this}return pr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kc)},persist:function(){},isPersistent:Kc}),t}var gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bm=Ki(gl),dc=pr({},gl,{view:0,detail:0}),p_=Ki(dc),Qp,Zp,Vl,Uh=pr({},dc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vl&&(Vl&&e.type==="mousemove"?(Qp=e.screenX-Vl.screenX,Zp=e.screenY-Vl.screenY):Zp=Qp=0,Vl=e),Qp)},movementY:function(e){return"movementY"in e?e.movementY:Zp}}),ay=Ki(Uh),f_=pr({},Uh,{dataTransfer:0}),g_=Ki(f_),m_=pr({},dc,{relatedTarget:0}),Jp=Ki(m_),v_=pr({},gl,{animationName:0,elapsedTime:0,pseudoElement:0}),y_=Ki(v_),C_=pr({},gl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),w_=Ki(C_),b_=pr({},gl,{data:0}),ly=Ki(b_),S_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function __(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=x_[e])?!!t[e]:!1}function Hm(){return __}var R_=pr({},dc,{key:function(e){if(e.key){var t=S_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?E_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hm,charCode:function(e){return e.type==="keypress"?gd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),T_=Ki(R_),A_=pr({},Uh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uy=Ki(A_),D_=pr({},dc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hm}),M_=Ki(D_),P_=pr({},gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),F_=Ki(P_),I_=pr({},Uh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),k_=Ki(I_),L_=[9,13,27,32],Wm=tn&&"CompositionEvent"in window,ou=null;tn&&"documentMode"in document&&(ou=document.documentMode);var N_=tn&&"TextEvent"in window&&!ou,lb=tn&&(!Wm||ou&&8<ou&&11>=ou),cy=" ",dy=!1;function ub(e,t){switch(e){case"keyup":return L_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xa=!1;function O_(e,t){switch(e){case"compositionend":return cb(t);case"keypress":return t.which!==32?null:(dy=!0,cy);case"textInput":return e=t.data,e===cy&&dy?null:e;default:return null}}function G_(e,t){if(xa)return e==="compositionend"||!Wm&&ub(e,t)?(e=ab(),fd=Vm=Dn=null,xa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lb&&t.locale!=="ko"?null:t.data;default:return null}}var V_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!V_[e.type]:t==="textarea"}function db(e,t,r,i){Ww(i),t=qd(t,"onChange"),0<t.length&&(r=new Bm("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var au=null,Su=null;function B_(e){Sb(e,0)}function jh(e){var t=Ta(e);if(Lw(t))return e}function H_(e,t){if(e==="change")return t}var hb=!1;if(tn){var ef;if(tn){var tf="oninput"in document;if(!tf){var py=document.createElement("div");py.setAttribute("oninput","return;"),tf=typeof py.oninput=="function"}ef=tf}else ef=!1;hb=ef&&(!document.documentMode||9<document.documentMode)}function fy(){au&&(au.detachEvent("onpropertychange",pb),Su=au=null)}function pb(e){if(e.propertyName==="value"&&jh(Su)){var t=[];db(t,Su,e,km(e)),$w(B_,t)}}function W_(e,t,r){e==="focusin"?(fy(),au=t,Su=r,au.attachEvent("onpropertychange",pb)):e==="focusout"&&fy()}function z_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jh(Su)}function U_(e,t){if(e==="click")return jh(t)}function j_(e,t){if(e==="input"||e==="change")return jh(t)}function $_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xs=typeof Object.is=="function"?Object.is:$_;function Eu(e,t){if(xs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var s=r[i];if(!$f.call(t,s)||!xs(e[s],t[s]))return!1}return!0}function gy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function my(e,t){var r=gy(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gy(r)}}function fb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gb(){for(var e=window,t=Hd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Hd(e.document)}return t}function zm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function K_(e){var t=gb(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&fb(r.ownerDocument.documentElement,r)){if(i!==null&&zm(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,n=Math.min(i.start,s);i=i.end===void 0?n:Math.min(i.end,s),!e.extend&&n>i&&(s=i,i=n,n=s),s=my(r,n);var o=my(r,i);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),n>i?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var q_=tn&&"documentMode"in document&&11>=document.documentMode,_a=null,dg=null,lu=null,hg=!1;function vy(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;hg||_a==null||_a!==Hd(i)||(i=_a,"selectionStart"in i&&zm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),lu&&Eu(lu,i)||(lu=i,i=qd(dg,"onSelect"),0<i.length&&(t=new Bm("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=_a)))}function qc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ra={animationend:qc("Animation","AnimationEnd"),animationiteration:qc("Animation","AnimationIteration"),animationstart:qc("Animation","AnimationStart"),transitionend:qc("Transition","TransitionEnd")},rf={},mb={};tn&&(mb=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function $h(e){if(rf[e])return rf[e];if(!Ra[e])return e;var t=Ra[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in mb)return rf[e]=t[r];return e}var vb=$h("animationend"),yb=$h("animationiteration"),Cb=$h("animationstart"),wb=$h("transitionend"),bb=new Map,yy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(e,t){bb.set(e,t),Zo(t,[e])}for(var sf=0;sf<yy.length;sf++){var nf=yy[sf],Y_=nf.toLowerCase(),X_=nf[0].toUpperCase()+nf.slice(1);Xn(Y_,"on"+X_)}Xn(vb,"onAnimationEnd");Xn(yb,"onAnimationIteration");Xn(Cb,"onAnimationStart");Xn("dblclick","onDoubleClick");Xn("focusin","onFocus");Xn("focusout","onBlur");Xn(wb,"onTransitionEnd");ja("onMouseEnter",["mouseout","mouseover"]);ja("onMouseLeave",["mouseout","mouseover"]);ja("onPointerEnter",["pointerout","pointerover"]);ja("onPointerLeave",["pointerout","pointerover"]);Zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kl));function Cy(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,Yx(i,t,void 0,e),e.currentTarget=null}function Sb(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],s=i.event;i=i.listeners;e:{var n=void 0;if(t)for(var o=i.length-1;0<=o;o--){var a=i[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==n&&s.isPropagationStopped())break e;Cy(s,a,l),n=u}else for(o=0;o<i.length;o++){if(a=i[o],u=a.instance,l=a.currentTarget,a=a.listener,u!==n&&s.isPropagationStopped())break e;Cy(s,a,l),n=u}}}if(zd)throw e=ag,zd=!1,ag=null,e}function rr(e,t){var r=t[vg];r===void 0&&(r=t[vg]=new Set);var i=e+"__bubble";r.has(i)||(Eb(t,e,2,!1),r.add(i))}function of(e,t,r){var i=0;t&&(i|=4),Eb(r,e,i,t)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function xu(e){if(!e[Yc]){e[Yc]=!0,Mw.forEach(function(r){r!=="selectionchange"&&(Q_.has(r)||of(r,!1,e),of(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yc]||(t[Yc]=!0,of("selectionchange",!1,t))}}function Eb(e,t,r,i){switch(ob(t)){case 1:var s=d_;break;case 4:s=h_;break;default:s=Gm}r=s.bind(null,t,r,e),s=void 0,!og||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function af(e,t,r,i,s){var n=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=wo(a),o===null)return;if(u=o.tag,u===5||u===6){i=n=o;continue e}a=a.parentNode}}i=i.return}$w(function(){var l=n,c=km(r),h=[];e:{var d=bb.get(e);if(d!==void 0){var p=Bm,g=e;switch(e){case"keypress":if(gd(r)===0)break e;case"keydown":case"keyup":p=T_;break;case"focusin":g="focus",p=Jp;break;case"focusout":g="blur",p=Jp;break;case"beforeblur":case"afterblur":p=Jp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ay;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=g_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=M_;break;case vb:case yb:case Cb:p=y_;break;case wb:p=F_;break;case"scroll":p=p_;break;case"wheel":p=k_;break;case"copy":case"cut":case"paste":p=w_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=uy}var v=(t&4)!==0,f=!v&&e==="scroll",y=v?d!==null?d+"Capture":null:d;v=[];for(var m=l,w;m!==null;){w=m;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,y!==null&&(_=yu(m,y),_!=null&&v.push(_u(m,_,w)))),f)break;m=m.return}0<v.length&&(d=new p(d,g,null,r,c),h.push({event:d,listeners:v}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",d&&r!==sg&&(g=r.relatedTarget||r.fromElement)&&(wo(g)||g[rn]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=l,g=g?wo(g):null,g!==null&&(f=Jo(g),g!==f||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=l),p!==g)){if(v=ay,_="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=uy,_="onPointerLeave",y="onPointerEnter",m="pointer"),f=p==null?d:Ta(p),w=g==null?d:Ta(g),d=new v(_,m+"leave",p,r,c),d.target=f,d.relatedTarget=w,_=null,wo(c)===l&&(v=new v(y,m+"enter",g,r,c),v.target=w,v.relatedTarget=f,_=v),f=_,p&&g)t:{for(v=p,y=g,m=0,w=v;w;w=ma(w))m++;for(w=0,_=y;_;_=ma(_))w++;for(;0<m-w;)v=ma(v),m--;for(;0<w-m;)y=ma(y),w--;for(;m--;){if(v===y||y!==null&&v===y.alternate)break t;v=ma(v),y=ma(y)}v=null}else v=null;p!==null&&wy(h,d,p,v,!1),g!==null&&f!==null&&wy(h,f,g,v,!0)}}e:{if(d=l?Ta(l):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var A=H_;else if(hy(d))if(hb)A=j_;else{A=z_;var F=W_}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(A=U_);if(A&&(A=A(e,l))){db(h,A,r,c);break e}F&&F(e,d,l),e==="focusout"&&(F=d._wrapperState)&&F.controlled&&d.type==="number"&&Jf(d,"number",d.value)}switch(F=l?Ta(l):window,e){case"focusin":(hy(F)||F.contentEditable==="true")&&(_a=F,dg=l,lu=null);break;case"focusout":lu=dg=_a=null;break;case"mousedown":hg=!0;break;case"contextmenu":case"mouseup":case"dragend":hg=!1,vy(h,r,c);break;case"selectionchange":if(q_)break;case"keydown":case"keyup":vy(h,r,c)}var G;if(Wm)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else xa?ub(e,r)&&(L="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(lb&&r.locale!=="ko"&&(xa||L!=="onCompositionStart"?L==="onCompositionEnd"&&xa&&(G=ab()):(Dn=c,Vm="value"in Dn?Dn.value:Dn.textContent,xa=!0)),F=qd(l,L),0<F.length&&(L=new ly(L,e,null,r,c),h.push({event:L,listeners:F}),G?L.data=G:(G=cb(r),G!==null&&(L.data=G)))),(G=N_?O_(e,r):G_(e,r))&&(l=qd(l,"onBeforeInput"),0<l.length&&(c=new ly("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:l}),c.data=G))}Sb(h,t)})}function _u(e,t,r){return{instance:e,listener:t,currentTarget:r}}function qd(e,t){for(var r=t+"Capture",i=[];e!==null;){var s=e,n=s.stateNode;s.tag===5&&n!==null&&(s=n,n=yu(e,r),n!=null&&i.unshift(_u(e,n,s)),n=yu(e,t),n!=null&&i.push(_u(e,n,s))),e=e.return}return i}function ma(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wy(e,t,r,i,s){for(var n=t._reactName,o=[];r!==null&&r!==i;){var a=r,u=a.alternate,l=a.stateNode;if(u!==null&&u===i)break;a.tag===5&&l!==null&&(a=l,s?(u=yu(r,n),u!=null&&o.unshift(_u(r,u,a))):s||(u=yu(r,n),u!=null&&o.push(_u(r,u,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Z_=/\r\n?/g,J_=/\u0000|\uFFFD/g;function by(e){return(typeof e=="string"?e:""+e).replace(Z_,`
`).replace(J_,"")}function Xc(e,t,r){if(t=by(t),by(e)!==t&&r)throw Error(Re(425))}function Yd(){}var pg=null,fg=null;function gg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mg=typeof setTimeout=="function"?setTimeout:void 0,eR=typeof clearTimeout=="function"?clearTimeout:void 0,Sy=typeof Promise=="function"?Promise:void 0,tR=typeof queueMicrotask=="function"?queueMicrotask:typeof Sy<"u"?function(e){return Sy.resolve(null).then(e).catch(rR)}:mg;function rR(e){setTimeout(function(){throw e})}function lf(e,t){var r=t,i=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(i===0){e.removeChild(s),bu(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=s}while(r);bu(t)}function Nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ey(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ml=Math.random().toString(36).slice(2),Ls="__reactFiber$"+ml,Ru="__reactProps$"+ml,rn="__reactContainer$"+ml,vg="__reactEvents$"+ml,iR="__reactListeners$"+ml,sR="__reactHandles$"+ml;function wo(e){var t=e[Ls];if(t)return t;for(var r=e.parentNode;r;){if(t=r[rn]||r[Ls]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ey(e);e!==null;){if(r=e[Ls])return r;e=Ey(e)}return t}e=r,r=e.parentNode}return null}function hc(e){return e=e[Ls]||e[rn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ta(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Re(33))}function Kh(e){return e[Ru]||null}var yg=[],Aa=-1;function Qn(e){return{current:e}}function sr(e){0>Aa||(e.current=yg[Aa],yg[Aa]=null,Aa--)}function Jt(e,t){Aa++,yg[Aa]=e.current,e.current=t}var zn={},Yr=Qn(zn),_i=Qn(!1),No=zn;function $a(e,t){var r=e.type.contextTypes;if(!r)return zn;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},n;for(n in r)s[n]=t[n];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ri(e){return e=e.childContextTypes,e!=null}function Xd(){sr(_i),sr(Yr)}function xy(e,t,r){if(Yr.current!==zn)throw Error(Re(168));Jt(Yr,t),Jt(_i,r)}function xb(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(Re(108,Wx(e)||"Unknown",s));return pr({},r,i)}function Qd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zn,No=Yr.current,Jt(Yr,e),Jt(_i,_i.current),!0}function _y(e,t,r){var i=e.stateNode;if(!i)throw Error(Re(169));r?(e=xb(e,t,No),i.__reactInternalMemoizedMergedChildContext=e,sr(_i),sr(Yr),Jt(Yr,e)):sr(_i),Jt(_i,r)}var Ys=null,qh=!1,uf=!1;function _b(e){Ys===null?Ys=[e]:Ys.push(e)}function nR(e){qh=!0,_b(e)}function Zn(){if(!uf&&Ys!==null){uf=!0;var e=0,t=$t;try{var r=Ys;for($t=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}Ys=null,qh=!1}catch(s){throw Ys!==null&&(Ys=Ys.slice(e+1)),Xw(Lm,Zn),s}finally{$t=t,uf=!1}}return null}var Da=[],Ma=0,Zd=null,Jd=0,Xi=[],Qi=0,Oo=null,Qs=1,Zs="";function co(e,t){Da[Ma++]=Jd,Da[Ma++]=Zd,Zd=e,Jd=t}function Rb(e,t,r){Xi[Qi++]=Qs,Xi[Qi++]=Zs,Xi[Qi++]=Oo,Oo=e;var i=Qs;e=Zs;var s=32-bs(i)-1;i&=~(1<<s),r+=1;var n=32-bs(t)+s;if(30<n){var o=s-s%5;n=(i&(1<<o)-1).toString(32),i>>=o,s-=o,Qs=1<<32-bs(t)+s|r<<s|i,Zs=n+e}else Qs=1<<n|r<<s|i,Zs=e}function Um(e){e.return!==null&&(co(e,1),Rb(e,1,0))}function jm(e){for(;e===Zd;)Zd=Da[--Ma],Da[Ma]=null,Jd=Da[--Ma],Da[Ma]=null;for(;e===Oo;)Oo=Xi[--Qi],Xi[Qi]=null,Zs=Xi[--Qi],Xi[Qi]=null,Qs=Xi[--Qi],Xi[Qi]=null}var Hi=null,Bi=null,lr=!1,vs=null;function Tb(e,t){var r=Ji(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ry(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Hi=e,Bi=Nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Hi=e,Bi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Oo!==null?{id:Qs,overflow:Zs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ji(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Hi=e,Bi=null,!0):!1;default:return!1}}function Cg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wg(e){if(lr){var t=Bi;if(t){var r=t;if(!Ry(e,t)){if(Cg(e))throw Error(Re(418));t=Nn(r.nextSibling);var i=Hi;t&&Ry(e,t)?Tb(i,r):(e.flags=e.flags&-4097|2,lr=!1,Hi=e)}}else{if(Cg(e))throw Error(Re(418));e.flags=e.flags&-4097|2,lr=!1,Hi=e}}}function Ty(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Hi=e}function Qc(e){if(e!==Hi)return!1;if(!lr)return Ty(e),lr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gg(e.type,e.memoizedProps)),t&&(t=Bi)){if(Cg(e))throw Ab(),Error(Re(418));for(;t;)Tb(e,t),t=Nn(t.nextSibling)}if(Ty(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Bi=Nn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Bi=null}}else Bi=Hi?Nn(e.stateNode.nextSibling):null;return!0}function Ab(){for(var e=Bi;e;)e=Nn(e.nextSibling)}function Ka(){Bi=Hi=null,lr=!1}function $m(e){vs===null?vs=[e]:vs.push(e)}var oR=cn.ReactCurrentBatchConfig;function Bl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Re(309));var i=r.stateNode}if(!i)throw Error(Re(147,e));var s=i,n=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===n?t.ref:(t=function(o){var a=s.refs;o===null?delete a[n]:a[n]=o},t._stringRef=n,t)}if(typeof e!="string")throw Error(Re(284));if(!r._owner)throw Error(Re(290,e))}return e}function Zc(e,t){throw e=Object.prototype.toString.call(t),Error(Re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ay(e){var t=e._init;return t(e._payload)}function Db(e){function t(y,m){if(e){var w=y.deletions;w===null?(y.deletions=[m],y.flags|=16):w.push(m)}}function r(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function i(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=Bn(y,m),y.index=0,y.sibling=null,y}function n(y,m,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<m?(y.flags|=2,m):w):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,m,w,_){return m===null||m.tag!==6?(m=mf(w,y.mode,_),m.return=y,m):(m=s(m,w),m.return=y,m)}function u(y,m,w,_){var A=w.type;return A===Ea?c(y,m,w.props.children,_,w.key):m!==null&&(m.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===xn&&Ay(A)===m.type)?(_=s(m,w.props),_.ref=Bl(y,m,w),_.return=y,_):(_=Sd(w.type,w.key,w.props,null,y.mode,_),_.ref=Bl(y,m,w),_.return=y,_)}function l(y,m,w,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=vf(w,y.mode,_),m.return=y,m):(m=s(m,w.children||[]),m.return=y,m)}function c(y,m,w,_,A){return m===null||m.tag!==7?(m=Ao(w,y.mode,_,A),m.return=y,m):(m=s(m,w),m.return=y,m)}function h(y,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=mf(""+m,y.mode,w),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Hc:return w=Sd(m.type,m.key,m.props,null,y.mode,w),w.ref=Bl(y,null,m),w.return=y,w;case Sa:return m=vf(m,y.mode,w),m.return=y,m;case xn:var _=m._init;return h(y,_(m._payload),w)}if(jl(m)||Ll(m))return m=Ao(m,y.mode,w,null),m.return=y,m;Zc(y,m)}return null}function d(y,m,w,_){var A=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return A!==null?null:a(y,m,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Hc:return w.key===A?u(y,m,w,_):null;case Sa:return w.key===A?l(y,m,w,_):null;case xn:return A=w._init,d(y,m,A(w._payload),_)}if(jl(w)||Ll(w))return A!==null?null:c(y,m,w,_,null);Zc(y,w)}return null}function p(y,m,w,_,A){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(w)||null,a(m,y,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Hc:return y=y.get(_.key===null?w:_.key)||null,u(m,y,_,A);case Sa:return y=y.get(_.key===null?w:_.key)||null,l(m,y,_,A);case xn:var F=_._init;return p(y,m,w,F(_._payload),A)}if(jl(_)||Ll(_))return y=y.get(w)||null,c(m,y,_,A,null);Zc(m,_)}return null}function g(y,m,w,_){for(var A=null,F=null,G=m,L=m=0,O=null;G!==null&&L<w.length;L++){G.index>L?(O=G,G=null):O=G.sibling;var V=d(y,G,w[L],_);if(V===null){G===null&&(G=O);break}e&&G&&V.alternate===null&&t(y,G),m=n(V,m,L),F===null?A=V:F.sibling=V,F=V,G=O}if(L===w.length)return r(y,G),lr&&co(y,L),A;if(G===null){for(;L<w.length;L++)G=h(y,w[L],_),G!==null&&(m=n(G,m,L),F===null?A=G:F.sibling=G,F=G);return lr&&co(y,L),A}for(G=i(y,G);L<w.length;L++)O=p(G,y,L,w[L],_),O!==null&&(e&&O.alternate!==null&&G.delete(O.key===null?L:O.key),m=n(O,m,L),F===null?A=O:F.sibling=O,F=O);return e&&G.forEach(function(z){return t(y,z)}),lr&&co(y,L),A}function v(y,m,w,_){var A=Ll(w);if(typeof A!="function")throw Error(Re(150));if(w=A.call(w),w==null)throw Error(Re(151));for(var F=A=null,G=m,L=m=0,O=null,V=w.next();G!==null&&!V.done;L++,V=w.next()){G.index>L?(O=G,G=null):O=G.sibling;var z=d(y,G,V.value,_);if(z===null){G===null&&(G=O);break}e&&G&&z.alternate===null&&t(y,G),m=n(z,m,L),F===null?A=z:F.sibling=z,F=z,G=O}if(V.done)return r(y,G),lr&&co(y,L),A;if(G===null){for(;!V.done;L++,V=w.next())V=h(y,V.value,_),V!==null&&(m=n(V,m,L),F===null?A=V:F.sibling=V,F=V);return lr&&co(y,L),A}for(G=i(y,G);!V.done;L++,V=w.next())V=p(G,y,L,V.value,_),V!==null&&(e&&V.alternate!==null&&G.delete(V.key===null?L:V.key),m=n(V,m,L),F===null?A=V:F.sibling=V,F=V);return e&&G.forEach(function(H){return t(y,H)}),lr&&co(y,L),A}function f(y,m,w,_){if(typeof w=="object"&&w!==null&&w.type===Ea&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Hc:e:{for(var A=w.key,F=m;F!==null;){if(F.key===A){if(A=w.type,A===Ea){if(F.tag===7){r(y,F.sibling),m=s(F,w.props.children),m.return=y,y=m;break e}}else if(F.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===xn&&Ay(A)===F.type){r(y,F.sibling),m=s(F,w.props),m.ref=Bl(y,F,w),m.return=y,y=m;break e}r(y,F);break}else t(y,F);F=F.sibling}w.type===Ea?(m=Ao(w.props.children,y.mode,_,w.key),m.return=y,y=m):(_=Sd(w.type,w.key,w.props,null,y.mode,_),_.ref=Bl(y,m,w),_.return=y,y=_)}return o(y);case Sa:e:{for(F=w.key;m!==null;){if(m.key===F)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){r(y,m.sibling),m=s(m,w.children||[]),m.return=y,y=m;break e}else{r(y,m);break}else t(y,m);m=m.sibling}m=vf(w,y.mode,_),m.return=y,y=m}return o(y);case xn:return F=w._init,f(y,m,F(w._payload),_)}if(jl(w))return g(y,m,w,_);if(Ll(w))return v(y,m,w,_);Zc(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(r(y,m.sibling),m=s(m,w),m.return=y,y=m):(r(y,m),m=mf(w,y.mode,_),m.return=y,y=m),o(y)):r(y,m)}return f}var qa=Db(!0),Mb=Db(!1),eh=Qn(null),th=null,Pa=null,Km=null;function qm(){Km=Pa=th=null}function Ym(e){var t=eh.current;sr(eh),e._currentValue=t}function bg(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function Ba(e,t){th=e,Km=Pa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(wi=!0),e.firstContext=null)}function ns(e){var t=e._currentValue;if(Km!==e)if(e={context:e,memoizedValue:t,next:null},Pa===null){if(th===null)throw Error(Re(308));Pa=e,th.dependencies={lanes:0,firstContext:e}}else Pa=Pa.next=e;return t}var bo=null;function Xm(e){bo===null?bo=[e]:bo.push(e)}function Pb(e,t,r,i){var s=t.interleaved;return s===null?(r.next=r,Xm(t)):(r.next=s.next,s.next=r),t.interleaved=r,sn(e,i)}function sn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var _n=!1;function Qm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Js(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function On(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,It&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,sn(e,r)}return s=i.interleaved,s===null?(t.next=t,Xm(i)):(t.next=s.next,s.next=t),i.interleaved=t,sn(e,r)}function md(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Nm(e,r)}}function Dy(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var s=null,n=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};n===null?s=n=o:n=n.next=o,r=r.next}while(r!==null);n===null?s=n=t:n=n.next=t}else s=n=t;r={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:n,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function rh(e,t,r,i){var s=e.updateQueue;_n=!1;var n=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,l=u.next;u.next=null,o===null?n=l:o.next=l,o=u;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(n!==null){var h=s.baseState;o=0,c=l=u=null,a=n;do{var d=a.lane,p=a.eventTime;if((i&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,v=a;switch(d=t,p=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(p,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,d=typeof g=="function"?g.call(p,h,d):g,d==null)break e;h=pr({},h,d);break e;case 2:_n=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=p,u=h):c=c.next=p,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(c===null&&(u=h),s.baseState=u,s.firstBaseUpdate=l,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else n===null&&(s.shared.lanes=0);Vo|=o,e.lanes=o,e.memoizedState=h}}function My(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=r,typeof s!="function")throw Error(Re(191,s));s.call(i)}}}var pc={},Gs=Qn(pc),Tu=Qn(pc),Au=Qn(pc);function So(e){if(e===pc)throw Error(Re(174));return e}function Zm(e,t){switch(Jt(Au,t),Jt(Tu,e),Jt(Gs,pc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tg(t,e)}sr(Gs),Jt(Gs,t)}function Ya(){sr(Gs),sr(Tu),sr(Au)}function Ib(e){So(Au.current);var t=So(Gs.current),r=tg(t,e.type);t!==r&&(Jt(Tu,e),Jt(Gs,r))}function Jm(e){Tu.current===e&&(sr(Gs),sr(Tu))}var dr=Qn(0);function ih(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cf=[];function ev(){for(var e=0;e<cf.length;e++)cf[e]._workInProgressVersionPrimary=null;cf.length=0}var vd=cn.ReactCurrentDispatcher,df=cn.ReactCurrentBatchConfig,Go=0,hr=null,Dr=null,Ir=null,sh=!1,uu=!1,Du=0,aR=0;function jr(){throw Error(Re(321))}function tv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!xs(e[r],t[r]))return!1;return!0}function rv(e,t,r,i,s,n){if(Go=n,hr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vd.current=e===null||e.memoizedState===null?dR:hR,e=r(i,s),uu){n=0;do{if(uu=!1,Du=0,25<=n)throw Error(Re(301));n+=1,Ir=Dr=null,t.updateQueue=null,vd.current=pR,e=r(i,s)}while(uu)}if(vd.current=nh,t=Dr!==null&&Dr.next!==null,Go=0,Ir=Dr=hr=null,sh=!1,t)throw Error(Re(300));return e}function iv(){var e=Du!==0;return Du=0,e}function ks(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ir===null?hr.memoizedState=Ir=e:Ir=Ir.next=e,Ir}function os(){if(Dr===null){var e=hr.alternate;e=e!==null?e.memoizedState:null}else e=Dr.next;var t=Ir===null?hr.memoizedState:Ir.next;if(t!==null)Ir=t,Dr=e;else{if(e===null)throw Error(Re(310));Dr=e,e={memoizedState:Dr.memoizedState,baseState:Dr.baseState,baseQueue:Dr.baseQueue,queue:Dr.queue,next:null},Ir===null?hr.memoizedState=Ir=e:Ir=Ir.next=e}return Ir}function Mu(e,t){return typeof t=="function"?t(e):t}function hf(e){var t=os(),r=t.queue;if(r===null)throw Error(Re(311));r.lastRenderedReducer=e;var i=Dr,s=i.baseQueue,n=r.pending;if(n!==null){if(s!==null){var o=s.next;s.next=n.next,n.next=o}i.baseQueue=s=n,r.pending=null}if(s!==null){n=s.next,i=i.baseState;var a=o=null,u=null,l=n;do{var c=l.lane;if((Go&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),i=l.hasEagerState?l.eagerState:e(i,l.action);else{var h={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=h,o=i):u=u.next=h,hr.lanes|=c,Vo|=c}l=l.next}while(l!==null&&l!==n);u===null?o=i:u.next=a,xs(i,t.memoizedState)||(wi=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=u,r.lastRenderedState=i}if(e=r.interleaved,e!==null){s=e;do n=s.lane,hr.lanes|=n,Vo|=n,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function pf(e){var t=os(),r=t.queue;if(r===null)throw Error(Re(311));r.lastRenderedReducer=e;var i=r.dispatch,s=r.pending,n=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do n=e(n,o.action),o=o.next;while(o!==s);xs(n,t.memoizedState)||(wi=!0),t.memoizedState=n,t.baseQueue===null&&(t.baseState=n),r.lastRenderedState=n}return[n,i]}function kb(){}function Lb(e,t){var r=hr,i=os(),s=t(),n=!xs(i.memoizedState,s);if(n&&(i.memoizedState=s,wi=!0),i=i.queue,sv(Gb.bind(null,r,i,e),[e]),i.getSnapshot!==t||n||Ir!==null&&Ir.memoizedState.tag&1){if(r.flags|=2048,Pu(9,Ob.bind(null,r,i,s,t),void 0,null),Lr===null)throw Error(Re(349));Go&30||Nb(r,t,s)}return s}function Nb(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=hr.updateQueue,t===null?(t={lastEffect:null,stores:null},hr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ob(e,t,r,i){t.value=r,t.getSnapshot=i,Vb(t)&&Bb(e)}function Gb(e,t,r){return r(function(){Vb(t)&&Bb(e)})}function Vb(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!xs(e,r)}catch{return!0}}function Bb(e){var t=sn(e,1);t!==null&&Ss(t,e,1,-1)}function Py(e){var t=ks();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mu,lastRenderedState:e},t.queue=e,e=e.dispatch=cR.bind(null,hr,e),[t.memoizedState,e]}function Pu(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=hr.updateQueue,t===null?(t={lastEffect:null,stores:null},hr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function Hb(){return os().memoizedState}function yd(e,t,r,i){var s=ks();hr.flags|=e,s.memoizedState=Pu(1|t,r,void 0,i===void 0?null:i)}function Yh(e,t,r,i){var s=os();i=i===void 0?null:i;var n=void 0;if(Dr!==null){var o=Dr.memoizedState;if(n=o.destroy,i!==null&&tv(i,o.deps)){s.memoizedState=Pu(t,r,n,i);return}}hr.flags|=e,s.memoizedState=Pu(1|t,r,n,i)}function Fy(e,t){return yd(8390656,8,e,t)}function sv(e,t){return Yh(2048,8,e,t)}function Wb(e,t){return Yh(4,2,e,t)}function zb(e,t){return Yh(4,4,e,t)}function Ub(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jb(e,t,r){return r=r!=null?r.concat([e]):null,Yh(4,4,Ub.bind(null,t,e),r)}function nv(){}function $b(e,t){var r=os();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&tv(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function Kb(e,t){var r=os();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&tv(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function qb(e,t,r){return Go&21?(xs(r,t)||(r=Jw(),hr.lanes|=r,Vo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,wi=!0),e.memoizedState=r)}function lR(e,t){var r=$t;$t=r!==0&&4>r?r:4,e(!0);var i=df.transition;df.transition={};try{e(!1),t()}finally{$t=r,df.transition=i}}function Yb(){return os().memoizedState}function uR(e,t,r){var i=Vn(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},Xb(e))Qb(t,r);else if(r=Pb(e,t,r,i),r!==null){var s=ii();Ss(r,e,i,s),Zb(r,t,i)}}function cR(e,t,r){var i=Vn(e),s={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(Xb(e))Qb(t,s);else{var n=e.alternate;if(e.lanes===0&&(n===null||n.lanes===0)&&(n=t.lastRenderedReducer,n!==null))try{var o=t.lastRenderedState,a=n(o,r);if(s.hasEagerState=!0,s.eagerState=a,xs(a,o)){var u=t.interleaved;u===null?(s.next=s,Xm(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=Pb(e,t,s,i),r!==null&&(s=ii(),Ss(r,e,i,s),Zb(r,t,i))}}function Xb(e){var t=e.alternate;return e===hr||t!==null&&t===hr}function Qb(e,t){uu=sh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Zb(e,t,r){if(r&4194240){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Nm(e,r)}}var nh={readContext:ns,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useInsertionEffect:jr,useLayoutEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useMutableSource:jr,useSyncExternalStore:jr,useId:jr,unstable_isNewReconciler:!1},dR={readContext:ns,useCallback:function(e,t){return ks().memoizedState=[e,t===void 0?null:t],e},useContext:ns,useEffect:Fy,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,yd(4194308,4,Ub.bind(null,t,e),r)},useLayoutEffect:function(e,t){return yd(4194308,4,e,t)},useInsertionEffect:function(e,t){return yd(4,2,e,t)},useMemo:function(e,t){var r=ks();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=ks();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=uR.bind(null,hr,e),[i.memoizedState,e]},useRef:function(e){var t=ks();return e={current:e},t.memoizedState=e},useState:Py,useDebugValue:nv,useDeferredValue:function(e){return ks().memoizedState=e},useTransition:function(){var e=Py(!1),t=e[0];return e=lR.bind(null,e[1]),ks().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=hr,s=ks();if(lr){if(r===void 0)throw Error(Re(407));r=r()}else{if(r=t(),Lr===null)throw Error(Re(349));Go&30||Nb(i,t,r)}s.memoizedState=r;var n={value:r,getSnapshot:t};return s.queue=n,Fy(Gb.bind(null,i,n,e),[e]),i.flags|=2048,Pu(9,Ob.bind(null,i,n,r,t),void 0,null),r},useId:function(){var e=ks(),t=Lr.identifierPrefix;if(lr){var r=Zs,i=Qs;r=(i&~(1<<32-bs(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Du++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=aR++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hR={readContext:ns,useCallback:$b,useContext:ns,useEffect:sv,useImperativeHandle:jb,useInsertionEffect:Wb,useLayoutEffect:zb,useMemo:Kb,useReducer:hf,useRef:Hb,useState:function(){return hf(Mu)},useDebugValue:nv,useDeferredValue:function(e){var t=os();return qb(t,Dr.memoizedState,e)},useTransition:function(){var e=hf(Mu)[0],t=os().memoizedState;return[e,t]},useMutableSource:kb,useSyncExternalStore:Lb,useId:Yb,unstable_isNewReconciler:!1},pR={readContext:ns,useCallback:$b,useContext:ns,useEffect:sv,useImperativeHandle:jb,useInsertionEffect:Wb,useLayoutEffect:zb,useMemo:Kb,useReducer:pf,useRef:Hb,useState:function(){return pf(Mu)},useDebugValue:nv,useDeferredValue:function(e){var t=os();return Dr===null?t.memoizedState=e:qb(t,Dr.memoizedState,e)},useTransition:function(){var e=pf(Mu)[0],t=os().memoizedState;return[e,t]},useMutableSource:kb,useSyncExternalStore:Lb,useId:Yb,unstable_isNewReconciler:!1};function ps(e,t){if(e&&e.defaultProps){t=pr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Sg(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:pr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Xh={isMounted:function(e){return(e=e._reactInternals)?Jo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=ii(),s=Vn(e),n=Js(i,s);n.payload=t,r!=null&&(n.callback=r),t=On(e,n,s),t!==null&&(Ss(t,e,s,i),md(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=ii(),s=Vn(e),n=Js(i,s);n.tag=1,n.payload=t,r!=null&&(n.callback=r),t=On(e,n,s),t!==null&&(Ss(t,e,s,i),md(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ii(),i=Vn(e),s=Js(r,i);s.tag=2,t!=null&&(s.callback=t),t=On(e,s,i),t!==null&&(Ss(t,e,i,r),md(t,e,i))}};function Iy(e,t,r,i,s,n,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,n,o):t.prototype&&t.prototype.isPureReactComponent?!Eu(r,i)||!Eu(s,n):!0}function Jb(e,t,r){var i=!1,s=zn,n=t.contextType;return typeof n=="object"&&n!==null?n=ns(n):(s=Ri(t)?No:Yr.current,i=t.contextTypes,n=(i=i!=null)?$a(e,s):zn),t=new t(r,n),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xh,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=n),t}function ky(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&Xh.enqueueReplaceState(t,t.state,null)}function Eg(e,t,r,i){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Qm(e);var n=t.contextType;typeof n=="object"&&n!==null?s.context=ns(n):(n=Ri(t)?No:Yr.current,s.context=$a(e,n)),s.state=e.memoizedState,n=t.getDerivedStateFromProps,typeof n=="function"&&(Sg(e,t,n,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Xh.enqueueReplaceState(s,s.state,null),rh(e,r,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Xa(e,t){try{var r="",i=t;do r+=Hx(i),i=i.return;while(i);var s=r}catch(n){s=`
Error generating stack: `+n.message+`
`+n.stack}return{value:e,source:t,stack:s,digest:null}}function ff(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function xg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var fR=typeof WeakMap=="function"?WeakMap:Map;function e1(e,t,r){r=Js(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){ah||(ah=!0,kg=i),xg(e,t)},r}function t1(e,t,r){r=Js(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;r.payload=function(){return i(s)},r.callback=function(){xg(e,t)}}var n=e.stateNode;return n!==null&&typeof n.componentDidCatch=="function"&&(r.callback=function(){xg(e,t),typeof i!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Ly(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new fR;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(r)||(s.add(r),e=AR.bind(null,e,t,r),t.then(e,e))}function Ny(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Oy(e,t,r,i,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Js(-1,1),t.tag=2,On(r,t,1))),r.lanes|=1),e)}var gR=cn.ReactCurrentOwner,wi=!1;function ei(e,t,r,i){t.child=e===null?Mb(t,null,r,i):qa(t,e.child,r,i)}function Gy(e,t,r,i,s){r=r.render;var n=t.ref;return Ba(t,s),i=rv(e,t,r,i,n,s),r=iv(),e!==null&&!wi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,nn(e,t,s)):(lr&&r&&Um(t),t.flags|=1,ei(e,t,i,s),t.child)}function Vy(e,t,r,i,s){if(e===null){var n=r.type;return typeof n=="function"&&!pv(n)&&n.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=n,r1(e,t,n,i,s)):(e=Sd(r.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(n=e.child,!(e.lanes&s)){var o=n.memoizedProps;if(r=r.compare,r=r!==null?r:Eu,r(o,i)&&e.ref===t.ref)return nn(e,t,s)}return t.flags|=1,e=Bn(n,i),e.ref=t.ref,e.return=t,t.child=e}function r1(e,t,r,i,s){if(e!==null){var n=e.memoizedProps;if(Eu(n,i)&&e.ref===t.ref)if(wi=!1,t.pendingProps=i=n,(e.lanes&s)!==0)e.flags&131072&&(wi=!0);else return t.lanes=e.lanes,nn(e,t,s)}return _g(e,t,r,i,s)}function i1(e,t,r){var i=t.pendingProps,s=i.children,n=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jt(Ia,Li),Li|=r;else{if(!(r&1073741824))return e=n!==null?n.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Jt(Ia,Li),Li|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=n!==null?n.baseLanes:r,Jt(Ia,Li),Li|=i}else n!==null?(i=n.baseLanes|r,t.memoizedState=null):i=r,Jt(Ia,Li),Li|=i;return ei(e,t,s,r),t.child}function s1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function _g(e,t,r,i,s){var n=Ri(r)?No:Yr.current;return n=$a(t,n),Ba(t,s),r=rv(e,t,r,i,n,s),i=iv(),e!==null&&!wi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,nn(e,t,s)):(lr&&i&&Um(t),t.flags|=1,ei(e,t,r,s),t.child)}function By(e,t,r,i,s){if(Ri(r)){var n=!0;Qd(t)}else n=!1;if(Ba(t,s),t.stateNode===null)Cd(e,t),Jb(t,r,i),Eg(t,r,i,s),i=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=ns(l):(l=Ri(r)?No:Yr.current,l=$a(t,l));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||u!==l)&&ky(t,o,i,l),_n=!1;var d=t.memoizedState;o.state=d,rh(t,i,o,s),u=t.memoizedState,a!==i||d!==u||_i.current||_n?(typeof c=="function"&&(Sg(t,r,c,i),u=t.memoizedState),(a=_n||Iy(t,r,a,i,d,u,l))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=u),o.props=i,o.state=u,o.context=l,i=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,Fb(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:ps(t.type,a),o.props=l,h=t.pendingProps,d=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=ns(u):(u=Ri(r)?No:Yr.current,u=$a(t,u));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==u)&&ky(t,o,i,u),_n=!1,d=t.memoizedState,o.state=d,rh(t,i,o,s);var g=t.memoizedState;a!==h||d!==g||_i.current||_n?(typeof p=="function"&&(Sg(t,r,p,i),g=t.memoizedState),(l=_n||Iy(t,r,l,i,d,g,u)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),o.props=i,o.state=g,o.context=u,i=l):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return Rg(e,t,r,i,n,s)}function Rg(e,t,r,i,s,n){s1(e,t);var o=(t.flags&128)!==0;if(!i&&!o)return s&&_y(t,r,!1),nn(e,t,n);i=t.stateNode,gR.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&o?(t.child=qa(t,e.child,null,n),t.child=qa(t,null,a,n)):ei(e,t,a,n),t.memoizedState=i.state,s&&_y(t,r,!0),t.child}function n1(e){var t=e.stateNode;t.pendingContext?xy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xy(e,t.context,!1),Zm(e,t.containerInfo)}function Hy(e,t,r,i,s){return Ka(),$m(s),t.flags|=256,ei(e,t,r,i),t.child}var Tg={dehydrated:null,treeContext:null,retryLane:0};function Ag(e){return{baseLanes:e,cachePool:null,transitions:null}}function o1(e,t,r){var i=t.pendingProps,s=dr.current,n=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(n=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Jt(dr,s&1),e===null)return wg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=i.children,e=i.fallback,n?(i=t.mode,n=t.child,o={mode:"hidden",children:o},!(i&1)&&n!==null?(n.childLanes=0,n.pendingProps=o):n=Jh(o,i,0,null),e=Ao(e,i,r,null),n.return=t,e.return=t,n.sibling=e,t.child=n,t.child.memoizedState=Ag(r),t.memoizedState=Tg,e):ov(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return mR(e,t,o,i,a,s,r);if(n){n=i.fallback,o=t.mode,s=e.child,a=s.sibling;var u={mode:"hidden",children:i.children};return!(o&1)&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=u,t.deletions=null):(i=Bn(s,u),i.subtreeFlags=s.subtreeFlags&14680064),a!==null?n=Bn(a,n):(n=Ao(n,o,r,null),n.flags|=2),n.return=t,i.return=t,i.sibling=n,t.child=i,i=n,n=t.child,o=e.child.memoizedState,o=o===null?Ag(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},n.memoizedState=o,n.childLanes=e.childLanes&~r,t.memoizedState=Tg,i}return n=e.child,e=n.sibling,i=Bn(n,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function ov(e,t){return t=Jh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jc(e,t,r,i){return i!==null&&$m(i),qa(t,e.child,null,r),e=ov(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mR(e,t,r,i,s,n,o){if(r)return t.flags&256?(t.flags&=-257,i=ff(Error(Re(422))),Jc(e,t,o,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(n=i.fallback,s=t.mode,i=Jh({mode:"visible",children:i.children},s,0,null),n=Ao(n,s,o,null),n.flags|=2,i.return=t,n.return=t,i.sibling=n,t.child=i,t.mode&1&&qa(t,e.child,null,o),t.child.memoizedState=Ag(o),t.memoizedState=Tg,n);if(!(t.mode&1))return Jc(e,t,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var a=i.dgst;return i=a,n=Error(Re(419)),i=ff(n,i,void 0),Jc(e,t,o,i)}if(a=(o&e.childLanes)!==0,wi||a){if(i=Lr,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==n.retryLane&&(n.retryLane=s,sn(e,s),Ss(i,e,s,-1))}return hv(),i=ff(Error(Re(421))),Jc(e,t,o,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=DR.bind(null,e),s._reactRetry=t,null):(e=n.treeContext,Bi=Nn(s.nextSibling),Hi=t,lr=!0,vs=null,e!==null&&(Xi[Qi++]=Qs,Xi[Qi++]=Zs,Xi[Qi++]=Oo,Qs=e.id,Zs=e.overflow,Oo=t),t=ov(t,i.children),t.flags|=4096,t)}function Wy(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),bg(e.return,t,r)}function gf(e,t,r,i,s){var n=e.memoizedState;n===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:s}:(n.isBackwards=t,n.rendering=null,n.renderingStartTime=0,n.last=i,n.tail=r,n.tailMode=s)}function a1(e,t,r){var i=t.pendingProps,s=i.revealOrder,n=i.tail;if(ei(e,t,i.children,r),i=dr.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wy(e,r,t);else if(e.tag===19)Wy(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Jt(dr,i),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ih(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),gf(t,!1,s,r,n);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ih(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}gf(t,!0,r,null,n);break;case"together":gf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Vo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Re(153));if(t.child!==null){for(e=t.child,r=Bn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Bn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function vR(e,t,r){switch(t.tag){case 3:n1(t),Ka();break;case 5:Ib(t);break;case 1:Ri(t.type)&&Qd(t);break;case 4:Zm(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;Jt(eh,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Jt(dr,dr.current&1),t.flags|=128,null):r&t.child.childLanes?o1(e,t,r):(Jt(dr,dr.current&1),e=nn(e,t,r),e!==null?e.sibling:null);Jt(dr,dr.current&1);break;case 19:if(i=(r&t.childLanes)!==0,e.flags&128){if(i)return a1(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Jt(dr,dr.current),i)break;return null;case 22:case 23:return t.lanes=0,i1(e,t,r)}return nn(e,t,r)}var l1,Dg,u1,c1;l1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Dg=function(){};u1=function(e,t,r,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,So(Gs.current);var n=null;switch(r){case"input":s=Qf(e,s),i=Qf(e,i),n=[];break;case"select":s=pr({},s,{value:void 0}),i=pr({},i,{value:void 0}),n=[];break;case"textarea":s=eg(e,s),i=eg(e,i),n=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Yd)}rg(r,i);var o;r=null;for(l in s)if(!i.hasOwnProperty(l)&&s.hasOwnProperty(l)&&s[l]!=null)if(l==="style"){var a=s[l];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(mu.hasOwnProperty(l)?n||(n=[]):(n=n||[]).push(l,null));for(l in i){var u=i[l];if(a=s!=null?s[l]:void 0,i.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(n||(n=[]),n.push(l,r)),r=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(n=n||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(n=n||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(mu.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&rr("scroll",e),n||a===u||(n=[])):(n=n||[]).push(l,u))}r&&(n=n||[]).push("style",r);var l=n;(t.updateQueue=l)&&(t.flags|=4)}};c1=function(e,t,r,i){r!==i&&(t.flags|=4)};function Hl(e,t){if(!lr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function $r(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function yR(e,t,r){var i=t.pendingProps;switch(jm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $r(t),null;case 1:return Ri(t.type)&&Xd(),$r(t),null;case 3:return i=t.stateNode,Ya(),sr(_i),sr(Yr),ev(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Qc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vs!==null&&(Og(vs),vs=null))),Dg(e,t),$r(t),null;case 5:Jm(t);var s=So(Au.current);if(r=t.type,e!==null&&t.stateNode!=null)u1(e,t,r,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(Re(166));return $r(t),null}if(e=So(Gs.current),Qc(t)){i=t.stateNode,r=t.type;var n=t.memoizedProps;switch(i[Ls]=t,i[Ru]=n,e=(t.mode&1)!==0,r){case"dialog":rr("cancel",i),rr("close",i);break;case"iframe":case"object":case"embed":rr("load",i);break;case"video":case"audio":for(s=0;s<Kl.length;s++)rr(Kl[s],i);break;case"source":rr("error",i);break;case"img":case"image":case"link":rr("error",i),rr("load",i);break;case"details":rr("toggle",i);break;case"input":Q0(i,n),rr("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!n.multiple},rr("invalid",i);break;case"textarea":J0(i,n),rr("invalid",i)}rg(r,n),s=null;for(var o in n)if(n.hasOwnProperty(o)){var a=n[o];o==="children"?typeof a=="string"?i.textContent!==a&&(n.suppressHydrationWarning!==!0&&Xc(i.textContent,a,e),s=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(n.suppressHydrationWarning!==!0&&Xc(i.textContent,a,e),s=["children",""+a]):mu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&rr("scroll",i)}switch(r){case"input":Wc(i),Z0(i,n,!0);break;case"textarea":Wc(i),ey(i);break;case"select":case"option":break;default:typeof n.onClick=="function"&&(i.onclick=Yd)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=o.createElement(r,{is:i.is}):(e=o.createElement(r),r==="select"&&(o=e,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):e=o.createElementNS(e,r),e[Ls]=t,e[Ru]=i,l1(e,t,!1,!1),t.stateNode=e;e:{switch(o=ig(r,i),r){case"dialog":rr("cancel",e),rr("close",e),s=i;break;case"iframe":case"object":case"embed":rr("load",e),s=i;break;case"video":case"audio":for(s=0;s<Kl.length;s++)rr(Kl[s],e);s=i;break;case"source":rr("error",e),s=i;break;case"img":case"image":case"link":rr("error",e),rr("load",e),s=i;break;case"details":rr("toggle",e),s=i;break;case"input":Q0(e,i),s=Qf(e,i),rr("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=pr({},i,{value:void 0}),rr("invalid",e);break;case"textarea":J0(e,i),s=eg(e,i),rr("invalid",e);break;default:s=i}rg(r,s),a=s;for(n in a)if(a.hasOwnProperty(n)){var u=a[n];n==="style"?Hw(e,u):n==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Vw(e,u)):n==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&vu(e,u):typeof u=="number"&&vu(e,""+u):n!=="suppressContentEditableWarning"&&n!=="suppressHydrationWarning"&&n!=="autoFocus"&&(mu.hasOwnProperty(n)?u!=null&&n==="onScroll"&&rr("scroll",e):u!=null&&Mm(e,n,u,o))}switch(r){case"input":Wc(e),Z0(e,i,!1);break;case"textarea":Wc(e),ey(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Wn(i.value));break;case"select":e.multiple=!!i.multiple,n=i.value,n!=null?Na(e,!!i.multiple,n,!1):i.defaultValue!=null&&Na(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Yd)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $r(t),null;case 6:if(e&&t.stateNode!=null)c1(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(Re(166));if(r=So(Au.current),So(Gs.current),Qc(t)){if(i=t.stateNode,r=t.memoizedProps,i[Ls]=t,(n=i.nodeValue!==r)&&(e=Hi,e!==null))switch(e.tag){case 3:Xc(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xc(i.nodeValue,r,(e.mode&1)!==0)}n&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Ls]=t,t.stateNode=i}return $r(t),null;case 13:if(sr(dr),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lr&&Bi!==null&&t.mode&1&&!(t.flags&128))Ab(),Ka(),t.flags|=98560,n=!1;else if(n=Qc(t),i!==null&&i.dehydrated!==null){if(e===null){if(!n)throw Error(Re(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Re(317));n[Ls]=t}else Ka(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$r(t),n=!1}else vs!==null&&(Og(vs),vs=null),n=!0;if(!n)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||dr.current&1?Pr===0&&(Pr=3):hv())),t.updateQueue!==null&&(t.flags|=4),$r(t),null);case 4:return Ya(),Dg(e,t),e===null&&xu(t.stateNode.containerInfo),$r(t),null;case 10:return Ym(t.type._context),$r(t),null;case 17:return Ri(t.type)&&Xd(),$r(t),null;case 19:if(sr(dr),n=t.memoizedState,n===null)return $r(t),null;if(i=(t.flags&128)!==0,o=n.rendering,o===null)if(i)Hl(n,!1);else{if(Pr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ih(e),o!==null){for(t.flags|=128,Hl(n,!1),i=o.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)n=r,e=i,n.flags&=14680066,o=n.alternate,o===null?(n.childLanes=0,n.lanes=e,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,e=o.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Jt(dr,dr.current&1|2),t.child}e=e.sibling}n.tail!==null&&yr()>Qa&&(t.flags|=128,i=!0,Hl(n,!1),t.lanes=4194304)}else{if(!i)if(e=ih(o),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Hl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!lr)return $r(t),null}else 2*yr()-n.renderingStartTime>Qa&&r!==1073741824&&(t.flags|=128,i=!0,Hl(n,!1),t.lanes=4194304);n.isBackwards?(o.sibling=t.child,t.child=o):(r=n.last,r!==null?r.sibling=o:t.child=o,n.last=o)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=yr(),t.sibling=null,r=dr.current,Jt(dr,i?r&1|2:r&1),t):($r(t),null);case 22:case 23:return dv(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Li&1073741824&&($r(t),t.subtreeFlags&6&&(t.flags|=8192)):$r(t),null;case 24:return null;case 25:return null}throw Error(Re(156,t.tag))}function CR(e,t){switch(jm(t),t.tag){case 1:return Ri(t.type)&&Xd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ya(),sr(_i),sr(Yr),ev(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jm(t),null;case 13:if(sr(dr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Re(340));Ka()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return sr(dr),null;case 4:return Ya(),null;case 10:return Ym(t.type._context),null;case 22:case 23:return dv(),null;case 24:return null;default:return null}}var ed=!1,Kr=!1,wR=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function Fa(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){gr(e,t,i)}else r.current=null}function Mg(e,t,r){try{r()}catch(i){gr(e,t,i)}}var zy=!1;function bR(e,t){if(pg=$d,e=gb(),zm(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var s=i.anchorOffset,n=i.focusNode;i=i.focusOffset;try{r.nodeType,n.nodeType}catch{r=null;break e}var o=0,a=-1,u=-1,l=0,c=0,h=e,d=null;t:for(;;){for(var p;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==n||i!==0&&h.nodeType!==3||(u=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)d=h,h=p;for(;;){if(h===e)break t;if(d===r&&++l===s&&(a=o),d===n&&++c===i&&(u=o),(p=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=p}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(fg={focusedElem:e,selectionRange:r},$d=!1,Ve=t;Ve!==null;)if(t=Ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ve=e;else for(;Ve!==null;){t=Ve;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,f=g.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:ps(t.type,v),f);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Re(163))}}catch(_){gr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Ve=e;break}Ve=t.return}return g=zy,zy=!1,g}function cu(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var n=s.destroy;s.destroy=void 0,n!==void 0&&Mg(t,r,n)}s=s.next}while(s!==i)}}function Qh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function Pg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function d1(e){var t=e.alternate;t!==null&&(e.alternate=null,d1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ls],delete t[Ru],delete t[vg],delete t[iR],delete t[sR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function h1(e){return e.tag===5||e.tag===3||e.tag===4}function Uy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||h1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fg(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Yd));else if(i!==4&&(e=e.child,e!==null))for(Fg(e,t,r),e=e.sibling;e!==null;)Fg(e,t,r),e=e.sibling}function Ig(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Ig(e,t,r),e=e.sibling;e!==null;)Ig(e,t,r),e=e.sibling}var Gr=null,fs=!1;function wn(e,t,r){for(r=r.child;r!==null;)p1(e,t,r),r=r.sibling}function p1(e,t,r){if(Os&&typeof Os.onCommitFiberUnmount=="function")try{Os.onCommitFiberUnmount(zh,r)}catch{}switch(r.tag){case 5:Kr||Fa(r,t);case 6:var i=Gr,s=fs;Gr=null,wn(e,t,r),Gr=i,fs=s,Gr!==null&&(fs?(e=Gr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Gr.removeChild(r.stateNode));break;case 18:Gr!==null&&(fs?(e=Gr,r=r.stateNode,e.nodeType===8?lf(e.parentNode,r):e.nodeType===1&&lf(e,r),bu(e)):lf(Gr,r.stateNode));break;case 4:i=Gr,s=fs,Gr=r.stateNode.containerInfo,fs=!0,wn(e,t,r),Gr=i,fs=s;break;case 0:case 11:case 14:case 15:if(!Kr&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var n=s,o=n.destroy;n=n.tag,o!==void 0&&(n&2||n&4)&&Mg(r,t,o),s=s.next}while(s!==i)}wn(e,t,r);break;case 1:if(!Kr&&(Fa(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(a){gr(r,t,a)}wn(e,t,r);break;case 21:wn(e,t,r);break;case 22:r.mode&1?(Kr=(i=Kr)||r.memoizedState!==null,wn(e,t,r),Kr=i):wn(e,t,r);break;default:wn(e,t,r)}}function jy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new wR),t.forEach(function(i){var s=MR.bind(null,e,i);r.has(i)||(r.add(i),i.then(s,s))})}}function hs(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var s=r[i];try{var n=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Gr=a.stateNode,fs=!1;break e;case 3:Gr=a.stateNode.containerInfo,fs=!0;break e;case 4:Gr=a.stateNode.containerInfo,fs=!0;break e}a=a.return}if(Gr===null)throw Error(Re(160));p1(n,o,s),Gr=null,fs=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(l){gr(s,t,l)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)f1(t,e),t=t.sibling}function f1(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hs(t,e),As(e),i&4){try{cu(3,e,e.return),Qh(3,e)}catch(v){gr(e,e.return,v)}try{cu(5,e,e.return)}catch(v){gr(e,e.return,v)}}break;case 1:hs(t,e),As(e),i&512&&r!==null&&Fa(r,r.return);break;case 5:if(hs(t,e),As(e),i&512&&r!==null&&Fa(r,r.return),e.flags&32){var s=e.stateNode;try{vu(s,"")}catch(v){gr(e,e.return,v)}}if(i&4&&(s=e.stateNode,s!=null)){var n=e.memoizedProps,o=r!==null?r.memoizedProps:n,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&n.type==="radio"&&n.name!=null&&Nw(s,n),ig(a,o);var l=ig(a,n);for(o=0;o<u.length;o+=2){var c=u[o],h=u[o+1];c==="style"?Hw(s,h):c==="dangerouslySetInnerHTML"?Vw(s,h):c==="children"?vu(s,h):Mm(s,c,h,l)}switch(a){case"input":Zf(s,n);break;case"textarea":Ow(s,n);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!n.multiple;var p=n.value;p!=null?Na(s,!!n.multiple,p,!1):d!==!!n.multiple&&(n.defaultValue!=null?Na(s,!!n.multiple,n.defaultValue,!0):Na(s,!!n.multiple,n.multiple?[]:"",!1))}s[Ru]=n}catch(v){gr(e,e.return,v)}}break;case 6:if(hs(t,e),As(e),i&4){if(e.stateNode===null)throw Error(Re(162));s=e.stateNode,n=e.memoizedProps;try{s.nodeValue=n}catch(v){gr(e,e.return,v)}}break;case 3:if(hs(t,e),As(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{bu(t.containerInfo)}catch(v){gr(e,e.return,v)}break;case 4:hs(t,e),As(e);break;case 13:hs(t,e),As(e),s=e.child,s.flags&8192&&(n=s.memoizedState!==null,s.stateNode.isHidden=n,!n||s.alternate!==null&&s.alternate.memoizedState!==null||(uv=yr())),i&4&&jy(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(Kr=(l=Kr)||c,hs(t,e),Kr=l):hs(t,e),As(e),i&8192){if(l=e.memoizedState!==null,(e.stateNode.isHidden=l)&&!c&&e.mode&1)for(Ve=e,c=e.child;c!==null;){for(h=Ve=c;Ve!==null;){switch(d=Ve,p=d.child,d.tag){case 0:case 11:case 14:case 15:cu(4,d,d.return);break;case 1:Fa(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){i=d,r=d.return;try{t=i,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){gr(i,r,v)}}break;case 5:Fa(d,d.return);break;case 22:if(d.memoizedState!==null){Ky(h);continue}}p!==null?(p.return=d,Ve=p):Ky(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,l?(n=s.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Bw("display",o))}catch(v){gr(e,e.return,v)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(v){gr(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:hs(t,e),As(e),i&4&&jy(e);break;case 21:break;default:hs(t,e),As(e)}}function As(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(h1(r)){var i=r;break e}r=r.return}throw Error(Re(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(vu(s,""),i.flags&=-33);var n=Uy(e);Ig(e,n,s);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Uy(e);Fg(e,a,o);break;default:throw Error(Re(161))}}catch(u){gr(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function SR(e,t,r){Ve=e,g1(e)}function g1(e,t,r){for(var i=(e.mode&1)!==0;Ve!==null;){var s=Ve,n=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||ed;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||Kr;a=ed;var l=Kr;if(ed=o,(Kr=u)&&!l)for(Ve=s;Ve!==null;)o=Ve,u=o.child,o.tag===22&&o.memoizedState!==null?qy(s):u!==null?(u.return=o,Ve=u):qy(s);for(;n!==null;)Ve=n,g1(n),n=n.sibling;Ve=s,ed=a,Kr=l}$y(e)}else s.subtreeFlags&8772&&n!==null?(n.return=s,Ve=n):$y(e)}}function $y(e){for(;Ve!==null;){var t=Ve;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Kr||Qh(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Kr)if(r===null)i.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ps(t.type,r.memoizedProps);i.componentDidUpdate(s,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var n=t.updateQueue;n!==null&&My(t,n,i);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}My(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var l=t.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&bu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Re(163))}Kr||t.flags&512&&Pg(t)}catch(d){gr(t,t.return,d)}}if(t===e){Ve=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ve=r;break}Ve=t.return}}function Ky(e){for(;Ve!==null;){var t=Ve;if(t===e){Ve=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ve=r;break}Ve=t.return}}function qy(e){for(;Ve!==null;){var t=Ve;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Qh(4,t)}catch(u){gr(t,r,u)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(u){gr(t,s,u)}}var n=t.return;try{Pg(t)}catch(u){gr(t,n,u)}break;case 5:var o=t.return;try{Pg(t)}catch(u){gr(t,o,u)}}}catch(u){gr(t,t.return,u)}if(t===e){Ve=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Ve=a;break}Ve=t.return}}var ER=Math.ceil,oh=cn.ReactCurrentDispatcher,av=cn.ReactCurrentOwner,rs=cn.ReactCurrentBatchConfig,It=0,Lr=null,xr=null,Br=0,Li=0,Ia=Qn(0),Pr=0,Fu=null,Vo=0,Zh=0,lv=0,du=null,Ci=null,uv=0,Qa=1/0,qs=null,ah=!1,kg=null,Gn=null,td=!1,Mn=null,lh=0,hu=0,Lg=null,wd=-1,bd=0;function ii(){return It&6?yr():wd!==-1?wd:wd=yr()}function Vn(e){return e.mode&1?It&2&&Br!==0?Br&-Br:oR.transition!==null?(bd===0&&(bd=Jw()),bd):(e=$t,e!==0||(e=window.event,e=e===void 0?16:ob(e.type)),e):1}function Ss(e,t,r,i){if(50<hu)throw hu=0,Lg=null,Error(Re(185));cc(e,r,i),(!(It&2)||e!==Lr)&&(e===Lr&&(!(It&2)&&(Zh|=r),Pr===4&&Tn(e,Br)),Ti(e,i),r===1&&It===0&&!(t.mode&1)&&(Qa=yr()+500,qh&&Zn()))}function Ti(e,t){var r=e.callbackNode;o_(e,t);var i=jd(e,e===Lr?Br:0);if(i===0)r!==null&&iy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&iy(r),t===1)e.tag===0?nR(Yy.bind(null,e)):_b(Yy.bind(null,e)),tR(function(){!(It&6)&&Zn()}),r=null;else{switch(eb(i)){case 1:r=Lm;break;case 4:r=Qw;break;case 16:r=Ud;break;case 536870912:r=Zw;break;default:r=Ud}r=E1(r,m1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function m1(e,t){if(wd=-1,bd=0,It&6)throw Error(Re(327));var r=e.callbackNode;if(Ha()&&e.callbackNode!==r)return null;var i=jd(e,e===Lr?Br:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=uh(e,i);else{t=i;var s=It;It|=2;var n=y1();(Lr!==e||Br!==t)&&(qs=null,Qa=yr()+500,To(e,t));do try{RR();break}catch(a){v1(e,a)}while(!0);qm(),oh.current=n,It=s,xr!==null?t=0:(Lr=null,Br=0,t=Pr)}if(t!==0){if(t===2&&(s=lg(e),s!==0&&(i=s,t=Ng(e,s))),t===1)throw r=Fu,To(e,0),Tn(e,i),Ti(e,yr()),r;if(t===6)Tn(e,i);else{if(s=e.current.alternate,!(i&30)&&!xR(s)&&(t=uh(e,i),t===2&&(n=lg(e),n!==0&&(i=n,t=Ng(e,n))),t===1))throw r=Fu,To(e,0),Tn(e,i),Ti(e,yr()),r;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(Re(345));case 2:ho(e,Ci,qs);break;case 3:if(Tn(e,i),(i&130023424)===i&&(t=uv+500-yr(),10<t)){if(jd(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){ii(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=mg(ho.bind(null,e,Ci,qs),t);break}ho(e,Ci,qs);break;case 4:if(Tn(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var o=31-bs(i);n=1<<o,o=t[o],o>s&&(s=o),i&=~n}if(i=s,i=yr()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*ER(i/1960))-i,10<i){e.timeoutHandle=mg(ho.bind(null,e,Ci,qs),i);break}ho(e,Ci,qs);break;case 5:ho(e,Ci,qs);break;default:throw Error(Re(329))}}}return Ti(e,yr()),e.callbackNode===r?m1.bind(null,e):null}function Ng(e,t){var r=du;return e.current.memoizedState.isDehydrated&&(To(e,t).flags|=256),e=uh(e,t),e!==2&&(t=Ci,Ci=r,t!==null&&Og(t)),e}function Og(e){Ci===null?Ci=e:Ci.push.apply(Ci,e)}function xR(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var s=r[i],n=s.getSnapshot;s=s.value;try{if(!xs(n(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tn(e,t){for(t&=~lv,t&=~Zh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-bs(t),i=1<<r;e[r]=-1,t&=~i}}function Yy(e){if(It&6)throw Error(Re(327));Ha();var t=jd(e,0);if(!(t&1))return Ti(e,yr()),null;var r=uh(e,t);if(e.tag!==0&&r===2){var i=lg(e);i!==0&&(t=i,r=Ng(e,i))}if(r===1)throw r=Fu,To(e,0),Tn(e,t),Ti(e,yr()),r;if(r===6)throw Error(Re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ho(e,Ci,qs),Ti(e,yr()),null}function cv(e,t){var r=It;It|=1;try{return e(t)}finally{It=r,It===0&&(Qa=yr()+500,qh&&Zn())}}function Bo(e){Mn!==null&&Mn.tag===0&&!(It&6)&&Ha();var t=It;It|=1;var r=rs.transition,i=$t;try{if(rs.transition=null,$t=1,e)return e()}finally{$t=i,rs.transition=r,It=t,!(It&6)&&Zn()}}function dv(){Li=Ia.current,sr(Ia)}function To(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,eR(r)),xr!==null)for(r=xr.return;r!==null;){var i=r;switch(jm(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Xd();break;case 3:Ya(),sr(_i),sr(Yr),ev();break;case 5:Jm(i);break;case 4:Ya();break;case 13:sr(dr);break;case 19:sr(dr);break;case 10:Ym(i.type._context);break;case 22:case 23:dv()}r=r.return}if(Lr=e,xr=e=Bn(e.current,null),Br=Li=t,Pr=0,Fu=null,lv=Zh=Vo=0,Ci=du=null,bo!==null){for(t=0;t<bo.length;t++)if(r=bo[t],i=r.interleaved,i!==null){r.interleaved=null;var s=i.next,n=r.pending;if(n!==null){var o=n.next;n.next=s,i.next=o}r.pending=i}bo=null}return e}function v1(e,t){do{var r=xr;try{if(qm(),vd.current=nh,sh){for(var i=hr.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}sh=!1}if(Go=0,Ir=Dr=hr=null,uu=!1,Du=0,av.current=null,r===null||r.return===null){Pr=1,Fu=t,xr=null;break}e:{var n=e,o=r.return,a=r,u=t;if(t=Br,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Ny(o);if(p!==null){p.flags&=-257,Oy(p,o,a,n,t),p.mode&1&&Ly(n,l,t),t=p,u=l;var g=t.updateQueue;if(g===null){var v=new Set;v.add(u),t.updateQueue=v}else g.add(u);break e}else{if(!(t&1)){Ly(n,l,t),hv();break e}u=Error(Re(426))}}else if(lr&&a.mode&1){var f=Ny(o);if(f!==null){!(f.flags&65536)&&(f.flags|=256),Oy(f,o,a,n,t),$m(Xa(u,a));break e}}n=u=Xa(u,a),Pr!==4&&(Pr=2),du===null?du=[n]:du.push(n),n=o;do{switch(n.tag){case 3:n.flags|=65536,t&=-t,n.lanes|=t;var y=e1(n,u,t);Dy(n,y);break e;case 1:a=u;var m=n.type,w=n.stateNode;if(!(n.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Gn===null||!Gn.has(w)))){n.flags|=65536,t&=-t,n.lanes|=t;var _=t1(n,a,t);Dy(n,_);break e}}n=n.return}while(n!==null)}w1(r)}catch(A){t=A,xr===r&&r!==null&&(xr=r=r.return);continue}break}while(!0)}function y1(){var e=oh.current;return oh.current=nh,e===null?nh:e}function hv(){(Pr===0||Pr===3||Pr===2)&&(Pr=4),Lr===null||!(Vo&268435455)&&!(Zh&268435455)||Tn(Lr,Br)}function uh(e,t){var r=It;It|=2;var i=y1();(Lr!==e||Br!==t)&&(qs=null,To(e,t));do try{_R();break}catch(s){v1(e,s)}while(!0);if(qm(),It=r,oh.current=i,xr!==null)throw Error(Re(261));return Lr=null,Br=0,Pr}function _R(){for(;xr!==null;)C1(xr)}function RR(){for(;xr!==null&&!Qx();)C1(xr)}function C1(e){var t=S1(e.alternate,e,Li);e.memoizedProps=e.pendingProps,t===null?w1(e):xr=t,av.current=null}function w1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=CR(r,t),r!==null){r.flags&=32767,xr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pr=6,xr=null;return}}else if(r=yR(r,t,Li),r!==null){xr=r;return}if(t=t.sibling,t!==null){xr=t;return}xr=t=e}while(t!==null);Pr===0&&(Pr=5)}function ho(e,t,r){var i=$t,s=rs.transition;try{rs.transition=null,$t=1,TR(e,t,r,i)}finally{rs.transition=s,$t=i}return null}function TR(e,t,r,i){do Ha();while(Mn!==null);if(It&6)throw Error(Re(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Re(177));e.callbackNode=null,e.callbackPriority=0;var n=r.lanes|r.childLanes;if(a_(e,n),e===Lr&&(xr=Lr=null,Br=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||td||(td=!0,E1(Ud,function(){return Ha(),null})),n=(r.flags&15990)!==0,r.subtreeFlags&15990||n){n=rs.transition,rs.transition=null;var o=$t;$t=1;var a=It;It|=4,av.current=null,bR(e,r),f1(r,e),K_(fg),$d=!!pg,fg=pg=null,e.current=r,SR(r),Zx(),It=a,$t=o,rs.transition=n}else e.current=r;if(td&&(td=!1,Mn=e,lh=s),n=e.pendingLanes,n===0&&(Gn=null),t_(r.stateNode),Ti(e,yr()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],i(s.value,{componentStack:s.stack,digest:s.digest});if(ah)throw ah=!1,e=kg,kg=null,e;return lh&1&&e.tag!==0&&Ha(),n=e.pendingLanes,n&1?e===Lg?hu++:(hu=0,Lg=e):hu=0,Zn(),null}function Ha(){if(Mn!==null){var e=eb(lh),t=rs.transition,r=$t;try{if(rs.transition=null,$t=16>e?16:e,Mn===null)var i=!1;else{if(e=Mn,Mn=null,lh=0,It&6)throw Error(Re(331));var s=It;for(It|=4,Ve=e.current;Ve!==null;){var n=Ve,o=n.child;if(Ve.flags&16){var a=n.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(Ve=l;Ve!==null;){var c=Ve;switch(c.tag){case 0:case 11:case 15:cu(8,c,n)}var h=c.child;if(h!==null)h.return=c,Ve=h;else for(;Ve!==null;){c=Ve;var d=c.sibling,p=c.return;if(d1(c),c===l){Ve=null;break}if(d!==null){d.return=p,Ve=d;break}Ve=p}}}var g=n.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var f=v.sibling;v.sibling=null,v=f}while(v!==null)}}Ve=n}}if(n.subtreeFlags&2064&&o!==null)o.return=n,Ve=o;else e:for(;Ve!==null;){if(n=Ve,n.flags&2048)switch(n.tag){case 0:case 11:case 15:cu(9,n,n.return)}var y=n.sibling;if(y!==null){y.return=n.return,Ve=y;break e}Ve=n.return}}var m=e.current;for(Ve=m;Ve!==null;){o=Ve;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Ve=w;else e:for(o=m;Ve!==null;){if(a=Ve,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Qh(9,a)}}catch(A){gr(a,a.return,A)}if(a===o){Ve=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,Ve=_;break e}Ve=a.return}}if(It=s,Zn(),Os&&typeof Os.onPostCommitFiberRoot=="function")try{Os.onPostCommitFiberRoot(zh,e)}catch{}i=!0}return i}finally{$t=r,rs.transition=t}}return!1}function Xy(e,t,r){t=Xa(r,t),t=e1(e,t,1),e=On(e,t,1),t=ii(),e!==null&&(cc(e,1,t),Ti(e,t))}function gr(e,t,r){if(e.tag===3)Xy(e,e,r);else for(;t!==null;){if(t.tag===3){Xy(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Gn===null||!Gn.has(i))){e=Xa(r,e),e=t1(t,e,1),t=On(t,e,1),e=ii(),t!==null&&(cc(t,1,e),Ti(t,e));break}}t=t.return}}function AR(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=ii(),e.pingedLanes|=e.suspendedLanes&r,Lr===e&&(Br&r)===r&&(Pr===4||Pr===3&&(Br&130023424)===Br&&500>yr()-uv?To(e,0):lv|=r),Ti(e,t)}function b1(e,t){t===0&&(e.mode&1?(t=jc,jc<<=1,!(jc&130023424)&&(jc=4194304)):t=1);var r=ii();e=sn(e,t),e!==null&&(cc(e,t,r),Ti(e,r))}function DR(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),b1(e,r)}function MR(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(Re(314))}i!==null&&i.delete(t),b1(e,r)}var S1;S1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||_i.current)wi=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return wi=!1,vR(e,t,r);wi=!!(e.flags&131072)}else wi=!1,lr&&t.flags&1048576&&Rb(t,Jd,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Cd(e,t),e=t.pendingProps;var s=$a(t,Yr.current);Ba(t,r),s=rv(null,t,i,e,s,r);var n=iv();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(i)?(n=!0,Qd(t)):n=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Qm(t),s.updater=Xh,t.stateNode=s,s._reactInternals=t,Eg(t,i,e,r),t=Rg(null,t,i,!0,n,r)):(t.tag=0,lr&&n&&Um(t),ei(null,t,s,r),t=t.child),t;case 16:i=t.elementType;e:{switch(Cd(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=FR(i),e=ps(i,e),s){case 0:t=_g(null,t,i,e,r);break e;case 1:t=By(null,t,i,e,r);break e;case 11:t=Gy(null,t,i,e,r);break e;case 14:t=Vy(null,t,i,ps(i.type,e),r);break e}throw Error(Re(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:ps(i,s),_g(e,t,i,s,r);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:ps(i,s),By(e,t,i,s,r);case 3:e:{if(n1(t),e===null)throw Error(Re(387));i=t.pendingProps,n=t.memoizedState,s=n.element,Fb(e,t),rh(t,i,null,r);var o=t.memoizedState;if(i=o.element,n.isDehydrated)if(n={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=n,t.memoizedState=n,t.flags&256){s=Xa(Error(Re(423)),t),t=Hy(e,t,i,r,s);break e}else if(i!==s){s=Xa(Error(Re(424)),t),t=Hy(e,t,i,r,s);break e}else for(Bi=Nn(t.stateNode.containerInfo.firstChild),Hi=t,lr=!0,vs=null,r=Mb(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ka(),i===s){t=nn(e,t,r);break e}ei(e,t,i,r)}t=t.child}return t;case 5:return Ib(t),e===null&&wg(t),i=t.type,s=t.pendingProps,n=e!==null?e.memoizedProps:null,o=s.children,gg(i,s)?o=null:n!==null&&gg(i,n)&&(t.flags|=32),s1(e,t),ei(e,t,o,r),t.child;case 6:return e===null&&wg(t),null;case 13:return o1(e,t,r);case 4:return Zm(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=qa(t,null,i,r):ei(e,t,i,r),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:ps(i,s),Gy(e,t,i,s,r);case 7:return ei(e,t,t.pendingProps,r),t.child;case 8:return ei(e,t,t.pendingProps.children,r),t.child;case 12:return ei(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,n=t.memoizedProps,o=s.value,Jt(eh,i._currentValue),i._currentValue=o,n!==null)if(xs(n.value,o)){if(n.children===s.children&&!_i.current){t=nn(e,t,r);break e}}else for(n=t.child,n!==null&&(n.return=t);n!==null;){var a=n.dependencies;if(a!==null){o=n.child;for(var u=a.firstContext;u!==null;){if(u.context===i){if(n.tag===1){u=Js(-1,r&-r),u.tag=2;var l=n.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}n.lanes|=r,u=n.alternate,u!==null&&(u.lanes|=r),bg(n.return,r,t),a.lanes|=r;break}u=u.next}}else if(n.tag===10)o=n.type===t.type?null:n.child;else if(n.tag===18){if(o=n.return,o===null)throw Error(Re(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),bg(o,r,t),o=n.sibling}else o=n.child;if(o!==null)o.return=n;else for(o=n;o!==null;){if(o===t){o=null;break}if(n=o.sibling,n!==null){n.return=o.return,o=n;break}o=o.return}n=o}ei(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,Ba(t,r),s=ns(s),i=i(s),t.flags|=1,ei(e,t,i,r),t.child;case 14:return i=t.type,s=ps(i,t.pendingProps),s=ps(i.type,s),Vy(e,t,i,s,r);case 15:return r1(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:ps(i,s),Cd(e,t),t.tag=1,Ri(i)?(e=!0,Qd(t)):e=!1,Ba(t,r),Jb(t,i,s),Eg(t,i,s,r),Rg(null,t,i,!0,e,r);case 19:return a1(e,t,r);case 22:return i1(e,t,r)}throw Error(Re(156,t.tag))};function E1(e,t){return Xw(e,t)}function PR(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(e,t,r,i){return new PR(e,t,r,i)}function pv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FR(e){if(typeof e=="function")return pv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fm)return 11;if(e===Im)return 14}return 2}function Bn(e,t){var r=e.alternate;return r===null?(r=Ji(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Sd(e,t,r,i,s,n){var o=2;if(i=e,typeof e=="function")pv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ea:return Ao(r.children,s,n,t);case Pm:o=8,s|=8;break;case Kf:return e=Ji(12,r,t,s|2),e.elementType=Kf,e.lanes=n,e;case qf:return e=Ji(13,r,t,s),e.elementType=qf,e.lanes=n,e;case Yf:return e=Ji(19,r,t,s),e.elementType=Yf,e.lanes=n,e;case Iw:return Jh(r,s,n,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pw:o=10;break e;case Fw:o=9;break e;case Fm:o=11;break e;case Im:o=14;break e;case xn:o=16,i=null;break e}throw Error(Re(130,e==null?e:typeof e,""))}return t=Ji(o,r,t,s),t.elementType=e,t.type=i,t.lanes=n,t}function Ao(e,t,r,i){return e=Ji(7,e,i,t),e.lanes=r,e}function Jh(e,t,r,i){return e=Ji(22,e,i,t),e.elementType=Iw,e.lanes=r,e.stateNode={isHidden:!1},e}function mf(e,t,r){return e=Ji(6,e,null,t),e.lanes=r,e}function vf(e,t,r){return t=Ji(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function IR(e,t,r,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xp(0),this.expirationTimes=Xp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xp(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function fv(e,t,r,i,s,n,o,a,u){return e=new IR(e,t,r,a,u),t===1?(t=1,n===!0&&(t|=8)):t=0,n=Ji(3,null,null,t),e.current=n,n.stateNode=e,n.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qm(n),e}function kR(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sa,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function x1(e){if(!e)return zn;e=e._reactInternals;e:{if(Jo(e)!==e||e.tag!==1)throw Error(Re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Re(171))}if(e.tag===1){var r=e.type;if(Ri(r))return xb(e,r,t)}return t}function _1(e,t,r,i,s,n,o,a,u){return e=fv(r,i,!0,e,s,n,o,a,u),e.context=x1(null),r=e.current,i=ii(),s=Vn(r),n=Js(i,s),n.callback=t??null,On(r,n,s),e.current.lanes=s,cc(e,s,i),Ti(e,i),e}function ep(e,t,r,i){var s=t.current,n=ii(),o=Vn(s);return r=x1(r),t.context===null?t.context=r:t.pendingContext=r,t=Js(n,o),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=On(s,t,o),e!==null&&(Ss(e,s,o,n),md(e,s,o)),o}function ch(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function gv(e,t){Qy(e,t),(e=e.alternate)&&Qy(e,t)}function LR(){return null}var R1=typeof reportError=="function"?reportError:function(e){console.error(e)};function mv(e){this._internalRoot=e}tp.prototype.render=mv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Re(409));ep(e,t,null,null)};tp.prototype.unmount=mv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bo(function(){ep(null,e,null,null)}),t[rn]=null}};function tp(e){this._internalRoot=e}tp.prototype.unstable_scheduleHydration=function(e){if(e){var t=ib();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Rn.length&&t!==0&&t<Rn[r].priority;r++);Rn.splice(r,0,e),r===0&&nb(e)}};function vv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function rp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Zy(){}function NR(e,t,r,i,s){if(s){if(typeof i=="function"){var n=i;i=function(){var l=ch(o);n.call(l)}}var o=_1(t,i,e,0,null,!1,!1,"",Zy);return e._reactRootContainer=o,e[rn]=o.current,xu(e.nodeType===8?e.parentNode:e),Bo(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var a=i;i=function(){var l=ch(u);a.call(l)}}var u=fv(e,0,!1,null,null,!1,!1,"",Zy);return e._reactRootContainer=u,e[rn]=u.current,xu(e.nodeType===8?e.parentNode:e),Bo(function(){ep(t,u,r,i)}),u}function ip(e,t,r,i,s){var n=r._reactRootContainer;if(n){var o=n;if(typeof s=="function"){var a=s;s=function(){var u=ch(o);a.call(u)}}ep(t,o,e,s)}else o=NR(r,t,e,s,i);return ch(o)}tb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=$l(t.pendingLanes);r!==0&&(Nm(t,r|1),Ti(t,yr()),!(It&6)&&(Qa=yr()+500,Zn()))}break;case 13:Bo(function(){var i=sn(e,1);if(i!==null){var s=ii();Ss(i,e,1,s)}}),gv(e,1)}};Om=function(e){if(e.tag===13){var t=sn(e,134217728);if(t!==null){var r=ii();Ss(t,e,134217728,r)}gv(e,134217728)}};rb=function(e){if(e.tag===13){var t=Vn(e),r=sn(e,t);if(r!==null){var i=ii();Ss(r,e,t,i)}gv(e,t)}};ib=function(){return $t};sb=function(e,t){var r=$t;try{return $t=e,t()}finally{$t=r}};ng=function(e,t,r){switch(t){case"input":if(Zf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var s=Kh(i);if(!s)throw Error(Re(90));Lw(i),Zf(i,s)}}}break;case"textarea":Ow(e,r);break;case"select":t=r.value,t!=null&&Na(e,!!r.multiple,t,!1)}};Uw=cv;jw=Bo;var OR={usingClientEntryPoint:!1,Events:[hc,Ta,Kh,Ww,zw,cv]},Wl={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GR={bundleType:Wl.bundleType,version:Wl.version,rendererPackageName:Wl.rendererPackageName,rendererConfig:Wl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qw(e),e===null?null:e.stateNode},findFiberByHostInstance:Wl.findFiberByHostInstance||LR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{zh=rd.inject(GR),Os=rd}catch{}}$i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OR;$i.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vv(t))throw Error(Re(200));return kR(e,t,null,r)};$i.createRoot=function(e,t){if(!vv(e))throw Error(Re(299));var r=!1,i="",s=R1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=fv(e,1,!1,null,null,r,!1,i,s),e[rn]=t.current,xu(e.nodeType===8?e.parentNode:e),new mv(t)};$i.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Re(188)):(e=Object.keys(e).join(","),Error(Re(268,e)));return e=qw(t),e=e===null?null:e.stateNode,e};$i.flushSync=function(e){return Bo(e)};$i.hydrate=function(e,t,r){if(!rp(t))throw Error(Re(200));return ip(null,e,t,!0,r)};$i.hydrateRoot=function(e,t,r){if(!vv(e))throw Error(Re(405));var i=r!=null&&r.hydratedSources||null,s=!1,n="",o=R1;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(n=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=_1(t,null,e,1,r??null,s,!1,n,o),e[rn]=t.current,xu(e),i)for(e=0;e<i.length;e++)r=i[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new tp(t)};$i.render=function(e,t,r){if(!rp(t))throw Error(Re(200));return ip(null,e,t,!1,r)};$i.unmountComponentAtNode=function(e){if(!rp(e))throw Error(Re(40));return e._reactRootContainer?(Bo(function(){ip(null,null,e,!1,function(){e._reactRootContainer=null,e[rn]=null})}),!0):!1};$i.unstable_batchedUpdates=cv;$i.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!rp(r))throw Error(Re(200));if(e==null||e._reactInternals===void 0)throw Error(Re(38));return ip(e,t,r,!1,i)};$i.version="18.3.1-next-f1338f8080-20240426";function T1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T1)}catch(e){console.error(e)}}T1(),Tw.exports=$i;var sp=Tw.exports;const Gg=Em(sp);var Jy=sp;jf.createRoot=Jy.createRoot,jf.hydrateRoot=Jy.hydrateRoot;const VR=({selectedSearchParams:e,setSelectedSearchParams:t})=>{const r=(s,n)=>{const o={...e,[s]:n.target.value};t(o)},i={"Paper Name":"string",Authors:"string",Year:"string",Journal:"string",Title:"string",Abstract:"string","Open Access":"string","Reviewer 1":"string","Reviewer 2":"string",Scope:["","Single Model","Multi Model","Not a MS Model","Review","Meta-analysis","Data Analysis","PDF Not Available","Other"],"Eco-Evo Focus":["","Variation (Divergence)","Pop. Persistance and Conservation","Coevolution","Range Dynamic","Evol. Processes","Repeatability","Other","Unknown","NA"],Metric:"string","Life history":["","Discrete","Continous","Unknown"],"Ecological Loci/Traits":["","1 Locus/2 allele","2 Loci","Multi_locus(>2 loci)","Multi-allelic","1 trait","Multi-traits","NA","Other","Unknown"],"Additional Loci/Traits":"string","Mating system":"string",Ploidy:"string",Selection:"string","Spatial Structure":"string","Population Size":"string","Ecological Model":"string","Recurrent Mutation":"string",IBS:"string"};return Ar.jsx("div",{className:"d-flex align-content-stretch flex-wrap",children:Object.entries(i).map(([s,n])=>Array.isArray(n)?Ar.jsxs("div",{className:"m-1 p-2",children:[Ar.jsx("label",{htmlFor:`${s}Input`,children:`${s}: `}),Ar.jsx("select",{className:"m-1",id:`${s}Input`,children:n.map((o,a)=>Ar.jsx("option",{value:o,children:o},a))})]},`${s}InputDiv`):Ar.jsxs("div",{className:"m-1 p-2",children:[Ar.jsx("label",{htmlFor:`${s}Input`,children:`${s}: `}),Ar.jsx("input",{className:"m-1",id:`${s}Input`,type:"text",onChange:o=>r(s,o),placeholder:`${s} Input`})]},`${s}InputDiv`))})};function id(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var A1={exports:{}};/*! ExcelJS 19-10-2023 */(function(e,t){(function(r){e.exports=r()})(function(){return function r(i,s,n){function o(l,c){if(!s[l]){if(!i[l]){var h=typeof id=="function"&&id;if(!c&&h)return h(l,!0);if(a)return a(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var p=s[l]={exports:{}};i[l][0].call(p.exports,function(g){return o(i[l][1][g]||g)},p,p.exports,r,i,s,n)}return s[l].exports}for(var a=typeof id=="function"&&id,u=0;u<n.length;u++)o(n[u]);return o}({1:[function(r,i,s){const n=r("fs"),o=r("fast-csv"),a=r("dayjs/plugin/customParseFormat"),u=r("dayjs/plugin/utc"),l=r("dayjs").extend(a).extend(u),c=r("../utils/stream-buf"),{fs:{exists:h}}=r("../utils/utils"),d={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};i.exports=class{constructor(p){this.workbook=p,this.worksheet=null}async readFile(p,g){if(g=g||{},!await h(p))throw new Error("File not found: "+p);const v=n.createReadStream(p),f=await this.read(v,g);return v.close(),f}read(p,g){return g=g||{},new Promise((v,f)=>{const y=this.workbook.addWorksheet(g.sheetName),m=g.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],w=g.map||function(A){if(A==="")return null;const F=Number(A);if(!Number.isNaN(F)&&F!==1/0)return F;const G=m.reduce((O,V)=>{if(O)return O;const z=l(A,V,!0);return z.isValid()?z:null},null);if(G)return new Date(G.valueOf());const L=d[A];return L!==void 0?L:A},_=o.parse(g.parserOptions).on("data",A=>{y.addRow(A.map(w))}).on("end",()=>{_.emit("worksheet",y)});_.on("worksheet",v).on("error",f),p.pipe(_)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(p,g){return new Promise((v,f)=>{g=g||{};const y=this.workbook.getWorksheet(g.sheetName||g.sheetId),m=o.format(g.formatterOptions);p.on("finish",()=>{v()}),m.on("error",f),m.pipe(p);const{dateFormat:w,dateUTC:_}=g,A=g.map||(L=>{if(L){if(L.text||L.hyperlink)return L.hyperlink||L.text||"";if(L.formula||L.result)return L.result||"";if(L instanceof Date)return w?_?l.utc(L).format(w):l(L).format(w):_?l.utc(L).format():l(L).format();if(L.error)return L.error;if(typeof L=="object")return JSON.stringify(L)}return L}),F=g.includeEmptyRows===void 0||g.includeEmptyRows;let G=1;y&&y.eachRow((L,O)=>{if(F)for(;G++<O-1;)m.write([]);const{values:V}=L;V.shift(),m.write(V.map(A)),G=O}),m.end()})}writeFile(p,g){const v={encoding:(g=g||{}).encoding||"utf8"},f=n.createWriteStream(p,v);return this.write(f,g)}async writeBuffer(p){const g=new c;return await this.write(g,p),g.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(r,i,s){const n=r("../utils/col-cache");class o{constructor(u,l){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=u,l)if(typeof l=="string"){const h=n.decodeAddress(l);this.nativeCol=h.col+c,this.nativeColOff=0,this.nativeRow=h.row+c,this.nativeRowOff=0}else l.nativeCol!==void 0?(this.nativeCol=l.nativeCol||0,this.nativeColOff=l.nativeColOff||0,this.nativeRow=l.nativeRow||0,this.nativeRowOff=l.nativeRowOff||0):l.col!==void 0?(this.col=l.col+c,this.row=l.row+c):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(u){return u instanceof o||u==null?u:new o(u)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(u){this.nativeCol=Math.floor(u),this.nativeColOff=Math.floor((u-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(u){this.nativeRow=Math.floor(u),this.nativeRowOff=Math.floor((u-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(u){this.nativeCol=u.nativeCol,this.nativeColOff=u.nativeColOff,this.nativeRow=u.nativeRow,this.nativeRowOff=u.nativeRowOff}}i.exports=o},{"../utils/col-cache":19}],3:[function(r,i,s){const n=r("../utils/col-cache"),o=r("../utils/under-dash"),a=r("./enums"),{slideFormula:u}=r("../utils/shared-formula"),l=r("./note");class c{constructor(p,g,v){if(!p||!g)throw new Error("A Cell needs a Row");this._row=p,this._column=g,n.validateAddress(v),this._address=v,this._value=h.create(c.Types.Null,this),this.style=this._mergeStyle(p.style,g.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(p){this.style.numFmt=p}get font(){return this.style.font}set font(p){this.style.font=p}get alignment(){return this.style.alignment}set alignment(p){this.style.alignment=p}get border(){return this.style.border}set border(p){this.style.border=p}get fill(){return this.style.fill}set fill(p){this.style.fill=p}get protection(){return this.style.protection}set protection(p){this.style.protection=p}_mergeStyle(p,g,v){const f=p&&p.numFmt||g&&g.numFmt;f&&(v.numFmt=f);const y=p&&p.font||g&&g.font;y&&(v.font=y);const m=p&&p.alignment||g&&g.alignment;m&&(v.alignment=m);const w=p&&p.border||g&&g.border;w&&(v.border=w);const _=p&&p.fill||g&&g.fill;_&&(v.fill=_);const A=p&&p.protection||g&&g.protection;return A&&(v.protection=A),v}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===c.Types.Merge}merge(p,g){this._value.release(),this._value=h.create(c.Types.Merge,this,p),g||(this.style=p.style)}unmerge(){this.type===c.Types.Merge&&(this._value.release(),this._value=h.create(c.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(p){return this._value.type===c.Types.Merge&&this._value.isMergedTo(p)}get master(){return this.type===c.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===c.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(p){this.type!==c.Types.Merge?(this._value.release(),this._value=h.create(h.getType(p),this,p)):this._value.master.value=p}get note(){return this._comment&&this._comment.note}set note(p){this._comment=new l(p)}get text(){return this._value.toString()}get html(){return o.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(p){this.type===c.Types.String&&(this._value=h.create(c.Types.Hyperlink,this,{text:this._value.value,hyperlink:p}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:p}=this._row;return{sheetName:p.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(p){this.names=[p]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(p){const{definedNames:g}=this.workbook;g.removeAllNames(this.fullAddress),p.forEach(v=>{g.addEx(this.fullAddress,v)})}addName(p){this.workbook.definedNames.addEx(this.fullAddress,p)}removeName(p){this.workbook.definedNames.removeEx(this.fullAddress,p)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(p){this._dataValidations.add(this.address,p)}get model(){const{model:p}=this._value;return p.style=this.style,this._comment&&(p.comment=this._comment.model),p}set model(p){if(this._value.release(),this._value=h.create(p.type,this),this._value.model=p,p.comment)switch(p.comment.type){case"note":this._comment=l.fromModel(p.comment)}p.style?this.style=p.style:this.style={}}}c.Types=a.ValueType;const h={getType:d=>d==null?c.Types.Null:d instanceof String||typeof d=="string"?c.Types.String:typeof d=="number"?c.Types.Number:typeof d=="boolean"?c.Types.Boolean:d instanceof Date?c.Types.Date:d.text&&d.hyperlink?c.Types.Hyperlink:d.formula||d.sharedFormula?c.Types.Formula:d.richText?c.Types.RichText:d.sharedString?c.Types.SharedString:d.error?c.Types.Error:c.Types.JSON,types:[{t:c.Types.Null,f:class{constructor(d){this.model={address:d.address,type:c.Types.Null}}get value(){return null}set value(d){}get type(){return c.Types.Null}get effectiveType(){return c.Types.Null}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){}toString(){return""}}},{t:c.Types.Number,f:class{constructor(d,p){this.model={address:d.address,type:c.Types.Number,value:p}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return c.Types.Number}get effectiveType(){return c.Types.Number}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.String,f:class{constructor(d,p){this.model={address:d.address,type:c.Types.String,value:p}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:c.Types.Date,f:class{constructor(d,p){this.model={address:d.address,type:c.Types.Date,value:p}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return c.Types.Date}get effectiveType(){return c.Types.Date}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Hyperlink,f:class{constructor(d,p){this.model={address:d.address,type:c.Types.Hyperlink,text:p?p.text:void 0,hyperlink:p?p.hyperlink:void 0},p&&p.tooltip&&(this.model.tooltip=p.tooltip)}get value(){const d={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(d.tooltip=this.model.tooltip),d}set value(d){this.model={text:d.text,hyperlink:d.hyperlink},d.tooltip&&(this.model.tooltip=d.tooltip)}get text(){return this.model.text}set text(d){this.model.text=d}get hyperlink(){return this.model.hyperlink}set hyperlink(d){this.model.hyperlink=d}get type(){return c.Types.Hyperlink}get effectiveType(){return c.Types.Hyperlink}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:c.Types.Formula,f:class{constructor(d,p){this.cell=d,this.model={address:d.address,type:c.Types.Formula,shareType:p?p.shareType:void 0,ref:p?p.ref:void 0,formula:p?p.formula:void 0,sharedFormula:p?p.sharedFormula:void 0,result:p?p.result:void 0}}_copyModel(d){const p={},g=v=>{const f=d[v];f&&(p[v]=f)};return g("formula"),g("result"),g("ref"),g("shareType"),g("sharedFormula"),p}get value(){return this._copyModel(this.model)}set value(d){this.model=this._copyModel(d)}validate(d){switch(h.getType(d)){case c.Types.Null:case c.Types.String:case c.Types.Number:case c.Types.Date:break;case c.Types.Hyperlink:case c.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(d){this.model.formula=d}get formulaType(){return this.model.formula?a.FormulaType.Master:this.model.sharedFormula?a.FormulaType.Shared:a.FormulaType.None}get result(){return this.model.result}set result(d){this.model.result=d}get type(){return c.Types.Formula}get effectiveType(){const d=this.model.result;return d==null?a.ValueType.Null:d instanceof String||typeof d=="string"?a.ValueType.String:typeof d=="number"?a.ValueType.Number:d instanceof Date?a.ValueType.Date:d.text&&d.hyperlink?a.ValueType.Hyperlink:d.formula?a.ValueType.Formula:a.ValueType.Null}get address(){return this.model.address}set address(d){this.model.address=d}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:d}=this.cell,p=d.findCell(this.model.sharedFormula);this._translatedFormula=p&&u(p.formula,p.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:c.Types.Merge,f:class{constructor(d,p){this.model={address:d.address,type:c.Types.Merge,master:p?p.address:void 0},this._master=p,p&&p.addMergeRef()}get value(){return this._master.value}set value(d){d instanceof c?(this._master&&this._master.releaseMergeRef(),d.addMergeRef(),this._master=d):this._master.value=d}isMergedTo(d){return d===this._master}get master(){return this._master}get type(){return c.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:c.Types.JSON,f:class{constructor(d,p){this.model={address:d.address,type:c.Types.String,value:JSON.stringify(p),rawValue:p}}get value(){return this.model.rawValue}set value(d){this.model.rawValue=d,this.model.value=JSON.stringify(d)}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:c.Types.SharedString,f:class{constructor(d,p){this.model={address:d.address,type:c.Types.SharedString,value:p}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return c.Types.SharedString}get effectiveType(){return c.Types.SharedString}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.RichText,f:class{constructor(d,p){this.model={address:d.address,type:c.Types.String,value:p}}get value(){return this.model.value}set value(d){this.model.value=d}toString(){return this.model.value.richText.map(d=>d.text).join("")}get type(){return c.Types.RichText}get effectiveType(){return c.Types.RichText}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:c.Types.Boolean,f:class{constructor(d,p){this.model={address:d.address,type:c.Types.Boolean,value:p}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return c.Types.Boolean}get effectiveType(){return c.Types.Boolean}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Error,f:class{constructor(d,p){this.model={address:d.address,type:c.Types.Error,value:p}}get value(){return this.model.value}set value(d){this.model.value=d}get type(){return c.Types.Error}get effectiveType(){return c.Types.Error}get address(){return this.model.address}set address(d){this.model.address=d}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((d,p)=>(d[p.t]=p.f,d),[]),create(d,p,g){const v=this.types[d];if(!v)throw new Error("Could not create Value of type "+d);return new v(p,g)}};i.exports=c},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(r,i,s){const n=r("../utils/under-dash"),o=r("./enums"),a=r("../utils/col-cache");class u{constructor(c,h,d){this._worksheet=c,this._number=h,d!==!1&&(this.defn=d)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return a.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(c){c?(this.key=c.key,this.width=c.width!==void 0?c.width:9,this.outlineLevel=c.outlineLevel,c.style?this.style=c.style:this.style={},this.header=c.header,this._hidden=!!c.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(c){c!==void 0?(this._header=c,this.headers.forEach((h,d)=>{this._worksheet.getCell(d+1,this.number).value=h})):this._header=void 0}get key(){return this._key}set key(c){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=c,c&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(c){this._hidden=c}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(c){this._outlineLevel=c}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(c){return this.width===c.width&&this.hidden===c.hidden&&this.outlineLevel===c.outlineLevel&&n.isEqual(this.style,c.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const c=this.style;return!c||!(c.font||c.numFmt||c.alignment||c.border||c.fill||c.protection)}get headerCount(){return this.headers.length}eachCell(c,h){const d=this.number;h||(h=c,c=null),this._worksheet.eachRow(c,(p,g)=>{h(p.getCell(d),g)})}get values(){const c=[];return this.eachCell((h,d)=>{h&&h.type!==o.ValueType.Null&&(c[d]=h.value)}),c}set values(c){if(!c)return;const h=this.number;let d=0;c.hasOwnProperty("0")&&(d=1),c.forEach((p,g)=>{this._worksheet.getCell(g+d,h).value=p})}_applyStyle(c,h){return this.style[c]=h,this.eachCell(d=>{d[c]=h}),h}get numFmt(){return this.style.numFmt}set numFmt(c){this._applyStyle("numFmt",c)}get font(){return this.style.font}set font(c){this._applyStyle("font",c)}get alignment(){return this.style.alignment}set alignment(c){this._applyStyle("alignment",c)}get protection(){return this.style.protection}set protection(c){this._applyStyle("protection",c)}get border(){return this.style.border}set border(c){this._applyStyle("border",c)}get fill(){return this.style.fill}set fill(c){this._applyStyle("fill",c)}static toModel(c){const h=[];let d=null;return c&&c.forEach((p,g)=>{p.isDefault?d&&(d=null):d&&p.equivalentTo(d)?d.max=g+1:(d={min:g+1,max:g+1,width:p.width!==void 0?p.width:9,style:p.style,isCustomWidth:p.isCustomWidth,hidden:p.hidden,outlineLevel:p.outlineLevel,collapsed:p.collapsed},h.push(d))}),h.length?h:void 0}static fromModel(c,h){const d=[];let p=1,g=0;for(h=(h=h||[]).sort(function(v,f){return v.min-f.min});g<h.length;){const v=h[g++];for(;p<v.min;)d.push(new u(c,p++));for(;p<=v.max;)d.push(new u(c,p++,v))}return d.length?d:null}}i.exports=u},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(r,i,s){i.exports=class{constructor(n){this.model=n||{}}add(n,o){return this.model[n]=o}find(n){return this.model[n]}remove(n){this.model[n]=void 0}}},{}],6:[function(r,i,s){const n=r("../utils/under-dash"),o=r("../utils/col-cache"),a=r("../utils/cell-matrix"),u=r("./range"),l=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;i.exports=class{constructor(){this.matrixMap={}}getMatrix(c){return this.matrixMap[c]||(this.matrixMap[c]=new a)}add(c,h){const d=o.decodeEx(c);this.addEx(d,h)}addEx(c,h){const d=this.getMatrix(h);if(c.top)for(let p=c.left;p<=c.right;p++)for(let g=c.top;g<=c.bottom;g++){const v={sheetName:c.sheetName,address:o.n2l(p)+g,row:g,col:p};d.addCellEx(v)}else d.addCellEx(c)}remove(c,h){const d=o.decodeEx(c);this.removeEx(d,h)}removeEx(c,h){this.getMatrix(h).removeCellEx(c)}removeAllNames(c){n.each(this.matrixMap,h=>{h.removeCellEx(c)})}forEach(c){n.each(this.matrixMap,(h,d)=>{h.forEach(p=>{c(d,p)})})}getNames(c){return this.getNamesEx(o.decodeEx(c))}getNamesEx(c){return n.map(this.matrixMap,(h,d)=>h.findCellEx(c)&&d).filter(Boolean)}_explore(c,h){h.mark=!1;const{sheetName:d}=h,p=new u(h.row,h.col,h.row,h.col,d);let g,v;function f(m,w){const _=c.findCellAt(d,m,h.col);return!(!_||!_.mark)&&(p[w]=m,_.mark=!1,!0)}for(v=h.row-1;f(v,"top");v--);for(v=h.row+1;f(v,"bottom");v++);function y(m,w){const _=[];for(v=p.top;v<=p.bottom;v++){const A=c.findCellAt(d,v,m);if(!A||!A.mark)return!1;_.push(A)}p[w]=m;for(let A=0;A<_.length;A++)_[A].mark=!1;return!0}for(g=h.col-1;y(g,"left");g--);for(g=h.col+1;y(g,"right");g++);return p}getRanges(c,h){return(h=h||this.matrixMap[c])?(h.forEach(d=>{d.mark=!0}),{name:c,ranges:h.map(d=>d.mark&&this._explore(h,d)).filter(Boolean).map(d=>d.$shortRange)}):{name:c,ranges:[]}}normaliseMatrix(c,h){c.forEachInSheet(h,(d,p,g)=>{d&&(d.row===p&&d.col===g||(d.row=p,d.col=g,d.address=o.n2l(g)+p))})}spliceRows(c,h,d,p){n.each(this.matrixMap,g=>{g.spliceRows(c,h,d,p),this.normaliseMatrix(g,c)})}spliceColumns(c,h,d,p){n.each(this.matrixMap,g=>{g.spliceColumns(c,h,d,p),this.normaliseMatrix(g,c)})}get model(){return n.map(this.matrixMap,(c,h)=>this.getRanges(h,c)).filter(c=>c.ranges.length)}set model(c){const h=this.matrixMap={};c.forEach(d=>{const p=h[d.name]=new a;d.ranges.forEach(g=>{l.test(g.split("!").pop()||"")&&p.addCell(g)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(r,i,s){i.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(r,i,s){const n=r("../utils/col-cache"),o=r("./anchor");i.exports=class{constructor(a,u){this.worksheet=a,this.model=u}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(a){let{type:u,imageId:l,range:c,hyperlinks:h}=a;if(this.type=u,this.imageId=l,u==="image")if(typeof c=="string"){const d=n.decode(c);this.range={tl:new o(this.worksheet,{col:d.left,row:d.top},-1),br:new o(this.worksheet,{col:d.right,row:d.bottom},0),editAs:"oneCell"}}else this.range={tl:new o(this.worksheet,c.tl,0),br:c.br&&new o(this.worksheet,c.br,0),ext:c.ext,editAs:c.editAs,hyperlinks:h||c.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(r,i,s){const n=r("../utils/under-dash");class o{constructor(u){this.note=u}get model(){let u=null;switch(typeof this.note){case"string":u={type:"note",note:{texts:[{text:this.note}]}};break;default:u={type:"note",note:this.note}}return n.deepMerge({},o.DEFAULT_CONFIGS,u)}set model(u){const{note:l}=u,{texts:c}=l;c.length===1&&Object.keys(c[0]).length===1?this.note=c[0].text:this.note=l}static fromModel(u){const l=new o;return l.model=u,l}}o.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},i.exports=o},{"../utils/under-dash":26}],10:[function(r,i,s){const n=r("../utils/col-cache");class o{constructor(){this.decode(arguments)}setTLBR(u,l,c,h,d){if(arguments.length<4){const p=n.decodeAddress(u),g=n.decodeAddress(l);this.model={top:Math.min(p.row,g.row),left:Math.min(p.col,g.col),bottom:Math.max(p.row,g.row),right:Math.max(p.col,g.col),sheetName:c},this.setTLBR(p.row,p.col,g.row,g.col,d)}else this.model={top:Math.min(u,c),left:Math.min(l,h),bottom:Math.max(u,c),right:Math.max(l,h),sheetName:d}}decode(u){switch(u.length){case 5:this.setTLBR(u[0],u[1],u[2],u[3],u[4]);break;case 4:this.setTLBR(u[0],u[1],u[2],u[3]);break;case 3:this.setTLBR(u[0],u[1],u[2]);break;case 2:this.setTLBR(u[0],u[1]);break;case 1:{const l=u[0];if(l instanceof o)this.model={top:l.model.top,left:l.model.left,bottom:l.model.bottom,right:l.model.right,sheetName:l.sheetName};else if(l instanceof Array)this.decode(l);else if(l.top&&l.left&&l.bottom&&l.right)this.model={top:l.top,left:l.left,bottom:l.bottom,right:l.right,sheetName:l.sheetName};else{const c=n.decodeEx(l);c.top?this.model={top:c.top,left:c.left,bottom:c.bottom,right:c.right,sheetName:c.sheetName}:this.model={top:c.row,left:c.col,bottom:c.row,right:c.col,sheetName:c.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+u.length)}}get top(){return this.model.top||1}set top(u){this.model.top=u}get left(){return this.model.left||1}set left(u){this.model.left=u}get bottom(){return this.model.bottom||1}set bottom(u){this.model.bottom=u}get right(){return this.model.right||1}set right(u){this.model.right=u}get sheetName(){return this.model.sheetName}set sheetName(u){this.model.sheetName=u}get _serialisedSheetName(){const{sheetName:u}=this.model;return u?/^[a-zA-Z0-9]*$/.test(u)?u+"!":`'${u}'!`:""}expand(u,l,c,h){(!this.model.top||u<this.top)&&(this.top=u),(!this.model.left||l<this.left)&&(this.left=l),(!this.model.bottom||c>this.bottom)&&(this.bottom=c),(!this.model.right||h>this.right)&&(this.right=h)}expandRow(u){if(u){const{dimensions:l,number:c}=u;l&&this.expand(c,l.min,c,l.max)}}expandToAddress(u){const l=n.decodeEx(u);this.expand(l.row,l.col,l.row,l.col)}get tl(){return n.n2l(this.left)+this.top}get $t$l(){return`$${n.n2l(this.left)}$${this.top}`}get br(){return n.n2l(this.right)+this.bottom}get $b$r(){return`$${n.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(u){return(!u.sheetName||!this.sheetName||u.sheetName===this.sheetName)&&!(u.bottom<this.top)&&!(u.top>this.bottom)&&!(u.right<this.left)&&!(u.left>this.right)}contains(u){const l=n.decodeEx(u);return this.containsEx(l)}containsEx(u){return(!u.sheetName||!this.sheetName||u.sheetName===this.sheetName)&&u.row>=this.top&&u.row<=this.bottom&&u.col>=this.left&&u.col<=this.right}forEachAddress(u){for(let l=this.left;l<=this.right;l++)for(let c=this.top;c<=this.bottom;c++)u(n.encodeAddress(c,l),c,l)}}i.exports=o},{"../utils/col-cache":19}],11:[function(r,i,s){const n=r("../utils/under-dash"),o=r("./enums"),a=r("../utils/col-cache"),u=r("./cell");i.exports=class{constructor(l,c){this._worksheet=l,this._number=c,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(l){return this._cells[l-1]}getCellEx(l){let c=this._cells[l.col-1];if(!c){const h=this._worksheet.getColumn(l.col);c=new u(this,h,l.address),this._cells[l.col-1]=c}return c}getCell(l){if(typeof l=="string"){const c=this._worksheet.getColumnKey(l);l=c?c.number:a.l2n(l)}return this._cells[l-1]||this.getCellEx({address:a.encodeAddress(this._number,l),row:this._number,col:l})}splice(l,c){const h=l+c;for(var d=arguments.length,p=new Array(d>2?d-2:0),g=2;g<d;g++)p[g-2]=arguments[g];const v=p.length-c,f=this._cells.length;let y,m,w;if(v<0)for(y=l+p.length;y<=f;y++)w=this._cells[y-1],m=this._cells[y-v-1],m?(w=this.getCell(y),w.value=m.value,w.style=m.style,w._comment=m._comment):w&&(w.value=null,w.style={},w._comment=void 0);else if(v>0)for(y=f;y>=h;y--)m=this._cells[y-1],m?(w=this.getCell(y+v),w.value=m.value,w.style=m.style,w._comment=m._comment):this._cells[y+v-1]=void 0;for(y=0;y<p.length;y++)w=this.getCell(l+y),w.value=p[y],w.style={},w._comment=void 0}eachCell(l,c){if(c||(c=l,l=null),l&&l.includeEmpty){const h=this._cells.length;for(let d=1;d<=h;d++)c(this.getCell(d),d)}else this._cells.forEach((h,d)=>{h&&h.type!==o.ValueType.Null&&c(h,d+1)})}addPageBreak(l,c){const h=this._worksheet,d=Math.max(0,l-1)||0,p=Math.max(0,c-1)||16838,g={id:this._number,max:p,man:1};d&&(g.min=d),h.rowBreaks.push(g)}get values(){const l=[];return this._cells.forEach(c=>{c&&c.type!==o.ValueType.Null&&(l[c.col]=c.value)}),l}set values(l){if(this._cells=[],l)if(l instanceof Array){let c=0;l.hasOwnProperty("0")&&(c=1),l.forEach((h,d)=>{h!==void 0&&(this.getCellEx({address:a.encodeAddress(this._number,d+c),row:this._number,col:d+c}).value=h)})}else this._worksheet.eachColumnKey((c,h)=>{l[h]!==void 0&&(this.getCellEx({address:a.encodeAddress(this._number,c.number),row:this._number,col:c.number}).value=l[h])})}get hasValues(){return n.some(this._cells,l=>l&&l.type!==o.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let l=0;return this.eachCell(()=>{l++}),l}get dimensions(){let l=0,c=0;return this._cells.forEach(h=>{h&&h.type!==o.ValueType.Null&&((!l||l>h.col)&&(l=h.col),c<h.col&&(c=h.col))}),l>0?{min:l,max:c}:null}_applyStyle(l,c){return this.style[l]=c,this._cells.forEach(h=>{h&&(h[l]=c)}),c}get numFmt(){return this.style.numFmt}set numFmt(l){this._applyStyle("numFmt",l)}get font(){return this.style.font}set font(l){this._applyStyle("font",l)}get alignment(){return this.style.alignment}set alignment(l){this._applyStyle("alignment",l)}get protection(){return this.style.protection}set protection(l){this._applyStyle("protection",l)}get border(){return this.style.border}set border(l){this._applyStyle("border",l)}get fill(){return this.style.fill}set fill(l){this._applyStyle("fill",l)}get hidden(){return!!this._hidden}set hidden(l){this._hidden=l}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(l){this._outlineLevel=l}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const l=[];let c=0,h=0;return this._cells.forEach(d=>{if(d){const p=d.model;p&&((!c||c>d.col)&&(c=d.col),h<d.col&&(h=d.col),l.push(p))}}),this.height||l.length?{cells:l,number:this.number,min:c,max:h,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(l){if(l.number!==this._number)throw new Error("Invalid row number in model");let c;this._cells=[],l.cells.forEach(h=>{switch(h.type){case u.Types.Merge:break;default:{let d;if(h.address)d=a.decodeAddress(h.address);else if(c){const{row:p}=c,g=c.col+1;d={row:p,col:g,address:a.encodeAddress(p,g),$col$row:`$${a.n2l(g)}$${p}`}}c=d,this.getCellEx(d).model=h;break}}}),l.height?this.height=l.height:delete this.height,this.hidden=l.hidden,this.outlineLevel=l.outlineLevel||0,this.style=l.style&&JSON.parse(JSON.stringify(l.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(r,i,s){const n=r("../utils/col-cache");class o{constructor(u,l,c){this.table=u,this.column=l,this.index=c}_set(u,l){this.table.cacheState(),this.column[u]=l}get name(){return this.column.name}set name(u){this._set("name",u)}get filterButton(){return this.column.filterButton}set filterButton(u){this.column.filterButton=u}get style(){return this.column.style}set style(u){this.column.style=u}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(u){this._set("totalsRowLabel",u)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(u){this._set("totalsRowFunction",u)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(u){this._set("totalsRowResult",u)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(u){this._set("totalsRowFormula",u)}}i.exports=class{constructor(a,u){this.worksheet=a,u&&(this.table=u,this.validate(),this.store())}getFormula(a){switch(a.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${a.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${a.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${a.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${a.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${a.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${a.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${a.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${a.name}])`;case"custom":return a.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+a.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:a}=this,u=(v,f,y)=>{v[f]===void 0&&(v[f]=y)};u(a,"headerRow",!0),u(a,"totalsRow",!1),u(a,"style",{}),u(a.style,"theme","TableStyleMedium2"),u(a.style,"showFirstColumn",!1),u(a.style,"showLastColumn",!1),u(a.style,"showRowStripes",!1),u(a.style,"showColumnStripes",!1);const l=(v,f)=>{if(!v)throw new Error(f)};l(a.ref,"Table must have ref"),l(a.columns,"Table must have column definitions"),l(a.rows,"Table must have row definitions"),a.tl=n.decodeAddress(a.ref);const{row:c,col:h}=a.tl;l(c>0,"Table must be on valid row"),l(h>0,"Table must be on valid col");const{width:d,filterHeight:p,tableHeight:g}=this;a.autoFilterRef=n.encode(c,h,c+p-1,h+d-1),a.tableRef=n.encode(c,h,c+g-1,h+d-1),a.columns.forEach((v,f)=>{l(v.name,`Column ${f} must have a name`),f===0?u(v,"totalsRowLabel","Total"):(u(v,"totalsRowFunction","none"),v.totalsRowFormula=this.getFormula(v))})}store(){const a=(p,g)=>{g&&Object.keys(g).forEach(v=>{p[v]=g[v]})},{worksheet:u,table:l}=this,{row:c,col:h}=l.tl;let d=0;if(l.headerRow){const p=u.getRow(c+d++);l.columns.forEach((g,v)=>{const{style:f,name:y}=g,m=p.getCell(h+v);m.value=y,a(m,f)})}if(l.rows.forEach(p=>{const g=u.getRow(c+d++);p.forEach((v,f)=>{const y=g.getCell(h+f);y.value=v,a(y,l.columns[f].style)})}),l.totalsRow){const p=u.getRow(c+d++);l.columns.forEach((g,v)=>{const f=p.getCell(h+v);if(v===0)f.value=g.totalsRowLabel;else{const y=this.getFormula(g);f.value=y?{formula:g.totalsRowFormula,result:g.totalsRowResult}:null}a(f,g.style)})}}load(a){const{table:u}=this,{row:l,col:c}=u.tl;let h=0;if(u.headerRow){const d=a.getRow(l+h++);u.columns.forEach((p,g)=>{d.getCell(c+g).value=p.name})}if(u.rows.forEach(d=>{const p=a.getRow(l+h++);d.forEach((g,v)=>{p.getCell(c+v).value=g})}),u.totalsRow){const d=a.getRow(l+h++);u.columns.forEach((p,g)=>{const v=d.getCell(c+g);g===0?v.value=p.totalsRowLabel:this.getFormula(p)&&(v.value={formula:p.totalsRowFormula,result:p.totalsRowResult})})}}get model(){return this.table}set model(a){this.table=a}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const a=n.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let u=0;u<this._cache.tableHeight;u++){const l=this.worksheet.getRow(a.row+u);for(let c=0;c<this._cache.width;c++)l.getCell(a.col+c).value=null}else{for(let u=this.tableHeight;u<this._cache.tableHeight;u++){const l=this.worksheet.getRow(a.row+u);for(let c=0;c<this._cache.width;c++)l.getCell(a.col+c).value=null}for(let u=0;u<this.tableHeight;u++){const l=this.worksheet.getRow(a.row+u);for(let c=this.width;c<this._cache.width;c++)l.getCell(a.col+c).value=null}}this.store()}addRow(a,u){this.cacheState(),u===void 0?this.table.rows.push(a):this.table.rows.splice(u,0,a)}removeRows(a){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(a,u)}getColumn(a){const u=this.table.columns[a];return new o(this,u,a)}addColumn(a,u,l){this.cacheState(),l===void 0?(this.table.columns.push(a),this.table.rows.forEach((c,h)=>{c.push(u[h])})):(this.table.columns.splice(l,0,a),this.table.rows.forEach((c,h)=>{c.splice(l,0,u[h])}))}removeColumns(a){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(a,u),this.table.rows.forEach(l=>{l.splice(a,u)})}_assign(a,u,l){this.cacheState(),a[u]=l}get ref(){return this.table.ref}set ref(a){this._assign(this.table,"ref",a)}get name(){return this.table.name}set name(a){this.table.name=a}get displayName(){return this.table.displyName||this.table.name}set displayNamename(a){this.table.displayName=a}get headerRow(){return this.table.headerRow}set headerRow(a){this._assign(this.table,"headerRow",a)}get totalsRow(){return this.table.totalsRow}set totalsRow(a){this._assign(this.table,"totalsRow",a)}get theme(){return this.table.style.name}set theme(a){this.table.style.name=a}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(a){this.table.style.showFirstColumn=a}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(a){this.table.style.showLastColumn=a}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(a){this.table.style.showRowStripes=a}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(a){this.table.style.showColumnStripes=a}}},{"../utils/col-cache":19}],13:[function(r,i,s){const n=r("./worksheet"),o=r("./defined-names"),a=r("../xlsx/xlsx"),u=r("../csv/csv");i.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new o}get xlsx(){return this._xlsx||(this._xlsx=new a(this)),this._xlsx}get csv(){return this._csv||(this._csv=new u(this)),this._csv}get nextId(){for(let l=1;l<this._worksheets.length;l++)if(!this._worksheets[l])return l;return this._worksheets.length||1}addWorksheet(l,c){const h=this.nextId;c&&(typeof c=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),c={properties:{tabColor:{argb:c}}}):(c.argb||c.theme||c.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),c={properties:{tabColor:c}}));const d=this._worksheets.reduce((v,f)=>(f&&f.orderNo)>v?f.orderNo:v,0),p=Object.assign({},c,{id:h,name:l,orderNo:d+1,workbook:this}),g=new n(p);return this._worksheets[h]=g,g}removeWorksheetEx(l){delete this._worksheets[l.id]}removeWorksheet(l){const c=this.getWorksheet(l);c&&c.destroy()}getWorksheet(l){return l===void 0?this._worksheets.find(Boolean):typeof l=="number"?this._worksheets[l]:typeof l=="string"?this._worksheets.find(c=>c&&c.name===l):void 0}get worksheets(){return this._worksheets.slice(1).sort((l,c)=>l.orderNo-c.orderNo).filter(Boolean)}eachSheet(l){this.worksheets.forEach(c=>{l(c,c.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(l){const c=this.media.length;return this.media.push(Object.assign({},l,{type:"image"})),c}getImage(l){return this.media[l]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(l=>l.model),sheets:this.worksheets.map(l=>l.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(l){this.creator=l.creator,this.lastModifiedBy=l.lastModifiedBy,this.lastPrinted=l.lastPrinted,this.created=l.created,this.modified=l.modified,this.company=l.company,this.manager=l.manager,this.title=l.title,this.subject=l.subject,this.keywords=l.keywords,this.category=l.category,this.description=l.description,this.language=l.language,this.revision=l.revision,this.contentStatus=l.contentStatus,this.properties=l.properties,this.calcProperties=l.calcProperties,this._worksheets=[],l.worksheets.forEach(c=>{const{id:h,name:d,state:p}=c,g=l.sheets&&l.sheets.findIndex(v=>v.id===h);(this._worksheets[h]=new n({id:h,name:d,orderNo:g,state:p,workbook:this})).model=c}),this._definedNames.model=l.definedNames,this.views=l.views,this._themes=l.themes,this.media=l.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(r,i,s){const n=r("../utils/under-dash"),o=r("../utils/col-cache"),a=r("./range"),u=r("./row"),l=r("./column"),c=r("./enums"),h=r("./image"),d=r("./table"),p=r("./data-validations"),g=r("../utils/encryptor"),{copyStyle:v}=r("../utils/copy-style");i.exports=class{constructor(f){f=f||{},this._workbook=f.workbook,this.id=f.id,this.orderNo=f.orderNo,this.name=f.name,this.state=f.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},f.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!f.pageSetup||!f.pageSetup.fitToWidth&&!f.pageSetup.fitToHeight||f.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},f.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},f.headerFooter),this.dataValidations=new p,this.views=f.views||[],this.autoFilter=f.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(f){if(f===void 0&&(f="sheet"+this.id),this._name!==f){if(typeof f!="string")throw new Error("The name has to be a string.");if(f==="")throw new Error("The name can't be empty.");if(f==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(f))throw new Error(`Worksheet name ${f} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(f))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+f);if(f&&f.length>31&&(console.warn(`Worksheet name ${f} exceeds 31 chars. This will be truncated`),f=f.substring(0,31)),this._workbook._worksheets.find(y=>y&&y.name.toLowerCase()===f.toLowerCase()))throw new Error("Worksheet name already exists: "+f);this._name=f}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const f=new a;return this._rows.forEach(y=>{if(y){const m=y.dimensions;m&&f.expand(y.number,m.min,y.number,m.max)}}),f}get columns(){return this._columns}set columns(f){this._headerRowCount=f.reduce((w,_)=>{const A=(_.header?1:_.headers&&_.headers.length)||0;return Math.max(w,A)},0);let y=1;const m=this._columns=[];f.forEach(w=>{const _=new l(this,y++,!1);m.push(_),_.defn=w})}getColumnKey(f){return this._keys[f]}setColumnKey(f,y){this._keys[f]=y}deleteColumnKey(f){delete this._keys[f]}eachColumnKey(f){n.each(this._keys,f)}getColumn(f){if(typeof f=="string"){const y=this._keys[f];if(y)return y;f=o.l2n(f)}if(this._columns||(this._columns=[]),f>this._columns.length){let y=this._columns.length+1;for(;y<=f;)this._columns.push(new l(this,y++))}return this._columns[f-1]}spliceColumns(f,y){const m=this._rows.length;for(var w=arguments.length,_=new Array(w>2?w-2:0),A=2;A<w;A++)_[A-2]=arguments[A];if(_.length>0)for(let O=0;O<m;O++){const V=[f,y];_.forEach(H=>{V.push(H[O]||null)});const z=this.getRow(O+1);z.splice.apply(z,V)}else this._rows.forEach(O=>{O&&O.splice(f,y)});const F=_.length-y,G=f+y,L=this._columns.length;if(F<0)for(let O=f+_.length;O<=L;O++)this.getColumn(O).defn=this.getColumn(O-F).defn;else if(F>0)for(let O=L;O>=G;O--)this.getColumn(O+F).defn=this.getColumn(O).defn;for(let O=f;O<f+_.length;O++)this.getColumn(O).defn=null;this.workbook.definedNames.spliceColumns(this.name,f,y,_.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let f=0;return this.eachRow(y=>{f=Math.max(f,y.cellCount)}),f}get actualColumnCount(){const f=[];let y=0;return this.eachRow(m=>{m.eachCell(w=>{let{col:_}=w;f[_]||(f[_]=!0,y++)})}),y}_commitRow(){}get _lastRowNumber(){const f=this._rows;let y=f.length;for(;y>0&&f[y-1]===void 0;)y--;return y}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(f){return this._rows[f-1]}findRows(f,y){return this._rows.slice(f-1,f-1+y)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let f=0;return this.eachRow(()=>{f++}),f}getRow(f){let y=this._rows[f-1];return y||(y=this._rows[f-1]=new u(this,f)),y}getRows(f,y){if(y<1)return;const m=[];for(let w=f;w<f+y;w++)m.push(this.getRow(w));return m}addRow(f){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const m=this._nextRow,w=this.getRow(m);return w.values=f,this._setStyleOption(m,y[0]==="i"?y:"n"),w}addRows(f){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const m=[];return f.forEach(w=>{m.push(this.addRow(w,y))}),m}insertRow(f,y){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(f,0,y),this._setStyleOption(f,m),this.getRow(f)}insertRows(f,y){let m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(f,0,...y),m!=="n")for(let w=0;w<y.length;w++)m[0]==="o"&&this.findRow(y.length+f+w)!==void 0?this._copyStyle(y.length+f+w,f+w,m[1]==="+"):m[0]==="i"&&this.findRow(f-1)!==void 0&&this._copyStyle(f-1,f+w,m[1]==="+");return this.getRows(f,y.length)}_setStyleOption(f){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";y[0]==="o"&&this.findRow(f+1)!==void 0?this._copyStyle(f+1,f,y[1]==="+"):y[0]==="i"&&this.findRow(f-1)!==void 0&&this._copyStyle(f-1,f,y[1]==="+")}_copyStyle(f,y){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const w=this.getRow(f),_=this.getRow(y);_.style=v(w.style),w.eachCell({includeEmpty:m},(A,F)=>{_.getCell(F).style=v(A.style)}),_.height=w.height}duplicateRow(f,y){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const w=this._rows[f-1],_=new Array(y).fill(w.values);this.spliceRows(f+1,m?0:y,..._);for(let A=0;A<y;A++){const F=this._rows[f+A];F.style=w.style,F.height=w.height,w.eachCell({includeEmpty:!0},(G,L)=>{F.getCell(L).style=G.style})}}spliceRows(f,y){const m=f+y;for(var w=arguments.length,_=new Array(w>2?w-2:0),A=2;A<w;A++)_[A-2]=arguments[A];const F=_.length,G=F-y,L=this._rows.length;let O,V;if(G<0)for(f===L&&(this._rows[L-1]=void 0),O=m;O<=L;O++)if(V=this._rows[O-1],V){const z=this.getRow(O+G);z.values=V.values,z.style=V.style,z.height=V.height,V.eachCell({includeEmpty:!0},(H,T)=>{z.getCell(T).style=H.style}),this._rows[O-1]=void 0}else this._rows[O+G-1]=void 0;else if(G>0)for(O=L;O>=m;O--)if(V=this._rows[O-1],V){const z=this.getRow(O+G);z.values=V.values,z.style=V.style,z.height=V.height,V.eachCell({includeEmpty:!0},(H,T)=>{if(z.getCell(T).style=H.style,H._value.constructor.name==="MergeValue"){const M=this.getRow(H._row._number+F).getCell(T),x=H._value._master,C=this.getRow(x._row._number+F).getCell(x._column._number);M.merge(C)}})}else this._rows[O+G-1]=void 0;for(O=0;O<F;O++){const z=this.getRow(f+O);z.style={},z.values=_[O]}this.workbook.definedNames.spliceRows(this.name,f,y,F)}eachRow(f,y){if(y||(y=f,f=void 0),f&&f.includeEmpty){const m=this._rows.length;for(let w=1;w<=m;w++)y(this.getRow(w),w)}else this._rows.forEach(m=>{m&&m.hasValues&&y(m,m.number)})}getSheetValues(){const f=[];return this._rows.forEach(y=>{y&&(f[y.number]=y.values)}),f}findCell(f,y){const m=o.getAddress(f,y),w=this._rows[m.row-1];return w?w.findCell(m.col):void 0}getCell(f,y){const m=o.getAddress(f,y);return this.getRow(m.row).getCellEx(m)}mergeCells(){for(var f=arguments.length,y=new Array(f),m=0;m<f;m++)y[m]=arguments[m];const w=new a(y);this._mergeCellsInternal(w)}mergeCellsWithoutStyle(){for(var f=arguments.length,y=new Array(f),m=0;m<f;m++)y[m]=arguments[m];const w=new a(y);this._mergeCellsInternal(w,!0)}_mergeCellsInternal(f,y){n.each(this._merges,w=>{if(w.intersects(f))throw new Error("Cannot merge already merged cells")});const m=this.getCell(f.top,f.left);for(let w=f.top;w<=f.bottom;w++)for(let _=f.left;_<=f.right;_++)(w>f.top||_>f.left)&&this.getCell(w,_).merge(m,y);this._merges[m.address]=f}_unMergeMaster(f){const y=this._merges[f.address];if(y){for(let m=y.top;m<=y.bottom;m++)for(let w=y.left;w<=y.right;w++)this.getCell(m,w).unmerge();delete this._merges[f.address]}}get hasMerges(){return n.some(this._merges,Boolean)}unMergeCells(){for(var f=arguments.length,y=new Array(f),m=0;m<f;m++)y[m]=arguments[m];const w=new a(y);for(let _=w.top;_<=w.bottom;_++)for(let A=w.left;A<=w.right;A++){const F=this.findCell(_,A);F&&(F.type===c.ValueType.Merge?this._unMergeMaster(F.master):this._merges[F.address]&&this._unMergeMaster(F))}}fillFormula(f,y,m){let w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const _=o.decode(f),{top:A,left:F,bottom:G,right:L}=_,O=L-F+1,V=o.encodeAddress(A,F),z=w==="shared";let H;H=typeof m=="function"?m:Array.isArray(m)?Array.isArray(m[0])?(M,x)=>m[M-A][x-F]:(M,x)=>m[(M-A)*O+(x-F)]:()=>{};let T=!0;for(let M=A;M<=G;M++)for(let x=F;x<=L;x++)T?(this.getCell(M,x).value={shareType:w,formula:y,ref:f,result:H(M,x)},T=!1):this.getCell(M,x).value=z?{sharedFormula:V,result:H(M,x)}:H(M,x)}addImage(f,y){const m={type:"image",imageId:f,range:y};this._media.push(new h(this,m))}getImages(){return this._media.filter(f=>f.type==="image")}addBackgroundImage(f){const y={type:"background",imageId:f};this._media.push(new h(this,y))}getBackgroundImageId(){const f=this._media.find(y=>y.type==="background");return f&&f.imageId}protect(f,y){return new Promise(m=>{this.sheetProtection={sheet:!0},y&&"spinCount"in y&&(y.spinCount=Number.isFinite(y.spinCount)?Math.round(Math.max(0,y.spinCount)):1e5),f&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=g.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=y&&"spinCount"in y?y.spinCount:1e5,this.sheetProtection.hashValue=g.convertPasswordToHash(f,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),y&&(this.sheetProtection=Object.assign(this.sheetProtection,y),!f&&"spinCount"in y&&delete this.sheetProtection.spinCount),m()})}unprotect(){this.sheetProtection=null}addTable(f){const y=new d(this,f);return this.tables[f.name]=y,y}getTable(f){return this.tables[f]}removeTable(f){delete this.tables[f]}getTables(){return Object.values(this.tables)}addConditionalFormatting(f){this.conditionalFormattings.push(f)}removeConditionalFormatting(f){typeof f=="number"?this.conditionalFormattings.splice(f,1):this.conditionalFormattings=f instanceof Function?this.conditionalFormattings.filter(f):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(f){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=f}get model(){const f={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(w=>w.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(w=>w.model),conditionalFormattings:this.conditionalFormattings};f.cols=l.toModel(this.columns);const y=f.rows=[],m=f.dimensions=new a;return this._rows.forEach(w=>{const _=w&&w.model;_&&(m.expand(_.number,_.min,_.number,_.max),y.push(_))}),f.merges=[],n.each(this._merges,w=>{f.merges.push(w.range)}),f}_parseRows(f){this._rows=[],f.rows.forEach(y=>{const m=new u(this,y.number);this._rows[m.number-1]=m,m.model=y})}_parseMergeCells(f){n.each(f.mergeCells,y=>{this.mergeCellsWithoutStyle(y)})}set model(f){this.name=f.name,this._columns=l.fromModel(this,f.cols),this._parseRows(f),this._parseMergeCells(f),this.dataValidations=new p(f.dataValidations),this.properties=f.properties,this.pageSetup=f.pageSetup,this.headerFooter=f.headerFooter,this.views=f.views,this.autoFilter=f.autoFilter,this._media=f.media.map(y=>new h(this,y)),this.sheetProtection=f.sheetProtection,this.tables=f.tables.reduce((y,m)=>{const w=new d;return w.model=m,y[m.name]=w,y},{}),this.conditionalFormattings=f.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(r,i,s){r("core-js/modules/es.promise"),r("core-js/modules/es.promise.finally"),r("core-js/modules/es.object.assign"),r("core-js/modules/es.object.keys"),r("core-js/modules/es.object.values"),r("core-js/modules/es.symbol"),r("core-js/modules/es.symbol.async-iterator"),r("core-js/modules/es.array.iterator"),r("core-js/modules/es.array.includes"),r("core-js/modules/es.array.find-index"),r("core-js/modules/es.array.find"),r("core-js/modules/es.string.from-code-point"),r("core-js/modules/es.string.includes"),r("core-js/modules/es.number.is-nan"),r("regenerator-runtime/runtime");const n={Workbook:r("./doc/workbook")},o=r("./doc/enums");Object.keys(o).forEach(a=>{n[a]=o[a]}),i.exports=n},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(r,i,s){const n=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");s.bufferToString=function(o){return typeof o=="string"?o:n?n.decode(o):o.toString()}},{}],17:[function(r,i,s){const n=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:o}=r("buffer");s.stringToBuffer=function(a){return typeof a!="string"?a:n?o.from(n.encode(a).buffer):o.from(a)}},{buffer:220}],18:[function(r,i,s){const n=r("./under-dash"),o=r("./col-cache");i.exports=class{constructor(a){this.template=a,this.sheets={}}addCell(a){this.addCellEx(o.decodeEx(a))}getCell(a){return this.findCellEx(o.decodeEx(a),!0)}findCell(a){return this.findCellEx(o.decodeEx(a),!1)}findCellAt(a,u,l){const c=this.sheets[a],h=c&&c[u];return h&&h[l]}addCellEx(a){if(a.top)for(let u=a.top;u<=a.bottom;u++)for(let l=a.left;l<=a.right;l++)this.getCellAt(a.sheetName,u,l);else this.findCellEx(a,!0)}getCellEx(a){return this.findCellEx(a,!0)}findCellEx(a,u){const l=this.findSheet(a,u),c=this.findSheetRow(l,a,u);return this.findRowCell(c,a,u)}getCellAt(a,u,l){const c=this.sheets[a]||(this.sheets[a]=[]),h=c[u]||(c[u]=[]);return h[l]||(h[l]={sheetName:a,address:o.n2l(l)+u,row:u,col:l})}removeCellEx(a){const u=this.findSheet(a);if(!u)return;const l=this.findSheetRow(u,a);l&&delete l[a.col]}forEachInSheet(a,u){const l=this.sheets[a];l&&l.forEach((c,h)=>{c&&c.forEach((d,p)=>{d&&u(d,h,p)})})}forEach(a){n.each(this.sheets,(u,l)=>{this.forEachInSheet(l,a)})}map(a){const u=[];return this.forEach(l=>{u.push(a(l))}),u}findSheet(a,u){const l=a.sheetName;return this.sheets[l]?this.sheets[l]:u?this.sheets[l]=[]:void 0}findSheetRow(a,u,l){const{row:c}=u;return a&&a[c]?a[c]:l?a[c]=[]:void 0}findRowCell(a,u,l){const{col:c}=u;return a&&a[c]?a[c]:l?a[c]=this.template?Object.assign(u,JSON.parse(JSON.stringify(this.template))):u:void 0}spliceRows(a,u,l,c){const h=this.sheets[a];if(h){const d=[];for(let p=0;p<c;p++)d.push([]);h.splice(u,l,...d)}}spliceColumns(a,u,l,c){const h=this.sheets[a];if(h){const d=[];for(let p=0;p<c;p++)d.push(null);n.each(h,p=>{p.splice(u,l,...d)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(r,i,s){const n=/^[A-Z]+\d+$/,o={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:a=>a<=26?1:a<=676?2:3,_fill(a){let u,l,c,h,d,p=1;if(a>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&a>=1){for(;p<=26;)u=this._dictionary[p-1],this._n2l[p]=u,this._l2n[u]=p,p++;this._l2nFill=1}if(this._l2nFill<2&&a>=2){for(p=27;p<=702;)l=p-27,c=l%26,h=Math.floor(l/26),u=this._dictionary[h]+this._dictionary[c],this._n2l[p]=u,this._l2n[u]=p,p++;this._l2nFill=2}if(this._l2nFill<3&&a>=3){for(p=703;p<=16384;)l=p-703,c=l%26,h=Math.floor(l/26)%26,d=Math.floor(l/676),u=this._dictionary[d]+this._dictionary[h]+this._dictionary[c],this._n2l[p]=u,this._l2n[u]=p,p++;this._l2nFill=3}},l2n(a){if(this._l2n[a]||this._fill(a.length),!this._l2n[a])throw new Error("Out of bounds. Invalid column letter: "+a);return this._l2n[a]},n2l(a){if(a<1||a>16384)throw new Error(a+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[a]||this._fill(this._level(a)),this._n2l[a]},_hash:{},validateAddress(a){if(!n.test(a))throw new Error("Invalid Address: "+a);return!0},decodeAddress(a){const u=a.length<5&&this._hash[a];if(u)return u;let l=!1,c="",h=0,d=!1,p="",g=0;for(let f,y=0;y<a.length;y++)if(f=a.charCodeAt(y),!d&&f>=65&&f<=90)l=!0,c+=a[y],h=26*h+f-64;else if(f>=48&&f<=57)d=!0,p+=a[y],g=10*g+f-48;else if(d&&l&&f!==36)break;if(l){if(h>16384)throw new Error("Out of bounds. Invalid column letter: "+c)}else h=void 0;d||(g=void 0);const v={address:a=c+p,col:h,row:g,$col$row:`$${c}$${p}`};return h<=100&&g<=100&&(this._hash[a]=v,this._hash[v.$col$row]=v),v},getAddress(a,u){if(u){const l=this.n2l(u)+a;return this.decodeAddress(l)}return this.decodeAddress(a)},decode(a){const u=a.split(":");if(u.length===2){const l=this.decodeAddress(u[0]),c=this.decodeAddress(u[1]),h={top:Math.min(l.row,c.row),left:Math.min(l.col,c.col),bottom:Math.max(l.row,c.row),right:Math.max(l.col,c.col)};return h.tl=this.n2l(h.left)+h.top,h.br=this.n2l(h.right)+h.bottom,h.dimensions=`${h.tl}:${h.br}`,h}return this.decodeAddress(a)},decodeEx(a){const u=a.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),l=u[1]||u[2],c=u[3],h=c.split(":");if(h.length>1){let p=this.decodeAddress(h[0]),g=this.decodeAddress(h[1]);const v=Math.min(p.row,g.row),f=Math.min(p.col,g.col),y=Math.max(p.row,g.row),m=Math.max(p.col,g.col);return p=this.n2l(f)+v,g=this.n2l(m)+y,{top:v,left:f,bottom:y,right:m,sheetName:l,tl:{address:p,col:f,row:v,$col$row:`$${this.n2l(f)}$${v}`,sheetName:l},br:{address:g,col:m,row:y,$col$row:`$${this.n2l(m)}$${y}`,sheetName:l},dimensions:`${p}:${g}`}}if(c.startsWith("#"))return l?{sheetName:l,error:c}:{error:c};const d=this.decodeAddress(c);return l?{sheetName:l,...d}:d},encodeAddress:(a,u)=>o.n2l(u)+a,encode(){switch(arguments.length){case 2:return o.encodeAddress(arguments[0],arguments[1]);case 4:return`${o.encodeAddress(arguments[0],arguments[1])}:${o.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(a,u){const[l,c,,h,d]=a,[p,g]=u;return p>=l&&p<=h&&g>=c&&g<=d}};i.exports=o},{}],20:[function(r,i,s){const n=(a,u)=>({...a,...u.reduce((l,c)=>(a[c]&&(l[c]={...a[c]}),l),{})}),o=function(a,u,l){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];a[l]&&(u[l]=n(a[l],c))};s.copyStyle=a=>{if(!a)return a;if(u=a,Object.keys(u).length===0)return{};var u;const l={...a};return o(a,l,"font",["color"]),o(a,l,"alignment"),o(a,l,"protection"),a.border&&(o(a,l,"border"),o(a.border,l.border,"top",["color"]),o(a.border,l.border,"left",["color"]),o(a.border,l.border,"bottom",["color"]),o(a.border,l.border,"right",["color"]),o(a.border,l.border,"diagonal",["color"])),a.fill&&(o(a,l,"fill",["fgColor","bgColor","center"]),a.fill.stops&&(l.fill.stops=a.fill.stops.map(c=>n(c,["color"])))),l}},{}],21:[function(r,i,s){(function(n){(function(){const o=r("crypto"),a={hash(u){const l=o.createHash(u);for(var c=arguments.length,h=new Array(c>1?c-1:0),d=1;d<c;d++)h[d-1]=arguments[d];return l.update(n.concat(h)),l.digest()},convertPasswordToHash(u,l,c,h){if(l=l.toLowerCase(),o.getHashes().indexOf(l)<0)throw new Error(`Hash algorithm '${l}' not supported!`);const d=n.from(u,"utf16le");let p=this.hash(l,n.from(c,"base64"),d);for(let g=0;g<h;g++){const v=n.alloc(4);v.writeUInt32LE(g,0),p=this.hash(l,p,v)}return p.toString("base64")},randomBytes:u=>o.randomBytes(u)};i.exports=a}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(r,i,s){const{SaxesParser:n}=r("saxes"),{PassThrough:o}=r("readable-stream"),{bufferToString:a}=r("./browser-buffer-decode");i.exports=async function*(u){u.pipe&&!u[Symbol.asyncIterator]&&(u=u.pipe(new o));const l=new n;let c;l.on("error",d=>{c=d});let h=[];l.on("opentag",d=>h.push({eventType:"opentag",value:d})),l.on("text",d=>h.push({eventType:"text",value:d})),l.on("closetag",d=>h.push({eventType:"closetag",value:d}));for await(const d of u){if(l.write(a(d)),c)throw c;yield h,h=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(r,i,s){const n=r("./col-cache"),o=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,a=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;i.exports={slideFormula:function(u,l,c){const h=n.decode(l),d=n.decode(c);return u.replace(o,(p,g,v,f,y)=>{if(y)return p;const m=a.exec(f);if(m){const w=m[1],_=m[2].toUpperCase(),A=m[3],F=m[4];if(_.length>3||_.length===3&&_>"XFD")return p;let G=n.l2n(_),L=parseInt(F,10);return w||(G+=d.col-h.col),A||(L+=d.row-h.row),(g||"")+(w||"")+n.n2l(G)+(A||"")+L}return p})}}},{"./col-cache":19}],24:[function(r,i,s){(function(n,o){(function(){const a=r("readable-stream"),u=r("./utils"),l=r("./string-buf");class c{constructor(f,y){this._data=f,this._encoding=y}get length(){return this.toBuffer().length}copy(f,y,m,w){return this.toBuffer().copy(f,y,m,w)}toBuffer(){return this._buffer||(this._buffer=o.from(this._data,this._encoding)),this._buffer}}class h{constructor(f){this._data=f}get length(){return this._data.length}copy(f,y,m,w){return this._data._buf.copy(f,y,m,w)}toBuffer(){return this._data.toBuffer()}}class d{constructor(f){this._data=f}get length(){return this._data.length}copy(f,y,m,w){this._data.copy(f,y,m,w)}toBuffer(){return this._data}}class p{constructor(f){this.size=f,this.buffer=o.alloc(f),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const f=o.alloc(this.iWrite-this.iRead);return this.buffer.copy(f,0,this.iRead,this.iWrite),f}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(f){let y;return f===0?null:f===void 0||f>=this.length?(y=this.toBuffer(),this.iRead=this.iWrite,y):(y=o.alloc(f),this.buffer.copy(y,0,this.iRead,f),this.iRead+=f,y)}write(f,y,m){const w=Math.min(m,this.size-this.iWrite);return f.copy(this.buffer,this.iWrite,y,y+w),this.iWrite+=w,w}}const g=function(v){v=v||{},this.bufSize=v.bufSize||1048576,this.buffers=[],this.batch=v.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};u.inherits(g,a.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return o.concat(this.buffers.map(v=>v.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const f=this.buffers[this.buffers.length-1];if(!f.full)return f}const v=new p(this.bufSize);return this.buffers.push(v),v},async _pipe(v){await Promise.all(this.pipes.map(function(f){return new Promise(y=>{f.write(v.toBuffer(),()=>{y()})})}))},_writeToBuffers(v){let f=0;const y=v.length;for(;f<y;)f+=this._getWritableBuffer().write(v,f,y-f)},async write(v,f,y){let m;if(f instanceof Function&&(y=f,f="utf8"),y=y||u.nop,v instanceof l)m=new h(v);else if(v instanceof o)m=new d(v);else{if(!(typeof v=="string"||v instanceof String||v instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");m=new c(v,f)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(m);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(m),n.nextTick(y)):(await this._pipe(m),y());else this.paused||this.emit("data",m.toBuffer()),this._writeToBuffers(m),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(v,f,y){const m=w=>{w?y(w):(this._flush(),this.pipes.forEach(_=>{_.end()}),this.emit("finish"))};v?this.write(v,f,m):m()},read(v){let f;if(v){for(f=[];v&&this.buffers.length&&!this.buffers[0].eod;){const y=this.buffers[0],m=y.read(v);v-=m.length,f.push(m),y.eod&&y.full&&this.buffers.shift()}return o.concat(f)}return f=this.buffers.map(y=>y.toBuffer()).filter(Boolean),this.buffers=[],o.concat(f)},setEncoding(v){this.encoding=v},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(v){this.pipes.push(v),!this.paused&&this.buffers.length&&this.end()},unpipe(v){this.pipes=this.pipes.filter(f=>f!==v)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),i.exports=g}).call(this)}).call(this,r("_process"),r("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(r,i,s){(function(n){(function(){i.exports=class{constructor(o){this._buf=n.alloc(o&&o.size||16384),this._encoding=o&&o.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=n.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(o){o=o||0,this._buffer=void 0,this._inPos=o}_grow(o){let a=2*this._buf.length;for(;a<o;)a*=2;const u=n.alloc(a);this._buf.copy(u,0),this._buf=u}addText(o){this._buffer=void 0;let a=this._inPos+this._buf.write(o,this._inPos,this._encoding);for(;a>=this._buf.length-4;)this._grow(this._inPos+o.length),a=this._inPos+this._buf.write(o,this._inPos,this._encoding);this._inPos=a}addStringBuf(o){o.length&&(this._buffer=void 0,this.length+o.length>this.capacity&&this._grow(this.length+o.length),o._buf.copy(this._buf,this._inPos,0,o.length),this._inPos+=o.length)}}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220}],26:[function(r,i,s){const{toString:n}=Object.prototype,o=/["&<>]/,a={each:function(u,l){u&&(Array.isArray(u)?u.forEach(l):Object.keys(u).forEach(c=>{l(u[c],c)}))},some:function(u,l){return!!u&&(Array.isArray(u)?u.some(l):Object.keys(u).some(c=>l(u[c],c)))},every:function(u,l){return!u||(Array.isArray(u)?u.every(l):Object.keys(u).every(c=>l(u[c],c)))},map:function(u,l){return u?Array.isArray(u)?u.map(l):Object.keys(u).map(c=>l(u[c],c)):[]},keyBy:(u,l)=>u.reduce((c,h)=>(c[h[l]]=h,c),{}),isEqual:function(u,l){const c=typeof u,h=typeof l,d=Array.isArray(u),p=Array.isArray(l);let g;if(c!==h)return!1;switch(typeof u){case"object":if(d||p)return!(!d||!p)&&u.length===l.length&&u.every((v,f)=>{const y=l[f];return a.isEqual(v,y)});if(u===null||l===null)return u===l;if(g=Object.keys(u),Object.keys(l).length!==g.length)return!1;for(const v of g)if(!l.hasOwnProperty(v))return!1;return a.every(u,(v,f)=>{const y=l[f];return a.isEqual(v,y)});default:return u===l}},escapeHtml(u){const l=o.exec(u);if(!l)return u;let c="",h="",d=0,p=l.index;for(;p<u.length;p++){switch(u.charAt(p)){case'"':h="&quot;";break;case"&":h="&amp;";break;case"'":h="&apos;";break;case"<":h="&lt;";break;case">":h="&gt;";break;default:continue}d!==p&&(c+=u.substring(d,p)),d=p+1,c+=h}return d!==p?c+u.substring(d,p):c},strcmp:(u,l)=>u<l?-1:u>l?1:0,isUndefined:u=>n.call(u)==="[object Undefined]",isObject:u=>n.call(u)==="[object Object]",deepMerge(){const u=arguments[0]||{},{length:l}=arguments;let c,h,d;function p(g,v){c=u[v],d=Array.isArray(g),a.isObject(g)||d?(d?(d=!1,h=c&&Array.isArray(c)?c:[]):h=c&&a.isObject(c)?c:{},u[v]=a.deepMerge(h,g)):a.isUndefined(g)||(u[v]=g)}for(let g=0;g<l;g++)a.each(arguments[g],p);return u}};i.exports=a},{}],27:[function(r,i,s){(function(n,o){(function(){const a=r("fs"),u=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,l={nop(){},promiseImmediate:c=>new Promise(h=>{n.setImmediate?o(()=>{h(c)}):setTimeout(()=>{h(c)},1)}),inherits:function(c,h,d,p){c.super_=h,p||(p=d,d=null),d&&Object.keys(d).forEach(v=>{Object.defineProperty(c,v,Object.getOwnPropertyDescriptor(d,v))});const g={constructor:{value:c,enumerable:!1,writable:!1,configurable:!0}};p&&Object.keys(p).forEach(v=>{g[v]=Object.getOwnPropertyDescriptor(p,v)}),c.prototype=Object.create(h.prototype,g)},dateToExcel:(c,h)=>25569+c.getTime()/864e5-(h?1462:0),excelToDate(c,h){const d=Math.round(24*(c-25569+(h?1462:0))*3600*1e3);return new Date(d)},parsePath(c){const h=c.lastIndexOf("/");return{path:c.substring(0,h),name:c.substring(h+1)}},getRelsPath(c){const h=l.parsePath(c);return`${h.path}/_rels/${h.name}.rels`},xmlEncode(c){const h=u.exec(c);if(!h)return c;let d="",p="",g=0,v=h.index;for(;v<c.length;v++){const f=c.charCodeAt(v);switch(f){case 34:p="&quot;";break;case 38:p="&amp;";break;case 39:p="&apos;";break;case 60:p="&lt;";break;case 62:p="&gt;";break;case 127:p="";break;default:if(f<=31&&(f<=8||f>=11&&f!==13)){p="";break}continue}g!==v&&(d+=c.substring(g,v)),g=v+1,p&&(d+=p)}return g!==v?d+c.substring(g,v):d},xmlDecode:c=>c.replace(/&([a-z]*);/g,h=>{switch(h){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return h}}),validInt(c){const h=parseInt(c,10);return Number.isNaN(h)?0:h},isDateFmt(c){return c?(c=(c=c.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:c=>new Promise(h=>{a.access(c,a.constants.F_OK,d=>{h(!d)})})},toIsoDateString:c=>c.toIsoString().subsstr(0,10),parseBoolean:c=>c===!0||c==="true"||c===1||c==="1"};i.exports=l}).call(this)}).call(this,typeof _t<"u"?_t:typeof self<"u"?self:typeof window<"u"?window:{},r("timers").setImmediate)},{fs:216,timers:523}],28:[function(r,i,s){const n=r("./under-dash"),o=r("./utils");function a(c,h,d){c.push(` ${h}="${o.xmlEncode(d.toString())}"`)}function u(c,h){if(h){const d=[];n.each(h,(p,g)=>{p!==void 0&&a(d,g,p)}),c.push(d.join(""))}}class l{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(h){const d=this._xml;d.push("<?xml"),u(d,h),d.push(`?>
`)}openNode(h,d){const p=this.tos,g=this._xml;p&&this.open&&g.push(">"),this._stack.push(h),g.push("<"),g.push(h),u(g,d),this.leaf=!0,this.open=!0}addAttribute(h,d){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");d!==void 0&&a(this._xml,h,d)}addAttributes(h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");u(this._xml,h)}writeText(h){const d=this._xml;this.open&&(d.push(">"),this.open=!1),this.leaf=!1,d.push(o.xmlEncode(h.toString()))}writeXml(h){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(h)}closeNode(){const h=this._stack.pop(),d=this._xml;this.leaf?d.push("/>"):(d.push("</"),d.push(h),d.push(">")),this.open=!1,this.leaf=!1}leafNode(h,d,p){this.openNode(h,d),p!==void 0&&this.writeText(p),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const h=this._rollbacks.pop();this._xml.length>h.xml&&this._xml.splice(h.xml,this._xml.length-h.xml),this._stack.length>h.stack&&this._stack.splice(h.stack,this._stack.length-h.stack),this.leaf=h.leaf,this.open=h.open}get xml(){return this.closeAll(),this._xml.join("")}}l.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},i.exports=l},{"./under-dash":26,"./utils":27}],29:[function(r,i,s){(function(n){(function(){const o=r("events"),a=r("jszip"),u=r("./stream-buf"),{stringToBuffer:l}=r("./browser-buffer-encode");class c extends o.EventEmitter{constructor(d){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},d),this.zip=new a,this.stream=new u}append(d,p){p.hasOwnProperty("base64")&&p.base64?this.zip.file(p.name,d,{base64:!0}):(n.browser&&typeof d=="string"&&(d=l(d)),this.zip.file(p.name,d))}async finalize(){const d=await this.zip.generateAsync(this.options);this.stream.end(d),this.emit("finish")}read(d){return this.stream.read(d)}setEncoding(d){return this.stream.setEncoding(d)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(d,p){return this.stream.pipe(d,p)}unpipe(d){return this.stream.unpipe(d)}unshift(d){return this.stream.unshift(d)}wrap(d){return this.stream.wrap(d)}}i.exports={ZipWriter:c}}).call(this)}).call(this,r("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(r,i,s){i.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(r,i,s){i.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(r,i,s){const n=r("../../utils/parse-sax"),o=r("../../utils/xml-stream");class a{prepare(){}render(){}parseOpen(l){}parseText(l){}parseClose(l){}reconcile(l,c){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(l=>{l instanceof a?l.reset():l.xform&&l.xform.reset()})}mergeModel(l){this.model=Object.assign(this.model||{},l)}async parse(l){for await(const c of l)for(const{eventType:h,value:d}of c)if(h==="opentag")this.parseOpen(d);else if(h==="text")this.parseText(d);else if(h==="closetag"&&!this.parseClose(d.name))return this.model;return this.model}async parseStream(l){return this.parse(n(l))}get xml(){return this.toXml(this.model)}toXml(l){const c=new o;return this.render(c,l),c.xml}static toAttribute(l,c){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(l===void 0){if(h)return c}else if(h||l!==c)return l.toString()}static toStringAttribute(l,c){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(l,c,h)}static toStringValue(l,c){return l===void 0?c:l}static toBoolAttribute(l,c){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(l===void 0){if(h)return c}else if(h||l!==c)return l?"1":"0"}static toBoolValue(l,c){return l===void 0?c:l==="1"}static toIntAttribute(l,c){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(l,c,h)}static toIntValue(l,c){return l===void 0?c:parseInt(l,10)}static toFloatAttribute(l,c){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(l,c,h)}static toFloatValue(l,c){return l===void 0?c:parseFloat(l)}}i.exports=a},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(r,i,s){const n=r("../base-xform"),o=r("../../../utils/col-cache");function a(l){try{return o.decodeEx(l),!0}catch{return!1}}function u(l){const c=[];let h=!1,d="";return l.split(",").forEach(p=>{if(!p)return;const g=(p.match(/'/g)||[]).length;if(!g)return void(h?d+=p+",":a(p)&&c.push(p));const v=g%2==0;!h&&v&&a(p)?c.push(p):h&&!v?(h=!1,a(d+p)&&c.push(d+p),d=""):(h=!0,d+=p+",")}),c}i.exports=class extends n{render(l,c){l.openNode("definedName",{name:c.name,localSheetId:c.localSheetId}),l.writeText(c.ranges.join(",")),l.closeNode()}parseOpen(l){switch(l.name){case"definedName":return this._parsedName=l.attributes.name,this._parsedLocalSheetId=l.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(l){this._parsedText.push(l)}parseClose(){return this.model={name:this._parsedName,ranges:u(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(r,i,s){const n=r("../../../utils/utils"),o=r("../base-xform");i.exports=class extends o{render(a,u){a.leafNode("sheet",{sheetId:u.id,name:u.name,state:u.state,"r:id":u.rId})}parseOpen(a){return a.name==="sheet"&&(this.model={name:n.xmlDecode(a.attributes.name),id:parseInt(a.attributes.sheetId,10),state:a.attributes.state,rId:a.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{render(o,a){o.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:a.fullCalcOnLoad?1:void 0})}parseOpen(o){return o.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{render(o,a){o.leafNode("workbookPr",{date1904:a.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(o){return o.name==="workbookPr"&&(this.model={date1904:o.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{render(o,a){const u={xWindow:a.x||0,yWindow:a.y||0,windowWidth:a.width||12e3,windowHeight:a.height||24e3,firstSheet:a.firstSheet,activeTab:a.activeTab};a.visibility&&a.visibility!=="visible"&&(u.visibility=a.visibility),o.leafNode("workbookView",u)}parseOpen(o){if(o.name==="workbookView"){const a=this.model={},u=function(c,h,d){const p=h!==void 0?a[c]=h:d;p!==void 0&&(a[c]=p)},l=function(c,h,d){const p=h!==void 0?a[c]=parseInt(h,10):d;p!==void 0&&(a[c]=p)};return l("x",o.attributes.xWindow,0),l("y",o.attributes.yWindow,0),l("width",o.attributes.windowWidth,25e3),l("height",o.attributes.windowHeight,1e4),u("visibility",o.attributes.visibility,"visible"),l("activeTab",o.attributes.activeTab,void 0),l("firstSheet",o.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(r,i,s){const n=r("../../../utils/under-dash"),o=r("../../../utils/col-cache"),a=r("../../../utils/xml-stream"),u=r("../base-xform"),l=r("../static-xform"),c=r("../list-xform"),h=r("./defined-name-xform"),d=r("./sheet-xform"),p=r("./workbook-view-xform"),g=r("./workbook-properties-xform"),v=r("./workbook-calc-properties-xform");class f extends u{constructor(){super(),this.map={fileVersion:f.STATIC_XFORMS.fileVersion,workbookPr:new g,bookViews:new c({tag:"bookViews",count:!1,childXform:new p}),sheets:new c({tag:"sheets",count:!1,childXform:new d}),definedNames:new c({tag:"definedNames",count:!1,childXform:new h}),calcPr:new v}}prepare(m){m.sheets=m.worksheets;const w=[];let _=0;m.sheets.forEach(A=>{if(A.pageSetup&&A.pageSetup.printArea&&A.pageSetup.printArea.split("&&").forEach(F=>{const G=F.split(":"),L={name:"_xlnm.Print_Area",ranges:[`'${A.name}'!$${G[0]}:$${G[1]}`],localSheetId:_};w.push(L)}),A.pageSetup&&(A.pageSetup.printTitlesRow||A.pageSetup.printTitlesColumn)){const F=[];if(A.pageSetup.printTitlesColumn){const L=A.pageSetup.printTitlesColumn.split(":");F.push(`'${A.name}'!$${L[0]}:$${L[1]}`)}if(A.pageSetup.printTitlesRow){const L=A.pageSetup.printTitlesRow.split(":");F.push(`'${A.name}'!$${L[0]}:$${L[1]}`)}const G={name:"_xlnm.Print_Titles",ranges:F,localSheetId:_};w.push(G)}_++}),w.length&&(m.definedNames=m.definedNames.concat(w)),(m.media||[]).forEach((A,F)=>{A.name=A.type+(F+1)})}render(m,w){m.openXml(a.StdDocAttributes),m.openNode("workbook",f.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(m),this.map.workbookPr.render(m,w.properties),this.map.bookViews.render(m,w.views),this.map.sheets.render(m,w.sheets),this.map.definedNames.render(m,w.definedNames),this.map.calcPr.render(m,w.calcProperties),m.closeNode()}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;switch(m.name){case"workbook":return!0;default:return this.parser=this.map[m.name],this.parser&&this.parser.parseOpen(m),!0}}parseText(m){this.parser&&this.parser.parseText(m)}parseClose(m){if(this.parser)return this.parser.parseClose(m)||(this.parser=void 0),!0;switch(m){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(m){const w=(m.workbookRels||[]).reduce((L,O)=>(L[O.Id]=O,L),{}),_=[];let A,F=0;(m.sheets||[]).forEach(L=>{const O=w[L.rId];O&&(A=m.worksheetHash["xl/"+O.Target.replace(/^(\s|\/xl\/)+/,"")],A&&(A.name=L.name,A.id=L.id,A.state=L.state,_[F++]=A))});const G=[];n.each(m.definedNames,L=>{if(L.name==="_xlnm.Print_Area"){if(A=_[L.localSheetId],A){A.pageSetup||(A.pageSetup={});const O=o.decodeEx(L.ranges[0]);A.pageSetup.printArea=A.pageSetup.printArea?`${A.pageSetup.printArea}&&${O.dimensions}`:O.dimensions}}else if(L.name==="_xlnm.Print_Titles"){if(A=_[L.localSheetId],A){A.pageSetup||(A.pageSetup={});const O=L.ranges.join(","),V=/\$/g,z=/\$\d+:\$\d+/,H=O.match(z);if(H&&H.length){const x=H[0];A.pageSetup.printTitlesRow=x.replace(V,"")}const T=/\$[A-Z]+:\$[A-Z]+/,M=O.match(T);if(M&&M.length){const x=M[0];A.pageSetup.printTitlesColumn=x.replace(V,"")}}}else G.push(L)}),m.definedNames=G,m.media.forEach((L,O)=>{L.index=O})}}f.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},f.STATIC_XFORMS={fileVersion:new l({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},i.exports=f},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(r,i,s){const n=r("../strings/rich-text-xform"),o=r("../../../utils/utils"),a=r("../base-xform"),u=i.exports=function(l){this.model=l};o.inherits(u,a,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new n),this._richTextXform},render(l,c){c=c||this.model,l.openNode("comment",{ref:c.ref,authorId:0}),l.openNode("text"),c&&c.note&&c.note.texts&&c.note.texts.forEach(h=>{this.richTextXform.render(l,h)}),l.closeNode(),l.closeNode()},parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"comment":return this.model={type:"note",note:{texts:[]},...l.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(l),!0;default:return!1}},parseText(l){this.parser&&this.parser.parseText(l)},parseClose(l){switch(l){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(l),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(r,i,s){const n=r("../../../utils/xml-stream"),o=r("../../../utils/utils"),a=r("../base-xform"),u=r("./comment-xform"),l=i.exports=function(){this.map={comment:new u}};o.inherits(l,a,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(c,h){h=h||this.model,c.openXml(n.StdDocAttributes),c.openNode("comments",l.COMMENTS_ATTRIBUTES),c.openNode("authors"),c.leafNode("author",null,"Author"),c.closeNode(),c.openNode("commentList"),h.comments.forEach(d=>{this.map.comment.render(c,d)}),c.closeNode(),c.closeNode()},parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(c),!0;default:return!1}},parseText(c){this.parser&&this.parser.parseText(c)},parseClose(c){switch(c){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(r,i,s){const n=r("../../base-xform");i.exports=class extends n{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,a,u){(a===u[2]||this.tag==="x:SizeWithCells"&&a===u[1])&&o.leafNode(this.tag)}parseOpen(o){switch(o.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(r,i,s){const n=r("../../base-xform");i.exports=class extends n{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,a){o.leafNode(this.tag,null,a)}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{get tag(){return"x:Anchor"}getAnchorRect(o){const a=Math.floor(o.left),u=Math.floor(68*(o.left-a)),l=Math.floor(o.top),c=Math.floor(18*(o.top-l)),h=Math.floor(o.right),d=Math.floor(68*(o.right-h)),p=Math.floor(o.bottom);return[a,u,l,c,h,d,p,Math.floor(18*(o.bottom-p))]}getDefaultRect(o){const a=o.col,u=Math.max(o.row-2,0);return[a,6,u,14,a+2,2,u+4,16]}render(o,a){const u=a.anchor?this.getAnchorRect(a.anchor):this.getDefaultRect(a.refAddress);o.leafNode("x:Anchor",null,u.join(", "))}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../base-xform":32}],44:[function(r,i,s){const n=r("../base-xform"),o=r("./vml-anchor-xform"),a=r("./style/vml-protection-xform"),u=r("./style/vml-position-xform"),l=["twoCells","oneCells","absolute"];i.exports=class extends n{constructor(){super(),this.map={"x:Anchor":new o,"x:Locked":new a({tag:"x:Locked"}),"x:LockText":new a({tag:"x:LockText"}),"x:SizeWithCells":new u({tag:"x:SizeWithCells"}),"x:MoveWithCells":new u({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(c,h){const{protection:d,editAs:p}=h.note;c.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(c,p,l),this.map["x:SizeWithCells"].render(c,p,l),this.map["x:Anchor"].render(c,h),this.map["x:Locked"].render(c,d.locked),c.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(c,d.lockText),c.leafNode("x:Row",null,h.refAddress.row-1),c.leafNode("x:Column",null,h.refAddress.col-1),c.closeNode()}parseOpen(c){switch(c.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const c=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),h=Object.keys(c).length;this.model.editAs=l[h],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(r,i,s){const n=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("./vml-shape-xform");class u extends o{constructor(){super(),this.map={"v:shape":new a}}get tag(){return"xml"}render(c,h){c.openXml(n.StdDocAttributes),c.openNode(this.tag,u.DRAWING_ATTRIBUTES),c.openNode("o:shapelayout",{"v:ext":"edit"}),c.leafNode("o:idmap",{"v:ext":"edit",data:1}),c.closeNode(),c.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),c.leafNode("v:stroke",{joinstyle:"miter"}),c.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),c.closeNode(),h.comments.forEach((d,p)=>{this.map["v:shape"].render(c,d,p)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}reconcile(c,h){c.anchors.forEach(d=>{d.br?this.map["xdr:twoCellAnchor"].reconcile(d,h):this.map["xdr:oneCellAnchor"].reconcile(d,h)})}}u.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},i.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(r,i,s){const n=r("../base-xform"),o=r("./vml-textbox-xform"),a=r("./vml-client-data-xform");class u extends n{constructor(){super(),this.map={"v:textbox":new o,"x:ClientData":new a}}get tag(){return"v:shape"}render(c,h,d){c.openNode("v:shape",u.V_SHAPE_ATTRIBUTES(h,d)),c.leafNode("v:fill",{color2:"infoBackground [80]"}),c.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),c.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(c,h),this.map["x:ClientData"].render(c,h),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={margins:{insetmode:c.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}u.V_SHAPE_ATTRIBUTES=(l,c)=>({id:"_x0000_s"+(1025+c),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":l.note.margins&&l.note.margins.insetmode}),i.exports=u},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{get tag(){return"v:textbox"}conversionUnit(o,a,u){return`${parseFloat(o)*a.toFixed(2)}${u}`}reverseConversionUnit(o){return(o||"").split(",").map(a=>Number(parseFloat(this.conversionUnit(parseFloat(a),.1,"")).toFixed(2)))}render(o,a){const u={style:"mso-direction-alt:auto"};if(a&&a.note){let{inset:l}=a.note&&a.note.margins;Array.isArray(l)&&(l=l.map(c=>this.conversionUnit(c,10,"mm")).join(",")),l&&(u.inset=l)}o.openNode("v:textbox",u),o.leafNode("div",{style:"text-align:left"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:return this.model={inset:this.reverseConversionUnit(o.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(r,i,s){const n=r("./base-xform");i.exports=class extends n{createNewModel(o){return{}}parseOpen(o){return this.parser=this.parser||this.map[o.name],this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag&&(this.model=this.createNewModel(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}onParserClose(o,a){this.model[o]=a.model}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.onParserClose(o,this.parser),this.parser=void 0),!0):o!==this.tag}}},{"./base-xform":32}],49:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{render(o,a){o.openNode("HeadingPairs"),o.openNode("vt:vector",{size:2,baseType:"variant"}),o.openNode("vt:variant"),o.leafNode("vt:lpstr",void 0,"Worksheets"),o.closeNode(),o.openNode("vt:variant"),o.leafNode("vt:i4",void 0,a.length),o.closeNode(),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="HeadingPairs"}parseText(){}parseClose(o){return o!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{render(o,a){o.openNode("TitlesOfParts"),o.openNode("vt:vector",{size:a.length,baseType:"lpstr"}),a.forEach(u=>{o.leafNode("vt:lpstr",void 0,u.name)}),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="TitlesOfParts"}parseText(){}parseClose(o){return o!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(r,i,s){const n=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("../simple/string-xform"),u=r("./app-heading-pairs-xform"),l=r("./app-titles-of-parts-xform");class c extends o{constructor(){super(),this.map={Company:new a({tag:"Company"}),Manager:new a({tag:"Manager"}),HeadingPairs:new u,TitleOfParts:new l}}render(d,p){d.openXml(n.StdDocAttributes),d.openNode("Properties",c.PROPERTY_ATTRIBUTES),d.leafNode("Application",void 0,"Microsoft Excel"),d.leafNode("DocSecurity",void 0,"0"),d.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(d,p.worksheets),this.map.TitleOfParts.render(d,p.worksheets),this.map.Company.render(d,p.company||""),this.map.Manager.render(d,p.manager),d.leafNode("LinksUpToDate",void 0,"false"),d.leafNode("SharedDoc",void 0,"false"),d.leafNode("HyperlinksChanged",void 0,"false"),d.leafNode("AppVersion",void 0,"16.0300"),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"Properties":return!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}c.DateFormat=function(h){return h.toISOString().replace(/[.]\d{3,6}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},i.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(r,i,s){const n=r("../../../utils/xml-stream"),o=r("../base-xform");class a extends o{render(l,c){l.openXml(n.StdDocAttributes),l.openNode("Types",a.PROPERTY_ATTRIBUTES);const h={};(c.media||[]).forEach(d=>{if(d.type==="image"){const p=d.extension;h[p]||(h[p]=!0,l.leafNode("Default",{Extension:p,ContentType:"image/"+p}))}}),l.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),l.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),l.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),c.worksheets.forEach(d=>{const p=`/xl/worksheets/sheet${d.id}.xml`;l.leafNode("Override",{PartName:p,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),l.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),l.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),c.sharedStrings&&c.sharedStrings.count&&l.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),c.tables&&c.tables.forEach(d=>{l.leafNode("Override",{PartName:"/xl/tables/"+d.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),c.drawings&&c.drawings.forEach(d=>{l.leafNode("Override",{PartName:`/xl/drawings/${d.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),c.commentRefs&&(l.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),c.commentRefs.forEach(d=>{let{commentName:p}=d;l.leafNode("Override",{PartName:`/xl/${p}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),l.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),l.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),l.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}a.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},i.exports=a},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(r,i,s){const n=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("../simple/date-xform"),u=r("../simple/string-xform"),l=r("../simple/integer-xform");class c extends o{constructor(){super(),this.map={"dc:creator":new u({tag:"dc:creator"}),"dc:title":new u({tag:"dc:title"}),"dc:subject":new u({tag:"dc:subject"}),"dc:description":new u({tag:"dc:description"}),"dc:identifier":new u({tag:"dc:identifier"}),"dc:language":new u({tag:"dc:language"}),"cp:keywords":new u({tag:"cp:keywords"}),"cp:category":new u({tag:"cp:category"}),"cp:lastModifiedBy":new u({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new a({tag:"cp:lastPrinted",format:c.DateFormat}),"cp:revision":new l({tag:"cp:revision"}),"cp:version":new u({tag:"cp:version"}),"cp:contentStatus":new u({tag:"cp:contentStatus"}),"cp:contentType":new u({tag:"cp:contentType"}),"dcterms:created":new a({tag:"dcterms:created",attrs:c.DateAttrs,format:c.DateFormat}),"dcterms:modified":new a({tag:"dcterms:modified",attrs:c.DateAttrs,format:c.DateFormat})}}render(d,p){d.openXml(n.StdDocAttributes),d.openNode("cp:coreProperties",c.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(d,p.creator),this.map["dc:title"].render(d,p.title),this.map["dc:subject"].render(d,p.subject),this.map["dc:description"].render(d,p.description),this.map["dc:identifier"].render(d,p.identifier),this.map["dc:language"].render(d,p.language),this.map["cp:keywords"].render(d,p.keywords),this.map["cp:category"].render(d,p.category),this.map["cp:lastModifiedBy"].render(d,p.lastModifiedBy),this.map["cp:lastPrinted"].render(d,p.lastPrinted),this.map["cp:revision"].render(d,p.revision),this.map["cp:version"].render(d,p.version),this.map["cp:contentStatus"].render(d,p.contentStatus),this.map["cp:contentType"].render(d,p.contentType),this.map["dcterms:created"].render(d,p.created),this.map["dcterms:modified"].render(d,p.modified),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[d.name],this.parser)return this.parser.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+d)}}}c.DateFormat=function(h){return h.toISOString().replace(/[.]\d{3}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},i.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{render(o,a){o.leafNode("Relationship",a)}parseOpen(o){switch(o.name){case"Relationship":return this.model=o.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(r,i,s){const n=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("./relationship-xform");class u extends o{constructor(){super(),this.map={Relationship:new a}}render(c,h){h=h||this._values,c.openXml(n.StdDocAttributes),c.openNode("Relationships",u.RELATIONSHIPS_ATTRIBUTES),h.forEach(d=>{this.map.Relationship.render(c,d)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[c.name],this.parser)return this.parser.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(c){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}u.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},i.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset(),this.model={range:{editAs:o.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}reconcilePicture(o,a){if(o&&o.rId){const u=a.rels[o.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(u){const l=u[1],c=a.mediaIndex[l];return a.media[c]}}}}},{"../base-xform":32}],57:[function(r,i,s){const n=r("../base-xform"),o=r("./blip-xform");i.exports=class extends n{constructor(){super(),this.map={"a:blip":new o}}get tag(){return"xdr:blipFill"}render(a,u){a.openNode(this.tag),this.map["a:blip"].render(a,u),a.openNode("a:stretch"),a.leafNode("a:fillRect"),a.closeNode(),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{get tag(){return"a:blip"}render(o,a){o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":a.rId,cstate:"print"})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{get tag(){return"xdr:cNvPicPr"}render(o){o.openNode(this.tag),o.leafNode("a:picLocks",{noChangeAspect:"1"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(r,i,s){const n=r("../base-xform"),o=r("./hlink-click-xform"),a=r("./ext-lst-xform");i.exports=class extends n{constructor(){super(),this.map={"a:hlinkClick":new o,"a:extLst":new a}}get tag(){return"xdr:cNvPr"}render(u,l){u.openNode(this.tag,{id:l.index,name:"Picture "+l.index}),this.map["a:hlinkClick"].render(u,l),this.map["a:extLst"].render(u,l),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(r,i,s){const n=r("../base-xform"),o=r("../simple/integer-xform");i.exports=class extends n{constructor(a){super(),this.tag=a.tag,this.map={"xdr:col":new o({tag:"xdr:col",zero:!0}),"xdr:colOff":new o({tag:"xdr:colOff",zero:!0}),"xdr:row":new o({tag:"xdr:row",zero:!0}),"xdr:rowOff":new o({tag:"xdr:rowOff",zero:!0})}}render(a,u){a.openNode(this.tag),this.map["xdr:col"].render(a,u.nativeCol),this.map["xdr:colOff"].render(a,u.nativeColOff),this.map["xdr:row"].render(a,u.nativeRow),this.map["xdr:rowOff"].render(a,u.nativeRowOff),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(r,i,s){const n=r("../../../utils/col-cache"),o=r("../../../utils/xml-stream"),a=r("../base-xform"),u=r("./two-cell-anchor-xform"),l=r("./one-cell-anchor-xform");class c extends a{constructor(){super(),this.map={"xdr:twoCellAnchor":new u,"xdr:oneCellAnchor":new l}}prepare(d){d.anchors.forEach((p,g)=>{p.anchorType=function(v){return(typeof v.range=="string"?n.decode(v.range):v.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(p),this.map[p.anchorType].prepare(p,{index:g})})}get tag(){return"xdr:wsDr"}render(d,p){d.openXml(o.StdDocAttributes),d.openNode(this.tag,c.DRAWING_ATTRIBUTES),p.anchors.forEach(g=>{this.map[g.anchorType].render(d,g)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(d){case this.tag:return!1;default:return!0}}reconcile(d,p){d.anchors.forEach(g=>{g.br?this.map["xdr:twoCellAnchor"].reconcile(g,p):this.map["xdr:oneCellAnchor"].reconcile(g,p)})}}c.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},i.exports=c},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{get tag(){return"a:extLst"}render(o){o.openNode(this.tag),o.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),o.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),o.closeNode(),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{constructor(o){super(),this.tag=o.tag,this.map={}}render(o,a){o.openNode(this.tag);const u=Math.floor(9525*a.width),l=Math.floor(9525*a.height);o.addAttribute("cx",u),o.addAttribute("cy",l),o.closeNode()}parseOpen(o){return o.name===this.tag&&(this.model={width:parseInt(o.attributes.cx||"0",10)/9525,height:parseInt(o.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{get tag(){return"a:hlinkClick"}render(o,a){a.hyperlinks&&a.hyperlinks.rId&&o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":a.hyperlinks.rId,tooltip:a.hyperlinks.tooltip})}parseOpen(o){switch(o.name){case this.tag:return this.model={hyperlinks:{rId:o.attributes["r:id"],tooltip:o.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(r,i,s){const n=r("../base-xform"),o=r("./c-nv-pr-xform"),a=r("./c-nv-pic-pr-xform");i.exports=class extends n{constructor(){super(),this.map={"xdr:cNvPr":new o,"xdr:cNvPicPr":new a}}get tag(){return"xdr:nvPicPr"}render(u,l){u.openNode(this.tag),this.map["xdr:cNvPr"].render(u,l),this.map["xdr:cNvPicPr"].render(u,l),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(r,i,s){const n=r("./base-cell-anchor-xform"),o=r("../static-xform"),a=r("./cell-position-xform"),u=r("./ext-xform"),l=r("./pic-xform");i.exports=class extends n{constructor(){super(),this.map={"xdr:from":new a({tag:"xdr:from"}),"xdr:ext":new u({tag:"xdr:ext"}),"xdr:pic":new l,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(c,h){this.map["xdr:pic"].prepare(c.picture,h)}render(c,h){c.openNode(this.tag,{editAs:h.range.editAs||"oneCell"}),this.map["xdr:from"].render(c,h.range.tl),this.map["xdr:ext"].render(c,h.range.ext),this.map["xdr:pic"].render(c,h.picture),this.map["xdr:clientData"].render(c,{}),c.closeNode()}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(c,h){c.medium=this.reconcilePicture(c.picture,h)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(r,i,s){const n=r("../base-xform"),o=r("../static-xform"),a=r("./blip-fill-xform"),u=r("./nv-pic-pr-xform"),l=r("./sp-pr");i.exports=class extends n{constructor(){super(),this.map={"xdr:nvPicPr":new u,"xdr:blipFill":new a,"xdr:spPr":new o(l)}}get tag(){return"xdr:pic"}prepare(c,h){c.index=h.index+1}render(c,h){c.openNode(this.tag),this.map["xdr:nvPicPr"].render(c,h),this.map["xdr:blipFill"].render(c,h),this.map["xdr:spPr"].render(c,h),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(r,i,s){i.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(r,i,s){const n=r("./base-cell-anchor-xform"),o=r("../static-xform"),a=r("./cell-position-xform"),u=r("./pic-xform");i.exports=class extends n{constructor(){super(),this.map={"xdr:from":new a({tag:"xdr:from"}),"xdr:to":new a({tag:"xdr:to"}),"xdr:pic":new u,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(l,c){this.map["xdr:pic"].prepare(l.picture,c)}render(l,c){l.openNode(this.tag,{editAs:c.range.editAs||"oneCell"}),this.map["xdr:from"].render(l,c.range.tl),this.map["xdr:to"].render(l,c.range.br),this.map["xdr:pic"].render(l,c.picture),this.map["xdr:clientData"].render(l,{}),l.closeNode()}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(l,c){l.medium=this.reconcilePicture(l.picture,c)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(r,i,s){const n=r("./base-xform");i.exports=class extends n{constructor(o){super(),this.tag=o.tag,this.always=!!o.always,this.count=o.count,this.empty=o.empty,this.$count=o.$count||"count",this.$=o.$,this.childXform=o.childXform,this.maxItems=o.maxItems}prepare(o,a){const{childXform:u}=this;o&&o.forEach((l,c)=>{a.index=c,u.prepare(l,a)})}render(o,a){if(this.always||a&&a.length){o.openNode(this.tag,this.$),this.count&&o.addAttribute(this.$count,a&&a.length||0);const{childXform:u}=this;(a||[]).forEach((l,c)=>{u.render(o,l,c)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(o)&&(this.parser=this.childXform,!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(o,a){if(o){const{childXform:u}=this;o.forEach(l=>{u.reconcile(l,a)})}}}},{"./base-xform":32}],72:[function(r,i,s){const n=r("../../../utils/col-cache"),o=r("../base-xform");i.exports=class extends o{get tag(){return"autoFilter"}render(a,u){if(u)if(typeof u=="string")a.leafNode("autoFilter",{ref:u});else{const l=function(d){return typeof d=="string"?d:n.getAddress(d.row,d.column).address},c=l(u.from),h=l(u.to);c&&h&&a.leafNode("autoFilter",{ref:`${c}:${h}`})}}parseOpen(a){a.name==="autoFilter"&&(this.model=a.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(r,i,s){const n=r("../../../utils/utils"),o=r("../base-xform"),a=r("../../../doc/range"),u=r("../../../doc/enums"),l=r("../strings/rich-text-xform");function c(h){if(h==null)return u.ValueType.Null;if(h instanceof String||typeof h=="string")return u.ValueType.String;if(typeof h=="number")return u.ValueType.Number;if(typeof h=="boolean")return u.ValueType.Boolean;if(h instanceof Date)return u.ValueType.Date;if(h.text&&h.hyperlink)return u.ValueType.Hyperlink;if(h.formula)return u.ValueType.Formula;if(h.error)return u.ValueType.Error;throw new Error("I could not understand type of value")}i.exports=class extends o{constructor(){super(),this.richTextXForm=new l}get tag(){return"c"}prepare(h,d){const p=d.styles.addStyleModel(h.style||{},function(g){switch(g.type){case u.ValueType.Formula:return c(g.result);default:return g.type}}(h));switch(p&&(h.styleId=p),h.comment&&d.comments.push({...h.comment,ref:h.address}),h.type){case u.ValueType.String:case u.ValueType.RichText:d.sharedStrings&&(h.ssId=d.sharedStrings.add(h.value));break;case u.ValueType.Date:d.date1904&&(h.date1904=!0);break;case u.ValueType.Hyperlink:d.sharedStrings&&h.text!==void 0&&h.text!==null&&(h.ssId=d.sharedStrings.add(h.text)),d.hyperlinks.push({address:h.address,target:h.hyperlink,tooltip:h.tooltip});break;case u.ValueType.Merge:d.merges.add(h);break;case u.ValueType.Formula:if(d.date1904&&(h.date1904=!0),h.shareType==="shared"&&(h.si=d.siFormulae++),h.formula)d.formulae[h.address]=h;else if(h.sharedFormula){const g=d.formulae[h.sharedFormula];if(!g)throw new Error("Shared Formula master must exist above and or left of clone for cell "+h.address);g.si===void 0?(g.shareType="shared",g.si=d.siFormulae++,g.range=new a(g.address,h.address)):g.range&&g.range.expandToAddress(h.address),h.si=g.si}}}renderFormula(h,d){let p=null;switch(d.shareType){case"shared":p={t:"shared",ref:d.ref||d.range.range,si:d.si};break;case"array":p={t:"array",ref:d.ref};break;default:d.si!==void 0&&(p={t:"shared",si:d.si})}switch(c(d.result)){case u.ValueType.Null:h.leafNode("f",p,d.formula);break;case u.ValueType.String:h.addAttribute("t","str"),h.leafNode("f",p,d.formula),h.leafNode("v",null,d.result);break;case u.ValueType.Number:h.leafNode("f",p,d.formula),h.leafNode("v",null,d.result);break;case u.ValueType.Boolean:h.addAttribute("t","b"),h.leafNode("f",p,d.formula),h.leafNode("v",null,d.result?1:0);break;case u.ValueType.Error:h.addAttribute("t","e"),h.leafNode("f",p,d.formula),h.leafNode("v",null,d.result.error);break;case u.ValueType.Date:h.leafNode("f",p,d.formula),h.leafNode("v",null,n.dateToExcel(d.result,d.date1904));break;default:throw new Error("I could not understand type of value")}}render(h,d){if(d.type!==u.ValueType.Null||d.styleId){switch(h.openNode("c"),h.addAttribute("r",d.address),d.styleId&&h.addAttribute("s",d.styleId),d.type){case u.ValueType.Null:break;case u.ValueType.Number:h.leafNode("v",null,d.value);break;case u.ValueType.Boolean:h.addAttribute("t","b"),h.leafNode("v",null,d.value?"1":"0");break;case u.ValueType.Error:h.addAttribute("t","e"),h.leafNode("v",null,d.value.error);break;case u.ValueType.String:case u.ValueType.RichText:d.ssId!==void 0?(h.addAttribute("t","s"),h.leafNode("v",null,d.ssId)):d.value&&d.value.richText?(h.addAttribute("t","inlineStr"),h.openNode("is"),d.value.richText.forEach(p=>{this.richTextXForm.render(h,p)}),h.closeNode("is")):(h.addAttribute("t","str"),h.leafNode("v",null,d.value));break;case u.ValueType.Date:h.leafNode("v",null,n.dateToExcel(d.value,d.date1904));break;case u.ValueType.Hyperlink:d.ssId!==void 0?(h.addAttribute("t","s"),h.leafNode("v",null,d.ssId)):(h.addAttribute("t","str"),h.leafNode("v",null,d.text));break;case u.ValueType.Formula:this.renderFormula(h,d);break;case u.ValueType.Merge:}h.closeNode()}}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"c":return this.model={address:h.attributes.r},this.t=h.attributes.t,h.attributes.s&&(this.model.styleId=parseInt(h.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=h.attributes.si,this.model.shareType=h.attributes.t,this.model.ref=h.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){if(this.parser)this.parser.parseText(h);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+h:h;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+h:h:this.model.value=this.model.value?this.model.value+h:h}}parseClose(h){switch(h){case"c":{const{model:d}=this;if(d.formula||d.shareType)d.type=u.ValueType.Formula,d.value&&(this.t==="str"?d.result=n.xmlDecode(d.value):this.t==="b"?d.result=parseInt(d.value,10)!==0:this.t==="e"?d.result={error:d.value}:d.result=parseFloat(d.value),d.value=void 0);else if(d.value!==void 0)switch(this.t){case"s":d.type=u.ValueType.String,d.value=parseInt(d.value,10);break;case"str":d.type=u.ValueType.String,d.value=n.xmlDecode(d.value);break;case"inlineStr":d.type=u.ValueType.String;break;case"b":d.type=u.ValueType.Boolean,d.value=parseInt(d.value,10)!==0;break;case"e":d.type=u.ValueType.Error,d.value={error:d.value};break;default:d.type=u.ValueType.Number,d.value=parseFloat(d.value)}else d.styleId?d.type=u.ValueType.Null:d.type=u.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(h),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(h),!0)}}reconcile(h,d){const p=h.styleId&&d.styles&&d.styles.getStyleModel(h.styleId);switch(p&&(h.style=p),h.styleId!==void 0&&(h.styleId=void 0),h.type){case u.ValueType.String:typeof h.value=="number"&&d.sharedStrings&&(h.value=d.sharedStrings.getString(h.value)),h.value.richText&&(h.type=u.ValueType.RichText);break;case u.ValueType.Number:p&&n.isDateFmt(p.numFmt)&&(h.type=u.ValueType.Date,h.value=n.excelToDate(h.value,d.date1904));break;case u.ValueType.Formula:h.result!==void 0&&p&&n.isDateFmt(p.numFmt)&&(h.result=n.excelToDate(h.result,d.date1904)),h.shareType==="shared"&&(h.ref?d.formulae[h.si]=h.address:(h.sharedFormula=d.formulae[h.si],delete h.shareType),delete h.si)}const g=d.hyperlinkMap[h.address];g&&(h.type===u.ValueType.Formula?(h.text=h.result,h.result=void 0):(h.text=h.value,h.value=void 0),h.type=u.ValueType.Hyperlink,h.hyperlink=g);const v=d.commentsMap&&d.commentsMap[h.address];v&&(h.comment=v)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(r,i,s){const n=r("../../base-xform");i.exports=class extends n{get tag(){return"x14:cfIcon"}render(o,a){o.leafNode(this.tag,{iconSet:a.iconSet,iconId:a.iconId})}parseOpen(o){let{attributes:a}=o;this.model={iconSet:a.iconSet,iconId:n.toIntValue(a.iconId)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],75:[function(r,i,s){const{v4:n}=r("uuid"),o=r("../../base-xform"),a=r("../../composite-xform"),u=r("./databar-ext-xform"),l=r("./icon-set-ext-xform"),c={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class h extends a{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new u,"x14:iconSet":this.iconSetXform=new l}}get tag(){return"x14:cfRule"}static isExt(p){return p.type==="dataBar"?u.isExt(p):!(p.type!=="iconSet"||!p.custom&&!c[p.iconSet])}prepare(p){h.isExt(p)&&(p.x14Id=`{${n()}}`.toUpperCase())}render(p,g){if(h.isExt(g))switch(g.type){case"dataBar":this.renderDataBar(p,g);break;case"iconSet":this.renderIconSet(p,g)}}renderDataBar(p,g){p.openNode(this.tag,{type:"dataBar",id:g.x14Id}),this.databarXform.render(p,g),p.closeNode()}renderIconSet(p,g){p.openNode(this.tag,{type:"iconSet",priority:g.priority,id:g.x14Id||`{${n()}}`}),this.iconSetXform.render(p,g),p.closeNode()}createNewModel(p){let{attributes:g}=p;return{type:g.type,x14Id:g.id,priority:o.toIntValue(g.priority)}}onParserClose(p,g){Object.assign(this.model,g.model)}}i.exports=h},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(r,i,s){const n=r("../../composite-xform"),o=r("./f-ext-xform");i.exports=class extends n{constructor(){super(),this.map={"xm:f":this.fExtXform=new o}}get tag(){return"x14:cfvo"}render(a,u){a.openNode(this.tag,{type:u.type}),u.value!==void 0&&this.fExtXform.render(a,u.value),a.closeNode()}createNewModel(a){return{type:a.attributes.type}}onParserClose(a,u){switch(a){case"xm:f":this.model.value=u.model?parseFloat(u.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(r,i,s){const n=r("../../composite-xform"),o=r("./sqref-ext-xform"),a=r("./cf-rule-ext-xform");i.exports=class extends n{constructor(){super(),this.map={"xm:sqref":this.sqRef=new o,"x14:cfRule":this.cfRule=new a}}get tag(){return"x14:conditionalFormatting"}prepare(u,l){u.rules.forEach(c=>{this.cfRule.prepare(c,l)})}render(u,l){l.rules.some(a.isExt)&&(u.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),l.rules.filter(a.isExt).forEach(c=>this.cfRule.render(u,c)),this.sqRef.render(u,l.ref),u.closeNode())}createNewModel(){return{rules:[]}}onParserClose(u,l){switch(u){case"xm:sqref":this.model.ref=l.model;break;case"x14:cfRule":this.model.rules.push(l.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(r,i,s){const n=r("../../composite-xform"),o=r("./cf-rule-ext-xform"),a=r("./conditional-formatting-ext-xform");i.exports=class extends n{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new a}}get tag(){return"x14:conditionalFormattings"}hasContent(u){return u.hasExtContent===void 0&&(u.hasExtContent=u.some(l=>l.rules.some(o.isExt))),u.hasExtContent}prepare(u,l){u.forEach(c=>{this.cfXform.prepare(c,l)})}render(u,l){this.hasContent(l)&&(u.openNode(this.tag),l.forEach(c=>this.cfXform.render(u,c)),u.closeNode())}createNewModel(){return[]}onParserClose(u,l){this.model.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(r,i,s){const n=r("../../base-xform"),o=r("../../composite-xform"),a=r("../../style/color-xform"),u=r("./cfvo-ext-xform");i.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new u,"x14:borderColor":this.borderColorXform=new a("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new a("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new a("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new a("x14:axisColor")}}static isExt(l){return!l.gradient}get tag(){return"x14:dataBar"}render(l,c){l.openNode(this.tag,{minLength:n.toIntAttribute(c.minLength,0,!0),maxLength:n.toIntAttribute(c.maxLength,100,!0),border:n.toBoolAttribute(c.border,!1),gradient:n.toBoolAttribute(c.gradient,!0),negativeBarColorSameAsPositive:n.toBoolAttribute(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:n.toBoolAttribute(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:n.toAttribute(c.axisPosition,"auto"),direction:n.toAttribute(c.direction,"leftToRight")}),c.cfvo.forEach(h=>{this.cfvoXform.render(l,h)}),this.borderColorXform.render(l,c.borderColor),this.negativeBorderColorXform.render(l,c.negativeBorderColor),this.negativeFillColorXform.render(l,c.negativeFillColor),this.axisColorXform.render(l,c.axisColor),l.closeNode()}createNewModel(l){let{attributes:c}=l;return{cfvo:[],minLength:n.toIntValue(c.minLength,0),maxLength:n.toIntValue(c.maxLength,100),border:n.toBoolValue(c.border,!1),gradient:n.toBoolValue(c.gradient,!0),negativeBarColorSameAsPositive:n.toBoolValue(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:n.toBoolValue(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:n.toStringValue(c.axisPosition,"auto"),direction:n.toStringValue(c.direction,"leftToRight")}}onParserClose(l,c){const[,h]=l.split(":");switch(h){case"cfvo":this.model.cfvo.push(c.model);break;default:this.model[h]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(r,i,s){const n=r("../../base-xform");i.exports=class extends n{get tag(){return"xm:f"}render(o,a){o.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],81:[function(r,i,s){const n=r("../../base-xform"),o=r("../../composite-xform"),a=r("./cfvo-ext-xform"),u=r("./cf-icon-ext-xform");i.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new a,"x14:cfIcon":this.cfIconXform=new u}}get tag(){return"x14:iconSet"}render(l,c){l.openNode(this.tag,{iconSet:n.toStringAttribute(c.iconSet),reverse:n.toBoolAttribute(c.reverse,!1),showValue:n.toBoolAttribute(c.showValue,!0),custom:n.toBoolAttribute(c.icons,!1)}),c.cfvo.forEach(h=>{this.cfvoXform.render(l,h)}),c.icons&&c.icons.forEach((h,d)=>{h.iconId=d,this.cfIconXform.render(l,h)}),l.closeNode()}createNewModel(l){let{attributes:c}=l;return{cfvo:[],iconSet:n.toStringValue(c.iconSet,"3TrafficLights"),reverse:n.toBoolValue(c.reverse,!1),showValue:n.toBoolValue(c.showValue,!0)}}onParserClose(l,c){const[,h]=l.split(":");switch(h){case"cfvo":this.model.cfvo.push(c.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(c.model);break;default:this.model[h]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(r,i,s){const n=r("../../base-xform");i.exports=class extends n{get tag(){return"xm:sqref"}render(o,a){o.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],83:[function(r,i,s){const n=r("../../base-xform"),o=r("../../composite-xform"),a=r("../../../../doc/range"),u=r("./databar-xform"),l=r("./ext-lst-ref-xform"),c=r("./formula-xform"),h=r("./color-scale-xform"),d=r("./icon-set-xform"),p={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},g=f=>{const{type:y,operator:m}=f;switch(y){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:y};default:return{type:y,operator:m}}};class v extends o{constructor(){super(),this.map={dataBar:this.databarXform=new u,extLst:this.extLstRefXform=new l,formula:this.formulaXform=new c,colorScale:this.colorScaleXform=new h,iconSet:this.iconSetXform=new d}}get tag(){return"cfRule"}static isPrimitive(y){return y.type!=="iconSet"||!y.custom&&!p[y.iconSet]}render(y,m){switch(m.type){case"expression":this.renderExpression(y,m);break;case"cellIs":this.renderCellIs(y,m);break;case"top10":this.renderTop10(y,m);break;case"aboveAverage":this.renderAboveAverage(y,m);break;case"dataBar":this.renderDataBar(y,m);break;case"colorScale":this.renderColorScale(y,m);break;case"iconSet":this.renderIconSet(y,m);break;case"containsText":this.renderText(y,m);break;case"timePeriod":this.renderTimePeriod(y,m)}}renderExpression(y,m){y.openNode(this.tag,{type:"expression",dxfId:m.dxfId,priority:m.priority}),this.formulaXform.render(y,m.formulae[0]),y.closeNode()}renderCellIs(y,m){y.openNode(this.tag,{type:"cellIs",dxfId:m.dxfId,priority:m.priority,operator:m.operator}),m.formulae.forEach(w=>{this.formulaXform.render(y,w)}),y.closeNode()}renderTop10(y,m){y.leafNode(this.tag,{type:"top10",dxfId:m.dxfId,priority:m.priority,percent:n.toBoolAttribute(m.percent,!1),bottom:n.toBoolAttribute(m.bottom,!1),rank:n.toIntValue(m.rank,10,!0)})}renderAboveAverage(y,m){y.leafNode(this.tag,{type:"aboveAverage",dxfId:m.dxfId,priority:m.priority,aboveAverage:n.toBoolAttribute(m.aboveAverage,!0)})}renderDataBar(y,m){y.openNode(this.tag,{type:"dataBar",priority:m.priority}),this.databarXform.render(y,m),this.extLstRefXform.render(y,m),y.closeNode()}renderColorScale(y,m){y.openNode(this.tag,{type:"colorScale",priority:m.priority}),this.colorScaleXform.render(y,m),y.closeNode()}renderIconSet(y,m){v.isPrimitive(m)&&(y.openNode(this.tag,{type:"iconSet",priority:m.priority}),this.iconSetXform.render(y,m),y.closeNode())}renderText(y,m){y.openNode(this.tag,{type:m.operator,dxfId:m.dxfId,priority:m.priority,operator:n.toStringAttribute(m.operator,"containsText")});const w=(_=>{if(_.formulae&&_.formulae[0])return _.formulae[0];const A=new a(_.ref),{tl:F}=A;switch(_.operator){case"containsText":return`NOT(ISERROR(SEARCH("${_.text}",${F})))`;case"containsBlanks":return`LEN(TRIM(${F}))=0`;case"notContainsBlanks":return`LEN(TRIM(${F}))>0`;case"containsErrors":return`ISERROR(${F})`;case"notContainsErrors":return`NOT(ISERROR(${F}))`;default:return}})(m);w&&this.formulaXform.render(y,w),y.closeNode()}renderTimePeriod(y,m){y.openNode(this.tag,{type:"timePeriod",dxfId:m.dxfId,priority:m.priority,timePeriod:m.timePeriod});const w=(_=>{if(_.formulae&&_.formulae[0])return _.formulae[0];const A=new a(_.ref),{tl:F}=A;switch(_.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${F},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${F},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${F},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${F},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${F},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${F},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${F},1)=TODAY()-1`;case"today":return`FLOOR(${F},1)=TODAY()`;case"tomorrow":return`FLOOR(${F},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${F},1)<=6,FLOOR(${F},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${F})=MONTH(EDATE(TODAY(),0-1)),YEAR(${F})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${F})=MONTH(TODAY()),YEAR(${F})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${F})=MONTH(EDATE(TODAY(),0+1)),YEAR(${F})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(m);w&&this.formulaXform.render(y,w),y.closeNode()}createNewModel(y){let{attributes:m}=y;return{...g(m),dxfId:n.toIntValue(m.dxfId),priority:n.toIntValue(m.priority),timePeriod:m.timePeriod,percent:n.toBoolValue(m.percent),bottom:n.toBoolValue(m.bottom),rank:n.toIntValue(m.rank),aboveAverage:n.toBoolValue(m.aboveAverage)}}onParserClose(y,m){switch(y){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,m.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(m.model)}}}i.exports=v},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(r,i,s){const n=r("../../base-xform");i.exports=class extends n{get tag(){return"cfvo"}render(o,a){o.leafNode(this.tag,{type:a.type,val:a.value})}parseOpen(o){this.model={type:o.attributes.type,value:n.toFloatValue(o.attributes.val)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],85:[function(r,i,s){const n=r("../../composite-xform"),o=r("../../style/color-xform"),a=r("./cfvo-xform");i.exports=class extends n{constructor(){super(),this.map={cfvo:this.cfvoXform=new a,color:this.colorXform=new o}}get tag(){return"colorScale"}render(u,l){u.openNode(this.tag),l.cfvo.forEach(c=>{this.cfvoXform.render(u,c)}),l.color.forEach(c=>{this.colorXform.render(u,c)}),u.closeNode()}createNewModel(u){return{cfvo:[],color:[]}}onParserClose(u,l){this.model[u].push(l.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(r,i,s){const n=r("../../composite-xform"),o=r("./cf-rule-xform");i.exports=class extends n{constructor(){super(),this.map={cfRule:new o}}get tag(){return"conditionalFormatting"}render(a,u){u.rules.some(o.isPrimitive)&&(a.openNode(this.tag,{sqref:u.ref}),u.rules.forEach(l=>{o.isPrimitive(l)&&(l.ref=u.ref,this.map.cfRule.render(a,l))}),a.closeNode())}createNewModel(a){let{attributes:u}=a;return{ref:u.sqref,rules:[]}}onParserClose(a,u){this.model.rules.push(u.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(r,i,s){const n=r("../../base-xform"),o=r("./conditional-formatting-xform");i.exports=class extends n{constructor(){super(),this.cfXform=new o}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(a,u){let l=a.reduce((c,h)=>Math.max(c,...h.rules.map(d=>d.priority||0)),1);a.forEach(c=>{c.rules.forEach(h=>{h.priority||(h.priority=l++),h.style&&(h.dxfId=u.styles.addDxfStyle(h.style))})})}render(a,u){u.forEach(l=>{this.cfXform.render(a,l)})}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(a),!0;default:return!1}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){return!!this.parser&&(!!this.parser.parseClose(a)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(a,u){a.forEach(l=>{l.rules.forEach(c=>{c.dxfId!==void 0&&(c.style=u.styles.getDxfStyle(c.dxfId),delete c.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(r,i,s){const n=r("../../composite-xform"),o=r("../../style/color-xform"),a=r("./cfvo-xform");i.exports=class extends n{constructor(){super(),this.map={cfvo:this.cfvoXform=new a,color:this.colorXform=new o}}get tag(){return"dataBar"}render(u,l){u.openNode(this.tag),l.cfvo.forEach(c=>{this.cfvoXform.render(u,c)}),this.colorXform.render(u,l.color),u.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(u,l){switch(u){case"cfvo":this.model.cfvo.push(l.model);break;case"color":this.model.color=l.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(r,i,s){const n=r("../../base-xform"),o=r("../../composite-xform");class a extends n{get tag(){return"x14:id"}render(c,h){c.leafNode(this.tag,null,h)}parseOpen(){this.model=""}parseText(c){this.model+=c}parseClose(c){return c!==this.tag}}class u extends o{constructor(){super(),this.map={"x14:id":this.idXform=new a}}get tag(){return"ext"}render(c,h){c.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(c,h.x14Id),c.closeNode()}createNewModel(){return{}}onParserClose(c,h){this.model.x14Id=h.model}}i.exports=class extends o{constructor(){super(),this.map={ext:new u}}get tag(){return"extLst"}render(l,c){l.openNode(this.tag),this.map.ext.render(l,c),l.closeNode()}createNewModel(){return{}}onParserClose(l,c){Object.assign(this.model,c.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(r,i,s){const n=r("../../base-xform");i.exports=class extends n{get tag(){return"formula"}render(o,a){o.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],91:[function(r,i,s){const n=r("../../base-xform"),o=r("../../composite-xform"),a=r("./cfvo-xform");i.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new a}}get tag(){return"iconSet"}render(u,l){u.openNode(this.tag,{iconSet:n.toStringAttribute(l.iconSet,"3TrafficLights"),reverse:n.toBoolAttribute(l.reverse,!1),showValue:n.toBoolAttribute(l.showValue,!0)}),l.cfvo.forEach(c=>{this.cfvoXform.render(u,c)}),u.closeNode()}createNewModel(u){let{attributes:l}=u;return{iconSet:n.toStringValue(l.iconSet,"3TrafficLights"),reverse:n.toBoolValue(l.reverse),showValue:n.toBoolValue(l.showValue),cfvo:[]}}onParserClose(u,l){this.model[u].push(l.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(r,i,s){const n=r("../../../utils/utils"),o=r("../base-xform");i.exports=class extends o{get tag(){return"col"}prepare(a,u){const l=u.styles.addStyleModel(a.style||{});l&&(a.styleId=l)}render(a,u){a.openNode("col"),a.addAttribute("min",u.min),a.addAttribute("max",u.max),u.width&&a.addAttribute("width",u.width),u.styleId&&a.addAttribute("style",u.styleId),u.hidden&&a.addAttribute("hidden","1"),u.bestFit&&a.addAttribute("bestFit","1"),u.outlineLevel&&a.addAttribute("outlineLevel",u.outlineLevel),u.collapsed&&a.addAttribute("collapsed","1"),a.addAttribute("customWidth","1"),a.closeNode()}parseOpen(a){if(a.name==="col"){const u=this.model={min:parseInt(a.attributes.min||"0",10),max:parseInt(a.attributes.max||"0",10),width:a.attributes.width===void 0?void 0:parseFloat(a.attributes.width||"0")};return a.attributes.style&&(u.styleId=parseInt(a.attributes.style,10)),n.parseBoolean(a.attributes.hidden)&&(u.hidden=!0),n.parseBoolean(a.attributes.bestFit)&&(u.bestFit=!0),a.attributes.outlineLevel&&(u.outlineLevel=parseInt(a.attributes.outlineLevel,10)),n.parseBoolean(a.attributes.collapsed)&&(u.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(a,u){a.styleId&&(a.style=u.styles.getStyleModel(a.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(r,i,s){const n=r("../../../utils/under-dash"),o=r("../../../utils/utils"),a=r("../../../utils/col-cache"),u=r("../base-xform"),l=r("../../../doc/range");function c(d,p,g,v){const f=p[g];f!==void 0?d[g]=f:v!==void 0&&(d[g]=v)}function h(d,p,g,v){const f=p[g];f!==void 0&&(d[g]=o.parseBoolean(f))}i.exports=class extends u{get tag(){return"dataValidations"}render(d,p){const g=function(v){const f=n.map(v,(w,_)=>({address:_,dataValidation:w,marked:!1})).sort((w,_)=>n.strcmp(w.address,_.address)),y=n.keyBy(f,"address"),m=(w,_,A)=>{for(let F=0;F<_;F++){const G=a.encodeAddress(w.row+F,A);if(!v[G]||!n.isEqual(v[w.address],v[G]))return!1}return!0};return f.map(w=>{if(!w.marked){const _=a.decodeEx(w.address);if(_.dimensions)return y[_.dimensions].marked=!0,{...w.dataValidation,sqref:w.address};let A=1,F=a.encodeAddress(_.row+A,_.col);for(;v[F]&&n.isEqual(w.dataValidation,v[F]);)A++,F=a.encodeAddress(_.row+A,_.col);let G=1;for(;m(_,A,_.col+G);)G++;for(let L=0;L<A;L++)for(let O=0;O<G;O++)F=a.encodeAddress(_.row+L,_.col+O),y[F].marked=!0;if(A>1||G>1){const L=_.row+(A-1),O=_.col+(G-1);return{...w.dataValidation,sqref:`${w.address}:${a.encodeAddress(L,O)}`}}return{...w.dataValidation,sqref:w.address}}return null}).filter(Boolean)}(p);g.length&&(d.openNode("dataValidations",{count:g.length}),g.forEach(v=>{d.openNode("dataValidation"),v.type!=="any"&&(d.addAttribute("type",v.type),v.operator&&v.type!=="list"&&v.operator!=="between"&&d.addAttribute("operator",v.operator),v.allowBlank&&d.addAttribute("allowBlank","1")),v.showInputMessage&&d.addAttribute("showInputMessage","1"),v.promptTitle&&d.addAttribute("promptTitle",v.promptTitle),v.prompt&&d.addAttribute("prompt",v.prompt),v.showErrorMessage&&d.addAttribute("showErrorMessage","1"),v.errorStyle&&d.addAttribute("errorStyle",v.errorStyle),v.errorTitle&&d.addAttribute("errorTitle",v.errorTitle),v.error&&d.addAttribute("error",v.error),d.addAttribute("sqref",v.sqref),(v.formulae||[]).forEach((f,y)=>{d.openNode("formula"+(y+1)),v.type==="date"?d.writeText(o.dateToExcel(new Date(f))):d.writeText(f),d.closeNode()}),d.closeNode()}),d.closeNode())}parseOpen(d){switch(d.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=d.attributes.sqref;const p={type:d.attributes.type||"any",formulae:[]};switch(d.attributes.type&&h(p,d.attributes,"allowBlank"),h(p,d.attributes,"showInputMessage"),h(p,d.attributes,"showErrorMessage"),p.type){case"any":case"list":case"custom":break;default:c(p,d.attributes,"operator","between")}return c(p,d.attributes,"promptTitle"),c(p,d.attributes,"prompt"),c(p,d.attributes,"errorStyle"),c(p,d.attributes,"errorTitle"),c(p,d.attributes,"error"),this._dataValidation=p,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(d){this._formula&&this._formula.push(d)}parseClose(d){switch(d){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(p=>{p.includes(":")?new l(p).forEachAddress(g=>{this.model[g]=this._dataValidation}):this.model[p]=this._dataValidation}),!0;case"formula1":case"formula2":{let p=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":p=parseInt(p,10);break;case"decimal":p=parseFloat(p);break;case"date":p=o.excelToDate(parseFloat(p))}return this._dataValidation.formulae.push(p),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{get tag(){return"dimension"}render(o,a){a&&o.leafNode("dimension",{ref:a})}parseOpen(o){return o.name==="dimension"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{get tag(){return"drawing"}render(o,a){a&&o.leafNode(this.tag,{"r:id":a.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(r,i,s){const n=r("../composite-xform"),o=r("./cf-ext/conditional-formattings-ext-xform");class a extends n{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new o}}get tag(){return"ext"}hasContent(l){return this.conditionalFormattings.hasContent(l.conditionalFormattings)}prepare(l,c){this.conditionalFormattings.prepare(l.conditionalFormattings,c)}render(l,c){l.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(l,c.conditionalFormattings),l.closeNode()}createNewModel(){return{}}onParserClose(l,c){this.model[l]=c.model}}i.exports=class extends n{constructor(){super(),this.map={ext:this.ext=new a}}get tag(){return"extLst"}prepare(u,l){this.ext.prepare(u,l)}hasContent(u){return this.ext.hasContent(u)}render(u,l){this.hasContent(l)&&(u.openNode("extLst"),this.ext.render(u,l),u.closeNode())}createNewModel(){return{}}onParserClose(u,l){Object.assign(this.model,l.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{get tag(){return"headerFooter"}render(o,a){if(a){o.addRollback();let u=!1;o.openNode("headerFooter"),a.differentFirst&&(o.addAttribute("differentFirst","1"),u=!0),a.differentOddEven&&(o.addAttribute("differentOddEven","1"),u=!0),a.oddHeader&&typeof a.oddHeader=="string"&&(o.leafNode("oddHeader",null,a.oddHeader),u=!0),a.oddFooter&&typeof a.oddFooter=="string"&&(o.leafNode("oddFooter",null,a.oddFooter),u=!0),a.evenHeader&&typeof a.evenHeader=="string"&&(o.leafNode("evenHeader",null,a.evenHeader),u=!0),a.evenFooter&&typeof a.evenFooter=="string"&&(o.leafNode("evenFooter",null,a.evenFooter),u=!0),a.firstHeader&&typeof a.firstHeader=="string"&&(o.leafNode("firstHeader",null,a.firstHeader),u=!0),a.firstFooter&&typeof a.firstFooter=="string"&&(o.leafNode("firstFooter",null,a.firstFooter),u=!0),u?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){switch(o.name){case"headerFooter":return this.model={},o.attributes.differentFirst&&(this.model.differentFirst=parseInt(o.attributes.differentFirst,0)===1),o.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(o.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(o){switch(this.currentNode){case"oddHeader":this.model.oddHeader=o;break;case"oddFooter":this.model.oddFooter=o;break;case"evenHeader":this.model.evenHeader=o;break;case"evenFooter":this.model.evenFooter=o;break;case"firstHeader":this.model.firstHeader=o;break;case"firstFooter":this.model.firstFooter=o}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{get tag(){return"hyperlink"}render(o,a){this.isInternalLink(a)?o.leafNode("hyperlink",{ref:a.address,"r:id":a.rId,tooltip:a.tooltip,location:a.target}):o.leafNode("hyperlink",{ref:a.address,"r:id":a.rId,tooltip:a.tooltip})}parseOpen(o){return o.name==="hyperlink"&&(this.model={address:o.attributes.ref,rId:o.attributes["r:id"],tooltip:o.attributes.tooltip},o.attributes.location&&(this.model.target=o.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(o){return o.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(o.target)}}},{"../base-xform":32}],99:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{get tag(){return"mergeCell"}render(o,a){o.leafNode("mergeCell",{ref:a})}parseOpen(o){return o.name==="mergeCell"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(r,i,s){const n=r("../../../utils/under-dash"),o=r("../../../doc/range"),a=r("../../../utils/col-cache"),u=r("../../../doc/enums");i.exports=class{constructor(){this.merges={}}add(l){if(this.merges[l.master])this.merges[l.master].expandToAddress(l.address);else{const c=`${l.master}:${l.address}`;this.merges[l.master]=new o(c)}}get mergeCells(){return n.map(this.merges,l=>l.range)}reconcile(l,c){n.each(l,h=>{const d=a.decode(h);for(let p=d.top;p<=d.bottom;p++){const g=c[p-1];for(let v=d.left;v<=d.right;v++){const f=g.cells[v-1];f?f.type===u.ValueType.Merge&&(f.master=d.tl):g.cells[v]={type:u.ValueType.Null,address:a.encodeAddress(p,v)}}}})}getMasterAddress(l){const c=this.hash[l];return c&&c.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(r,i,s){const n=r("../base-xform"),o=a=>a!==void 0;i.exports=class extends n{get tag(){return"outlinePr"}render(a,u){return!(!u||!o(u.summaryBelow)&&!o(u.summaryRight))&&(a.leafNode(this.tag,{summaryBelow:o(u.summaryBelow)?Number(u.summaryBelow):void 0,summaryRight:o(u.summaryRight)?Number(u.summaryRight):void 0}),!0)}parseOpen(a){return a.name===this.tag&&(this.model={summaryBelow:o(a.attributes.summaryBelow)?!!Number(a.attributes.summaryBelow):void 0,summaryRight:o(a.attributes.summaryRight)?!!Number(a.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{get tag(){return"brk"}render(o,a){o.leafNode("brk",a)}parseOpen(o){return o.name==="brk"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(r,i,s){const n=r("../../../utils/under-dash"),o=r("../base-xform");i.exports=class extends o{get tag(){return"pageMargins"}render(a,u){if(u){const l={left:u.left,right:u.right,top:u.top,bottom:u.bottom,header:u.header,footer:u.footer};n.some(l,c=>c!==void 0)&&a.leafNode(this.tag,l)}}parseOpen(a){switch(a.name){case this.tag:return this.model={left:parseFloat(a.attributes.left||.7),right:parseFloat(a.attributes.right||.7),top:parseFloat(a.attributes.top||.75),bottom:parseFloat(a.attributes.bottom||.75),header:parseFloat(a.attributes.header||.3),footer:parseFloat(a.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{get tag(){return"pageSetUpPr"}render(o,a){return!(!a||!a.fitToPage)&&(o.leafNode(this.tag,{fitToPage:a.fitToPage?"1":void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={fitToPage:o.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(r,i,s){const n=r("../../../utils/under-dash"),o=r("../base-xform");function a(h){return h?"1":void 0}function u(h){switch(h){case"overThenDown":return h;default:return}}function l(h){switch(h){case"atEnd":case"asDisplyed":return h;default:return}}function c(h){switch(h){case"dash":case"blank":case"NA":return h;default:return}}i.exports=class extends o{get tag(){return"pageSetup"}render(h,d){if(d){const p={paperSize:d.paperSize,orientation:d.orientation,horizontalDpi:d.horizontalDpi,verticalDpi:d.verticalDpi,pageOrder:u(d.pageOrder),blackAndWhite:a(d.blackAndWhite),draft:a(d.draft),cellComments:l(d.cellComments),errors:c(d.errors),scale:d.scale,fitToWidth:d.fitToWidth,fitToHeight:d.fitToHeight,firstPageNumber:d.firstPageNumber,useFirstPageNumber:a(d.firstPageNumber),usePrinterDefaults:a(d.usePrinterDefaults),copies:d.copies};n.some(p,g=>g!==void 0)&&h.leafNode(this.tag,p)}}parseOpen(h){switch(h.name){case this.tag:return this.model={paperSize:(d=h.attributes.paperSize,d!==void 0?parseInt(d,10):void 0),orientation:h.attributes.orientation||"portrait",horizontalDpi:parseInt(h.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(h.attributes.verticalDpi||"4294967295",10),pageOrder:h.attributes.pageOrder||"downThenOver",blackAndWhite:h.attributes.blackAndWhite==="1",draft:h.attributes.draft==="1",cellComments:h.attributes.cellComments||"None",errors:h.attributes.errors||"displayed",scale:parseInt(h.attributes.scale||"100",10),fitToWidth:parseInt(h.attributes.fitToWidth||"1",10),fitToHeight:parseInt(h.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(h.attributes.firstPageNumber||"1",10),useFirstPageNumber:h.attributes.useFirstPageNumber==="1",usePrinterDefaults:h.attributes.usePrinterDefaults==="1",copies:parseInt(h.attributes.copies||"1",10)},!0;default:return!1}var d}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{get tag(){return"picture"}render(o,a){a&&o.leafNode(this.tag,{"r:id":a.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(r,i,s){const n=r("../../../utils/under-dash"),o=r("../base-xform");function a(u){return u?"1":void 0}i.exports=class extends o{get tag(){return"printOptions"}render(u,l){if(l){const c={headings:a(l.showRowColHeaders),gridLines:a(l.showGridLines),horizontalCentered:a(l.horizontalCentered),verticalCentered:a(l.verticalCentered)};n.some(c,h=>h!==void 0)&&u.leafNode(this.tag,c)}}parseOpen(u){switch(u.name){case this.tag:return this.model={showRowColHeaders:u.attributes.headings==="1",showGridLines:u.attributes.gridLines==="1",horizontalCentered:u.attributes.horizontalCentered==="1",verticalCentered:u.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(r,i,s){const n=r("./page-breaks-xform"),o=r("../list-xform");i.exports=class extends o{constructor(){super({tag:"rowBreaks",count:!0,childXform:new n})}render(a,u){if(u&&u.length){a.openNode(this.tag,this.$),this.count&&(a.addAttribute(this.$count,u.length),a.addAttribute("manualBreakCount",u.length));const{childXform:l}=this;u.forEach(c=>{l.render(a,c)}),a.closeNode()}else this.empty&&a.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(r,i,s){const n=r("../base-xform"),o=r("../../../utils/utils"),a=r("./cell-xform");i.exports=class extends n{constructor(u){super(),this.maxItems=u&&u.maxItems,this.map={c:new a}}get tag(){return"row"}prepare(u,l){const c=l.styles.addStyleModel(u.style);c&&(u.styleId=c);const h=this.map.c;u.cells.forEach(d=>{h.prepare(d,l)})}render(u,l,c){u.openNode("row"),u.addAttribute("r",l.number),l.height&&(u.addAttribute("ht",l.height),u.addAttribute("customHeight","1")),l.hidden&&u.addAttribute("hidden","1"),l.min>0&&l.max>0&&l.min<=l.max&&u.addAttribute("spans",`${l.min}:${l.max}`),l.styleId&&(u.addAttribute("s",l.styleId),u.addAttribute("customFormat","1")),u.addAttribute("x14ac:dyDescent","0.25"),l.outlineLevel&&u.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&u.addAttribute("collapsed","1");const h=this.map.c;l.cells.forEach(d=>{h.render(u,d,c)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;if(u.name==="row"){this.numRowsSeen+=1;const l=u.attributes.spans?u.attributes.spans.split(":").map(h=>parseInt(h,10)):[void 0,void 0],c=this.model={number:parseInt(u.attributes.r,10),min:l[0],max:l[1],cells:[]};return u.attributes.s&&(c.styleId=parseInt(u.attributes.s,10)),o.parseBoolean(u.attributes.hidden)&&(c.hidden=!0),o.parseBoolean(u.attributes.bestFit)&&(c.bestFit=!0),u.attributes.ht&&(c.height=parseFloat(u.attributes.ht)),u.attributes.outlineLevel&&(c.outlineLevel=parseInt(u.attributes.outlineLevel,10)),o.parseBoolean(u.attributes.collapsed)&&(c.collapsed=!0),!0}return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(u,l){u.style=u.styleId?l.styles.getStyleModel(u.styleId):{},u.styleId!==void 0&&(u.styleId=void 0);const c=this.map.c;u.cells.forEach(h=>{c.reconcile(h,l)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(r,i,s){const n=r("../../../utils/under-dash"),o=r("../base-xform");i.exports=class extends o{get tag(){return"sheetFormatPr"}render(a,u){if(u){const l={defaultRowHeight:u.defaultRowHeight,outlineLevelRow:u.outlineLevelRow,outlineLevelCol:u.outlineLevelCol,"x14ac:dyDescent":u.dyDescent};u.defaultColWidth&&(l.defaultColWidth=u.defaultColWidth),u.defaultRowHeight&&u.defaultRowHeight===15||(l.customHeight="1"),n.some(l,c=>c!==void 0)&&a.leafNode("sheetFormatPr",l)}}parseOpen(a){return a.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(a.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(a.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(a.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(a.attributes.outlineLevelCol||"0",10)},a.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(a.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(r,i,s){const n=r("../base-xform"),o=r("../style/color-xform"),a=r("./page-setup-properties-xform"),u=r("./outline-properties-xform");i.exports=class extends n{constructor(){super(),this.map={tabColor:new o("tabColor"),pageSetUpPr:new a,outlinePr:new u}}get tag(){return"sheetPr"}render(l,c){if(c){l.addRollback(),l.openNode("sheetPr");let h=!1;h=this.map.tabColor.render(l,c.tabColor)||h,h=this.map.pageSetUpPr.render(l,c.pageSetup)||h,h=this.map.outlinePr.render(l,c.outlineProperties)||h,h?(l.closeNode(),l.commit()):l.rollback()}}parseOpen(l){return this.parser?(this.parser.parseOpen(l),!0):l.name===this.tag?(this.reset(),!0):!!this.map[l.name]&&(this.parser=this.map[l.name],this.parser.parseOpen(l),!0)}parseText(l){return!!this.parser&&(this.parser.parseText(l),!0)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(r,i,s){const n=r("../../../utils/under-dash"),o=r("../base-xform");function a(l,c){return l?c:void 0}function u(l,c){return l===c||void 0}i.exports=class extends o{get tag(){return"sheetProtection"}render(l,c){if(c){const h={sheet:a(c.sheet,"1"),selectLockedCells:c.selectLockedCells===!1?"1":void 0,selectUnlockedCells:c.selectUnlockedCells===!1?"1":void 0,formatCells:a(c.formatCells,"0"),formatColumns:a(c.formatColumns,"0"),formatRows:a(c.formatRows,"0"),insertColumns:a(c.insertColumns,"0"),insertRows:a(c.insertRows,"0"),insertHyperlinks:a(c.insertHyperlinks,"0"),deleteColumns:a(c.deleteColumns,"0"),deleteRows:a(c.deleteRows,"0"),sort:a(c.sort,"0"),autoFilter:a(c.autoFilter,"0"),pivotTables:a(c.pivotTables,"0")};c.sheet&&(h.algorithmName=c.algorithmName,h.hashValue=c.hashValue,h.saltValue=c.saltValue,h.spinCount=c.spinCount,h.objects=a(c.objects===!1,"1"),h.scenarios=a(c.scenarios===!1,"1")),n.some(h,d=>d!==void 0)&&l.leafNode(this.tag,h)}}parseOpen(l){switch(l.name){case this.tag:return this.model={sheet:u(l.attributes.sheet,"1"),objects:l.attributes.objects!=="1"&&void 0,scenarios:l.attributes.scenarios!=="1"&&void 0,selectLockedCells:l.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:l.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:u(l.attributes.formatCells,"0"),formatColumns:u(l.attributes.formatColumns,"0"),formatRows:u(l.attributes.formatRows,"0"),insertColumns:u(l.attributes.insertColumns,"0"),insertRows:u(l.attributes.insertRows,"0"),insertHyperlinks:u(l.attributes.insertHyperlinks,"0"),deleteColumns:u(l.attributes.deleteColumns,"0"),deleteRows:u(l.attributes.deleteRows,"0"),sort:u(l.attributes.sort,"0"),autoFilter:u(l.attributes.autoFilter,"0"),pivotTables:u(l.attributes.pivotTables,"0")},l.attributes.algorithmName&&(this.model.algorithmName=l.attributes.algorithmName,this.model.hashValue=l.attributes.hashValue,this.model.saltValue=l.attributes.saltValue,this.model.spinCount=parseInt(l.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(r,i,s){const n=r("../../../utils/col-cache"),o=r("../base-xform"),a={frozen:"frozen",frozenSplit:"frozen",split:"split"};i.exports=class extends o{get tag(){return"sheetView"}prepare(u){switch(u.state){case"frozen":case"split":break;default:u.state="normal"}}render(u,l){u.openNode("sheetView",{workbookViewId:l.workbookViewId||0});const c=function(v,f,y){y&&u.addAttribute(v,f)};let h,d,p,g;switch(c("rightToLeft","1",l.rightToLeft===!0),c("tabSelected","1",l.tabSelected),c("showRuler","0",l.showRuler===!1),c("showRowColHeaders","0",l.showRowColHeaders===!1),c("showGridLines","0",l.showGridLines===!1),c("zoomScale",l.zoomScale,l.zoomScale),c("zoomScaleNormal",l.zoomScaleNormal,l.zoomScaleNormal),c("view",l.style,l.style),l.state){case"frozen":d=l.xSplit||0,p=l.ySplit||0,h=l.topLeftCell||n.getAddress(p+1,d+1).address,g=(l.xSplit&&l.ySplit?"bottomRight":l.xSplit&&"topRight")||"bottomLeft",u.leafNode("pane",{xSplit:l.xSplit||void 0,ySplit:l.ySplit||void 0,topLeftCell:h,activePane:g,state:"frozen"}),u.leafNode("selection",{pane:g,activeCell:l.activeCell,sqref:l.activeCell});break;case"split":l.activePane==="topLeft"&&(l.activePane=void 0),u.leafNode("pane",{xSplit:l.xSplit||void 0,ySplit:l.ySplit||void 0,topLeftCell:l.topLeftCell,activePane:l.activePane}),u.leafNode("selection",{pane:l.activePane,activeCell:l.activeCell,sqref:l.activeCell});break;case"normal":l.activeCell&&u.leafNode("selection",{activeCell:l.activeCell,sqref:l.activeCell})}u.closeNode()}parseOpen(u){switch(u.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(u.attributes.workbookViewId,10),rightToLeft:u.attributes.rightToLeft==="1",tabSelected:u.attributes.tabSelected==="1",showRuler:u.attributes.showRuler!=="0",showRowColHeaders:u.attributes.showRowColHeaders!=="0",showGridLines:u.attributes.showGridLines!=="0",zoomScale:parseInt(u.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(u.attributes.zoomScaleNormal||"100",10),style:u.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(u.attributes.xSplit||"0",10),ySplit:parseInt(u.attributes.ySplit||"0",10),topLeftCell:u.attributes.topLeftCell,activePane:u.attributes.activePane||"topLeft",state:u.attributes.state},!0;case"selection":{const l=u.attributes.pane||"topLeft";return this.selections[l]={pane:l,activeCell:u.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(u){let l,c;switch(u){case"sheetView":return this.sheetView&&this.pane?(l=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:a[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(l.activePane=this.pane.activePane),c=this.selections[this.pane.activePane],c&&c.activeCell&&(l.activeCell=c.activeCell),this.sheetView.style&&(l.style=this.sheetView.style)):(l=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},c=this.selections.topLeft,c&&c.activeCell&&(l.activeCell=c.activeCell),this.sheetView.style&&(l.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{get tag(){return"tablePart"}render(o,a){a&&o.leafNode(this.tag,{"r:id":a.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(r,i,s){const n=r("../../../utils/under-dash"),o=r("../../../utils/col-cache"),a=r("../../../utils/xml-stream"),u=r("../../rel-type"),l=r("./merges"),c=r("../base-xform"),h=r("../list-xform"),d=r("./row-xform"),p=r("./col-xform"),g=r("./dimension-xform"),v=r("./hyperlink-xform"),f=r("./merge-cell-xform"),y=r("./data-validations-xform"),m=r("./sheet-properties-xform"),w=r("./sheet-format-properties-xform"),_=r("./sheet-view-xform"),A=r("./sheet-protection-xform"),F=r("./page-margins-xform"),G=r("./page-setup-xform"),L=r("./print-options-xform"),O=r("./auto-filter-xform"),V=r("./picture-xform"),z=r("./drawing-xform"),H=r("./table-part-xform"),T=r("./row-breaks-xform"),M=r("./header-footer-xform"),x=r("./cf/conditional-formattings-xform"),C=r("./ext-lst-xform"),S=(E,R)=>{if(!R||!R.length)return E;if(!E||!E.length)return R;const I={},k={};return E.forEach(U=>{I[U.ref]=U,U.rules.forEach(j=>{const{x14Id:X}=j;X&&(k[X]=j)})}),R.forEach(U=>{U.rules.forEach(j=>{const X=k[j.x14Id];X?((N,K)=>{Object.keys(K).forEach(P=>{const D=N[P],W=K[P];D===void 0&&W!==void 0&&(N[P]=W)})})(X,j):I[U.ref]?I[U.ref].rules.push(j):E.push({ref:U.ref,rules:[j]})})}),E};class b extends c{constructor(R){super();const{maxRows:I,maxCols:k,ignoreNodes:U}=R||{};this.ignoreNodes=U||[],this.map={sheetPr:new m,dimension:new g,sheetViews:new h({tag:"sheetViews",count:!1,childXform:new _}),sheetFormatPr:new w,cols:new h({tag:"cols",count:!1,childXform:new p}),sheetData:new h({tag:"sheetData",count:!1,empty:!0,childXform:new d({maxItems:k}),maxItems:I}),autoFilter:new O,mergeCells:new h({tag:"mergeCells",count:!0,childXform:new f}),rowBreaks:new T,hyperlinks:new h({tag:"hyperlinks",count:!1,childXform:new v}),pageMargins:new F,dataValidations:new y,pageSetup:new G,headerFooter:new M,printOptions:new L,picture:new V,drawing:new z,sheetProtection:new A,tableParts:new h({tag:"tableParts",count:!0,childXform:new H}),conditionalFormatting:new x,extLst:new C}}prepare(R,I){I.merges=new l,R.hyperlinks=I.hyperlinks=[],R.comments=I.comments=[],I.formulae={},I.siFormulae=0,this.map.cols.prepare(R.cols,I),this.map.sheetData.prepare(R.rows,I),this.map.conditionalFormatting.prepare(R.conditionalFormattings,I),R.mergeCells=I.merges.mergeCells;const k=R.rels=[];function U(N){return"rId"+(N.length+1)}if(R.hyperlinks.forEach(N=>{const K=U(k);N.rId=K,k.push({Id:K,Type:u.Hyperlink,Target:N.target,TargetMode:"External"})}),R.comments.length>0){const N={Id:U(k),Type:u.Comments,Target:`../comments${R.id}.xml`};k.push(N);const K={Id:U(k),Type:u.VmlDrawing,Target:`../drawings/vmlDrawing${R.id}.vml`};k.push(K),R.comments.forEach(P=>{P.refAddress=o.decodeAddress(P.ref)}),I.commentRefs.push({commentName:"comments"+R.id,vmlDrawing:"vmlDrawing"+R.id})}const j=[];let X;R.media.forEach(N=>{if(N.type==="background"){const K=U(k);X=I.media[N.imageId],k.push({Id:K,Type:u.Image,Target:`../media/${X.name}.${X.extension}`}),R.background={rId:K},R.image=I.media[N.imageId]}else if(N.type==="image"){let{drawing:K}=R;X=I.media[N.imageId],K||(K=R.drawing={rId:U(k),name:"drawing"+ ++I.drawingsCount,anchors:[],rels:[]},I.drawings.push(K),k.push({Id:K.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${K.name}.xml`}));let P=this.preImageId===N.imageId?j[N.imageId]:j[K.rels.length];P||(P=U(K.rels),j[K.rels.length]=P,K.rels.push({Id:P,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${X.name}.${X.extension}`}));const D={picture:{rId:P},range:N.range};if(N.hyperlinks&&N.hyperlinks.hyperlink){const W=U(K.rels);j[K.rels.length]=W,D.picture.hyperlinks={tooltip:N.hyperlinks.tooltip,rId:W},K.rels.push({Id:W,Type:u.Hyperlink,Target:N.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=N.imageId,K.anchors.push(D)}}),R.tables.forEach(N=>{const K=U(k);N.rId=K,k.push({Id:K,Type:u.Table,Target:"../tables/"+N.target}),N.columns.forEach(P=>{const{style:D}=P;D&&(P.dxfId=I.styles.addDxfStyle(D))})}),this.map.extLst.prepare(R,I)}render(R,I){R.openXml(a.StdDocAttributes),R.openNode("worksheet",b.WORKSHEET_ATTRIBUTES);const k=I.properties?{defaultRowHeight:I.properties.defaultRowHeight,dyDescent:I.properties.dyDescent,outlineLevelCol:I.properties.outlineLevelCol,outlineLevelRow:I.properties.outlineLevelRow}:void 0;I.properties&&I.properties.defaultColWidth&&(k.defaultColWidth=I.properties.defaultColWidth);const U={outlineProperties:I.properties&&I.properties.outlineProperties,tabColor:I.properties&&I.properties.tabColor,pageSetup:I.pageSetup&&I.pageSetup.fitToPage?{fitToPage:I.pageSetup.fitToPage}:void 0},j=I.pageSetup&&I.pageSetup.margins,X={showRowColHeaders:I.pageSetup&&I.pageSetup.showRowColHeaders,showGridLines:I.pageSetup&&I.pageSetup.showGridLines,horizontalCentered:I.pageSetup&&I.pageSetup.horizontalCentered,verticalCentered:I.pageSetup&&I.pageSetup.verticalCentered},N=I.sheetProtection;this.map.sheetPr.render(R,U),this.map.dimension.render(R,I.dimensions),this.map.sheetViews.render(R,I.views),this.map.sheetFormatPr.render(R,k),this.map.cols.render(R,I.cols),this.map.sheetData.render(R,I.rows),this.map.sheetProtection.render(R,N),this.map.autoFilter.render(R,I.autoFilter),this.map.mergeCells.render(R,I.mergeCells),this.map.conditionalFormatting.render(R,I.conditionalFormattings),this.map.dataValidations.render(R,I.dataValidations),this.map.hyperlinks.render(R,I.hyperlinks),this.map.printOptions.render(R,X),this.map.pageMargins.render(R,j),this.map.pageSetup.render(R,I.pageSetup),this.map.headerFooter.render(R,I.headerFooter),this.map.rowBreaks.render(R,I.rowBreaks),this.map.drawing.render(R,I.drawing),this.map.picture.render(R,I.background),this.map.tableParts.render(R,I.tables),this.map.extLst.render(R,I),I.rels&&I.rels.forEach(K=>{K.Type===u.VmlDrawing&&R.leafNode("legacyDrawing",{"r:id":K.Id})}),R.closeNode()}parseOpen(R){return this.parser?(this.parser.parseOpen(R),!0):R.name==="worksheet"?(n.each(this.map,I=>{I.reset()}),!0):(this.map[R.name]&&!this.ignoreNodes.includes(R.name)&&(this.parser=this.map[R.name],this.parser.parseOpen(R)),!0)}parseText(R){this.parser&&this.parser.parseText(R)}parseClose(R){if(this.parser)return this.parser.parseClose(R)||(this.parser=void 0),!0;switch(R){case"worksheet":{const I=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(I.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(I.outlineProperties=this.map.sheetPr.model.outlineProperties);const k={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},U=Object.assign(k,this.map.pageSetup.model,this.map.printOptions.model),j=S(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:I,views:this.map.sheetViews.model,pageSetup:U,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:j},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(R,I){const k=(R.relationships||[]).reduce((j,X)=>{if(j[X.Id]=X,X.Type===u.Comments&&(R.comments=I.comments[X.Target].comments),X.Type===u.VmlDrawing&&R.comments&&R.comments.length){const N=I.vmlDrawings[X.Target].comments;R.comments.forEach((K,P)=>{K.note=Object.assign({},K.note,N[P])})}return j},{});if(I.commentsMap=(R.comments||[]).reduce((j,X)=>(X.ref&&(j[X.ref]=X),j),{}),I.hyperlinkMap=(R.hyperlinks||[]).reduce((j,X)=>(X.rId&&(j[X.address]=k[X.rId].Target),j),{}),I.formulae={},R.rows=R.rows&&R.rows.filter(Boolean)||[],R.rows.forEach(j=>{j.cells=j.cells&&j.cells.filter(Boolean)||[]}),this.map.cols.reconcile(R.cols,I),this.map.sheetData.reconcile(R.rows,I),this.map.conditionalFormatting.reconcile(R.conditionalFormattings,I),R.media=[],R.drawing){const j=k[R.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(j){const X=j[1];I.drawings[X].anchors.forEach(N=>{if(N.medium){const K={type:"image",imageId:N.medium.index,range:N.range,hyperlinks:N.picture.hyperlinks};R.media.push(K)}})}}const U=R.background&&k[R.background.rId];if(U){const j=U.Target.split("/media/")[1],X=I.mediaIndex&&I.mediaIndex[j];X!==void 0&&R.media.push({type:"background",imageId:X})}R.tables=(R.tables||[]).map(j=>{const X=k[j.rId];return I.tables[X.Target]}),delete R.relationships,delete R.hyperlinks,delete R.comments}}b.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},i.exports=b},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{constructor(o){super(),this.tag=o.tag,this.attr=o.attr}render(o,a){a&&(o.openNode(this.tag),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this._format=o.format||function(a){try{return Number.isNaN(a.getTime())?"":a.toISOString()}catch{return""}},this._parse=o.parse||function(a){return new Date(a)}}render(o,a){a&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,this._format(a)):o.writeText(this._format(a)),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=this._parse(o.attributes[this.attr]):this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this.zero=o.zero}render(o,a){(a||this.zero)&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,a):o.writeText(a),o.closeNode())}parseOpen(o){return o.name===this.tag&&(this.attr?this.model=parseInt(o.attributes[this.attr],10):this.text=[],!0)}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs}render(o,a){a!==void 0&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,a):o.writeText(a),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=o.attributes[this.attr]:this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(r,i,s){const n=r("./base-xform"),o=r("../../utils/xml-stream");i.exports=class extends n{constructor(a){super(),this._model=a}render(a){if(!this._xml){const u=new o;(function l(c,h){c.openNode(h.tag,h.$),h.c&&h.c.forEach(d=>{l(c,d)}),h.t&&c.writeText(h.t),c.closeNode()})(u,this._model),this._xml=u.xml}a.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(a){switch(a){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(r,i,s){const n=r("./text-xform"),o=r("./rich-text-xform"),a=r("../base-xform");i.exports=class extends a{constructor(){super(),this.map={r:new o,t:new n}}get tag(){return"rPh"}render(u,l){if(u.openNode(this.tag,{sb:l.sb||0,eb:l.eb||0}),l&&l.hasOwnProperty("richText")&&l.richText){const{r:c}=this.map;l.richText.forEach(h=>{c.render(u,h)})}else l&&this.map.t.render(u,l.text);u.closeNode()}parseOpen(u){const{name:l}=u;return this.parser?(this.parser.parseOpen(u),!0):l===this.tag?(this.model={sb:parseInt(u.attributes.sb,10),eb:parseInt(u.attributes.eb,10)},!0):(this.parser=this.map[l],!!this.parser&&(this.parser.parseOpen(u),!0))}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser){if(!this.parser.parseClose(u)){switch(u){case"r":{let l=this.model.richText;l||(l=this.model.richText=[]),l.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(u){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(r,i,s){const n=r("./text-xform"),o=r("../style/font-xform"),a=r("../base-xform");class u extends a{constructor(c){super(),this.model=c}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new n)}get fontXform(){return this._fontXform||(this._fontXform=new o(u.FONT_OPTIONS))}render(c,h){h=h||this.model,c.openNode("r"),h.font&&this.fontXform.render(c,h.font),this.textXform.render(c,h.text),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(c),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){switch(c){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}}u.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},i.exports=u},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(r,i,s){const n=r("./text-xform"),o=r("./rich-text-xform"),a=r("./phonetic-text-xform"),u=r("../base-xform");i.exports=class extends u{constructor(l){super(),this.model=l,this.map={r:new o,t:new n,rPh:new a}}get tag(){return"si"}render(l,c){l.openNode(this.tag),c&&c.hasOwnProperty("richText")&&c.richText?c.richText.length?c.richText.forEach(h=>{this.map.r.render(l,h)}):this.map.t.render(l,""):c!=null&&this.map.t.render(l,c),l.closeNode()}parseOpen(l){const{name:c}=l;return this.parser?(this.parser.parseOpen(l),!0):c===this.tag?(this.model={},!0):(this.parser=this.map[c],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let c=this.model.richText;c||(c=this.model.richText=[]),c.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(r,i,s){const n=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("./shared-string-xform");i.exports=class extends o{constructor(u){super(),this.model=u||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new a)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(u){return this.model.values[u]}add(u){return u.richText?this.addRichText(u):this.addText(u)}addText(u){let l=this.hash[u];return l===void 0&&(l=this.hash[u]=this.model.values.length,this.model.values.push(u)),this.model.count++,l}addRichText(u){const l=this.sharedStringXform.toXml(u);let c=this.rich[l];return c===void 0&&(c=this.rich[l]=this.model.values.length,this.model.values.push(u)),this.model.count++,c}render(u,l){l=l||this._values,u.openXml(n.StdDocAttributes),u.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:l.count,uniqueCount:l.values.length});const c=this.sharedStringXform;l.values.forEach(h=>{c.render(u,h)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(u),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(u){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{get tag(){return"t"}render(o,a){o.openNode("t"),/^\s|\n|\s$/.test(a)&&o.addAttribute("xml:space","preserve"),o.writeText(a),o.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(o,a)=>String.fromCharCode(parseInt(a,16)))}parseOpen(o){switch(o.name){case"t":return this._text=[],!0;default:return!1}}parseText(o){this._text.push(o)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(r,i,s){const n=r("../../../doc/enums"),o=r("../../../utils/utils"),a=r("../base-xform"),u={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((c,h)=>(c[h]=!0,c),{}),horizontal(c){return this.horizontalValues[c]?c:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((c,h)=>(c[h]=!0,c),{}),vertical(c){return c==="middle"?"center":this.verticalValues[c]?c:void 0},wrapText:c=>!!c||void 0,shrinkToFit:c=>!!c||void 0,textRotation(c){switch(c){case"vertical":return c;default:return(c=o.validInt(c))>=-90&&c<=90?c:void 0}},indent:c=>(c=o.validInt(c),Math.max(0,c)),readingOrder(c){switch(c){case"ltr":return n.ReadingOrder.LeftToRight;case"rtl":return n.ReadingOrder.RightToLeft;default:return}}},l={toXml(c){if(c=u.textRotation(c)){if(c==="vertical")return 255;const h=Math.round(c);if(h>=0&&h<=90)return h;if(h<0&&h>=-90)return 90-h}},toModel(c){const h=o.validInt(c);if(h!==void 0){if(h===255)return"vertical";if(h>=0&&h<=90)return h;if(h>90&&h<=180)return 90-h}}};i.exports=class extends a{get tag(){return"alignment"}render(c,h){c.addRollback(),c.openNode("alignment");let d=!1;function p(g,v){v&&(c.addAttribute(g,v),d=!0)}p("horizontal",u.horizontal(h.horizontal)),p("vertical",u.vertical(h.vertical)),p("wrapText",!!u.wrapText(h.wrapText)&&"1"),p("shrinkToFit",!!u.shrinkToFit(h.shrinkToFit)&&"1"),p("indent",u.indent(h.indent)),p("textRotation",l.toXml(h.textRotation)),p("readingOrder",u.readingOrder(h.readingOrder)),c.closeNode(),d?c.commit():c.rollback()}parseOpen(c){const h={};let d=!1;function p(g,v,f){g&&(h[v]=f,d=!0)}p(c.attributes.horizontal,"horizontal",c.attributes.horizontal),p(c.attributes.vertical,"vertical",c.attributes.vertical==="center"?"middle":c.attributes.vertical),p(c.attributes.wrapText,"wrapText",o.parseBoolean(c.attributes.wrapText)),p(c.attributes.shrinkToFit,"shrinkToFit",o.parseBoolean(c.attributes.shrinkToFit)),p(c.attributes.indent,"indent",parseInt(c.attributes.indent,10)),p(c.attributes.textRotation,"textRotation",l.toModel(c.attributes.textRotation)),p(c.attributes.readingOrder,"readingOrder",c.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=d?h:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(r,i,s){const n=r("../base-xform"),o=r("../../../utils/utils"),a=r("./color-xform");class u extends n{constructor(c){super(),this.name=c,this.map={color:new a}}get tag(){return this.name}render(c,h,d){const p=h&&h.color||d||this.defaultColor;c.openNode(this.name),h&&h.style&&(c.addAttribute("style",h.style),p&&this.map.color.render(c,p)),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.name:{const{style:h}=c.attributes;return this.model=h?{style:h}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):(c===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(c){return u.validStyleValues[c]}}u.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((l,c)=>(l[c]=!0,l),{}),i.exports=class extends n{constructor(){super(),this.map={top:new u("top"),left:new u("left"),bottom:new u("bottom"),right:new u("right"),diagonal:new u("diagonal")}}render(l,c){const{color:h}=c;function d(p,g){p&&!p.color&&c.color&&(p={...p,color:c.color}),g.render(l,p,h)}l.openNode("border"),c.diagonal&&c.diagonal.style&&(c.diagonal.up&&l.addAttribute("diagonalUp","1"),c.diagonal.down&&l.addAttribute("diagonalDown","1")),d(c.left,this.map.left),d(c.right,this.map.right),d(c.top,this.map.top),d(c.bottom,this.map.bottom),d(c.diagonal,this.map.diagonal),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"border":return this.reset(),this.diagonalUp=o.parseBoolean(l.attributes.diagonalUp),this.diagonalDown=o.parseBoolean(l.attributes.diagonalDown),!0;default:return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;if(l==="border"){const c=this.model={},h=function(d,p,g){p&&(g&&Object.assign(p,g),c[d]=p)};h("left",this.map.left.model),h("right",this.map.right.model),h("top",this.map.top.model),h("bottom",this.map.bottom.model),h("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{constructor(o){super(),this.name=o||"color"}get tag(){return this.name}render(o,a){return!!a&&(o.openNode(this.name),a.argb?o.addAttribute("rgb",a.argb):a.theme!==void 0?(o.addAttribute("theme",a.theme),a.tint!==void 0&&o.addAttribute("tint",a.tint)):a.indexed!==void 0?o.addAttribute("indexed",a.indexed):o.addAttribute("auto","1"),o.closeNode(),!0)}parseOpen(o){return o.name===this.name&&(o.attributes.rgb?this.model={argb:o.attributes.rgb}:o.attributes.theme?(this.model={theme:parseInt(o.attributes.theme,10)},o.attributes.tint&&(this.model.tint=parseFloat(o.attributes.tint))):o.attributes.indexed?this.model={indexed:parseInt(o.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(r,i,s){const n=r("../base-xform"),o=r("./alignment-xform"),a=r("./border-xform"),u=r("./fill-xform"),l=r("./font-xform"),c=r("./numfmt-xform"),h=r("./protection-xform");i.exports=class extends n{constructor(){super(),this.map={alignment:new o,border:new a,fill:new u,font:new l,numFmt:new c,protection:new h}}get tag(){return"dxf"}render(d,p){if(d.openNode(this.tag),p.font&&this.map.font.render(d,p.font),p.numFmt&&p.numFmtId){const g={id:p.numFmtId,formatCode:p.numFmt};this.map.numFmt.render(d,g)}p.fill&&this.map.fill.render(d,p.fill),p.alignment&&this.map.alignment.render(d,p.alignment),p.border&&this.map.border.render(d,p.border),p.protection&&this.map.protection.render(d,p.protection),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d),!0}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):d!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(r,i,s){const n=r("../base-xform"),o=r("./color-xform");class a extends n{constructor(){super(),this.map={color:new o}}get tag(){return"stop"}render(d,p){d.openNode("stop"),d.addAttribute("position",p.position),this.map.color.render(d,p.color),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"stop":return this.model={position:parseFloat(d.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(d),!0;default:return!1}}parseText(){}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class u extends n{constructor(){super(),this.map={fgColor:new o("fgColor"),bgColor:new o("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(d,p){d.openNode("patternFill"),d.addAttribute("patternType",p.pattern),p.fgColor&&this.map.fgColor.render(d,p.fgColor),p.bgColor&&this.map.bgColor.render(d,p.bgColor),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"patternFill":return this.model={type:"pattern",pattern:d.attributes.patternType},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.parser.model&&(this.model[d]=this.parser.model),this.parser=void 0),!0)}}class l extends n{constructor(){super(),this.map={stop:new a}}get name(){return"gradient"}get tag(){return"gradientFill"}render(d,p){switch(d.openNode("gradientFill"),p.gradient){case"angle":d.addAttribute("degree",p.degree);break;case"path":d.addAttribute("type","path"),p.center.left&&(d.addAttribute("left",p.center.left),p.center.right===void 0&&d.addAttribute("right",p.center.left)),p.center.right&&d.addAttribute("right",p.center.right),p.center.top&&(d.addAttribute("top",p.center.top),p.center.bottom===void 0&&d.addAttribute("bottom",p.center.top)),p.center.bottom&&d.addAttribute("bottom",p.center.bottom)}const g=this.map.stop;p.stops.forEach(v=>{g.render(d,v)}),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"gradientFill":{const p=this.model={stops:[]};return d.attributes.degree?(p.gradient="angle",p.degree=parseInt(d.attributes.degree,10)):d.attributes.type==="path"&&(p.gradient="path",p.center={left:d.attributes.left?parseFloat(d.attributes.left):0,top:d.attributes.top?parseFloat(d.attributes.top):0},d.attributes.right!==d.attributes.left&&(p.center.right=d.attributes.right?parseFloat(d.attributes.right):0),d.attributes.bottom!==d.attributes.top&&(p.center.bottom=d.attributes.bottom?parseFloat(d.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(d),!0;default:return!1}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class c extends n{constructor(){super(),this.map={patternFill:new u,gradientFill:new l}}get tag(){return"fill"}render(d,p){switch(d.addRollback(),d.openNode("fill"),p.type){case"pattern":this.map.patternFill.render(d,p);break;case"gradient":this.map.gradientFill.render(d,p);break;default:return void d.rollback()}d.closeNode(),d.commit()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"fill":return this.model={},!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return!!this.parser&&(this.parser.parseClose(d)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(d){return c.validPatternValues[d]}}c.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((h,d)=>(h[d]=!0,h),{}),c.StopXform=a,c.PatternFillXform=u,c.GradientFillXform=l,i.exports=c},{"../base-xform":32,"./color-xform":128}],131:[function(r,i,s){const n=r("./color-xform"),o=r("../simple/boolean-xform"),a=r("../simple/integer-xform"),u=r("../simple/string-xform"),l=r("./underline-xform"),c=r("../../../utils/under-dash"),h=r("../base-xform");class d extends h{constructor(g){super(),this.options=g||d.OPTIONS,this.map={b:{prop:"bold",xform:new o({tag:"b",attr:"val"})},i:{prop:"italic",xform:new o({tag:"i",attr:"val"})},u:{prop:"underline",xform:new l},charset:{prop:"charset",xform:new a({tag:"charset",attr:"val"})},color:{prop:"color",xform:new n},condense:{prop:"condense",xform:new o({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new o({tag:"extend",attr:"val"})},family:{prop:"family",xform:new a({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new o({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new u({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new u({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new o({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new o({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new a({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new u({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(g,v){const{map:f}=this;g.openNode(this.options.tagName),c.each(this.map,(y,m)=>{f[m].xform.render(g,v[y.prop])}),g.closeNode()}parseOpen(g){if(this.parser)return this.parser.parseOpen(g),!0;if(this.map[g.name])return this.parser=this.map[g.name].xform,this.parser.parseOpen(g);switch(g.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(g){this.parser&&this.parser.parseText(g)}parseClose(g){if(this.parser&&!this.parser.parseClose(g)){const v=this.map[g];return this.parser.model&&(this.model[v.prop]=this.parser.model),this.parser=void 0,!0}switch(g){case this.options.tagName:return!1;default:return!0}}}d.OPTIONS={tagName:"font",fontNameTag:"name"},i.exports=d},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(r,i,s){const n=r("../../../utils/under-dash"),o=r("../../defaultnumformats"),a=r("../base-xform"),u=function(){const c={};return n.each(o,(h,d)=>{h.f&&(c[h.f]=parseInt(d,10))}),c}();class l extends a{constructor(h,d){super(),this.id=h,this.formatCode=d}get tag(){return"numFmt"}render(h,d){h.leafNode("numFmt",{numFmtId:d.id,formatCode:d.formatCode})}parseOpen(h){switch(h.name){case"numFmt":return this.model={id:parseInt(h.attributes.numFmtId,10),formatCode:h.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}l.getDefaultFmtId=function(c){return u[c]},l.getDefaultFmtCode=function(c){return o[c]&&o[c].f},i.exports=l},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(r,i,s){const n=r("../base-xform"),o={boolean:(a,u)=>a===void 0?u:a};i.exports=class extends n{get tag(){return"protection"}render(a,u){a.addRollback(),a.openNode("protection");let l=!1;function c(h,d){d!==void 0&&(a.addAttribute(h,d),l=!0)}c("locked",o.boolean(u.locked,!0)?void 0:"0"),c("hidden",o.boolean(u.hidden,!1)?"1":void 0),a.closeNode(),l?a.commit():a.rollback()}parseOpen(a){const u={locked:a.attributes.locked!=="0",hidden:a.attributes.hidden==="1"},l=!u.locked||u.hidden;this.model=l?u:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(r,i,s){const n=r("../base-xform"),o=r("./alignment-xform"),a=r("./protection-xform");i.exports=class extends n{constructor(u){super(),this.xfId=!(!u||!u.xfId),this.map={alignment:new o,protection:new a}}get tag(){return"xf"}render(u,l){u.openNode("xf",{numFmtId:l.numFmtId||0,fontId:l.fontId||0,fillId:l.fillId||0,borderId:l.borderId||0}),this.xfId&&u.addAttribute("xfId",l.xfId||0),l.numFmtId&&u.addAttribute("applyNumberFormat","1"),l.fontId&&u.addAttribute("applyFont","1"),l.fillId&&u.addAttribute("applyFill","1"),l.borderId&&u.addAttribute("applyBorder","1"),l.alignment&&u.addAttribute("applyAlignment","1"),l.protection&&u.addAttribute("applyProtection","1"),l.alignment&&this.map.alignment.render(u,l.alignment),l.protection&&this.map.protection.render(u,l.protection),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"xf":return this.model={numFmtId:parseInt(u.attributes.numFmtId,10),fontId:parseInt(u.attributes.fontId,10),fillId:parseInt(u.attributes.fillId,10),borderId:parseInt(u.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(u.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(u),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):u!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(r,i,s){const n=r("../../../doc/enums"),o=r("../../../utils/xml-stream"),a=r("../base-xform"),u=r("../static-xform"),l=r("../list-xform"),c=r("./font-xform"),h=r("./fill-xform"),d=r("./border-xform"),p=r("./numfmt-xform"),g=r("./style-xform"),v=r("./dxf-xform");class f extends a{constructor(m){super(),this.map={numFmts:new l({tag:"numFmts",count:!0,childXform:new p}),fonts:new l({tag:"fonts",count:!0,childXform:new c,$:{"x14ac:knownFonts":1}}),fills:new l({tag:"fills",count:!0,childXform:new h}),borders:new l({tag:"borders",count:!0,childXform:new d}),cellStyleXfs:new l({tag:"cellStyleXfs",count:!0,childXform:new g}),cellXfs:new l({tag:"cellXfs",count:!0,childXform:new g({xfId:!0})}),dxfs:new l({tag:"dxfs",always:!0,count:!0,childXform:new v}),numFmt:new p,font:new c,fill:new h,border:new d,style:new g({xfId:!0}),cellStyles:f.STATIC_XFORMS.cellStyles,tableStyles:f.STATIC_XFORMS.tableStyles,extLst:f.STATIC_XFORMS.extLst},m&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(m,w){w=w||this.model,m.openXml(o.StdDocAttributes),m.openNode("styleSheet",f.STYLESHEET_ATTRIBUTES),this.index?(w.numFmts&&w.numFmts.length&&(m.openNode("numFmts",{count:w.numFmts.length}),w.numFmts.forEach(_=>{m.writeXml(_)}),m.closeNode()),w.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),m.openNode("fonts",{count:w.fonts.length,"x14ac:knownFonts":1}),w.fonts.forEach(_=>{m.writeXml(_)}),m.closeNode(),m.openNode("fills",{count:w.fills.length}),w.fills.forEach(_=>{m.writeXml(_)}),m.closeNode(),m.openNode("borders",{count:w.borders.length}),w.borders.forEach(_=>{m.writeXml(_)}),m.closeNode(),this.map.cellStyleXfs.render(m,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),m.openNode("cellXfs",{count:w.styles.length}),w.styles.forEach(_=>{m.writeXml(_)}),m.closeNode()):(this.map.numFmts.render(m,w.numFmts),this.map.fonts.render(m,w.fonts),this.map.fills.render(m,w.fills),this.map.borders.render(m,w.borders),this.map.cellStyleXfs.render(m,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(m,w.styles)),f.STATIC_XFORMS.cellStyles.render(m),this.map.dxfs.render(m,w.dxfs),f.STATIC_XFORMS.tableStyles.render(m),f.STATIC_XFORMS.extLst.render(m),m.closeNode()}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;switch(m.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[m.name],this.parser&&this.parser.parseOpen(m),!0}}parseText(m){this.parser&&this.parser.parseText(m)}parseClose(m){if(this.parser)return this.parser.parseClose(m)||(this.parser=void 0),!0;switch(m){case"styleSheet":{this.model={};const w=(_,A)=>{A.model&&A.model.length&&(this.model[_]=A.model)};if(w("numFmts",this.map.numFmts),w("fonts",this.map.fonts),w("fills",this.map.fills),w("borders",this.map.borders),w("styles",this.map.cellXfs),w("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const _=this.index.numFmt;this.model.numFmts.forEach(A=>{_[A.id]=A.formatCode})}return!1}default:return!0}}addStyleModel(m,w){if(!m)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(m))return this.weakMap.get(m);const _={};if(w=w||n.ValueType.Number,m.numFmt)_.numFmtId=this._addNumFmtStr(m.numFmt);else switch(w){case n.ValueType.Number:_.numFmtId=this._addNumFmtStr("General");break;case n.ValueType.Date:_.numFmtId=this._addNumFmtStr("mm-dd-yy")}m.font&&(_.fontId=this._addFont(m.font)),m.border&&(_.borderId=this._addBorder(m.border)),m.fill&&(_.fillId=this._addFill(m.fill)),m.alignment&&(_.alignment=m.alignment),m.protection&&(_.protection=m.protection);const A=this._addStyle(_);return this.weakMap&&this.weakMap.set(m,A),A}getStyleModel(m){const w=this.model.styles[m];if(!w)return null;let _=this.index.model[m];if(_)return _;if(_=this.index.model[m]={},w.numFmtId){const F=this.index.numFmt[w.numFmtId]||p.getDefaultFmtCode(w.numFmtId);F&&(_.numFmt=F)}function A(F,G,L){if(L||L===0){const O=G[L];O&&(_[F]=O)}}return A("font",this.model.fonts,w.fontId),A("border",this.model.borders,w.borderId),A("fill",this.model.fills,w.fillId),w.alignment&&(_.alignment=w.alignment),w.protection&&(_.protection=w.protection),_}addDxfStyle(m){return m.numFmt&&(m.numFmtId=this._addNumFmtStr(m.numFmt)),this.model.dxfs.push(m),this.model.dxfs.length-1}getDxfStyle(m){return this.model.dxfs[m]}_addStyle(m){const w=this.map.style.toXml(m);let _=this.index.style[w];return _===void 0&&(_=this.index.style[w]=this.model.styles.length,this.model.styles.push(w)),_}_addNumFmtStr(m){let w=p.getDefaultFmtId(m);if(w!==void 0||(w=this.index.numFmt[m],w!==void 0))return w;w=this.index.numFmt[m]=164+this.model.numFmts.length;const _=this.map.numFmt.toXml({id:w,formatCode:m});return this.model.numFmts.push(_),w}_addFont(m){const w=this.map.font.toXml(m);let _=this.index.font[w];return _===void 0&&(_=this.index.font[w]=this.model.fonts.length,this.model.fonts.push(w)),_}_addBorder(m){const w=this.map.border.toXml(m);let _=this.index.border[w];return _===void 0&&(_=this.index.border[w]=this.model.borders.length,this.model.borders.push(w)),_}_addFill(m){const w=this.map.fill.toXml(m);let _=this.index.fill[w];return _===void 0&&(_=this.index.fill[w]=this.model.fills.length,this.model.fills.push(w)),_}}f.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},f.STATIC_XFORMS={cellStyles:new u({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new u({tag:"dxfs",$:{count:0}}),tableStyles:new u({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new u({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},f.Mock=class extends f{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(y){return y.autodrain(),Promise.resolve()}addStyleModel(y,m){switch(m){case n.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const y={numFmtId:p.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(y)}return this._dateStyleId}getStyleModel(){return{}}},i.exports=f},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(r,i,s){const n=r("../base-xform");class o extends n{constructor(u){super(),this.model=u}get tag(){return"u"}render(u,l){if((l=l||this.model)===!0)u.leafNode("u");else{const c=o.Attributes[l];c&&u.leafNode("u",c)}}parseOpen(u){u.name==="u"&&(this.model=u.attributes.val||!0)}parseText(){}parseClose(){return!1}}o.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},i.exports=o},{"../base-xform":32}],137:[function(r,i,s){const n=r("../base-xform"),o=r("./filter-column-xform");i.exports=class extends n{constructor(){super(),this.map={filterColumn:new o}}get tag(){return"autoFilter"}prepare(a){a.columns.forEach((u,l)=>{this.map.filterColumn.prepare(u,{index:l})})}render(a,u){return a.openNode(this.tag,{ref:u.autoFilterRef}),u.columns.forEach(l=>{this.map.filterColumn.render(a,l)}),a.closeNode(),!0}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:return this.model={autoFilterRef:a.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[a.name],this.parser)return this.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(a){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+a)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{get tag(){return"customFilter"}render(o,a){o.leafNode(this.tag,{val:a.val,operator:a.operator})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val,operator:o.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(r,i,s){const n=r("../base-xform"),o=r("../list-xform"),a=r("./custom-filter-xform"),u=r("./filter-xform");i.exports=class extends n{constructor(){super(),this.map={customFilters:new o({tag:"customFilters",count:!1,empty:!0,childXform:new a}),filters:new o({tag:"filters",count:!1,empty:!0,childXform:new u})}}get tag(){return"filterColumn"}prepare(l,c){l.colId=c.index.toString()}render(l,c){return c.customFilters?(l.openNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),this.map.customFilters.render(l,c.customFilters),l.closeNode(),!0):(l.leafNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),!0)}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;const{attributes:c}=l;switch(l.name){case this.tag:return this.model={filterButton:c.hiddenButton==="0"},!0;default:if(this.parser=this.map[l.name],this.parser)return this.parseOpen(l),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{get tag(){return"filter"}render(o,a){o.leafNode(this.tag,{val:a.val})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{get tag(){return"tableColumn"}prepare(o,a){o.id=a.index+1}render(o,a){return o.leafNode(this.tag,{id:a.id.toString(),name:a.name,totalsRowLabel:a.totalsRowLabel,totalsRowFunction:a.totalsRowFunction,dxfId:a.dxfId}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:a}=o;return this.model={name:a.name,totalsRowLabel:a.totalsRowLabel,totalsRowFunction:a.totalsRowFunction,dxfId:a.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(r,i,s){const n=r("../base-xform");i.exports=class extends n{get tag(){return"tableStyleInfo"}render(o,a){return o.leafNode(this.tag,{name:a.theme?a.theme:void 0,showFirstColumn:a.showFirstColumn?"1":"0",showLastColumn:a.showLastColumn?"1":"0",showRowStripes:a.showRowStripes?"1":"0",showColumnStripes:a.showColumnStripes?"1":"0"}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:a}=o;return this.model={theme:a.name?a.name:null,showFirstColumn:a.showFirstColumn==="1",showLastColumn:a.showLastColumn==="1",showRowStripes:a.showRowStripes==="1",showColumnStripes:a.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(r,i,s){const n=r("../../../utils/xml-stream"),o=r("../base-xform"),a=r("../list-xform"),u=r("./auto-filter-xform"),l=r("./table-column-xform"),c=r("./table-style-info-xform");class h extends o{constructor(){super(),this.map={autoFilter:new u,tableColumns:new a({tag:"tableColumns",count:!0,empty:!0,childXform:new l}),tableStyleInfo:new c}}prepare(p,g){this.map.autoFilter.prepare(p),this.map.tableColumns.prepare(p.columns,g)}get tag(){return"table"}render(p,g){p.openXml(n.StdDocAttributes),p.openNode(this.tag,{...h.TABLE_ATTRIBUTES,id:g.id,name:g.name,displayName:g.displayName||g.name,ref:g.tableRef,totalsRowCount:g.totalsRow?"1":void 0,totalsRowShown:g.totalsRow?void 0:"1",headerRowCount:g.headerRow?"1":"0"}),this.map.autoFilter.render(p,g),this.map.tableColumns.render(p,g.columns),this.map.tableStyleInfo.render(p,g.style),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;const{name:g,attributes:v}=p;switch(g){case this.tag:this.reset(),this.model={name:v.name,displayName:v.displayName||v.name,tableRef:v.ref,totalsRow:v.totalsRowCount==="1",headerRow:v.headerRowCount==="1"};break;default:this.parser=this.map[p.name],this.parser&&this.parser.parseOpen(p)}return!0}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser)return this.parser.parseClose(p)||(this.parser=void 0),!0;switch(p){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((g,v)=>{this.model.columns[v].filterButton=g.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(p,g){p.columns.forEach(v=>{v.dxfId!==void 0&&(v.style=g.styles.getDxfStyle(v.dxfId))})}}h.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},i.exports=h},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(r,i,s){(function(n,o){(function(){const a=r("fs"),u=r("jszip"),{PassThrough:l}=r("readable-stream"),c=r("../utils/zip-stream"),h=r("../utils/stream-buf"),d=r("../utils/utils"),p=r("../utils/xml-stream"),{bufferToString:g}=r("../utils/browser-buffer-decode"),v=r("./xform/style/styles-xform"),f=r("./xform/core/core-xform"),y=r("./xform/strings/shared-strings-xform"),m=r("./xform/core/relationships-xform"),w=r("./xform/core/content-types-xform"),_=r("./xform/core/app-xform"),A=r("./xform/book/workbook-xform"),F=r("./xform/sheet/worksheet-xform"),G=r("./xform/drawing/drawing-xform"),L=r("./xform/table/table-xform"),O=r("./xform/comment/comments-xform"),V=r("./xform/comment/vml-notes-xform"),z=r("./xml/theme1");class H{constructor(M){this.workbook=M}async readFile(M,x){if(!await d.fs.exists(M))throw new Error("File not found: "+M);const C=a.createReadStream(M);try{const S=await this.read(C,x);return C.close(),S}catch(S){throw C.close(),S}}parseRels(M){return new m().parseStream(M)}parseWorkbook(M){return new A().parseStream(M)}parseSharedStrings(M){return new y().parseStream(M)}reconcile(M,x){const C=new A,S=new F(x),b=new G,E=new L;C.reconcile(M);const R={media:M.media,mediaIndex:M.mediaIndex};Object.keys(M.drawings).forEach(U=>{const j=M.drawings[U],X=M.drawingRels[U];X&&(R.rels=X.reduce((N,K)=>(N[K.Id]=K,N),{}),(j.anchors||[]).forEach(N=>{const K=N.picture&&N.picture.hyperlinks;K&&R.rels[K.rId]&&(K.hyperlink=R.rels[K.rId].Target,delete K.rId)}),b.reconcile(j,R))});const I={styles:M.styles};Object.values(M.tables).forEach(U=>{E.reconcile(U,I)});const k={styles:M.styles,sharedStrings:M.sharedStrings,media:M.media,mediaIndex:M.mediaIndex,date1904:M.properties&&M.properties.date1904,drawings:M.drawings,comments:M.comments,tables:M.tables,vmlDrawings:M.vmlDrawings};M.worksheets.forEach(U=>{U.relationships=M.worksheetRels[U.sheetNo],S.reconcile(U,k)}),delete M.worksheetHash,delete M.worksheetRels,delete M.globalRels,delete M.sharedStrings,delete M.workbookRels,delete M.sheetDefs,delete M.styles,delete M.mediaIndex,delete M.drawings,delete M.drawingRels,delete M.vmlDrawings}async _processWorksheetEntry(M,x,C,S,b){const E=new F(S),R=await E.parseStream(M);R.sheetNo=C,x.worksheetHash[b]=R,x.worksheets.push(R)}async _processCommentEntry(M,x,C){const S=new O,b=await S.parseStream(M);x.comments[`../${C}.xml`]=b}async _processTableEntry(M,x,C){const S=new L,b=await S.parseStream(M);x.tables[`../tables/${C}.xml`]=b}async _processWorksheetRelsEntry(M,x,C){const S=new m,b=await S.parseStream(M);x.worksheetRels[C]=b}async _processMediaEntry(M,x,C){const S=C.lastIndexOf(".");if(S>=1){const b=C.substr(S+1),E=C.substr(0,S);await new Promise((R,I)=>{const k=new h;k.on("finish",()=>{x.mediaIndex[C]=x.media.length,x.mediaIndex[E]=x.media.length;const U={type:"image",name:E,extension:b,buffer:k.toBuffer()};x.media.push(U),R()}),M.on("error",U=>{I(U)}),M.pipe(k)})}}async _processDrawingEntry(M,x,C){const S=new G,b=await S.parseStream(M);x.drawings[C]=b}async _processDrawingRelsEntry(M,x,C){const S=new m,b=await S.parseStream(M);x.drawingRels[C]=b}async _processVmlDrawingEntry(M,x,C){const S=new V,b=await S.parseStream(M);x.vmlDrawings[`../drawings/${C}.vml`]=b}async _processThemeEntry(M,x,C){await new Promise((S,b)=>{const E=new h;M.on("error",b),E.on("error",b),E.on("finish",()=>{x.themes[C]=E.read().toString(),S()}),M.pipe(E)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(M,x){!M[Symbol.asyncIterator]&&M.pipe&&(M=M.pipe(new l));const C=[];for await(const S of M)C.push(S);return this.load(o.concat(C),x)}async load(M,x){let C;C=x&&x.base64?o.from(M.toString(),"base64"):M;const S={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},b=await u.loadAsync(C);for(const E of Object.values(b.files))if(!E.dir){let R,I=E.name;if(I[0]==="/"&&(I=I.substr(1)),I.match(/xl\/media\//)||I.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))R=new l,R.write(await E.async("nodebuffer"));else{let k;R=new l({writableObjectMode:!0,readableObjectMode:!0}),k=n.browser?g(await E.async("nodebuffer")):await E.async("string");const U=16384;for(let j=0;j<k.length;j+=U)R.write(k.substring(j,j+U))}switch(R.end(),I){case"_rels/.rels":S.globalRels=await this.parseRels(R);break;case"xl/workbook.xml":{const k=await this.parseWorkbook(R);S.sheets=k.sheets,S.definedNames=k.definedNames,S.views=k.views,S.properties=k.properties,S.calcProperties=k.calcProperties;break}case"xl/_rels/workbook.xml.rels":S.workbookRels=await this.parseRels(R);break;case"xl/sharedStrings.xml":S.sharedStrings=new y,await S.sharedStrings.parseStream(R);break;case"xl/styles.xml":S.styles=new v,await S.styles.parseStream(R);break;case"docProps/app.xml":{const k=new _,U=await k.parseStream(R);S.company=U.company,S.manager=U.manager;break}case"docProps/core.xml":{const k=new f,U=await k.parseStream(R);Object.assign(S,U);break}default:{let k=I.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(k){await this._processWorksheetEntry(R,S,k[1],x,I);break}if(k=I.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),k){await this._processWorksheetRelsEntry(R,S,k[1]);break}if(k=I.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),k){await this._processThemeEntry(R,S,k[1]);break}if(k=I.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),k){await this._processMediaEntry(R,S,k[1]);break}if(k=I.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),k){await this._processDrawingEntry(R,S,k[1]);break}if(k=I.match(/xl\/(comments\d+)[.]xml/),k){await this._processCommentEntry(R,S,k[1]);break}if(k=I.match(/xl\/tables\/(table\d+)[.]xml/),k){await this._processTableEntry(R,S,k[1]);break}if(k=I.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),k){await this._processDrawingRelsEntry(R,S,k[1]);break}if(k=I.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),k){await this._processVmlDrawingEntry(R,S,k[1]);break}}}}return this.reconcile(S,x),this.workbook.model=S,this.workbook}async addMedia(M,x){await Promise.all(x.media.map(async C=>{if(C.type==="image"){const S=`xl/media/${C.name}.${C.extension}`;if(C.filename){const b=await function(E,R){return new Promise((I,k)=>{a.readFile(E,R,(U,j)=>{U?k(U):I(j)})})}(C.filename);return M.append(b,{name:S})}if(C.buffer)return M.append(C.buffer,{name:S});if(C.base64){const b=C.base64,E=b.substring(b.indexOf(",")+1);return M.append(E,{name:S,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(M,x){const C=new G,S=new m;x.worksheets.forEach(b=>{const{drawing:E}=b;if(E){C.prepare(E,{});let R=C.toXml(E);M.append(R,{name:`xl/drawings/${E.name}.xml`}),R=S.toXml(E.rels),M.append(R,{name:`xl/drawings/_rels/${E.name}.xml.rels`})}})}addTables(M,x){const C=new L;x.worksheets.forEach(S=>{const{tables:b}=S;b.forEach(E=>{C.prepare(E,{});const R=C.toXml(E);M.append(R,{name:"xl/tables/"+E.target})})})}async addContentTypes(M,x){const C=new w().toXml(x);M.append(C,{name:"[Content_Types].xml"})}async addApp(M,x){const C=new _().toXml(x);M.append(C,{name:"docProps/app.xml"})}async addCore(M,x){const C=new f;M.append(C.toXml(x),{name:"docProps/core.xml"})}async addThemes(M,x){const C=x.themes||{theme1:z};Object.keys(C).forEach(S=>{const b=C[S],E=`xl/theme/${S}.xml`;M.append(b,{name:E})})}async addOfficeRels(M){const x=new m().toXml([{Id:"rId1",Type:H.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:H.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:H.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);M.append(x,{name:"_rels/.rels"})}async addWorkbookRels(M,x){let C=1;const S=[{Id:"rId"+C++,Type:H.RelType.Styles,Target:"styles.xml"},{Id:"rId"+C++,Type:H.RelType.Theme,Target:"theme/theme1.xml"}];x.sharedStrings.count&&S.push({Id:"rId"+C++,Type:H.RelType.SharedStrings,Target:"sharedStrings.xml"}),x.worksheets.forEach(E=>{E.rId="rId"+C++,S.push({Id:E.rId,Type:H.RelType.Worksheet,Target:`worksheets/sheet${E.id}.xml`})});const b=new m().toXml(S);M.append(b,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(M,x){x.sharedStrings&&x.sharedStrings.count&&M.append(x.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(M,x){const{xml:C}=x.styles;C&&M.append(C,{name:"xl/styles.xml"})}async addWorkbook(M,x){const C=new A;M.append(C.toXml(x),{name:"xl/workbook.xml"})}async addWorksheets(M,x){const C=new F,S=new m,b=new O,E=new V;x.worksheets.forEach(R=>{let I=new p;C.render(I,R),M.append(I.xml,{name:`xl/worksheets/sheet${R.id}.xml`}),R.rels&&R.rels.length&&(I=new p,S.render(I,R.rels),M.append(I.xml,{name:`xl/worksheets/_rels/sheet${R.id}.xml.rels`})),R.comments.length>0&&(I=new p,b.render(I,R),M.append(I.xml,{name:`xl/comments${R.id}.xml`}),I=new p,E.render(I,R),M.append(I.xml,{name:`xl/drawings/vmlDrawing${R.id}.vml`}))})}_finalize(M){return new Promise((x,C)=>{M.on("finish",()=>{x(this)}),M.on("error",C),M.finalize()})}prepareModel(M,x){M.creator=M.creator||"ExcelJS",M.lastModifiedBy=M.lastModifiedBy||"ExcelJS",M.created=M.created||new Date,M.modified=M.modified||new Date,M.useSharedStrings=x.useSharedStrings===void 0||x.useSharedStrings,M.useStyles=x.useStyles===void 0||x.useStyles,M.sharedStrings=new y,M.styles=M.useStyles?new v(!0):new v.Mock;const C=new A,S=new F;C.prepare(M);const b={sharedStrings:M.sharedStrings,styles:M.styles,date1904:M.properties.date1904,drawingsCount:0,media:M.media};b.drawings=M.drawings=[],b.commentRefs=M.commentRefs=[];let E=0;M.tables=[],M.worksheets.forEach(R=>{R.tables.forEach(I=>{E++,I.target=`table${E}.xml`,I.id=E,M.tables.push(I)}),S.prepare(R,b)})}async write(M,x){x=x||{};const{model:C}=this.workbook,S=new c.ZipWriter(x.zip);return S.pipe(M),this.prepareModel(C,x),await this.addContentTypes(S,C),await this.addOfficeRels(S,C),await this.addWorkbookRels(S,C),await this.addWorksheets(S,C),await this.addSharedStrings(S,C),await this.addDrawings(S,C),await this.addTables(S,C),await Promise.all([this.addThemes(S,C),this.addStyles(S,C)]),await this.addMedia(S,C),await Promise.all([this.addApp(S,C),this.addCore(S,C)]),await this.addWorkbook(S,C),this._finalize(S)}writeFile(M,x){const C=a.createWriteStream(M);return new Promise((S,b)=>{C.on("finish",()=>{S()}),C.on("error",E=>{b(E)}),this.write(C,x).then(()=>{C.end()}).catch(E=>{b(E)})})}async writeBuffer(M){const x=new h;return await this.write(x,M),x.read()}}H.RelType=r("./rel-type"),i.exports=H}).call(this)}).call(this,r("_process"),r("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(r,i,s){i.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(r,i,s){(function(n){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvFormatterStream=void 0;const o=r("stream"),a=r("./formatter");class u extends o.Transform{constructor(c){super({writableObjectMode:c.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=c,this.rowFormatter=new a.RowFormatter(c),this.hasWrittenBOM=!c.writeBOM}transform(c){return this.rowFormatter.rowTransform=c,this}_transform(c,h,d){let p=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(c,(g,v)=>g?(p=!0,d(g)):(v&&v.forEach(f=>{this.push(n.from(f,"utf8"))}),p=!0,d()))}catch(g){if(p)throw g;d(g)}}_flush(c){this.rowFormatter.finish((h,d)=>h?c(h):(d&&d.forEach(p=>{this.push(n.from(p,"utf8"))}),c()))}}s.CsvFormatterStream=u}).call(this)}).call(this,r("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FormatterOptions=void 0,s.FormatterOptions=class{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var o;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,n||{}),(n==null?void 0:n.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(n==null?void 0:n.quote)===!0?this.quote='"':(n==null?void 0:n.quote)===!1&&(this.quote=""),typeof(n==null?void 0:n.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((o=n.writeHeaders)===null||o===void 0||o),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(r,i,s){var n=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=void 0;const o=n(r("lodash.isboolean")),a=n(r("lodash.isnil")),u=n(r("lodash.escaperegexp"));s.FieldFormatter=class{constructor(l){this._headers=null,this.formatterOptions=l,l.headers!==null&&(this.headers=l.headers),this.REPLACE_REGEXP=new RegExp(l.quote,"g");const c=`[${l.delimiter}${u.default(l.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(c)}set headers(l){this._headers=l}shouldQuote(l,c){const h=c?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return o.default(h)?h:Array.isArray(h)?h[l]:this._headers!==null&&h[this._headers[l]]}format(l,c,h){const d=(""+(a.default(l)?"":l)).replace(/\0/g,""),{formatterOptions:p}=this;return p.quote!==""&&d.indexOf(p.quote)!==-1?this.quoteField(d.replace(this.REPLACE_REGEXP,p.escapedQuote)):d.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(c,h)?this.quoteField(d):d}quoteField(l){const{quote:c}=this.formatterOptions;return`${c}${l}${c}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(r,i,s){var n=function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowFormatter=void 0;const o=n(r("lodash.isfunction")),a=n(r("lodash.isequal")),u=r("./FieldFormatter"),l=r("../types");class c{constructor(d){this.rowCount=0,this.formatterOptions=d,this.fieldFormatter=new u.FieldFormatter(d),this.headers=d.headers,this.shouldWriteHeaders=d.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),d.transform&&(this.rowTransform=d.transform)}static isRowHashArray(d){return!!Array.isArray(d)&&Array.isArray(d[0])&&d[0].length===2}static isRowArray(d){return Array.isArray(d)&&!this.isRowHashArray(d)}static gatherHeaders(d){return c.isRowHashArray(d)?d.map(p=>p[0]):Array.isArray(d)?d:Object.keys(d)}static createTransform(d){return l.isSyncTransform(d)?(p,g)=>{let v=null;try{v=d(p)}catch(f){return g(f)}return g(null,v)}:(p,g)=>{d(p,g)}}set rowTransform(d){if(!o.default(d))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(d)}format(d,p){this.callTransformer(d,(g,v)=>{if(g)return p(g);if(!d)return p(null);const f=[];if(v){const{shouldFormatColumns:y,headers:m}=this.checkHeaders(v);if(this.shouldWriteHeaders&&m&&!this.hasWrittenHeaders&&(f.push(this.formatColumns(m,!0)),this.hasWrittenHeaders=!0),y){const w=this.gatherColumns(v);f.push(this.formatColumns(w,!1))}}return p(null,f)})}finish(d){const p=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return d(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));p.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&p.push(this.formatterOptions.rowDelimiter),d(null,p)}checkHeaders(d){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const p=c.gatherHeaders(d);return this.headers=p,this.fieldFormatter.headers=p,this.shouldWriteHeaders?{shouldFormatColumns:!a.default(p,d),headers:p}:{shouldFormatColumns:!0,headers:null}}gatherColumns(d){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(d)?c.isRowHashArray(d)?this.headers.map((p,g)=>{const v=d[g];return v?v[1]:""}):c.isRowArray(d)&&!this.shouldWriteHeaders?d:this.headers.map((p,g)=>d[g]):this.headers.map(p=>d[p])}callTransformer(d,p){return this._rowTransform?this._rowTransform(d,p):p(null,d)}formatColumns(d,p){const g=d.map((f,y)=>this.fieldFormatter.format(f,y,p)).join(this.formatterOptions.delimiter),{rowCount:v}=this;return this.rowCount+=1,v?[this.formatterOptions.rowDelimiter,g].join(""):g}}s.RowFormatter=c},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=s.RowFormatter=void 0;var n=r("./RowFormatter");Object.defineProperty(s,"RowFormatter",{enumerable:!0,get:function(){return n.RowFormatter}});var o=r("./FieldFormatter");Object.defineProperty(s,"FieldFormatter",{enumerable:!0,get:function(){return o.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(r,i,s){(function(n){(function(){var o=Object.create?function(y,m,w,_){_===void 0&&(_=w),Object.defineProperty(y,_,{enumerable:!0,get:function(){return m[w]}})}:function(y,m,w,_){_===void 0&&(_=w),y[_]=m[w]},a=Object.create?function(y,m){Object.defineProperty(y,"default",{enumerable:!0,value:m})}:function(y,m){y.default=m},u=function(y){if(y&&y.__esModule)return y;var m={};if(y!=null)for(var w in y)w!=="default"&&Object.prototype.hasOwnProperty.call(y,w)&&o(m,y,w);return a(m,y),m},l=function(y,m){for(var w in y)w==="default"||Object.prototype.hasOwnProperty.call(m,w)||o(m,y,w)};Object.defineProperty(s,"__esModule",{value:!0}),s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=s.FormatterOptions=s.CsvFormatterStream=void 0;const c=r("util"),h=r("stream"),d=u(r("fs")),p=r("./FormatterOptions"),g=r("./CsvFormatterStream");l(r("./types"),s);var v=r("./CsvFormatterStream");Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return v.CsvFormatterStream}});var f=r("./FormatterOptions");Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return f.FormatterOptions}}),s.format=y=>new g.CsvFormatterStream(new p.FormatterOptions(y)),s.write=(y,m)=>{const w=s.format(m),_=c.promisify((A,F)=>{w.write(A,void 0,F)});return y.reduce((A,F)=>A.then(()=>_(F)),Promise.resolve()).then(()=>w.end()).catch(A=>{w.emit("error",A)}),w},s.writeToStream=(y,m,w)=>s.write(m,w).pipe(y),s.writeToBuffer=function(y){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const w=[],_=new h.Writable({write(A,F,G){w.push(A),G()}});return new Promise((A,F)=>{_.on("error",F).on("finish",()=>A(n.concat(w))),s.write(y,m).pipe(_)})},s.writeToString=(y,m)=>s.writeToBuffer(y,m).then(w=>w.toString()),s.writeToPath=(y,m,w)=>{const _=d.createWriteStream(y,{encoding:"utf8"});return s.write(m,w).pipe(_)}}).call(this)}).call(this,r("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncTransform=void 0,s.isSyncTransform=n=>n.length===1},{}],153:[function(r,i,s){(function(n){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=void 0;const o=r("string_decoder"),a=r("stream"),u=r("./transforms"),l=r("./parser");class c extends a.Transform{constructor(d){super({objectMode:d.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=d,this.parser=new l.Parser(d),this.headerTransformer=new u.HeaderTransformer(d),this.decoder=new o.StringDecoder(d.encoding),this.rowTransformerValidator=new u.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(d){return this.rowTransformerValidator.rowTransform=d,this}validate(d){return this.rowTransformerValidator.rowValidator=d,this}emit(d){if(d==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var p=arguments.length,g=new Array(p>1?p-1:0),v=1;v<p;v++)g[v-1]=arguments[v];return super.emit(d,...g)}_transform(d,p,g){if(this.hasHitRowLimit)return g();const v=c.wrapDoneCallback(g);try{const{lines:f}=this,y=f+this.decoder.write(d),m=this.parse(y,!0);return this.processRows(m,v)}catch(f){return v(f)}}_flush(d){const p=c.wrapDoneCallback(d);if(this.hasHitRowLimit)return p();try{const g=this.lines+this.decoder.end(),v=this.parse(g,!1);return this.processRows(v,p)}catch(g){return p(g)}}parse(d,p){if(!d)return[];const{line:g,rows:v}=this.parser.parse(d,p);return this.lines=g,v}processRows(d,p){const g=d.length,v=f=>{const y=_=>_?p(_):f%100!=0?v(f+1):void n(()=>v(f+1));if(this.checkAndEmitHeaders(),f>=g||this.hasHitRowLimit)return p();if(this.parsedLineCount+=1,this.shouldSkipLine)return y();const m=d[f];this.rowCount+=1,this.parsedRowCount+=1;const w=this.rowCount;return this.transformRow(m,(_,A)=>{if(_)return this.rowCount-=1,y(_);if(!A)return y(new Error("expected transform result"));if(A.isValid){if(A.row)return this.pushRow(A.row,y)}else this.emit("data-invalid",A.row,w,A.reason);return y()})};v(0)}transformRow(d,p){try{this.headerTransformer.transform(d,(g,v)=>g?p(g):v?v.isValid?v.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(v.row,p):this.skipRow(p):(this.rowCount-=1,this.parsedRowCount-=1,p(null,{row:null,isValid:!0})):this.shouldEmitRows?p(null,{isValid:!1,row:d}):this.skipRow(p):p(new Error("Expected result from header transform")))}catch(g){p(g)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(d){return this.rowCount-=1,d(null,{row:null,isValid:!0})}pushRow(d,p){try{this.parserOptions.objectMode?this.push(d):this.push(JSON.stringify(d)),p()}catch(g){p(g)}}static wrapDoneCallback(d){let p=!1;return function(g){if(g){if(p)throw g;return p=!0,void d(g)}for(var v=arguments.length,f=new Array(v>1?v-1:0),y=1;y<v;y++)f[y-1]=arguments[y];d(...f)}}}s.CsvParserStream=c}).call(this)}).call(this,r("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(r,i,s){var n=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(s,"__esModule",{value:!0}),s.ParserOptions=void 0;const o=n(r("lodash.escaperegexp")),a=n(r("lodash.isnil"));s.ParserOptions=class{constructor(u){var l;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,u||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=o.default(this.delimiter),this.escapeChar=(l=this.escape)!==null&&l!==void 0?l:this.quote,this.supportsComments=!a.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(r,i,s){var n=Object.create?function(v,f,y,m){m===void 0&&(m=y),Object.defineProperty(v,m,{enumerable:!0,get:function(){return f[y]}})}:function(v,f,y,m){m===void 0&&(m=y),v[m]=f[y]},o=Object.create?function(v,f){Object.defineProperty(v,"default",{enumerable:!0,value:f})}:function(v,f){v.default=f},a=function(v){if(v&&v.__esModule)return v;var f={};if(v!=null)for(var y in v)y!=="default"&&Object.prototype.hasOwnProperty.call(v,y)&&n(f,v,y);return o(f,v),f},u=function(v,f){for(var y in v)y==="default"||Object.prototype.hasOwnProperty.call(f,y)||n(f,v,y)};Object.defineProperty(s,"__esModule",{value:!0}),s.parseString=s.parseFile=s.parseStream=s.parse=s.ParserOptions=s.CsvParserStream=void 0;const l=a(r("fs")),c=r("stream"),h=r("./ParserOptions"),d=r("./CsvParserStream");u(r("./types"),s);var p=r("./CsvParserStream");Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return p.CsvParserStream}});var g=r("./ParserOptions");Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return g.ParserOptions}}),s.parse=v=>new d.CsvParserStream(new h.ParserOptions(v)),s.parseStream=(v,f)=>v.pipe(new d.CsvParserStream(new h.ParserOptions(f))),s.parseFile=function(v){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l.createReadStream(v).pipe(new d.CsvParserStream(new h.ParserOptions(f)))},s.parseString=(v,f)=>{const y=new c.Readable;return y.push(v),y.push(null),y.pipe(new d.CsvParserStream(new h.ParserOptions(f)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Parser=void 0;const n=r("./Scanner"),o=r("./RowParser"),a=r("./Token");class u{constructor(c){this.parserOptions=c,this.rowParser=new o.RowParser(this.parserOptions)}static removeBOM(c){return c&&c.charCodeAt(0)===65279?c.slice(1):c}parse(c,h){const d=new n.Scanner({line:u.removeBOM(c),parserOptions:this.parserOptions,hasMoreData:h});return this.parserOptions.supportsComments?this.parseWithComments(d):this.parseWithoutComments(d)}parseWithoutComments(c){const h=[];let d=!0;for(;d;)d=this.parseRow(c,h);return{line:c.line,rows:h}}parseWithComments(c){const{parserOptions:h}=this,d=[];for(let p=c.nextCharacterToken;p!==null;p=c.nextCharacterToken)if(a.Token.isTokenComment(p,h)){if(c.advancePastLine()===null)return{line:c.lineFromCursor,rows:d};if(!c.hasMoreCharacters)return{line:c.lineFromCursor,rows:d};c.truncateToCursor()}else if(!this.parseRow(c,d))break;return{line:c.line,rows:d}}parseRow(c,h){if(!c.nextNonSpaceToken)return!1;const d=this.rowParser.parse(c);return d!==null&&(this.parserOptions.ignoreEmpty&&o.RowParser.isEmptyRow(d)||h.push(d),!0)}}s.Parser=u},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.RowParser=void 0;const n=r("./column"),o=r("./Token");s.RowParser=class{constructor(a){this.parserOptions=a,this.columnParser=new n.ColumnParser(a)}static isEmptyRow(a){return a.join("").replace(/\s+/g,"")===""}parse(a){const{parserOptions:u}=this,{hasMoreData:l}=a,c=a,h=[];let d=this.getStartToken(c,h);for(;d;){if(o.Token.isTokenRowDelimiter(d))return c.advancePastToken(d),!c.hasMoreCharacters&&o.Token.isTokenCarriageReturn(d,u)&&l?null:(c.truncateToCursor(),h);if(!this.shouldSkipColumnParse(c,d,h)){const p=this.columnParser.parse(c);if(p===null)return null;h.push(p)}d=c.nextNonSpaceToken}return l?null:(c.truncateToCursor(),h)}getStartToken(a,u){const l=a.nextNonSpaceToken;return l!==null&&o.Token.isTokenDelimiter(l,this.parserOptions)?(u.push(""),a.nextNonSpaceToken):l}shouldSkipColumnParse(a,u,l){const{parserOptions:c}=this;if(o.Token.isTokenDelimiter(u,c)){a.advancePastToken(u);const h=a.nextCharacterToken;if(!a.hasMoreCharacters||h!==null&&o.Token.isTokenRowDelimiter(h)||h!==null&&o.Token.isTokenDelimiter(h,c))return l.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Scanner=void 0;const n=r("./Token"),o=/((?:\r\n)|\n|\r)/;s.Scanner=class{constructor(a){this.cursor=0,this.line=a.line,this.lineLength=this.line.length,this.parserOptions=a.parserOptions,this.hasMoreData=a.hasMoreData,this.cursor=a.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:a}=this,u=this.parserOptions.NEXT_TOKEN_REGEXP;if(a.search(u)===-1)return null;const l=u.exec(a);if(l==null)return null;const c=l[1],h=this.cursor+(l.index||0);return new n.Token({token:c,startCursor:h,endCursor:h+c.length-1})}get nextCharacterToken(){const{cursor:a,lineLength:u}=this;return u<=a?null:new n.Token({token:this.line[a],startCursor:a,endCursor:a})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const a=o.exec(this.lineFromCursor);return a?(this.cursor+=(a.index||0)+a[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(a){return this.cursor=a,this}advanceToToken(a){return this.cursor=a.startCursor,this}advancePastToken(a){return this.cursor=a.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Token=void 0,s.Token=class{constructor(n){this.token=n.token,this.startCursor=n.startCursor,this.endCursor=n.endCursor}static isTokenRowDelimiter(n){const o=n.token;return o==="\r"||o===`
`||o===`\r
`}static isTokenCarriageReturn(n,o){return n.token===o.carriageReturn}static isTokenComment(n,o){return o.supportsComments&&!!n&&n.token===o.comment}static isTokenEscapeCharacter(n,o){return n.token===o.escapeChar}static isTokenQuote(n,o){return n.token===o.quote}static isTokenDelimiter(n,o){return n.token===o.delimiter}}},{}],160:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=void 0,s.ColumnFormatter=class{constructor(n){n.trim?this.format=o=>o.trim():n.ltrim?this.format=o=>o.trimLeft():n.rtrim?this.format=o=>o.trimRight():this.format=o=>o}}},{}],161:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnParser=void 0;const n=r("./NonQuotedColumnParser"),o=r("./QuotedColumnParser"),a=r("../Token");s.ColumnParser=class{constructor(u){this.parserOptions=u,this.quotedColumnParser=new o.QuotedColumnParser(u),this.nonQuotedColumnParser=new n.NonQuotedColumnParser(u)}parse(u){const{nextNonSpaceToken:l}=u;return l!==null&&a.Token.isTokenQuote(l,this.parserOptions)?(u.advanceToToken(l),this.quotedColumnParser.parse(u)):this.nonQuotedColumnParser.parse(u)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.NonQuotedColumnParser=void 0;const n=r("./ColumnFormatter"),o=r("../Token");s.NonQuotedColumnParser=class{constructor(a){this.parserOptions=a,this.columnFormatter=new n.ColumnFormatter(a)}parse(a){if(!a.hasMoreCharacters)return null;const{parserOptions:u}=this,l=[];let c=a.nextCharacterToken;for(;c&&!o.Token.isTokenDelimiter(c,u)&&!o.Token.isTokenRowDelimiter(c);c=a.nextCharacterToken)l.push(c.token),a.advancePastToken(c);return this.columnFormatter.format(l.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=void 0;const n=r("./ColumnFormatter"),o=r("../Token");s.QuotedColumnParser=class{constructor(a){this.parserOptions=a,this.columnFormatter=new n.ColumnFormatter(a)}parse(a){if(!a.hasMoreCharacters)return null;const u=a.cursor,{foundClosingQuote:l,col:c}=this.gatherDataBetweenQuotes(a);if(!l){if(a.advanceTo(u),!a.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${a.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(a),c}gatherDataBetweenQuotes(a){const{parserOptions:u}=this;let l=!1,c=!1;const h=[];let d=a.nextCharacterToken;for(;!c&&d!==null;d=a.nextCharacterToken){const p=o.Token.isTokenQuote(d,u);if(!l&&p)l=!0;else if(l)if(o.Token.isTokenEscapeCharacter(d,u)){a.advancePastToken(d);const g=a.nextCharacterToken;g!==null&&(o.Token.isTokenQuote(g,u)||o.Token.isTokenEscapeCharacter(g,u))?(h.push(g.token),d=g):p?c=!0:h.push(d.token)}else p?c=!0:h.push(d.token);a.advancePastToken(d)}return{col:this.columnFormatter.format(h.join("")),foundClosingQuote:c}}checkForMalformedColumn(a){const{parserOptions:u}=this,{nextNonSpaceToken:l}=a;if(l){const c=o.Token.isTokenDelimiter(l,u),h=o.Token.isTokenRowDelimiter(l);if(!c&&!h){const d=a.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${u.escapedDelimiter}' OR new line got: '${l.token}'. at '${d}`)}a.advanceToToken(l)}else a.hasMoreData||a.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=void 0;var n=r("./ColumnParser");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return n.ColumnParser}});var o=r("./NonQuotedColumnParser");Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}});var a=r("./QuotedColumnParser");Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return a.QuotedColumnParser}});var u=r("./ColumnFormatter");Object.defineProperty(s,"ColumnFormatter",{enumerable:!0,get:function(){return u.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=s.Token=s.Scanner=s.RowParser=s.Parser=void 0;var n=r("./Parser");Object.defineProperty(s,"Parser",{enumerable:!0,get:function(){return n.Parser}});var o=r("./RowParser");Object.defineProperty(s,"RowParser",{enumerable:!0,get:function(){return o.RowParser}});var a=r("./Scanner");Object.defineProperty(s,"Scanner",{enumerable:!0,get:function(){return a.Scanner}});var u=r("./Token");Object.defineProperty(s,"Token",{enumerable:!0,get:function(){return u.Token}});var l=r("./column");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return l.ColumnParser}}),Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return l.NonQuotedColumnParser}}),Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return l.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(r,i,s){var n=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=void 0;const o=n(r("lodash.isundefined")),a=n(r("lodash.isfunction")),u=n(r("lodash.uniq")),l=n(r("lodash.groupby"));s.HeaderTransformer=class{constructor(c){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=c,c.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(c.headers)?this.setHeaders(c.headers):a.default(c.headers)&&(this.headersTransform=c.headers)}transform(c,h){return this.shouldMapRow(c)?h(null,this.processRow(c)):h(null,{row:null,isValid:!0})}shouldMapRow(c){const{parserOptions:h}=this;if(!this.headersTransform&&h.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(c)){if(this.headersTransform)this.setHeaders(this.headersTransform(c));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(c)}return!1}return!0}processRow(c){if(!this.headers)return{row:c,isValid:!0};const{parserOptions:h}=this;if(!h.discardUnmappedColumns&&c.length>this.headersLength){if(!h.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${c.length}`);return{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}}return h.strictColumnHandling&&c.length<this.headersLength?{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}:{row:this.mapHeaders(c),isValid:!0}}mapHeaders(c){const h={},{headers:d,headersLength:p}=this;for(let g=0;g<p;g+=1){const v=d[g];if(!o.default(v)){const f=c[g];o.default(f)?h[v]="":h[v]=f}}return h}setHeaders(c){var h;const d=c.filter(p=>!!p);if(u.default(d).length!==d.length){const p=l.default(d),g=Object.keys(p).filter(v=>p[v].length>1);throw new Error("Duplicate headers found "+JSON.stringify(g))}this.headers=c,this.receivedHeaders=!0,this.headersLength=((h=this.headers)===null||h===void 0?void 0:h.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(r,i,s){var n=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowTransformerValidator=void 0;const o=n(r("lodash.isfunction")),a=r("../types");class u{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(c){return a.isSyncTransform(c)?(h,d)=>{let p=null;try{p=c(h)}catch(g){return d(g)}return d(null,p)}:c}static createValidator(c){return a.isSyncValidate(c)?(h,d)=>{d(null,{row:h,isValid:c(h)})}:(h,d)=>{c(h,(p,g,v)=>p?d(p):d(null,g?{row:h,isValid:g,reason:v}:{row:h,isValid:!1,reason:v}))}}set rowTransform(c){if(!o.default(c))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(c)}set rowValidator(c){if(!o.default(c))throw new TypeError("The validate should be a function");this._rowValidator=u.createValidator(c)}transformAndValidate(c,h){return this.callTransformer(c,(d,p)=>d?h(d):p?this.callValidator(p,(g,v)=>g?h(g):v&&!v.isValid?h(null,{row:p,isValid:!1,reason:v.reason}):h(null,{row:p,isValid:!0})):h(null,{row:null,isValid:!0}))}callTransformer(c,h){return this._rowTransform?this._rowTransform(c,h):h(null,c)}callValidator(c,h){return this._rowValidator?this._rowValidator(c,h):h(null,{row:c,isValid:!0})}}s.RowTransformerValidator=u},{"../types":169,"lodash.isfunction":446}],168:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=s.RowTransformerValidator=void 0;var n=r("./RowTransformerValidator");Object.defineProperty(s,"RowTransformerValidator",{enumerable:!0,get:function(){return n.RowTransformerValidator}});var o=r("./HeaderTransformer");Object.defineProperty(s,"HeaderTransformer",{enumerable:!0,get:function(){return o.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncValidate=s.isSyncTransform=void 0,s.isSyncTransform=n=>n.length===1,s.isSyncValidate=n=>n.length===1},{}],170:[function(r,i,s){const n=s;n.bignum=r("bn.js"),n.define=r("./asn1/api").define,n.base=r("./asn1/base"),n.constants=r("./asn1/constants"),n.decoders=r("./asn1/decoders"),n.encoders=r("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(r,i,s){const n=r("./encoders"),o=r("./decoders"),a=r("inherits");function u(l,c){this.name=l,this.body=c,this.decoders={},this.encoders={}}s.define=function(l,c){return new u(l,c)},u.prototype._createNamed=function(l){const c=this.name;function h(d){this._initNamed(d,c)}return a(h,l),h.prototype._initNamed=function(d,p){l.call(this,d,p)},new h(this)},u.prototype._getDecoder=function(l){return l=l||"der",this.decoders.hasOwnProperty(l)||(this.decoders[l]=this._createNamed(o[l])),this.decoders[l]},u.prototype.decode=function(l,c,h){return this._getDecoder(c).decode(l,h)},u.prototype._getEncoder=function(l){return l=l||"der",this.encoders.hasOwnProperty(l)||(this.encoders[l]=this._createNamed(n[l])),this.encoders[l]},u.prototype.encode=function(l,c,h){return this._getEncoder(c).encode(l,h)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(r,i,s){const n=r("inherits"),o=r("../base/reporter").Reporter,a=r("safer-buffer").Buffer;function u(c,h){o.call(this,h),a.isBuffer(c)?(this.base=c,this.offset=0,this.length=c.length):this.error("Input not Buffer")}function l(c,h){if(Array.isArray(c))this.length=0,this.value=c.map(function(d){return l.isEncoderBuffer(d)||(d=new l(d,h)),this.length+=d.length,d},this);else if(typeof c=="number"){if(!(0<=c&&c<=255))return h.error("non-byte EncoderBuffer value");this.value=c,this.length=1}else if(typeof c=="string")this.value=c,this.length=a.byteLength(c);else{if(!a.isBuffer(c))return h.error("Unsupported type: "+typeof c);this.value=c,this.length=c.length}}n(u,o),s.DecoderBuffer=u,u.isDecoderBuffer=function(c){return c instanceof u?!0:typeof c=="object"&&a.isBuffer(c.base)&&c.constructor.name==="DecoderBuffer"&&typeof c.offset=="number"&&typeof c.length=="number"&&typeof c.save=="function"&&typeof c.restore=="function"&&typeof c.isEmpty=="function"&&typeof c.readUInt8=="function"&&typeof c.skip=="function"&&typeof c.raw=="function"},u.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},u.prototype.restore=function(c){const h=new u(this.base);return h.offset=c.offset,h.length=this.offset,this.offset=c.offset,o.prototype.restore.call(this,c.reporter),h},u.prototype.isEmpty=function(){return this.offset===this.length},u.prototype.readUInt8=function(c){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(c||"DecoderBuffer overrun")},u.prototype.skip=function(c,h){if(!(this.offset+c<=this.length))return this.error(h||"DecoderBuffer overrun");const d=new u(this.base);return d._reporterState=this._reporterState,d.offset=this.offset,d.length=this.offset+c,this.offset+=c,d},u.prototype.raw=function(c){return this.base.slice(c?c.offset:this.offset,this.length)},s.EncoderBuffer=l,l.isEncoderBuffer=function(c){return c instanceof l?!0:typeof c=="object"&&c.constructor.name==="EncoderBuffer"&&typeof c.length=="number"&&typeof c.join=="function"},l.prototype.join=function(c,h){return c||(c=a.alloc(this.length)),h||(h=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(d){d.join(c,h),h+=d.length}):(typeof this.value=="number"?c[h]=this.value:typeof this.value=="string"?c.write(this.value,h):a.isBuffer(this.value)&&this.value.copy(c,h),h+=this.length)),c}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(r,i,s){const n=s;n.Reporter=r("./reporter").Reporter,n.DecoderBuffer=r("./buffer").DecoderBuffer,n.EncoderBuffer=r("./buffer").EncoderBuffer,n.Node=r("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(r,i,s){const n=r("../base/reporter").Reporter,o=r("../base/buffer").EncoderBuffer,a=r("../base/buffer").DecoderBuffer,u=r("minimalistic-assert"),l=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(l);function h(p,g,v){const f={};this._baseState=f,f.name=v,f.enc=p,f.parent=g||null,f.children=null,f.tag=null,f.args=null,f.reverseArgs=null,f.choice=null,f.optional=!1,f.any=!1,f.obj=!1,f.use=null,f.useDecoder=null,f.key=null,f.default=null,f.explicit=null,f.implicit=null,f.contains=null,f.parent||(f.children=[],this._wrap())}i.exports=h;const d=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];h.prototype.clone=function(){const p=this._baseState,g={};d.forEach(function(f){g[f]=p[f]});const v=new this.constructor(g.parent);return v._baseState=g,v},h.prototype._wrap=function(){const p=this._baseState;c.forEach(function(g){this[g]=function(){const v=new this.constructor(this);return p.children.push(v),v[g].apply(v,arguments)}},this)},h.prototype._init=function(p){const g=this._baseState;u(g.parent===null),p.call(this),g.children=g.children.filter(function(v){return v._baseState.parent===this},this),u.equal(g.children.length,1,"Root node can have only one child")},h.prototype._useArgs=function(p){const g=this._baseState,v=p.filter(function(f){return f instanceof this.constructor},this);p=p.filter(function(f){return!(f instanceof this.constructor)},this),v.length!==0&&(u(g.children===null),g.children=v,v.forEach(function(f){f._baseState.parent=this},this)),p.length!==0&&(u(g.args===null),g.args=p,g.reverseArgs=p.map(function(f){if(typeof f!="object"||f.constructor!==Object)return f;const y={};return Object.keys(f).forEach(function(m){m==(0|m)&&(m|=0);const w=f[m];y[w]=m}),y}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(p){h.prototype[p]=function(){const g=this._baseState;throw new Error(p+" not implemented for encoding: "+g.enc)}}),l.forEach(function(p){h.prototype[p]=function(){const g=this._baseState,v=Array.prototype.slice.call(arguments);return u(g.tag===null),g.tag=p,this._useArgs(v),this}}),h.prototype.use=function(p){u(p);const g=this._baseState;return u(g.use===null),g.use=p,this},h.prototype.optional=function(){return this._baseState.optional=!0,this},h.prototype.def=function(p){const g=this._baseState;return u(g.default===null),g.default=p,g.optional=!0,this},h.prototype.explicit=function(p){const g=this._baseState;return u(g.explicit===null&&g.implicit===null),g.explicit=p,this},h.prototype.implicit=function(p){const g=this._baseState;return u(g.explicit===null&&g.implicit===null),g.implicit=p,this},h.prototype.obj=function(){const p=this._baseState,g=Array.prototype.slice.call(arguments);return p.obj=!0,g.length!==0&&this._useArgs(g),this},h.prototype.key=function(p){const g=this._baseState;return u(g.key===null),g.key=p,this},h.prototype.any=function(){return this._baseState.any=!0,this},h.prototype.choice=function(p){const g=this._baseState;return u(g.choice===null),g.choice=p,this._useArgs(Object.keys(p).map(function(v){return p[v]})),this},h.prototype.contains=function(p){const g=this._baseState;return u(g.use===null),g.contains=p,this},h.prototype._decode=function(p,g){const v=this._baseState;if(v.parent===null)return p.wrapResult(v.children[0]._decode(p,g));let f,y=v.default,m=!0,w=null;if(v.key!==null&&(w=p.enterKey(v.key)),v.optional){let _=null;if(v.explicit!==null?_=v.explicit:v.implicit!==null?_=v.implicit:v.tag!==null&&(_=v.tag),_!==null||v.any){if(m=this._peekTag(p,_,v.any),p.isError(m))return m}else{const A=p.save();try{v.choice===null?this._decodeGeneric(v.tag,p,g):this._decodeChoice(p,g),m=!0}catch{m=!1}p.restore(A)}}if(v.obj&&m&&(f=p.enterObject()),m){if(v.explicit!==null){const A=this._decodeTag(p,v.explicit);if(p.isError(A))return A;p=A}const _=p.offset;if(v.use===null&&v.choice===null){let A;v.any&&(A=p.save());const F=this._decodeTag(p,v.implicit!==null?v.implicit:v.tag,v.any);if(p.isError(F))return F;v.any?y=p.raw(A):p=F}if(g&&g.track&&v.tag!==null&&g.track(p.path(),_,p.length,"tagged"),g&&g.track&&v.tag!==null&&g.track(p.path(),p.offset,p.length,"content"),v.any||(y=v.choice===null?this._decodeGeneric(v.tag,p,g):this._decodeChoice(p,g)),p.isError(y))return y;if(v.any||v.choice!==null||v.children===null||v.children.forEach(function(A){A._decode(p,g)}),v.contains&&(v.tag==="octstr"||v.tag==="bitstr")){const A=new a(y);y=this._getUse(v.contains,p._reporterState.obj)._decode(A,g)}}return v.obj&&m&&(y=p.leaveObject(f)),v.key===null||y===null&&m!==!0?w!==null&&p.exitKey(w):p.leaveKey(w,v.key,y),y},h.prototype._decodeGeneric=function(p,g,v){const f=this._baseState;return p==="seq"||p==="set"?null:p==="seqof"||p==="setof"?this._decodeList(g,p,f.args[0],v):/str$/.test(p)?this._decodeStr(g,p,v):p==="objid"&&f.args?this._decodeObjid(g,f.args[0],f.args[1],v):p==="objid"?this._decodeObjid(g,null,null,v):p==="gentime"||p==="utctime"?this._decodeTime(g,p,v):p==="null_"?this._decodeNull(g,v):p==="bool"?this._decodeBool(g,v):p==="objDesc"?this._decodeStr(g,p,v):p==="int"||p==="enum"?this._decodeInt(g,f.args&&f.args[0],v):f.use!==null?this._getUse(f.use,g._reporterState.obj)._decode(g,v):g.error("unknown tag: "+p)},h.prototype._getUse=function(p,g){const v=this._baseState;return v.useDecoder=this._use(p,g),u(v.useDecoder._baseState.parent===null),v.useDecoder=v.useDecoder._baseState.children[0],v.implicit!==v.useDecoder._baseState.implicit&&(v.useDecoder=v.useDecoder.clone(),v.useDecoder._baseState.implicit=v.implicit),v.useDecoder},h.prototype._decodeChoice=function(p,g){const v=this._baseState;let f=null,y=!1;return Object.keys(v.choice).some(function(m){const w=p.save(),_=v.choice[m];try{const A=_._decode(p,g);if(p.isError(A))return!1;f={type:m,value:A},y=!0}catch{return p.restore(w),!1}return!0},this),y?f:p.error("Choice not matched")},h.prototype._createEncoderBuffer=function(p){return new o(p,this.reporter)},h.prototype._encode=function(p,g,v){const f=this._baseState;if(f.default!==null&&f.default===p)return;const y=this._encodeValue(p,g,v);return y===void 0||this._skipDefault(y,g,v)?void 0:y},h.prototype._encodeValue=function(p,g,v){const f=this._baseState;if(f.parent===null)return f.children[0]._encode(p,g||new n);let y=null;if(this.reporter=g,f.optional&&p===void 0){if(f.default===null)return;p=f.default}let m=null,w=!1;if(f.any)y=this._createEncoderBuffer(p);else if(f.choice)y=this._encodeChoice(p,g);else if(f.contains)m=this._getUse(f.contains,v)._encode(p,g),w=!0;else if(f.children)m=f.children.map(function(_){if(_._baseState.tag==="null_")return _._encode(null,g,p);if(_._baseState.key===null)return g.error("Child should have a key");const A=g.enterKey(_._baseState.key);if(typeof p!="object")return g.error("Child expected, but input is not object");const F=_._encode(p[_._baseState.key],g,p);return g.leaveKey(A),F},this).filter(function(_){return _}),m=this._createEncoderBuffer(m);else if(f.tag==="seqof"||f.tag==="setof"){if(!f.args||f.args.length!==1)return g.error("Too many args for : "+f.tag);if(!Array.isArray(p))return g.error("seqof/setof, but data is not Array");const _=this.clone();_._baseState.implicit=null,m=this._createEncoderBuffer(p.map(function(A){const F=this._baseState;return this._getUse(F.args[0],p)._encode(A,g)},_))}else f.use!==null?y=this._getUse(f.use,v)._encode(p,g):(m=this._encodePrimitive(f.tag,p),w=!0);if(!f.any&&f.choice===null){const _=f.implicit!==null?f.implicit:f.tag,A=f.implicit===null?"universal":"context";_===null?f.use===null&&g.error("Tag could be omitted only for .use()"):f.use===null&&(y=this._encodeComposite(_,w,A,m))}return f.explicit!==null&&(y=this._encodeComposite(f.explicit,!1,"context",y)),y},h.prototype._encodeChoice=function(p,g){const v=this._baseState,f=v.choice[p.type];return f||u(!1,p.type+" not found in "+JSON.stringify(Object.keys(v.choice))),f._encode(p.value,g)},h.prototype._encodePrimitive=function(p,g){const v=this._baseState;if(/str$/.test(p))return this._encodeStr(g,p);if(p==="objid"&&v.args)return this._encodeObjid(g,v.reverseArgs[0],v.args[1]);if(p==="objid")return this._encodeObjid(g,null,null);if(p==="gentime"||p==="utctime")return this._encodeTime(g,p);if(p==="null_")return this._encodeNull();if(p==="int"||p==="enum")return this._encodeInt(g,v.args&&v.reverseArgs[0]);if(p==="bool")return this._encodeBool(g);if(p==="objDesc")return this._encodeStr(g,p);throw new Error("Unsupported tag: "+p)},h.prototype._isNumstr=function(p){return/^[0-9 ]*$/.test(p)},h.prototype._isPrintstr=function(p){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(p)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(r,i,s){const n=r("inherits");function o(u){this._reporterState={obj:null,path:[],options:u||{},errors:[]}}function a(u,l){this.path=u,this.rethrow(l)}s.Reporter=o,o.prototype.isError=function(u){return u instanceof a},o.prototype.save=function(){const u=this._reporterState;return{obj:u.obj,pathLen:u.path.length}},o.prototype.restore=function(u){const l=this._reporterState;l.obj=u.obj,l.path=l.path.slice(0,u.pathLen)},o.prototype.enterKey=function(u){return this._reporterState.path.push(u)},o.prototype.exitKey=function(u){const l=this._reporterState;l.path=l.path.slice(0,u-1)},o.prototype.leaveKey=function(u,l,c){const h=this._reporterState;this.exitKey(u),h.obj!==null&&(h.obj[l]=c)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){const u=this._reporterState,l=u.obj;return u.obj={},l},o.prototype.leaveObject=function(u){const l=this._reporterState,c=l.obj;return l.obj=u,c},o.prototype.error=function(u){let l;const c=this._reporterState,h=u instanceof a;if(l=h?u:new a(c.path.map(function(d){return"["+JSON.stringify(d)+"]"}).join(""),u.message||u,u.stack),!c.options.partial)throw l;return h||c.errors.push(l),l},o.prototype.wrapResult=function(u){const l=this._reporterState;return l.options.partial?{result:this.isError(u)?null:u,errors:l.errors}:u},n(a,Error),a.prototype.rethrow=function(u){if(this.message=u+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,a),!this.stack)try{throw new Error(this.message)}catch(l){this.stack=l.stack}return this}},{inherits:440}],176:[function(r,i,s){function n(o){const a={};return Object.keys(o).forEach(function(u){(0|u)==u&&(u|=0);const l=o[u];a[l]=u}),a}s.tagClass={0:"universal",1:"application",2:"context",3:"private"},s.tagClassByName=n(s.tagClass),s.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},s.tagByName=n(s.tag)},{}],177:[function(r,i,s){const n=s;n._reverse=function(o){const a={};return Object.keys(o).forEach(function(u){(0|u)==u&&(u|=0);const l=o[u];a[l]=u}),a},n.der=r("./der")},{"./der":176}],178:[function(r,i,s){const n=r("inherits"),o=r("bn.js"),a=r("../base/buffer").DecoderBuffer,u=r("../base/node"),l=r("../constants/der");function c(g){this.enc="der",this.name=g.name,this.entity=g,this.tree=new h,this.tree._init(g.body)}function h(g){u.call(this,"der",g)}function d(g,v){let f=g.readUInt8(v);if(g.isError(f))return f;const y=l.tagClass[f>>6],m=(32&f)==0;if((31&f)==31){let w=f;for(f=0;(128&w)==128;){if(w=g.readUInt8(v),g.isError(w))return w;f<<=7,f|=127&w}}else f&=31;return{cls:y,primitive:m,tag:f,tagStr:l.tag[f]}}function p(g,v,f){let y=g.readUInt8(f);if(g.isError(y))return y;if(!v&&y===128)return null;if(!(128&y))return y;const m=127&y;if(m>4)return g.error("length octect is too long");y=0;for(let w=0;w<m;w++){y<<=8;const _=g.readUInt8(f);if(g.isError(_))return _;y|=_}return y}i.exports=c,c.prototype.decode=function(g,v){return a.isDecoderBuffer(g)||(g=new a(g,v)),this.tree._decode(g,v)},n(h,u),h.prototype._peekTag=function(g,v,f){if(g.isEmpty())return!1;const y=g.save(),m=d(g,'Failed to peek tag: "'+v+'"');return g.isError(m)?m:(g.restore(y),m.tag===v||m.tagStr===v||m.tagStr+"of"===v||f)},h.prototype._decodeTag=function(g,v,f){const y=d(g,'Failed to decode tag of "'+v+'"');if(g.isError(y))return y;let m=p(g,y.primitive,'Failed to get length of "'+v+'"');if(g.isError(m))return m;if(!f&&y.tag!==v&&y.tagStr!==v&&y.tagStr+"of"!==v)return g.error('Failed to match tag: "'+v+'"');if(y.primitive||m!==null)return g.skip(m,'Failed to match body of: "'+v+'"');const w=g.save(),_=this._skipUntilEnd(g,'Failed to skip indefinite length body: "'+this.tag+'"');return g.isError(_)?_:(m=g.offset-w.offset,g.restore(w),g.skip(m,'Failed to match body of: "'+v+'"'))},h.prototype._skipUntilEnd=function(g,v){for(;;){const f=d(g,v);if(g.isError(f))return f;const y=p(g,f.primitive,v);if(g.isError(y))return y;let m;if(m=f.primitive||y!==null?g.skip(y):this._skipUntilEnd(g,v),g.isError(m))return m;if(f.tagStr==="end")break}},h.prototype._decodeList=function(g,v,f,y){const m=[];for(;!g.isEmpty();){const w=this._peekTag(g,"end");if(g.isError(w))return w;const _=f.decode(g,"der",y);if(g.isError(_)&&w)break;m.push(_)}return m},h.prototype._decodeStr=function(g,v){if(v==="bitstr"){const f=g.readUInt8();return g.isError(f)?f:{unused:f,data:g.raw()}}if(v==="bmpstr"){const f=g.raw();if(f.length%2==1)return g.error("Decoding of string type: bmpstr length mismatch");let y="";for(let m=0;m<f.length/2;m++)y+=String.fromCharCode(f.readUInt16BE(2*m));return y}if(v==="numstr"){const f=g.raw().toString("ascii");return this._isNumstr(f)?f:g.error("Decoding of string type: numstr unsupported characters")}if(v==="octstr"||v==="objDesc")return g.raw();if(v==="printstr"){const f=g.raw().toString("ascii");return this._isPrintstr(f)?f:g.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(v)?g.raw().toString():g.error("Decoding of string type: "+v+" unsupported")},h.prototype._decodeObjid=function(g,v,f){let y;const m=[];let w=0,_=0;for(;!g.isEmpty();)_=g.readUInt8(),w<<=7,w|=127&_,!(128&_)&&(m.push(w),w=0);128&_&&m.push(w);const A=m[0]/40|0,F=m[0]%40;if(y=f?m:[A,F].concat(m.slice(1)),v){let G=v[y.join(" ")];G===void 0&&(G=v[y.join(".")]),G!==void 0&&(y=G)}return y},h.prototype._decodeTime=function(g,v){const f=g.raw().toString();let y,m,w,_,A,F;if(v==="gentime")y=0|f.slice(0,4),m=0|f.slice(4,6),w=0|f.slice(6,8),_=0|f.slice(8,10),A=0|f.slice(10,12),F=0|f.slice(12,14);else{if(v!=="utctime")return g.error("Decoding "+v+" time is not supported yet");y=0|f.slice(0,2),m=0|f.slice(2,4),w=0|f.slice(4,6),_=0|f.slice(6,8),A=0|f.slice(8,10),F=0|f.slice(10,12),y=y<70?2e3+y:1900+y}return Date.UTC(y,m-1,w,_,A,F,0)},h.prototype._decodeNull=function(){return null},h.prototype._decodeBool=function(g){const v=g.readUInt8();return g.isError(v)?v:v!==0},h.prototype._decodeInt=function(g,v){const f=g.raw();let y=new o(f);return v&&(y=v[y.toString(10)]||y),y},h.prototype._use=function(g,v){return typeof g=="function"&&(g=g(v)),g._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(r,i,s){const n=s;n.der=r("./der"),n.pem=r("./pem")},{"./der":178,"./pem":180}],180:[function(r,i,s){const n=r("inherits"),o=r("safer-buffer").Buffer,a=r("./der");function u(l){a.call(this,l),this.enc="pem"}n(u,a),i.exports=u,u.prototype.decode=function(l,c){const h=l.toString().split(/[\r\n]+/g),d=c.label.toUpperCase(),p=/^-----(BEGIN|END) ([^-]+)-----$/;let g=-1,v=-1;for(let m=0;m<h.length;m++){const w=h[m].match(p);if(w!==null&&w[2]===d){if(g!==-1){if(w[1]!=="END")break;v=m;break}if(w[1]!=="BEGIN")break;g=m}}if(g===-1||v===-1)throw new Error("PEM section not found for: "+d);const f=h.slice(g+1,v).join("");f.replace(/[^a-z0-9+/=]+/gi,"");const y=o.from(f,"base64");return a.prototype.decode.call(this,y,c)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(r,i,s){const n=r("inherits"),o=r("safer-buffer").Buffer,a=r("../base/node"),u=r("../constants/der");function l(d){this.enc="der",this.name=d.name,this.entity=d,this.tree=new c,this.tree._init(d.body)}function c(d){a.call(this,"der",d)}function h(d){return d<10?"0"+d:d}i.exports=l,l.prototype.encode=function(d,p){return this.tree._encode(d,p).join()},n(c,a),c.prototype._encodeComposite=function(d,p,g,v){const f=function(w,_,A,F){let G;if(w==="seqof"?w="seq":w==="setof"&&(w="set"),u.tagByName.hasOwnProperty(w))G=u.tagByName[w];else{if(typeof w!="number"||(0|w)!==w)return F.error("Unknown tag: "+w);G=w}return G>=31?F.error("Multi-octet tag encoding unsupported"):(_||(G|=32),G|=u.tagClassByName[A||"universal"]<<6,G)}(d,p,g,this.reporter);if(v.length<128){const w=o.alloc(2);return w[0]=f,w[1]=v.length,this._createEncoderBuffer([w,v])}let y=1;for(let w=v.length;w>=256;w>>=8)y++;const m=o.alloc(2+y);m[0]=f,m[1]=128|y;for(let w=1+y,_=v.length;_>0;w--,_>>=8)m[w]=255&_;return this._createEncoderBuffer([m,v])},c.prototype._encodeStr=function(d,p){if(p==="bitstr")return this._createEncoderBuffer([0|d.unused,d.data]);if(p==="bmpstr"){const g=o.alloc(2*d.length);for(let v=0;v<d.length;v++)g.writeUInt16BE(d.charCodeAt(v),2*v);return this._createEncoderBuffer(g)}return p==="numstr"?this._isNumstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: numstr supports only digits and space"):p==="printstr"?this._isPrintstr(d)?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(p)||p==="objDesc"?this._createEncoderBuffer(d):this.reporter.error("Encoding of string type: "+p+" unsupported")},c.prototype._encodeObjid=function(d,p,g){if(typeof d=="string"){if(!p)return this.reporter.error("string objid given, but no values map found");if(!p.hasOwnProperty(d))return this.reporter.error("objid not found in values map");d=p[d].split(/[\s.]+/g);for(let m=0;m<d.length;m++)d[m]|=0}else if(Array.isArray(d)){d=d.slice();for(let m=0;m<d.length;m++)d[m]|=0}if(!Array.isArray(d))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(d));if(!g){if(d[1]>=40)return this.reporter.error("Second objid identifier OOB");d.splice(0,2,40*d[0]+d[1])}let v=0;for(let m=0;m<d.length;m++){let w=d[m];for(v++;w>=128;w>>=7)v++}const f=o.alloc(v);let y=f.length-1;for(let m=d.length-1;m>=0;m--){let w=d[m];for(f[y--]=127&w;(w>>=7)>0;)f[y--]=128|127&w}return this._createEncoderBuffer(f)},c.prototype._encodeTime=function(d,p){let g;const v=new Date(d);return p==="gentime"?g=[h(v.getUTCFullYear()),h(v.getUTCMonth()+1),h(v.getUTCDate()),h(v.getUTCHours()),h(v.getUTCMinutes()),h(v.getUTCSeconds()),"Z"].join(""):p==="utctime"?g=[h(v.getUTCFullYear()%100),h(v.getUTCMonth()+1),h(v.getUTCDate()),h(v.getUTCHours()),h(v.getUTCMinutes()),h(v.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+p+" time is not supported yet"),this._encodeStr(g,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(d,p){if(typeof d=="string"){if(!p)return this.reporter.error("String int or enum given, but no values map");if(!p.hasOwnProperty(d))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(d));d=p[d]}if(typeof d!="number"&&!o.isBuffer(d)){const f=d.toArray();!d.sign&&128&f[0]&&f.unshift(0),d=o.from(f)}if(o.isBuffer(d)){let f=d.length;d.length===0&&f++;const y=o.alloc(f);return d.copy(y),d.length===0&&(y[0]=0),this._createEncoderBuffer(y)}if(d<128)return this._createEncoderBuffer(d);if(d<256)return this._createEncoderBuffer([0,d]);let g=1;for(let f=d;f>=256;f>>=8)g++;const v=new Array(g);for(let f=v.length-1;f>=0;f--)v[f]=255&d,d>>=8;return 128&v[0]&&v.unshift(0),this._createEncoderBuffer(o.from(v))},c.prototype._encodeBool=function(d){return this._createEncoderBuffer(d?255:0)},c.prototype._use=function(d,p){return typeof d=="function"&&(d=d(p)),d._getEncoder("der").tree},c.prototype._skipDefault=function(d,p,g){const v=this._baseState;let f;if(v.default===null)return!1;const y=d.join();if(v.defaultBuffer===void 0&&(v.defaultBuffer=this._encodeValue(v.default,p,g).join()),y.length!==v.defaultBuffer.length)return!1;for(f=0;f<y.length;f++)if(y[f]!==v.defaultBuffer[f])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(r,i,s){const n=s;n.der=r("./der"),n.pem=r("./pem")},{"./der":181,"./pem":183}],183:[function(r,i,s){const n=r("inherits"),o=r("./der");function a(u){o.call(this,u),this.enc="pem"}n(a,o),i.exports=a,a.prototype.encode=function(u,l){const c=o.prototype.encode.call(this,u).toString("base64"),h=["-----BEGIN "+l.label+"-----"];for(let d=0;d<c.length;d+=64)h.push(c.slice(d,d+64));return h.push("-----END "+l.label+"-----"),h.join(`
`)}},{"./der":181,inherits:440}],184:[function(r,i,s){(function(n,o){function a(T,M){if(!T)throw new Error(M||"Assertion failed")}function u(T,M){T.super_=M;var x=function(){};x.prototype=M.prototype,T.prototype=new x,T.prototype.constructor=T}function l(T,M,x){if(l.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&(M!=="le"&&M!=="be"||(x=M,M=10),this._init(T||0,M||10,x||"be"))}var c;typeof n=="object"?n.exports=l:(void 0).BN=l,l.BN=l,l.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:r("buffer").Buffer}catch{}function h(T,M){var x=T.charCodeAt(M);return x>=65&&x<=70?x-55:x>=97&&x<=102?x-87:x-48&15}function d(T,M,x){var C=h(T,x);return x-1>=M&&(C|=h(T,x-1)<<4),C}function p(T,M,x,C){for(var S=0,b=Math.min(T.length,x),E=M;E<b;E++){var R=T.charCodeAt(E)-48;S*=C,S+=R>=49?R-49+10:R>=17?R-17+10:R}return S}l.isBN=function(T){return T instanceof l||T!==null&&typeof T=="object"&&T.constructor.wordSize===l.wordSize&&Array.isArray(T.words)},l.max=function(T,M){return T.cmp(M)>0?T:M},l.min=function(T,M){return T.cmp(M)<0?T:M},l.prototype._init=function(T,M,x){if(typeof T=="number")return this._initNumber(T,M,x);if(typeof T=="object")return this._initArray(T,M,x);M==="hex"&&(M=16),a(M===(0|M)&&M>=2&&M<=36);var C=0;(T=T.toString().replace(/\s+/g,""))[0]==="-"&&(C++,this.negative=1),C<T.length&&(M===16?this._parseHex(T,C,x):(this._parseBase(T,M,C),x==="le"&&this._initArray(this.toArray(),M,x)))},l.prototype._initNumber=function(T,M,x){T<0&&(this.negative=1,T=-T),T<67108864?(this.words=[67108863&T],this.length=1):T<4503599627370496?(this.words=[67108863&T,T/67108864&67108863],this.length=2):(a(T<9007199254740992),this.words=[67108863&T,T/67108864&67108863,1],this.length=3),x==="le"&&this._initArray(this.toArray(),M,x)},l.prototype._initArray=function(T,M,x){if(a(typeof T.length=="number"),T.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(T.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var S,b,E=0;if(x==="be")for(C=T.length-1,S=0;C>=0;C-=3)b=T[C]|T[C-1]<<8|T[C-2]<<16,this.words[S]|=b<<E&67108863,this.words[S+1]=b>>>26-E&67108863,(E+=24)>=26&&(E-=26,S++);else if(x==="le")for(C=0,S=0;C<T.length;C+=3)b=T[C]|T[C+1]<<8|T[C+2]<<16,this.words[S]|=b<<E&67108863,this.words[S+1]=b>>>26-E&67108863,(E+=24)>=26&&(E-=26,S++);return this.strip()},l.prototype._parseHex=function(T,M,x){this.length=Math.ceil((T.length-M)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var S,b=0,E=0;if(x==="be")for(C=T.length-1;C>=M;C-=2)S=d(T,M,C)<<b,this.words[E]|=67108863&S,b>=18?(b-=18,E+=1,this.words[E]|=S>>>26):b+=8;else for(C=(T.length-M)%2==0?M+1:M;C<T.length;C+=2)S=d(T,M,C)<<b,this.words[E]|=67108863&S,b>=18?(b-=18,E+=1,this.words[E]|=S>>>26):b+=8;this.strip()},l.prototype._parseBase=function(T,M,x){this.words=[0],this.length=1;for(var C=0,S=1;S<=67108863;S*=M)C++;C--,S=S/M|0;for(var b=T.length-x,E=b%C,R=Math.min(b,b-E)+x,I=0,k=x;k<R;k+=C)I=p(T,k,k+C,M),this.imuln(S),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I);if(E!==0){var U=1;for(I=p(T,k,T.length,M),k=0;k<E;k++)U*=M;this.imuln(U),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I)}this.strip()},l.prototype.copy=function(T){T.words=new Array(this.length);for(var M=0;M<this.length;M++)T.words[M]=this.words[M];T.length=this.length,T.negative=this.negative,T.red=this.red},l.prototype.clone=function(){var T=new l(null);return this.copy(T),T},l.prototype._expand=function(T){for(;this.length<T;)this.words[this.length++]=0;return this},l.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},l.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function y(T,M,x){x.negative=M.negative^T.negative;var C=T.length+M.length|0;x.length=C,C=C-1|0;var S=0|T.words[0],b=0|M.words[0],E=S*b,R=67108863&E,I=E/67108864|0;x.words[0]=R;for(var k=1;k<C;k++){for(var U=I>>>26,j=67108863&I,X=Math.min(k,M.length-1),N=Math.max(0,k-T.length+1);N<=X;N++){var K=k-N|0;U+=(E=(S=0|T.words[K])*(b=0|M.words[N])+j)/67108864|0,j=67108863&E}x.words[k]=0|j,I=0|U}return I!==0?x.words[k]=0|I:x.length--,x.strip()}l.prototype.toString=function(T,M){var x;if(M=0|M||1,(T=T||10)===16||T==="hex"){x="";for(var C=0,S=0,b=0;b<this.length;b++){var E=this.words[b],R=(16777215&(E<<C|S)).toString(16);x=(S=E>>>24-C&16777215)!==0||b!==this.length-1?g[6-R.length]+R+x:R+x,(C+=2)>=26&&(C-=26,b--)}for(S!==0&&(x=S.toString(16)+x);x.length%M!=0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}if(T===(0|T)&&T>=2&&T<=36){var I=v[T],k=f[T];x="";var U=this.clone();for(U.negative=0;!U.isZero();){var j=U.modn(k).toString(T);x=(U=U.idivn(k)).isZero()?j+x:g[I-j.length]+j+x}for(this.isZero()&&(x="0"+x);x.length%M!=0;)x="0"+x;return this.negative!==0&&(x="-"+x),x}a(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var T=this.words[0];return this.length===2?T+=67108864*this.words[1]:this.length===3&&this.words[2]===1?T+=4503599627370496+67108864*this.words[1]:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-T:T},l.prototype.toJSON=function(){return this.toString(16)},l.prototype.toBuffer=function(T,M){return a(c!==void 0),this.toArrayLike(c,T,M)},l.prototype.toArray=function(T,M){return this.toArrayLike(Array,T,M)},l.prototype.toArrayLike=function(T,M,x){var C=this.byteLength(),S=x||Math.max(1,C);a(C<=S,"byte array longer than desired length"),a(S>0,"Requested array length <= 0"),this.strip();var b,E,R=M==="le",I=new T(S),k=this.clone();if(R){for(E=0;!k.isZero();E++)b=k.andln(255),k.iushrn(8),I[E]=b;for(;E<S;E++)I[E]=0}else{for(E=0;E<S-C;E++)I[E]=0;for(E=0;!k.isZero();E++)b=k.andln(255),k.iushrn(8),I[S-E-1]=b}return I},Math.clz32?l.prototype._countBits=function(T){return 32-Math.clz32(T)}:l.prototype._countBits=function(T){var M=T,x=0;return M>=4096&&(x+=13,M>>>=13),M>=64&&(x+=7,M>>>=7),M>=8&&(x+=4,M>>>=4),M>=2&&(x+=2,M>>>=2),x+M},l.prototype._zeroBits=function(T){if(T===0)return 26;var M=T,x=0;return!(8191&M)&&(x+=13,M>>>=13),!(127&M)&&(x+=7,M>>>=7),!(15&M)&&(x+=4,M>>>=4),!(3&M)&&(x+=2,M>>>=2),!(1&M)&&x++,x},l.prototype.bitLength=function(){var T=this.words[this.length-1],M=this._countBits(T);return 26*(this.length-1)+M},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var T=0,M=0;M<this.length;M++){var x=this._zeroBits(this.words[M]);if(T+=x,x!==26)break}return T},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(T){return this.negative!==0?this.abs().inotn(T).iaddn(1):this.clone()},l.prototype.fromTwos=function(T){return this.testn(T-1)?this.notn(T).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(T){for(;this.length<T.length;)this.words[this.length++]=0;for(var M=0;M<T.length;M++)this.words[M]=this.words[M]|T.words[M];return this.strip()},l.prototype.ior=function(T){return a((this.negative|T.negative)==0),this.iuor(T)},l.prototype.or=function(T){return this.length>T.length?this.clone().ior(T):T.clone().ior(this)},l.prototype.uor=function(T){return this.length>T.length?this.clone().iuor(T):T.clone().iuor(this)},l.prototype.iuand=function(T){var M;M=this.length>T.length?T:this;for(var x=0;x<M.length;x++)this.words[x]=this.words[x]&T.words[x];return this.length=M.length,this.strip()},l.prototype.iand=function(T){return a((this.negative|T.negative)==0),this.iuand(T)},l.prototype.and=function(T){return this.length>T.length?this.clone().iand(T):T.clone().iand(this)},l.prototype.uand=function(T){return this.length>T.length?this.clone().iuand(T):T.clone().iuand(this)},l.prototype.iuxor=function(T){var M,x;this.length>T.length?(M=this,x=T):(M=T,x=this);for(var C=0;C<x.length;C++)this.words[C]=M.words[C]^x.words[C];if(this!==M)for(;C<M.length;C++)this.words[C]=M.words[C];return this.length=M.length,this.strip()},l.prototype.ixor=function(T){return a((this.negative|T.negative)==0),this.iuxor(T)},l.prototype.xor=function(T){return this.length>T.length?this.clone().ixor(T):T.clone().ixor(this)},l.prototype.uxor=function(T){return this.length>T.length?this.clone().iuxor(T):T.clone().iuxor(this)},l.prototype.inotn=function(T){a(typeof T=="number"&&T>=0);var M=0|Math.ceil(T/26),x=T%26;this._expand(M),x>0&&M--;for(var C=0;C<M;C++)this.words[C]=67108863&~this.words[C];return x>0&&(this.words[C]=~this.words[C]&67108863>>26-x),this.strip()},l.prototype.notn=function(T){return this.clone().inotn(T)},l.prototype.setn=function(T,M){a(typeof T=="number"&&T>=0);var x=T/26|0,C=T%26;return this._expand(x+1),this.words[x]=M?this.words[x]|1<<C:this.words[x]&~(1<<C),this.strip()},l.prototype.iadd=function(T){var M,x,C;if(this.negative!==0&&T.negative===0)return this.negative=0,M=this.isub(T),this.negative^=1,this._normSign();if(this.negative===0&&T.negative!==0)return T.negative=0,M=this.isub(T),T.negative=1,M._normSign();this.length>T.length?(x=this,C=T):(x=T,C=this);for(var S=0,b=0;b<C.length;b++)M=(0|x.words[b])+(0|C.words[b])+S,this.words[b]=67108863&M,S=M>>>26;for(;S!==0&&b<x.length;b++)M=(0|x.words[b])+S,this.words[b]=67108863&M,S=M>>>26;if(this.length=x.length,S!==0)this.words[this.length]=S,this.length++;else if(x!==this)for(;b<x.length;b++)this.words[b]=x.words[b];return this},l.prototype.add=function(T){var M;return T.negative!==0&&this.negative===0?(T.negative=0,M=this.sub(T),T.negative^=1,M):T.negative===0&&this.negative!==0?(this.negative=0,M=T.sub(this),this.negative=1,M):this.length>T.length?this.clone().iadd(T):T.clone().iadd(this)},l.prototype.isub=function(T){if(T.negative!==0){T.negative=0;var M=this.iadd(T);return T.negative=1,M._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(T),this.negative=1,this._normSign();var x,C,S=this.cmp(T);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(x=this,C=T):(x=T,C=this);for(var b=0,E=0;E<C.length;E++)b=(M=(0|x.words[E])-(0|C.words[E])+b)>>26,this.words[E]=67108863&M;for(;b!==0&&E<x.length;E++)b=(M=(0|x.words[E])+b)>>26,this.words[E]=67108863&M;if(b===0&&E<x.length&&x!==this)for(;E<x.length;E++)this.words[E]=x.words[E];return this.length=Math.max(this.length,E),x!==this&&(this.negative=1),this.strip()},l.prototype.sub=function(T){return this.clone().isub(T)};var m=function(T,M,x){var C,S,b,E=T.words,R=M.words,I=x.words,k=0,U=0|E[0],j=8191&U,X=U>>>13,N=0|E[1],K=8191&N,P=N>>>13,D=0|E[2],W=8191&D,Y=D>>>13,ee=0|E[3],Q=8191&ee,J=ee>>>13,ne=0|E[4],oe=8191&ne,Z=ne>>>13,ie=0|E[5],se=8191&ie,ce=ie>>>13,ue=0|E[6],de=8191&ue,fe=ue>>>13,ge=0|E[7],be=8191&ge,_e=ge>>>13,Te=0|E[8],Me=8191&Te,Ke=Te>>>13,je=0|E[9],$e=8191&je,Ye=je>>>13,Le=0|R[0],Ae=8191&Le,Ne=Le>>>13,ze=0|R[1],Ge=8191&ze,St=ze>>>13,Nt=0|R[2],Xe=8191&Nt,Dt=Nt>>>13,wt=0|R[3],lt=8191&wt,Kt=wt>>>13,Mt=0|R[4],rt=8191&Mt,Rt=Mt>>>13,zt=0|R[5],st=8191&zt,kt=zt>>>13,Ut=0|R[6],ct=8191&Ut,le=Ut>>>13,he=0|R[7],me=8191&he,Pe=he>>>13,Ze=0|R[8],Ie=8191&Ze,nt=Ze>>>13,Je=0|R[9],qe=8191&Je,ut=Je>>>13;x.negative=T.negative^M.negative,x.length=19;var at=(k+(C=Math.imul(j,Ae))|0)+((8191&(S=(S=Math.imul(j,Ne))+Math.imul(X,Ae)|0))<<13)|0;k=((b=Math.imul(X,Ne))+(S>>>13)|0)+(at>>>26)|0,at&=67108863,C=Math.imul(K,Ae),S=(S=Math.imul(K,Ne))+Math.imul(P,Ae)|0,b=Math.imul(P,Ne);var mt=(k+(C=C+Math.imul(j,Ge)|0)|0)+((8191&(S=(S=S+Math.imul(j,St)|0)+Math.imul(X,Ge)|0))<<13)|0;k=((b=b+Math.imul(X,St)|0)+(S>>>13)|0)+(mt>>>26)|0,mt&=67108863,C=Math.imul(W,Ae),S=(S=Math.imul(W,Ne))+Math.imul(Y,Ae)|0,b=Math.imul(Y,Ne),C=C+Math.imul(K,Ge)|0,S=(S=S+Math.imul(K,St)|0)+Math.imul(P,Ge)|0,b=b+Math.imul(P,St)|0;var fr=(k+(C=C+Math.imul(j,Xe)|0)|0)+((8191&(S=(S=S+Math.imul(j,Dt)|0)+Math.imul(X,Xe)|0))<<13)|0;k=((b=b+Math.imul(X,Dt)|0)+(S>>>13)|0)+(fr>>>26)|0,fr&=67108863,C=Math.imul(Q,Ae),S=(S=Math.imul(Q,Ne))+Math.imul(J,Ae)|0,b=Math.imul(J,Ne),C=C+Math.imul(W,Ge)|0,S=(S=S+Math.imul(W,St)|0)+Math.imul(Y,Ge)|0,b=b+Math.imul(Y,St)|0,C=C+Math.imul(K,Xe)|0,S=(S=S+Math.imul(K,Dt)|0)+Math.imul(P,Xe)|0,b=b+Math.imul(P,Dt)|0;var Yt=(k+(C=C+Math.imul(j,lt)|0)|0)+((8191&(S=(S=S+Math.imul(j,Kt)|0)+Math.imul(X,lt)|0))<<13)|0;k=((b=b+Math.imul(X,Kt)|0)+(S>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,C=Math.imul(oe,Ae),S=(S=Math.imul(oe,Ne))+Math.imul(Z,Ae)|0,b=Math.imul(Z,Ne),C=C+Math.imul(Q,Ge)|0,S=(S=S+Math.imul(Q,St)|0)+Math.imul(J,Ge)|0,b=b+Math.imul(J,St)|0,C=C+Math.imul(W,Xe)|0,S=(S=S+Math.imul(W,Dt)|0)+Math.imul(Y,Xe)|0,b=b+Math.imul(Y,Dt)|0,C=C+Math.imul(K,lt)|0,S=(S=S+Math.imul(K,Kt)|0)+Math.imul(P,lt)|0,b=b+Math.imul(P,Kt)|0;var _r=(k+(C=C+Math.imul(j,rt)|0)|0)+((8191&(S=(S=S+Math.imul(j,Rt)|0)+Math.imul(X,rt)|0))<<13)|0;k=((b=b+Math.imul(X,Rt)|0)+(S>>>13)|0)+(_r>>>26)|0,_r&=67108863,C=Math.imul(se,Ae),S=(S=Math.imul(se,Ne))+Math.imul(ce,Ae)|0,b=Math.imul(ce,Ne),C=C+Math.imul(oe,Ge)|0,S=(S=S+Math.imul(oe,St)|0)+Math.imul(Z,Ge)|0,b=b+Math.imul(Z,St)|0,C=C+Math.imul(Q,Xe)|0,S=(S=S+Math.imul(Q,Dt)|0)+Math.imul(J,Xe)|0,b=b+Math.imul(J,Dt)|0,C=C+Math.imul(W,lt)|0,S=(S=S+Math.imul(W,Kt)|0)+Math.imul(Y,lt)|0,b=b+Math.imul(Y,Kt)|0,C=C+Math.imul(K,rt)|0,S=(S=S+Math.imul(K,Rt)|0)+Math.imul(P,rt)|0,b=b+Math.imul(P,Rt)|0;var Rr=(k+(C=C+Math.imul(j,st)|0)|0)+((8191&(S=(S=S+Math.imul(j,kt)|0)+Math.imul(X,st)|0))<<13)|0;k=((b=b+Math.imul(X,kt)|0)+(S>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,C=Math.imul(de,Ae),S=(S=Math.imul(de,Ne))+Math.imul(fe,Ae)|0,b=Math.imul(fe,Ne),C=C+Math.imul(se,Ge)|0,S=(S=S+Math.imul(se,St)|0)+Math.imul(ce,Ge)|0,b=b+Math.imul(ce,St)|0,C=C+Math.imul(oe,Xe)|0,S=(S=S+Math.imul(oe,Dt)|0)+Math.imul(Z,Xe)|0,b=b+Math.imul(Z,Dt)|0,C=C+Math.imul(Q,lt)|0,S=(S=S+Math.imul(Q,Kt)|0)+Math.imul(J,lt)|0,b=b+Math.imul(J,Kt)|0,C=C+Math.imul(W,rt)|0,S=(S=S+Math.imul(W,Rt)|0)+Math.imul(Y,rt)|0,b=b+Math.imul(Y,Rt)|0,C=C+Math.imul(K,st)|0,S=(S=S+Math.imul(K,kt)|0)+Math.imul(P,st)|0,b=b+Math.imul(P,kt)|0;var gi=(k+(C=C+Math.imul(j,ct)|0)|0)+((8191&(S=(S=S+Math.imul(j,le)|0)+Math.imul(X,ct)|0))<<13)|0;k=((b=b+Math.imul(X,le)|0)+(S>>>13)|0)+(gi>>>26)|0,gi&=67108863,C=Math.imul(be,Ae),S=(S=Math.imul(be,Ne))+Math.imul(_e,Ae)|0,b=Math.imul(_e,Ne),C=C+Math.imul(de,Ge)|0,S=(S=S+Math.imul(de,St)|0)+Math.imul(fe,Ge)|0,b=b+Math.imul(fe,St)|0,C=C+Math.imul(se,Xe)|0,S=(S=S+Math.imul(se,Dt)|0)+Math.imul(ce,Xe)|0,b=b+Math.imul(ce,Dt)|0,C=C+Math.imul(oe,lt)|0,S=(S=S+Math.imul(oe,Kt)|0)+Math.imul(Z,lt)|0,b=b+Math.imul(Z,Kt)|0,C=C+Math.imul(Q,rt)|0,S=(S=S+Math.imul(Q,Rt)|0)+Math.imul(J,rt)|0,b=b+Math.imul(J,Rt)|0,C=C+Math.imul(W,st)|0,S=(S=S+Math.imul(W,kt)|0)+Math.imul(Y,st)|0,b=b+Math.imul(Y,kt)|0,C=C+Math.imul(K,ct)|0,S=(S=S+Math.imul(K,le)|0)+Math.imul(P,ct)|0,b=b+Math.imul(P,le)|0;var re=(k+(C=C+Math.imul(j,me)|0)|0)+((8191&(S=(S=S+Math.imul(j,Pe)|0)+Math.imul(X,me)|0))<<13)|0;k=((b=b+Math.imul(X,Pe)|0)+(S>>>13)|0)+(re>>>26)|0,re&=67108863,C=Math.imul(Me,Ae),S=(S=Math.imul(Me,Ne))+Math.imul(Ke,Ae)|0,b=Math.imul(Ke,Ne),C=C+Math.imul(be,Ge)|0,S=(S=S+Math.imul(be,St)|0)+Math.imul(_e,Ge)|0,b=b+Math.imul(_e,St)|0,C=C+Math.imul(de,Xe)|0,S=(S=S+Math.imul(de,Dt)|0)+Math.imul(fe,Xe)|0,b=b+Math.imul(fe,Dt)|0,C=C+Math.imul(se,lt)|0,S=(S=S+Math.imul(se,Kt)|0)+Math.imul(ce,lt)|0,b=b+Math.imul(ce,Kt)|0,C=C+Math.imul(oe,rt)|0,S=(S=S+Math.imul(oe,Rt)|0)+Math.imul(Z,rt)|0,b=b+Math.imul(Z,Rt)|0,C=C+Math.imul(Q,st)|0,S=(S=S+Math.imul(Q,kt)|0)+Math.imul(J,st)|0,b=b+Math.imul(J,kt)|0,C=C+Math.imul(W,ct)|0,S=(S=S+Math.imul(W,le)|0)+Math.imul(Y,ct)|0,b=b+Math.imul(Y,le)|0,C=C+Math.imul(K,me)|0,S=(S=S+Math.imul(K,Pe)|0)+Math.imul(P,me)|0,b=b+Math.imul(P,Pe)|0;var pe=(k+(C=C+Math.imul(j,Ie)|0)|0)+((8191&(S=(S=S+Math.imul(j,nt)|0)+Math.imul(X,Ie)|0))<<13)|0;k=((b=b+Math.imul(X,nt)|0)+(S>>>13)|0)+(pe>>>26)|0,pe&=67108863,C=Math.imul($e,Ae),S=(S=Math.imul($e,Ne))+Math.imul(Ye,Ae)|0,b=Math.imul(Ye,Ne),C=C+Math.imul(Me,Ge)|0,S=(S=S+Math.imul(Me,St)|0)+Math.imul(Ke,Ge)|0,b=b+Math.imul(Ke,St)|0,C=C+Math.imul(be,Xe)|0,S=(S=S+Math.imul(be,Dt)|0)+Math.imul(_e,Xe)|0,b=b+Math.imul(_e,Dt)|0,C=C+Math.imul(de,lt)|0,S=(S=S+Math.imul(de,Kt)|0)+Math.imul(fe,lt)|0,b=b+Math.imul(fe,Kt)|0,C=C+Math.imul(se,rt)|0,S=(S=S+Math.imul(se,Rt)|0)+Math.imul(ce,rt)|0,b=b+Math.imul(ce,Rt)|0,C=C+Math.imul(oe,st)|0,S=(S=S+Math.imul(oe,kt)|0)+Math.imul(Z,st)|0,b=b+Math.imul(Z,kt)|0,C=C+Math.imul(Q,ct)|0,S=(S=S+Math.imul(Q,le)|0)+Math.imul(J,ct)|0,b=b+Math.imul(J,le)|0,C=C+Math.imul(W,me)|0,S=(S=S+Math.imul(W,Pe)|0)+Math.imul(Y,me)|0,b=b+Math.imul(Y,Pe)|0,C=C+Math.imul(K,Ie)|0,S=(S=S+Math.imul(K,nt)|0)+Math.imul(P,Ie)|0,b=b+Math.imul(P,nt)|0;var Ce=(k+(C=C+Math.imul(j,qe)|0)|0)+((8191&(S=(S=S+Math.imul(j,ut)|0)+Math.imul(X,qe)|0))<<13)|0;k=((b=b+Math.imul(X,ut)|0)+(S>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,C=Math.imul($e,Ge),S=(S=Math.imul($e,St))+Math.imul(Ye,Ge)|0,b=Math.imul(Ye,St),C=C+Math.imul(Me,Xe)|0,S=(S=S+Math.imul(Me,Dt)|0)+Math.imul(Ke,Xe)|0,b=b+Math.imul(Ke,Dt)|0,C=C+Math.imul(be,lt)|0,S=(S=S+Math.imul(be,Kt)|0)+Math.imul(_e,lt)|0,b=b+Math.imul(_e,Kt)|0,C=C+Math.imul(de,rt)|0,S=(S=S+Math.imul(de,Rt)|0)+Math.imul(fe,rt)|0,b=b+Math.imul(fe,Rt)|0,C=C+Math.imul(se,st)|0,S=(S=S+Math.imul(se,kt)|0)+Math.imul(ce,st)|0,b=b+Math.imul(ce,kt)|0,C=C+Math.imul(oe,ct)|0,S=(S=S+Math.imul(oe,le)|0)+Math.imul(Z,ct)|0,b=b+Math.imul(Z,le)|0,C=C+Math.imul(Q,me)|0,S=(S=S+Math.imul(Q,Pe)|0)+Math.imul(J,me)|0,b=b+Math.imul(J,Pe)|0,C=C+Math.imul(W,Ie)|0,S=(S=S+Math.imul(W,nt)|0)+Math.imul(Y,Ie)|0,b=b+Math.imul(Y,nt)|0;var Se=(k+(C=C+Math.imul(K,qe)|0)|0)+((8191&(S=(S=S+Math.imul(K,ut)|0)+Math.imul(P,qe)|0))<<13)|0;k=((b=b+Math.imul(P,ut)|0)+(S>>>13)|0)+(Se>>>26)|0,Se&=67108863,C=Math.imul($e,Xe),S=(S=Math.imul($e,Dt))+Math.imul(Ye,Xe)|0,b=Math.imul(Ye,Dt),C=C+Math.imul(Me,lt)|0,S=(S=S+Math.imul(Me,Kt)|0)+Math.imul(Ke,lt)|0,b=b+Math.imul(Ke,Kt)|0,C=C+Math.imul(be,rt)|0,S=(S=S+Math.imul(be,Rt)|0)+Math.imul(_e,rt)|0,b=b+Math.imul(_e,Rt)|0,C=C+Math.imul(de,st)|0,S=(S=S+Math.imul(de,kt)|0)+Math.imul(fe,st)|0,b=b+Math.imul(fe,kt)|0,C=C+Math.imul(se,ct)|0,S=(S=S+Math.imul(se,le)|0)+Math.imul(ce,ct)|0,b=b+Math.imul(ce,le)|0,C=C+Math.imul(oe,me)|0,S=(S=S+Math.imul(oe,Pe)|0)+Math.imul(Z,me)|0,b=b+Math.imul(Z,Pe)|0,C=C+Math.imul(Q,Ie)|0,S=(S=S+Math.imul(Q,nt)|0)+Math.imul(J,Ie)|0,b=b+Math.imul(J,nt)|0;var He=(k+(C=C+Math.imul(W,qe)|0)|0)+((8191&(S=(S=S+Math.imul(W,ut)|0)+Math.imul(Y,qe)|0))<<13)|0;k=((b=b+Math.imul(Y,ut)|0)+(S>>>13)|0)+(He>>>26)|0,He&=67108863,C=Math.imul($e,lt),S=(S=Math.imul($e,Kt))+Math.imul(Ye,lt)|0,b=Math.imul(Ye,Kt),C=C+Math.imul(Me,rt)|0,S=(S=S+Math.imul(Me,Rt)|0)+Math.imul(Ke,rt)|0,b=b+Math.imul(Ke,Rt)|0,C=C+Math.imul(be,st)|0,S=(S=S+Math.imul(be,kt)|0)+Math.imul(_e,st)|0,b=b+Math.imul(_e,kt)|0,C=C+Math.imul(de,ct)|0,S=(S=S+Math.imul(de,le)|0)+Math.imul(fe,ct)|0,b=b+Math.imul(fe,le)|0,C=C+Math.imul(se,me)|0,S=(S=S+Math.imul(se,Pe)|0)+Math.imul(ce,me)|0,b=b+Math.imul(ce,Pe)|0,C=C+Math.imul(oe,Ie)|0,S=(S=S+Math.imul(oe,nt)|0)+Math.imul(Z,Ie)|0,b=b+Math.imul(Z,nt)|0;var De=(k+(C=C+Math.imul(Q,qe)|0)|0)+((8191&(S=(S=S+Math.imul(Q,ut)|0)+Math.imul(J,qe)|0))<<13)|0;k=((b=b+Math.imul(J,ut)|0)+(S>>>13)|0)+(De>>>26)|0,De&=67108863,C=Math.imul($e,rt),S=(S=Math.imul($e,Rt))+Math.imul(Ye,rt)|0,b=Math.imul(Ye,Rt),C=C+Math.imul(Me,st)|0,S=(S=S+Math.imul(Me,kt)|0)+Math.imul(Ke,st)|0,b=b+Math.imul(Ke,kt)|0,C=C+Math.imul(be,ct)|0,S=(S=S+Math.imul(be,le)|0)+Math.imul(_e,ct)|0,b=b+Math.imul(_e,le)|0,C=C+Math.imul(de,me)|0,S=(S=S+Math.imul(de,Pe)|0)+Math.imul(fe,me)|0,b=b+Math.imul(fe,Pe)|0,C=C+Math.imul(se,Ie)|0,S=(S=S+Math.imul(se,nt)|0)+Math.imul(ce,Ie)|0,b=b+Math.imul(ce,nt)|0;var Fe=(k+(C=C+Math.imul(oe,qe)|0)|0)+((8191&(S=(S=S+Math.imul(oe,ut)|0)+Math.imul(Z,qe)|0))<<13)|0;k=((b=b+Math.imul(Z,ut)|0)+(S>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,C=Math.imul($e,st),S=(S=Math.imul($e,kt))+Math.imul(Ye,st)|0,b=Math.imul(Ye,kt),C=C+Math.imul(Me,ct)|0,S=(S=S+Math.imul(Me,le)|0)+Math.imul(Ke,ct)|0,b=b+Math.imul(Ke,le)|0,C=C+Math.imul(be,me)|0,S=(S=S+Math.imul(be,Pe)|0)+Math.imul(_e,me)|0,b=b+Math.imul(_e,Pe)|0,C=C+Math.imul(de,Ie)|0,S=(S=S+Math.imul(de,nt)|0)+Math.imul(fe,Ie)|0,b=b+Math.imul(fe,nt)|0;var xt=(k+(C=C+Math.imul(se,qe)|0)|0)+((8191&(S=(S=S+Math.imul(se,ut)|0)+Math.imul(ce,qe)|0))<<13)|0;k=((b=b+Math.imul(ce,ut)|0)+(S>>>13)|0)+(xt>>>26)|0,xt&=67108863,C=Math.imul($e,ct),S=(S=Math.imul($e,le))+Math.imul(Ye,ct)|0,b=Math.imul(Ye,le),C=C+Math.imul(Me,me)|0,S=(S=S+Math.imul(Me,Pe)|0)+Math.imul(Ke,me)|0,b=b+Math.imul(Ke,Pe)|0,C=C+Math.imul(be,Ie)|0,S=(S=S+Math.imul(be,nt)|0)+Math.imul(_e,Ie)|0,b=b+Math.imul(_e,nt)|0;var pt=(k+(C=C+Math.imul(de,qe)|0)|0)+((8191&(S=(S=S+Math.imul(de,ut)|0)+Math.imul(fe,qe)|0))<<13)|0;k=((b=b+Math.imul(fe,ut)|0)+(S>>>13)|0)+(pt>>>26)|0,pt&=67108863,C=Math.imul($e,me),S=(S=Math.imul($e,Pe))+Math.imul(Ye,me)|0,b=Math.imul(Ye,Pe),C=C+Math.imul(Me,Ie)|0,S=(S=S+Math.imul(Me,nt)|0)+Math.imul(Ke,Ie)|0,b=b+Math.imul(Ke,nt)|0;var vt=(k+(C=C+Math.imul(be,qe)|0)|0)+((8191&(S=(S=S+Math.imul(be,ut)|0)+Math.imul(_e,qe)|0))<<13)|0;k=((b=b+Math.imul(_e,ut)|0)+(S>>>13)|0)+(vt>>>26)|0,vt&=67108863,C=Math.imul($e,Ie),S=(S=Math.imul($e,nt))+Math.imul(Ye,Ie)|0,b=Math.imul(Ye,nt);var et=(k+(C=C+Math.imul(Me,qe)|0)|0)+((8191&(S=(S=S+Math.imul(Me,ut)|0)+Math.imul(Ke,qe)|0))<<13)|0;k=((b=b+Math.imul(Ke,ut)|0)+(S>>>13)|0)+(et>>>26)|0,et&=67108863;var Gt=(k+(C=Math.imul($e,qe))|0)+((8191&(S=(S=Math.imul($e,ut))+Math.imul(Ye,qe)|0))<<13)|0;return k=((b=Math.imul(Ye,ut))+(S>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,I[0]=at,I[1]=mt,I[2]=fr,I[3]=Yt,I[4]=_r,I[5]=Rr,I[6]=gi,I[7]=re,I[8]=pe,I[9]=Ce,I[10]=Se,I[11]=He,I[12]=De,I[13]=Fe,I[14]=xt,I[15]=pt,I[16]=vt,I[17]=et,I[18]=Gt,k!==0&&(I[19]=k,x.length++),x};function w(T,M,x){return new _().mulp(T,M,x)}function _(T,M){this.x=T,this.y=M}Math.imul||(m=y),l.prototype.mulTo=function(T,M){var x=this.length+T.length;return this.length===10&&T.length===10?m(this,T,M):x<63?y(this,T,M):x<1024?function(C,S,b){b.negative=S.negative^C.negative,b.length=C.length+S.length;for(var E=0,R=0,I=0;I<b.length-1;I++){var k=R;R=0;for(var U=67108863&E,j=Math.min(I,S.length-1),X=Math.max(0,I-C.length+1);X<=j;X++){var N=I-X,K=(0|C.words[N])*(0|S.words[X]),P=67108863&K;U=67108863&(P=P+U|0),R+=(k=(k=k+(K/67108864|0)|0)+(P>>>26)|0)>>>26,k&=67108863}b.words[I]=U,E=k,k=R}return E!==0?b.words[I]=E:b.length--,b.strip()}(this,T,M):w(this,T,M)},_.prototype.makeRBT=function(T){for(var M=new Array(T),x=l.prototype._countBits(T)-1,C=0;C<T;C++)M[C]=this.revBin(C,x,T);return M},_.prototype.revBin=function(T,M,x){if(T===0||T===x-1)return T;for(var C=0,S=0;S<M;S++)C|=(1&T)<<M-S-1,T>>=1;return C},_.prototype.permute=function(T,M,x,C,S,b){for(var E=0;E<b;E++)C[E]=M[T[E]],S[E]=x[T[E]]},_.prototype.transform=function(T,M,x,C,S,b){this.permute(b,T,M,x,C,S);for(var E=1;E<S;E<<=1)for(var R=E<<1,I=Math.cos(2*Math.PI/R),k=Math.sin(2*Math.PI/R),U=0;U<S;U+=R)for(var j=I,X=k,N=0;N<E;N++){var K=x[U+N],P=C[U+N],D=x[U+N+E],W=C[U+N+E],Y=j*D-X*W;W=j*W+X*D,D=Y,x[U+N]=K+D,C[U+N]=P+W,x[U+N+E]=K-D,C[U+N+E]=P-W,N!==R&&(Y=I*j-k*X,X=I*X+k*j,j=Y)}},_.prototype.guessLen13b=function(T,M){var x=1|Math.max(M,T),C=1&x,S=0;for(x=x/2|0;x;x>>>=1)S++;return 1<<S+1+C},_.prototype.conjugate=function(T,M,x){if(!(x<=1))for(var C=0;C<x/2;C++){var S=T[C];T[C]=T[x-C-1],T[x-C-1]=S,S=M[C],M[C]=-M[x-C-1],M[x-C-1]=-S}},_.prototype.normalize13b=function(T,M){for(var x=0,C=0;C<M/2;C++){var S=8192*Math.round(T[2*C+1]/M)+Math.round(T[2*C]/M)+x;T[C]=67108863&S,x=S<67108864?0:S/67108864|0}return T},_.prototype.convert13b=function(T,M,x,C){for(var S=0,b=0;b<M;b++)S+=0|T[b],x[2*b]=8191&S,S>>>=13,x[2*b+1]=8191&S,S>>>=13;for(b=2*M;b<C;++b)x[b]=0;a(S===0),a((-8192&S)==0)},_.prototype.stub=function(T){for(var M=new Array(T),x=0;x<T;x++)M[x]=0;return M},_.prototype.mulp=function(T,M,x){var C=2*this.guessLen13b(T.length,M.length),S=this.makeRBT(C),b=this.stub(C),E=new Array(C),R=new Array(C),I=new Array(C),k=new Array(C),U=new Array(C),j=new Array(C),X=x.words;X.length=C,this.convert13b(T.words,T.length,E,C),this.convert13b(M.words,M.length,k,C),this.transform(E,b,R,I,C,S),this.transform(k,b,U,j,C,S);for(var N=0;N<C;N++){var K=R[N]*U[N]-I[N]*j[N];I[N]=R[N]*j[N]+I[N]*U[N],R[N]=K}return this.conjugate(R,I,C),this.transform(R,I,X,b,C,S),this.conjugate(X,b,C),this.normalize13b(X,C),x.negative=T.negative^M.negative,x.length=T.length+M.length,x.strip()},l.prototype.mul=function(T){var M=new l(null);return M.words=new Array(this.length+T.length),this.mulTo(T,M)},l.prototype.mulf=function(T){var M=new l(null);return M.words=new Array(this.length+T.length),w(this,T,M)},l.prototype.imul=function(T){return this.clone().mulTo(T,this)},l.prototype.imuln=function(T){a(typeof T=="number"),a(T<67108864);for(var M=0,x=0;x<this.length;x++){var C=(0|this.words[x])*T,S=(67108863&C)+(67108863&M);M>>=26,M+=C/67108864|0,M+=S>>>26,this.words[x]=67108863&S}return M!==0&&(this.words[x]=M,this.length++),this},l.prototype.muln=function(T){return this.clone().imuln(T)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(T){var M=function(b){for(var E=new Array(b.bitLength()),R=0;R<E.length;R++){var I=R/26|0,k=R%26;E[R]=(b.words[I]&1<<k)>>>k}return E}(T);if(M.length===0)return new l(1);for(var x=this,C=0;C<M.length&&M[C]===0;C++,x=x.sqr());if(++C<M.length)for(var S=x.sqr();C<M.length;C++,S=S.sqr())M[C]!==0&&(x=x.mul(S));return x},l.prototype.iushln=function(T){a(typeof T=="number"&&T>=0);var M,x=T%26,C=(T-x)/26,S=67108863>>>26-x<<26-x;if(x!==0){var b=0;for(M=0;M<this.length;M++){var E=this.words[M]&S,R=(0|this.words[M])-E<<x;this.words[M]=R|b,b=E>>>26-x}b&&(this.words[M]=b,this.length++)}if(C!==0){for(M=this.length-1;M>=0;M--)this.words[M+C]=this.words[M];for(M=0;M<C;M++)this.words[M]=0;this.length+=C}return this.strip()},l.prototype.ishln=function(T){return a(this.negative===0),this.iushln(T)},l.prototype.iushrn=function(T,M,x){var C;a(typeof T=="number"&&T>=0),C=M?(M-M%26)/26:0;var S=T%26,b=Math.min((T-S)/26,this.length),E=67108863^67108863>>>S<<S,R=x;if(C-=b,C=Math.max(0,C),R){for(var I=0;I<b;I++)R.words[I]=this.words[I];R.length=b}if(b!==0)if(this.length>b)for(this.length-=b,I=0;I<this.length;I++)this.words[I]=this.words[I+b];else this.words[0]=0,this.length=1;var k=0;for(I=this.length-1;I>=0&&(k!==0||I>=C);I--){var U=0|this.words[I];this.words[I]=k<<26-S|U>>>S,k=U&E}return R&&k!==0&&(R.words[R.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},l.prototype.ishrn=function(T,M,x){return a(this.negative===0),this.iushrn(T,M,x)},l.prototype.shln=function(T){return this.clone().ishln(T)},l.prototype.ushln=function(T){return this.clone().iushln(T)},l.prototype.shrn=function(T){return this.clone().ishrn(T)},l.prototype.ushrn=function(T){return this.clone().iushrn(T)},l.prototype.testn=function(T){a(typeof T=="number"&&T>=0);var M=T%26,x=(T-M)/26,C=1<<M;return!(this.length<=x)&&!!(this.words[x]&C)},l.prototype.imaskn=function(T){a(typeof T=="number"&&T>=0);var M=T%26,x=(T-M)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=x)return this;if(M!==0&&x++,this.length=Math.min(x,this.length),M!==0){var C=67108863^67108863>>>M<<M;this.words[this.length-1]&=C}return this.strip()},l.prototype.maskn=function(T){return this.clone().imaskn(T)},l.prototype.iaddn=function(T){return a(typeof T=="number"),a(T<67108864),T<0?this.isubn(-T):this.negative!==0?this.length===1&&(0|this.words[0])<T?(this.words[0]=T-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(T),this.negative=1,this):this._iaddn(T)},l.prototype._iaddn=function(T){this.words[0]+=T;for(var M=0;M<this.length&&this.words[M]>=67108864;M++)this.words[M]-=67108864,M===this.length-1?this.words[M+1]=1:this.words[M+1]++;return this.length=Math.max(this.length,M+1),this},l.prototype.isubn=function(T){if(a(typeof T=="number"),a(T<67108864),T<0)return this.iaddn(-T);if(this.negative!==0)return this.negative=0,this.iaddn(T),this.negative=1,this;if(this.words[0]-=T,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var M=0;M<this.length&&this.words[M]<0;M++)this.words[M]+=67108864,this.words[M+1]-=1;return this.strip()},l.prototype.addn=function(T){return this.clone().iaddn(T)},l.prototype.subn=function(T){return this.clone().isubn(T)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(T,M,x){var C,S,b=T.length+x;this._expand(b);var E=0;for(C=0;C<T.length;C++){S=(0|this.words[C+x])+E;var R=(0|T.words[C])*M;E=((S-=67108863&R)>>26)-(R/67108864|0),this.words[C+x]=67108863&S}for(;C<this.length-x;C++)E=(S=(0|this.words[C+x])+E)>>26,this.words[C+x]=67108863&S;if(E===0)return this.strip();for(a(E===-1),E=0,C=0;C<this.length;C++)E=(S=-(0|this.words[C])+E)>>26,this.words[C]=67108863&S;return this.negative=1,this.strip()},l.prototype._wordDiv=function(T,M){var x=(this.length,T.length),C=this.clone(),S=T,b=0|S.words[S.length-1];(x=26-this._countBits(b))!==0&&(S=S.ushln(x),C.iushln(x),b=0|S.words[S.length-1]);var E,R=C.length-S.length;if(M!=="mod"){(E=new l(null)).length=R+1,E.words=new Array(E.length);for(var I=0;I<E.length;I++)E.words[I]=0}var k=C.clone()._ishlnsubmul(S,1,R);k.negative===0&&(C=k,E&&(E.words[R]=1));for(var U=R-1;U>=0;U--){var j=67108864*(0|C.words[S.length+U])+(0|C.words[S.length+U-1]);for(j=Math.min(j/b|0,67108863),C._ishlnsubmul(S,j,U);C.negative!==0;)j--,C.negative=0,C._ishlnsubmul(S,1,U),C.isZero()||(C.negative^=1);E&&(E.words[U]=j)}return E&&E.strip(),C.strip(),M!=="div"&&x!==0&&C.iushrn(x),{div:E||null,mod:C}},l.prototype.divmod=function(T,M,x){return a(!T.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:this.negative!==0&&T.negative===0?(b=this.neg().divmod(T,M),M!=="mod"&&(C=b.div.neg()),M!=="div"&&(S=b.mod.neg(),x&&S.negative!==0&&S.iadd(T)),{div:C,mod:S}):this.negative===0&&T.negative!==0?(b=this.divmod(T.neg(),M),M!=="mod"&&(C=b.div.neg()),{div:C,mod:b.mod}):this.negative&T.negative?(b=this.neg().divmod(T.neg(),M),M!=="div"&&(S=b.mod.neg(),x&&S.negative!==0&&S.isub(T)),{div:b.div,mod:S}):T.length>this.length||this.cmp(T)<0?{div:new l(0),mod:this}:T.length===1?M==="div"?{div:this.divn(T.words[0]),mod:null}:M==="mod"?{div:null,mod:new l(this.modn(T.words[0]))}:{div:this.divn(T.words[0]),mod:new l(this.modn(T.words[0]))}:this._wordDiv(T,M);var C,S,b},l.prototype.div=function(T){return this.divmod(T,"div",!1).div},l.prototype.mod=function(T){return this.divmod(T,"mod",!1).mod},l.prototype.umod=function(T){return this.divmod(T,"mod",!0).mod},l.prototype.divRound=function(T){var M=this.divmod(T);if(M.mod.isZero())return M.div;var x=M.div.negative!==0?M.mod.isub(T):M.mod,C=T.ushrn(1),S=T.andln(1),b=x.cmp(C);return b<0||S===1&&b===0?M.div:M.div.negative!==0?M.div.isubn(1):M.div.iaddn(1)},l.prototype.modn=function(T){a(T<=67108863);for(var M=(1<<26)%T,x=0,C=this.length-1;C>=0;C--)x=(M*x+(0|this.words[C]))%T;return x},l.prototype.idivn=function(T){a(T<=67108863);for(var M=0,x=this.length-1;x>=0;x--){var C=(0|this.words[x])+67108864*M;this.words[x]=C/T|0,M=C%T}return this.strip()},l.prototype.divn=function(T){return this.clone().idivn(T)},l.prototype.egcd=function(T){a(T.negative===0),a(!T.isZero());var M=this,x=T.clone();M=M.negative!==0?M.umod(T):M.clone();for(var C=new l(1),S=new l(0),b=new l(0),E=new l(1),R=0;M.isEven()&&x.isEven();)M.iushrn(1),x.iushrn(1),++R;for(var I=x.clone(),k=M.clone();!M.isZero();){for(var U=0,j=1;!(M.words[0]&j)&&U<26;++U,j<<=1);if(U>0)for(M.iushrn(U);U-- >0;)(C.isOdd()||S.isOdd())&&(C.iadd(I),S.isub(k)),C.iushrn(1),S.iushrn(1);for(var X=0,N=1;!(x.words[0]&N)&&X<26;++X,N<<=1);if(X>0)for(x.iushrn(X);X-- >0;)(b.isOdd()||E.isOdd())&&(b.iadd(I),E.isub(k)),b.iushrn(1),E.iushrn(1);M.cmp(x)>=0?(M.isub(x),C.isub(b),S.isub(E)):(x.isub(M),b.isub(C),E.isub(S))}return{a:b,b:E,gcd:x.iushln(R)}},l.prototype._invmp=function(T){a(T.negative===0),a(!T.isZero());var M=this,x=T.clone();M=M.negative!==0?M.umod(T):M.clone();for(var C,S=new l(1),b=new l(0),E=x.clone();M.cmpn(1)>0&&x.cmpn(1)>0;){for(var R=0,I=1;!(M.words[0]&I)&&R<26;++R,I<<=1);if(R>0)for(M.iushrn(R);R-- >0;)S.isOdd()&&S.iadd(E),S.iushrn(1);for(var k=0,U=1;!(x.words[0]&U)&&k<26;++k,U<<=1);if(k>0)for(x.iushrn(k);k-- >0;)b.isOdd()&&b.iadd(E),b.iushrn(1);M.cmp(x)>=0?(M.isub(x),S.isub(b)):(x.isub(M),b.isub(S))}return(C=M.cmpn(1)===0?S:b).cmpn(0)<0&&C.iadd(T),C},l.prototype.gcd=function(T){if(this.isZero())return T.abs();if(T.isZero())return this.abs();var M=this.clone(),x=T.clone();M.negative=0,x.negative=0;for(var C=0;M.isEven()&&x.isEven();C++)M.iushrn(1),x.iushrn(1);for(;;){for(;M.isEven();)M.iushrn(1);for(;x.isEven();)x.iushrn(1);var S=M.cmp(x);if(S<0){var b=M;M=x,x=b}else if(S===0||x.cmpn(1)===0)break;M.isub(x)}return x.iushln(C)},l.prototype.invm=function(T){return this.egcd(T).a.umod(T)},l.prototype.isEven=function(){return(1&this.words[0])==0},l.prototype.isOdd=function(){return(1&this.words[0])==1},l.prototype.andln=function(T){return this.words[0]&T},l.prototype.bincn=function(T){a(typeof T=="number");var M=T%26,x=(T-M)/26,C=1<<M;if(this.length<=x)return this._expand(x+1),this.words[x]|=C,this;for(var S=C,b=x;S!==0&&b<this.length;b++){var E=0|this.words[b];S=(E+=S)>>>26,E&=67108863,this.words[b]=E}return S!==0&&(this.words[b]=S,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(T){var M,x=T<0;if(this.negative!==0&&!x)return-1;if(this.negative===0&&x)return 1;if(this.strip(),this.length>1)M=1;else{x&&(T=-T),a(T<=67108863,"Number is too big");var C=0|this.words[0];M=C===T?0:C<T?-1:1}return this.negative!==0?0|-M:M},l.prototype.cmp=function(T){if(this.negative!==0&&T.negative===0)return-1;if(this.negative===0&&T.negative!==0)return 1;var M=this.ucmp(T);return this.negative!==0?0|-M:M},l.prototype.ucmp=function(T){if(this.length>T.length)return 1;if(this.length<T.length)return-1;for(var M=0,x=this.length-1;x>=0;x--){var C=0|this.words[x],S=0|T.words[x];if(C!==S){C<S?M=-1:C>S&&(M=1);break}}return M},l.prototype.gtn=function(T){return this.cmpn(T)===1},l.prototype.gt=function(T){return this.cmp(T)===1},l.prototype.gten=function(T){return this.cmpn(T)>=0},l.prototype.gte=function(T){return this.cmp(T)>=0},l.prototype.ltn=function(T){return this.cmpn(T)===-1},l.prototype.lt=function(T){return this.cmp(T)===-1},l.prototype.lten=function(T){return this.cmpn(T)<=0},l.prototype.lte=function(T){return this.cmp(T)<=0},l.prototype.eqn=function(T){return this.cmpn(T)===0},l.prototype.eq=function(T){return this.cmp(T)===0},l.red=function(T){return new z(T)},l.prototype.toRed=function(T){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),T.convertTo(this)._forceRed(T)},l.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(T){return this.red=T,this},l.prototype.forceRed=function(T){return a(!this.red,"Already a number in reduction context"),this._forceRed(T)},l.prototype.redAdd=function(T){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,T)},l.prototype.redIAdd=function(T){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,T)},l.prototype.redSub=function(T){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,T)},l.prototype.redISub=function(T){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,T)},l.prototype.redShl=function(T){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,T)},l.prototype.redMul=function(T){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.mul(this,T)},l.prototype.redIMul=function(T){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,T),this.red.imul(this,T)},l.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(T){return a(this.red&&!T.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,T)};var A={k256:null,p224:null,p192:null,p25519:null};function F(T,M){this.name=T,this.p=new l(M,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function G(){F.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function L(){F.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function O(){F.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function V(){F.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function z(T){if(typeof T=="string"){var M=l._prime(T);this.m=M.p,this.prime=M}else a(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}function H(T){z.call(this,T),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}F.prototype._tmp=function(){var T=new l(null);return T.words=new Array(Math.ceil(this.n/13)),T},F.prototype.ireduce=function(T){var M,x=T;do this.split(x,this.tmp),M=(x=(x=this.imulK(x)).iadd(this.tmp)).bitLength();while(M>this.n);var C=M<this.n?-1:x.ucmp(this.p);return C===0?(x.words[0]=0,x.length=1):C>0?x.isub(this.p):x.strip!==void 0?x.strip():x._strip(),x},F.prototype.split=function(T,M){T.iushrn(this.n,0,M)},F.prototype.imulK=function(T){return T.imul(this.k)},u(G,F),G.prototype.split=function(T,M){for(var x=Math.min(T.length,9),C=0;C<x;C++)M.words[C]=T.words[C];if(M.length=x,T.length<=9)return T.words[0]=0,void(T.length=1);var S=T.words[9];for(M.words[M.length++]=4194303&S,C=10;C<T.length;C++){var b=0|T.words[C];T.words[C-10]=(4194303&b)<<4|S>>>22,S=b}S>>>=22,T.words[C-10]=S,S===0&&T.length>10?T.length-=10:T.length-=9},G.prototype.imulK=function(T){T.words[T.length]=0,T.words[T.length+1]=0,T.length+=2;for(var M=0,x=0;x<T.length;x++){var C=0|T.words[x];M+=977*C,T.words[x]=67108863&M,M=64*C+(M/67108864|0)}return T.words[T.length-1]===0&&(T.length--,T.words[T.length-1]===0&&T.length--),T},u(L,F),u(O,F),u(V,F),V.prototype.imulK=function(T){for(var M=0,x=0;x<T.length;x++){var C=19*(0|T.words[x])+M,S=67108863&C;C>>>=26,T.words[x]=S,M=C}return M!==0&&(T.words[T.length++]=M),T},l._prime=function(T){if(A[T])return A[T];var M;if(T==="k256")M=new G;else if(T==="p224")M=new L;else if(T==="p192")M=new O;else{if(T!=="p25519")throw new Error("Unknown prime "+T);M=new V}return A[T]=M,M},z.prototype._verify1=function(T){a(T.negative===0,"red works only with positives"),a(T.red,"red works only with red numbers")},z.prototype._verify2=function(T,M){a((T.negative|M.negative)==0,"red works only with positives"),a(T.red&&T.red===M.red,"red works only with red numbers")},z.prototype.imod=function(T){return this.prime?this.prime.ireduce(T)._forceRed(this):T.umod(this.m)._forceRed(this)},z.prototype.neg=function(T){return T.isZero()?T.clone():this.m.sub(T)._forceRed(this)},z.prototype.add=function(T,M){this._verify2(T,M);var x=T.add(M);return x.cmp(this.m)>=0&&x.isub(this.m),x._forceRed(this)},z.prototype.iadd=function(T,M){this._verify2(T,M);var x=T.iadd(M);return x.cmp(this.m)>=0&&x.isub(this.m),x},z.prototype.sub=function(T,M){this._verify2(T,M);var x=T.sub(M);return x.cmpn(0)<0&&x.iadd(this.m),x._forceRed(this)},z.prototype.isub=function(T,M){this._verify2(T,M);var x=T.isub(M);return x.cmpn(0)<0&&x.iadd(this.m),x},z.prototype.shl=function(T,M){return this._verify1(T),this.imod(T.ushln(M))},z.prototype.imul=function(T,M){return this._verify2(T,M),this.imod(T.imul(M))},z.prototype.mul=function(T,M){return this._verify2(T,M),this.imod(T.mul(M))},z.prototype.isqr=function(T){return this.imul(T,T.clone())},z.prototype.sqr=function(T){return this.mul(T,T)},z.prototype.sqrt=function(T){if(T.isZero())return T.clone();var M=this.m.andln(3);if(a(M%2==1),M===3){var x=this.m.add(new l(1)).iushrn(2);return this.pow(T,x)}for(var C=this.m.subn(1),S=0;!C.isZero()&&C.andln(1)===0;)S++,C.iushrn(1);a(!C.isZero());var b=new l(1).toRed(this),E=b.redNeg(),R=this.m.subn(1).iushrn(1),I=this.m.bitLength();for(I=new l(2*I*I).toRed(this);this.pow(I,R).cmp(E)!==0;)I.redIAdd(E);for(var k=this.pow(I,C),U=this.pow(T,C.addn(1).iushrn(1)),j=this.pow(T,C),X=S;j.cmp(b)!==0;){for(var N=j,K=0;N.cmp(b)!==0;K++)N=N.redSqr();a(K<X);var P=this.pow(k,new l(1).iushln(X-K-1));U=U.redMul(P),k=P.redSqr(),j=j.redMul(k),X=K}return U},z.prototype.invm=function(T){var M=T._invmp(this.m);return M.negative!==0?(M.negative=0,this.imod(M).redNeg()):this.imod(M)},z.prototype.pow=function(T,M){if(M.isZero())return new l(1).toRed(this);if(M.cmpn(1)===0)return T.clone();var x=new Array(16);x[0]=new l(1).toRed(this),x[1]=T;for(var C=2;C<x.length;C++)x[C]=this.mul(x[C-1],T);var S=x[0],b=0,E=0,R=M.bitLength()%26;for(R===0&&(R=26),C=M.length-1;C>=0;C--){for(var I=M.words[C],k=R-1;k>=0;k--){var U=I>>k&1;S!==x[0]&&(S=this.sqr(S)),U!==0||b!==0?(b<<=1,b|=U,(++E===4||C===0&&k===0)&&(S=this.mul(S,x[b]),E=0,b=0)):E=0}R=26}return S},z.prototype.convertTo=function(T){var M=T.umod(this.m);return M===T?M.clone():M},z.prototype.convertFrom=function(T){var M=T.clone();return M.red=null,M},l.mont=function(T){return new H(T)},u(H,z),H.prototype.convertTo=function(T){return this.imod(T.ushln(this.shift))},H.prototype.convertFrom=function(T){var M=this.imod(T.mul(this.rinv));return M.red=null,M},H.prototype.imul=function(T,M){if(T.isZero()||M.isZero())return T.words[0]=0,T.length=1,T;var x=T.imul(M),C=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=x.isub(C).iushrn(this.shift),b=S;return S.cmp(this.m)>=0?b=S.isub(this.m):S.cmpn(0)<0&&(b=S.iadd(this.m)),b._forceRed(this)},H.prototype.mul=function(T,M){if(T.isZero()||M.isZero())return new l(0)._forceRed(this);var x=T.mul(M),C=x.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=x.isub(C).iushrn(this.shift),b=S;return S.cmp(this.m)>=0?b=S.isub(this.m):S.cmpn(0)<0&&(b=S.iadd(this.m)),b._forceRed(this)},H.prototype.invm=function(T){return this.imod(T._invmp(this.m).mul(this.r2))._forceRed(this)}})(i===void 0||i)},{buffer:188}],185:[function(r,i,s){s.byteLength=function(p){var g=h(p),v=g[0],f=g[1];return 3*(v+f)/4-f},s.toByteArray=function(p){var g,v,f=h(p),y=f[0],m=f[1],w=new a(function(F,G,L){return 3*(G+L)/4-L}(0,y,m)),_=0,A=m>0?y-4:y;for(v=0;v<A;v+=4)g=o[p.charCodeAt(v)]<<18|o[p.charCodeAt(v+1)]<<12|o[p.charCodeAt(v+2)]<<6|o[p.charCodeAt(v+3)],w[_++]=g>>16&255,w[_++]=g>>8&255,w[_++]=255&g;return m===2&&(g=o[p.charCodeAt(v)]<<2|o[p.charCodeAt(v+1)]>>4,w[_++]=255&g),m===1&&(g=o[p.charCodeAt(v)]<<10|o[p.charCodeAt(v+1)]<<4|o[p.charCodeAt(v+2)]>>2,w[_++]=g>>8&255,w[_++]=255&g),w},s.fromByteArray=function(p){for(var g,v=p.length,f=v%3,y=[],m=0,w=v-f;m<w;m+=16383)y.push(d(p,m,m+16383>w?w:m+16383));return f===1?(g=p[v-1],y.push(n[g>>2]+n[g<<4&63]+"==")):f===2&&(g=(p[v-2]<<8)+p[v-1],y.push(n[g>>10]+n[g>>4&63]+n[g<<2&63]+"=")),y.join("")};for(var n=[],o=[],a=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,c=u.length;l<c;++l)n[l]=u[l],o[u.charCodeAt(l)]=l;function h(p){var g=p.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=p.indexOf("=");return v===-1&&(v=g),[v,v===g?0:4-v%4]}function d(p,g,v){for(var f,y,m=[],w=g;w<v;w+=3)f=(p[w]<<16&16711680)+(p[w+1]<<8&65280)+(255&p[w+2]),m.push(n[(y=f)>>18&63]+n[y>>12&63]+n[y>>6&63]+n[63&y]);return m.join("")}o[45]=62,o[95]=63},{}],186:[function(r,i,s){(function(n,o){function a(x,C){if(!x)throw new Error(C||"Assertion failed")}function u(x,C){x.super_=C;var S=function(){};S.prototype=C.prototype,x.prototype=new S,x.prototype.constructor=x}function l(x,C,S){if(l.isBN(x))return x;this.negative=0,this.words=null,this.length=0,this.red=null,x!==null&&(C!=="le"&&C!=="be"||(S=C,C=10),this._init(x||0,C||10,S||"be"))}var c;typeof n=="object"?n.exports=l:(void 0).BN=l,l.BN=l,l.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:r("buffer").Buffer}catch{}function h(x,C){var S=x.charCodeAt(C);return S>=48&&S<=57?S-48:S>=65&&S<=70?S-55:S>=97&&S<=102?S-87:void a(!1,"Invalid character in "+x)}function d(x,C,S){var b=h(x,S);return S-1>=C&&(b|=h(x,S-1)<<4),b}function p(x,C,S,b){for(var E=0,R=0,I=Math.min(x.length,S),k=C;k<I;k++){var U=x.charCodeAt(k)-48;E*=b,R=U>=49?U-49+10:U>=17?U-17+10:U,a(U>=0&&R<b,"Invalid character"),E+=R}return E}function g(x,C){x.words=C.words,x.length=C.length,x.negative=C.negative,x.red=C.red}if(l.isBN=function(x){return x instanceof l||x!==null&&typeof x=="object"&&x.constructor.wordSize===l.wordSize&&Array.isArray(x.words)},l.max=function(x,C){return x.cmp(C)>0?x:C},l.min=function(x,C){return x.cmp(C)<0?x:C},l.prototype._init=function(x,C,S){if(typeof x=="number")return this._initNumber(x,C,S);if(typeof x=="object")return this._initArray(x,C,S);C==="hex"&&(C=16),a(C===(0|C)&&C>=2&&C<=36);var b=0;(x=x.toString().replace(/\s+/g,""))[0]==="-"&&(b++,this.negative=1),b<x.length&&(C===16?this._parseHex(x,b,S):(this._parseBase(x,C,b),S==="le"&&this._initArray(this.toArray(),C,S)))},l.prototype._initNumber=function(x,C,S){x<0&&(this.negative=1,x=-x),x<67108864?(this.words=[67108863&x],this.length=1):x<4503599627370496?(this.words=[67108863&x,x/67108864&67108863],this.length=2):(a(x<9007199254740992),this.words=[67108863&x,x/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),C,S)},l.prototype._initArray=function(x,C,S){if(a(typeof x.length=="number"),x.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(x.length/3),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var E,R,I=0;if(S==="be")for(b=x.length-1,E=0;b>=0;b-=3)R=x[b]|x[b-1]<<8|x[b-2]<<16,this.words[E]|=R<<I&67108863,this.words[E+1]=R>>>26-I&67108863,(I+=24)>=26&&(I-=26,E++);else if(S==="le")for(b=0,E=0;b<x.length;b+=3)R=x[b]|x[b+1]<<8|x[b+2]<<16,this.words[E]|=R<<I&67108863,this.words[E+1]=R>>>26-I&67108863,(I+=24)>=26&&(I-=26,E++);return this._strip()},l.prototype._parseHex=function(x,C,S){this.length=Math.ceil((x.length-C)/6),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var E,R=0,I=0;if(S==="be")for(b=x.length-1;b>=C;b-=2)E=d(x,C,b)<<R,this.words[I]|=67108863&E,R>=18?(R-=18,I+=1,this.words[I]|=E>>>26):R+=8;else for(b=(x.length-C)%2==0?C+1:C;b<x.length;b+=2)E=d(x,C,b)<<R,this.words[I]|=67108863&E,R>=18?(R-=18,I+=1,this.words[I]|=E>>>26):R+=8;this._strip()},l.prototype._parseBase=function(x,C,S){this.words=[0],this.length=1;for(var b=0,E=1;E<=67108863;E*=C)b++;b--,E=E/C|0;for(var R=x.length-S,I=R%b,k=Math.min(R,R-I)+S,U=0,j=S;j<k;j+=b)U=p(x,j,j+b,C),this.imuln(E),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U);if(I!==0){var X=1;for(U=p(x,j,x.length,C),j=0;j<I;j++)X*=C;this.imuln(X),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U)}this._strip()},l.prototype.copy=function(x){x.words=new Array(this.length);for(var C=0;C<this.length;C++)x.words[C]=this.words[C];x.length=this.length,x.negative=this.negative,x.red=this.red},l.prototype._move=function(x){g(x,this)},l.prototype.clone=function(){var x=new l(null);return this.copy(x),x},l.prototype._expand=function(x){for(;this.length<x;)this.words[this.length++]=0;return this},l.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},l.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{l.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{l.prototype.inspect=v}else l.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];l.prototype.toString=function(x,C){var S;if(C=0|C||1,(x=x||10)===16||x==="hex"){S="";for(var b=0,E=0,R=0;R<this.length;R++){var I=this.words[R],k=(16777215&(I<<b|E)).toString(16);E=I>>>24-b&16777215,(b+=2)>=26&&(b-=26,R--),S=E!==0||R!==this.length-1?f[6-k.length]+k+S:k+S}for(E!==0&&(S=E.toString(16)+S);S.length%C!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(x===(0|x)&&x>=2&&x<=36){var U=y[x],j=m[x];S="";var X=this.clone();for(X.negative=0;!X.isZero();){var N=X.modrn(j).toString(x);S=(X=X.idivn(j)).isZero()?N+S:f[U-N.length]+N+S}for(this.isZero()&&(S="0"+S);S.length%C!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}a(!1,"Base should be between 2 and 36")},l.prototype.toNumber=function(){var x=this.words[0];return this.length===2?x+=67108864*this.words[1]:this.length===3&&this.words[2]===1?x+=4503599627370496+67108864*this.words[1]:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-x:x},l.prototype.toJSON=function(){return this.toString(16,2)},c&&(l.prototype.toBuffer=function(x,C){return this.toArrayLike(c,x,C)}),l.prototype.toArray=function(x,C){return this.toArrayLike(Array,x,C)};function w(x,C,S){S.negative=C.negative^x.negative;var b=x.length+C.length|0;S.length=b,b=b-1|0;var E=0|x.words[0],R=0|C.words[0],I=E*R,k=67108863&I,U=I/67108864|0;S.words[0]=k;for(var j=1;j<b;j++){for(var X=U>>>26,N=67108863&U,K=Math.min(j,C.length-1),P=Math.max(0,j-x.length+1);P<=K;P++){var D=j-P|0;X+=(I=(E=0|x.words[D])*(R=0|C.words[P])+N)/67108864|0,N=67108863&I}S.words[j]=0|N,U=0|X}return U!==0?S.words[j]=0|U:S.length--,S._strip()}l.prototype.toArrayLike=function(x,C,S){this._strip();var b=this.byteLength(),E=S||Math.max(1,b);a(b<=E,"byte array longer than desired length"),a(E>0,"Requested array length <= 0");var R=function(I,k){return I.allocUnsafe?I.allocUnsafe(k):new I(k)}(x,E);return this["_toArrayLike"+(C==="le"?"LE":"BE")](R,b),R},l.prototype._toArrayLikeLE=function(x,C){for(var S=0,b=0,E=0,R=0;E<this.length;E++){var I=this.words[E]<<R|b;x[S++]=255&I,S<x.length&&(x[S++]=I>>8&255),S<x.length&&(x[S++]=I>>16&255),R===6?(S<x.length&&(x[S++]=I>>24&255),b=0,R=0):(b=I>>>24,R+=2)}if(S<x.length)for(x[S++]=b;S<x.length;)x[S++]=0},l.prototype._toArrayLikeBE=function(x,C){for(var S=x.length-1,b=0,E=0,R=0;E<this.length;E++){var I=this.words[E]<<R|b;x[S--]=255&I,S>=0&&(x[S--]=I>>8&255),S>=0&&(x[S--]=I>>16&255),R===6?(S>=0&&(x[S--]=I>>24&255),b=0,R=0):(b=I>>>24,R+=2)}if(S>=0)for(x[S--]=b;S>=0;)x[S--]=0},Math.clz32?l.prototype._countBits=function(x){return 32-Math.clz32(x)}:l.prototype._countBits=function(x){var C=x,S=0;return C>=4096&&(S+=13,C>>>=13),C>=64&&(S+=7,C>>>=7),C>=8&&(S+=4,C>>>=4),C>=2&&(S+=2,C>>>=2),S+C},l.prototype._zeroBits=function(x){if(x===0)return 26;var C=x,S=0;return!(8191&C)&&(S+=13,C>>>=13),!(127&C)&&(S+=7,C>>>=7),!(15&C)&&(S+=4,C>>>=4),!(3&C)&&(S+=2,C>>>=2),!(1&C)&&S++,S},l.prototype.bitLength=function(){var x=this.words[this.length-1],C=this._countBits(x);return 26*(this.length-1)+C},l.prototype.zeroBits=function(){if(this.isZero())return 0;for(var x=0,C=0;C<this.length;C++){var S=this._zeroBits(this.words[C]);if(x+=S,S!==26)break}return x},l.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},l.prototype.toTwos=function(x){return this.negative!==0?this.abs().inotn(x).iaddn(1):this.clone()},l.prototype.fromTwos=function(x){return this.testn(x-1)?this.notn(x).iaddn(1).ineg():this.clone()},l.prototype.isNeg=function(){return this.negative!==0},l.prototype.neg=function(){return this.clone().ineg()},l.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},l.prototype.iuor=function(x){for(;this.length<x.length;)this.words[this.length++]=0;for(var C=0;C<x.length;C++)this.words[C]=this.words[C]|x.words[C];return this._strip()},l.prototype.ior=function(x){return a((this.negative|x.negative)==0),this.iuor(x)},l.prototype.or=function(x){return this.length>x.length?this.clone().ior(x):x.clone().ior(this)},l.prototype.uor=function(x){return this.length>x.length?this.clone().iuor(x):x.clone().iuor(this)},l.prototype.iuand=function(x){var C;C=this.length>x.length?x:this;for(var S=0;S<C.length;S++)this.words[S]=this.words[S]&x.words[S];return this.length=C.length,this._strip()},l.prototype.iand=function(x){return a((this.negative|x.negative)==0),this.iuand(x)},l.prototype.and=function(x){return this.length>x.length?this.clone().iand(x):x.clone().iand(this)},l.prototype.uand=function(x){return this.length>x.length?this.clone().iuand(x):x.clone().iuand(this)},l.prototype.iuxor=function(x){var C,S;this.length>x.length?(C=this,S=x):(C=x,S=this);for(var b=0;b<S.length;b++)this.words[b]=C.words[b]^S.words[b];if(this!==C)for(;b<C.length;b++)this.words[b]=C.words[b];return this.length=C.length,this._strip()},l.prototype.ixor=function(x){return a((this.negative|x.negative)==0),this.iuxor(x)},l.prototype.xor=function(x){return this.length>x.length?this.clone().ixor(x):x.clone().ixor(this)},l.prototype.uxor=function(x){return this.length>x.length?this.clone().iuxor(x):x.clone().iuxor(this)},l.prototype.inotn=function(x){a(typeof x=="number"&&x>=0);var C=0|Math.ceil(x/26),S=x%26;this._expand(C),S>0&&C--;for(var b=0;b<C;b++)this.words[b]=67108863&~this.words[b];return S>0&&(this.words[b]=~this.words[b]&67108863>>26-S),this._strip()},l.prototype.notn=function(x){return this.clone().inotn(x)},l.prototype.setn=function(x,C){a(typeof x=="number"&&x>=0);var S=x/26|0,b=x%26;return this._expand(S+1),this.words[S]=C?this.words[S]|1<<b:this.words[S]&~(1<<b),this._strip()},l.prototype.iadd=function(x){var C,S,b;if(this.negative!==0&&x.negative===0)return this.negative=0,C=this.isub(x),this.negative^=1,this._normSign();if(this.negative===0&&x.negative!==0)return x.negative=0,C=this.isub(x),x.negative=1,C._normSign();this.length>x.length?(S=this,b=x):(S=x,b=this);for(var E=0,R=0;R<b.length;R++)C=(0|S.words[R])+(0|b.words[R])+E,this.words[R]=67108863&C,E=C>>>26;for(;E!==0&&R<S.length;R++)C=(0|S.words[R])+E,this.words[R]=67108863&C,E=C>>>26;if(this.length=S.length,E!==0)this.words[this.length]=E,this.length++;else if(S!==this)for(;R<S.length;R++)this.words[R]=S.words[R];return this},l.prototype.add=function(x){var C;return x.negative!==0&&this.negative===0?(x.negative=0,C=this.sub(x),x.negative^=1,C):x.negative===0&&this.negative!==0?(this.negative=0,C=x.sub(this),this.negative=1,C):this.length>x.length?this.clone().iadd(x):x.clone().iadd(this)},l.prototype.isub=function(x){if(x.negative!==0){x.negative=0;var C=this.iadd(x);return x.negative=1,C._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(x),this.negative=1,this._normSign();var S,b,E=this.cmp(x);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;E>0?(S=this,b=x):(S=x,b=this);for(var R=0,I=0;I<b.length;I++)R=(C=(0|S.words[I])-(0|b.words[I])+R)>>26,this.words[I]=67108863&C;for(;R!==0&&I<S.length;I++)R=(C=(0|S.words[I])+R)>>26,this.words[I]=67108863&C;if(R===0&&I<S.length&&S!==this)for(;I<S.length;I++)this.words[I]=S.words[I];return this.length=Math.max(this.length,I),S!==this&&(this.negative=1),this._strip()},l.prototype.sub=function(x){return this.clone().isub(x)};var _=function(x,C,S){var b,E,R,I=x.words,k=C.words,U=S.words,j=0,X=0|I[0],N=8191&X,K=X>>>13,P=0|I[1],D=8191&P,W=P>>>13,Y=0|I[2],ee=8191&Y,Q=Y>>>13,J=0|I[3],ne=8191&J,oe=J>>>13,Z=0|I[4],ie=8191&Z,se=Z>>>13,ce=0|I[5],ue=8191&ce,de=ce>>>13,fe=0|I[6],ge=8191&fe,be=fe>>>13,_e=0|I[7],Te=8191&_e,Me=_e>>>13,Ke=0|I[8],je=8191&Ke,$e=Ke>>>13,Ye=0|I[9],Le=8191&Ye,Ae=Ye>>>13,Ne=0|k[0],ze=8191&Ne,Ge=Ne>>>13,St=0|k[1],Nt=8191&St,Xe=St>>>13,Dt=0|k[2],wt=8191&Dt,lt=Dt>>>13,Kt=0|k[3],Mt=8191&Kt,rt=Kt>>>13,Rt=0|k[4],zt=8191&Rt,st=Rt>>>13,kt=0|k[5],Ut=8191&kt,ct=kt>>>13,le=0|k[6],he=8191&le,me=le>>>13,Pe=0|k[7],Ze=8191&Pe,Ie=Pe>>>13,nt=0|k[8],Je=8191&nt,qe=nt>>>13,ut=0|k[9],at=8191&ut,mt=ut>>>13;S.negative=x.negative^C.negative,S.length=19;var fr=(j+(b=Math.imul(N,ze))|0)+((8191&(E=(E=Math.imul(N,Ge))+Math.imul(K,ze)|0))<<13)|0;j=((R=Math.imul(K,Ge))+(E>>>13)|0)+(fr>>>26)|0,fr&=67108863,b=Math.imul(D,ze),E=(E=Math.imul(D,Ge))+Math.imul(W,ze)|0,R=Math.imul(W,Ge);var Yt=(j+(b=b+Math.imul(N,Nt)|0)|0)+((8191&(E=(E=E+Math.imul(N,Xe)|0)+Math.imul(K,Nt)|0))<<13)|0;j=((R=R+Math.imul(K,Xe)|0)+(E>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,b=Math.imul(ee,ze),E=(E=Math.imul(ee,Ge))+Math.imul(Q,ze)|0,R=Math.imul(Q,Ge),b=b+Math.imul(D,Nt)|0,E=(E=E+Math.imul(D,Xe)|0)+Math.imul(W,Nt)|0,R=R+Math.imul(W,Xe)|0;var _r=(j+(b=b+Math.imul(N,wt)|0)|0)+((8191&(E=(E=E+Math.imul(N,lt)|0)+Math.imul(K,wt)|0))<<13)|0;j=((R=R+Math.imul(K,lt)|0)+(E>>>13)|0)+(_r>>>26)|0,_r&=67108863,b=Math.imul(ne,ze),E=(E=Math.imul(ne,Ge))+Math.imul(oe,ze)|0,R=Math.imul(oe,Ge),b=b+Math.imul(ee,Nt)|0,E=(E=E+Math.imul(ee,Xe)|0)+Math.imul(Q,Nt)|0,R=R+Math.imul(Q,Xe)|0,b=b+Math.imul(D,wt)|0,E=(E=E+Math.imul(D,lt)|0)+Math.imul(W,wt)|0,R=R+Math.imul(W,lt)|0;var Rr=(j+(b=b+Math.imul(N,Mt)|0)|0)+((8191&(E=(E=E+Math.imul(N,rt)|0)+Math.imul(K,Mt)|0))<<13)|0;j=((R=R+Math.imul(K,rt)|0)+(E>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,b=Math.imul(ie,ze),E=(E=Math.imul(ie,Ge))+Math.imul(se,ze)|0,R=Math.imul(se,Ge),b=b+Math.imul(ne,Nt)|0,E=(E=E+Math.imul(ne,Xe)|0)+Math.imul(oe,Nt)|0,R=R+Math.imul(oe,Xe)|0,b=b+Math.imul(ee,wt)|0,E=(E=E+Math.imul(ee,lt)|0)+Math.imul(Q,wt)|0,R=R+Math.imul(Q,lt)|0,b=b+Math.imul(D,Mt)|0,E=(E=E+Math.imul(D,rt)|0)+Math.imul(W,Mt)|0,R=R+Math.imul(W,rt)|0;var gi=(j+(b=b+Math.imul(N,zt)|0)|0)+((8191&(E=(E=E+Math.imul(N,st)|0)+Math.imul(K,zt)|0))<<13)|0;j=((R=R+Math.imul(K,st)|0)+(E>>>13)|0)+(gi>>>26)|0,gi&=67108863,b=Math.imul(ue,ze),E=(E=Math.imul(ue,Ge))+Math.imul(de,ze)|0,R=Math.imul(de,Ge),b=b+Math.imul(ie,Nt)|0,E=(E=E+Math.imul(ie,Xe)|0)+Math.imul(se,Nt)|0,R=R+Math.imul(se,Xe)|0,b=b+Math.imul(ne,wt)|0,E=(E=E+Math.imul(ne,lt)|0)+Math.imul(oe,wt)|0,R=R+Math.imul(oe,lt)|0,b=b+Math.imul(ee,Mt)|0,E=(E=E+Math.imul(ee,rt)|0)+Math.imul(Q,Mt)|0,R=R+Math.imul(Q,rt)|0,b=b+Math.imul(D,zt)|0,E=(E=E+Math.imul(D,st)|0)+Math.imul(W,zt)|0,R=R+Math.imul(W,st)|0;var re=(j+(b=b+Math.imul(N,Ut)|0)|0)+((8191&(E=(E=E+Math.imul(N,ct)|0)+Math.imul(K,Ut)|0))<<13)|0;j=((R=R+Math.imul(K,ct)|0)+(E>>>13)|0)+(re>>>26)|0,re&=67108863,b=Math.imul(ge,ze),E=(E=Math.imul(ge,Ge))+Math.imul(be,ze)|0,R=Math.imul(be,Ge),b=b+Math.imul(ue,Nt)|0,E=(E=E+Math.imul(ue,Xe)|0)+Math.imul(de,Nt)|0,R=R+Math.imul(de,Xe)|0,b=b+Math.imul(ie,wt)|0,E=(E=E+Math.imul(ie,lt)|0)+Math.imul(se,wt)|0,R=R+Math.imul(se,lt)|0,b=b+Math.imul(ne,Mt)|0,E=(E=E+Math.imul(ne,rt)|0)+Math.imul(oe,Mt)|0,R=R+Math.imul(oe,rt)|0,b=b+Math.imul(ee,zt)|0,E=(E=E+Math.imul(ee,st)|0)+Math.imul(Q,zt)|0,R=R+Math.imul(Q,st)|0,b=b+Math.imul(D,Ut)|0,E=(E=E+Math.imul(D,ct)|0)+Math.imul(W,Ut)|0,R=R+Math.imul(W,ct)|0;var pe=(j+(b=b+Math.imul(N,he)|0)|0)+((8191&(E=(E=E+Math.imul(N,me)|0)+Math.imul(K,he)|0))<<13)|0;j=((R=R+Math.imul(K,me)|0)+(E>>>13)|0)+(pe>>>26)|0,pe&=67108863,b=Math.imul(Te,ze),E=(E=Math.imul(Te,Ge))+Math.imul(Me,ze)|0,R=Math.imul(Me,Ge),b=b+Math.imul(ge,Nt)|0,E=(E=E+Math.imul(ge,Xe)|0)+Math.imul(be,Nt)|0,R=R+Math.imul(be,Xe)|0,b=b+Math.imul(ue,wt)|0,E=(E=E+Math.imul(ue,lt)|0)+Math.imul(de,wt)|0,R=R+Math.imul(de,lt)|0,b=b+Math.imul(ie,Mt)|0,E=(E=E+Math.imul(ie,rt)|0)+Math.imul(se,Mt)|0,R=R+Math.imul(se,rt)|0,b=b+Math.imul(ne,zt)|0,E=(E=E+Math.imul(ne,st)|0)+Math.imul(oe,zt)|0,R=R+Math.imul(oe,st)|0,b=b+Math.imul(ee,Ut)|0,E=(E=E+Math.imul(ee,ct)|0)+Math.imul(Q,Ut)|0,R=R+Math.imul(Q,ct)|0,b=b+Math.imul(D,he)|0,E=(E=E+Math.imul(D,me)|0)+Math.imul(W,he)|0,R=R+Math.imul(W,me)|0;var Ce=(j+(b=b+Math.imul(N,Ze)|0)|0)+((8191&(E=(E=E+Math.imul(N,Ie)|0)+Math.imul(K,Ze)|0))<<13)|0;j=((R=R+Math.imul(K,Ie)|0)+(E>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,b=Math.imul(je,ze),E=(E=Math.imul(je,Ge))+Math.imul($e,ze)|0,R=Math.imul($e,Ge),b=b+Math.imul(Te,Nt)|0,E=(E=E+Math.imul(Te,Xe)|0)+Math.imul(Me,Nt)|0,R=R+Math.imul(Me,Xe)|0,b=b+Math.imul(ge,wt)|0,E=(E=E+Math.imul(ge,lt)|0)+Math.imul(be,wt)|0,R=R+Math.imul(be,lt)|0,b=b+Math.imul(ue,Mt)|0,E=(E=E+Math.imul(ue,rt)|0)+Math.imul(de,Mt)|0,R=R+Math.imul(de,rt)|0,b=b+Math.imul(ie,zt)|0,E=(E=E+Math.imul(ie,st)|0)+Math.imul(se,zt)|0,R=R+Math.imul(se,st)|0,b=b+Math.imul(ne,Ut)|0,E=(E=E+Math.imul(ne,ct)|0)+Math.imul(oe,Ut)|0,R=R+Math.imul(oe,ct)|0,b=b+Math.imul(ee,he)|0,E=(E=E+Math.imul(ee,me)|0)+Math.imul(Q,he)|0,R=R+Math.imul(Q,me)|0,b=b+Math.imul(D,Ze)|0,E=(E=E+Math.imul(D,Ie)|0)+Math.imul(W,Ze)|0,R=R+Math.imul(W,Ie)|0;var Se=(j+(b=b+Math.imul(N,Je)|0)|0)+((8191&(E=(E=E+Math.imul(N,qe)|0)+Math.imul(K,Je)|0))<<13)|0;j=((R=R+Math.imul(K,qe)|0)+(E>>>13)|0)+(Se>>>26)|0,Se&=67108863,b=Math.imul(Le,ze),E=(E=Math.imul(Le,Ge))+Math.imul(Ae,ze)|0,R=Math.imul(Ae,Ge),b=b+Math.imul(je,Nt)|0,E=(E=E+Math.imul(je,Xe)|0)+Math.imul($e,Nt)|0,R=R+Math.imul($e,Xe)|0,b=b+Math.imul(Te,wt)|0,E=(E=E+Math.imul(Te,lt)|0)+Math.imul(Me,wt)|0,R=R+Math.imul(Me,lt)|0,b=b+Math.imul(ge,Mt)|0,E=(E=E+Math.imul(ge,rt)|0)+Math.imul(be,Mt)|0,R=R+Math.imul(be,rt)|0,b=b+Math.imul(ue,zt)|0,E=(E=E+Math.imul(ue,st)|0)+Math.imul(de,zt)|0,R=R+Math.imul(de,st)|0,b=b+Math.imul(ie,Ut)|0,E=(E=E+Math.imul(ie,ct)|0)+Math.imul(se,Ut)|0,R=R+Math.imul(se,ct)|0,b=b+Math.imul(ne,he)|0,E=(E=E+Math.imul(ne,me)|0)+Math.imul(oe,he)|0,R=R+Math.imul(oe,me)|0,b=b+Math.imul(ee,Ze)|0,E=(E=E+Math.imul(ee,Ie)|0)+Math.imul(Q,Ze)|0,R=R+Math.imul(Q,Ie)|0,b=b+Math.imul(D,Je)|0,E=(E=E+Math.imul(D,qe)|0)+Math.imul(W,Je)|0,R=R+Math.imul(W,qe)|0;var He=(j+(b=b+Math.imul(N,at)|0)|0)+((8191&(E=(E=E+Math.imul(N,mt)|0)+Math.imul(K,at)|0))<<13)|0;j=((R=R+Math.imul(K,mt)|0)+(E>>>13)|0)+(He>>>26)|0,He&=67108863,b=Math.imul(Le,Nt),E=(E=Math.imul(Le,Xe))+Math.imul(Ae,Nt)|0,R=Math.imul(Ae,Xe),b=b+Math.imul(je,wt)|0,E=(E=E+Math.imul(je,lt)|0)+Math.imul($e,wt)|0,R=R+Math.imul($e,lt)|0,b=b+Math.imul(Te,Mt)|0,E=(E=E+Math.imul(Te,rt)|0)+Math.imul(Me,Mt)|0,R=R+Math.imul(Me,rt)|0,b=b+Math.imul(ge,zt)|0,E=(E=E+Math.imul(ge,st)|0)+Math.imul(be,zt)|0,R=R+Math.imul(be,st)|0,b=b+Math.imul(ue,Ut)|0,E=(E=E+Math.imul(ue,ct)|0)+Math.imul(de,Ut)|0,R=R+Math.imul(de,ct)|0,b=b+Math.imul(ie,he)|0,E=(E=E+Math.imul(ie,me)|0)+Math.imul(se,he)|0,R=R+Math.imul(se,me)|0,b=b+Math.imul(ne,Ze)|0,E=(E=E+Math.imul(ne,Ie)|0)+Math.imul(oe,Ze)|0,R=R+Math.imul(oe,Ie)|0,b=b+Math.imul(ee,Je)|0,E=(E=E+Math.imul(ee,qe)|0)+Math.imul(Q,Je)|0,R=R+Math.imul(Q,qe)|0;var De=(j+(b=b+Math.imul(D,at)|0)|0)+((8191&(E=(E=E+Math.imul(D,mt)|0)+Math.imul(W,at)|0))<<13)|0;j=((R=R+Math.imul(W,mt)|0)+(E>>>13)|0)+(De>>>26)|0,De&=67108863,b=Math.imul(Le,wt),E=(E=Math.imul(Le,lt))+Math.imul(Ae,wt)|0,R=Math.imul(Ae,lt),b=b+Math.imul(je,Mt)|0,E=(E=E+Math.imul(je,rt)|0)+Math.imul($e,Mt)|0,R=R+Math.imul($e,rt)|0,b=b+Math.imul(Te,zt)|0,E=(E=E+Math.imul(Te,st)|0)+Math.imul(Me,zt)|0,R=R+Math.imul(Me,st)|0,b=b+Math.imul(ge,Ut)|0,E=(E=E+Math.imul(ge,ct)|0)+Math.imul(be,Ut)|0,R=R+Math.imul(be,ct)|0,b=b+Math.imul(ue,he)|0,E=(E=E+Math.imul(ue,me)|0)+Math.imul(de,he)|0,R=R+Math.imul(de,me)|0,b=b+Math.imul(ie,Ze)|0,E=(E=E+Math.imul(ie,Ie)|0)+Math.imul(se,Ze)|0,R=R+Math.imul(se,Ie)|0,b=b+Math.imul(ne,Je)|0,E=(E=E+Math.imul(ne,qe)|0)+Math.imul(oe,Je)|0,R=R+Math.imul(oe,qe)|0;var Fe=(j+(b=b+Math.imul(ee,at)|0)|0)+((8191&(E=(E=E+Math.imul(ee,mt)|0)+Math.imul(Q,at)|0))<<13)|0;j=((R=R+Math.imul(Q,mt)|0)+(E>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,b=Math.imul(Le,Mt),E=(E=Math.imul(Le,rt))+Math.imul(Ae,Mt)|0,R=Math.imul(Ae,rt),b=b+Math.imul(je,zt)|0,E=(E=E+Math.imul(je,st)|0)+Math.imul($e,zt)|0,R=R+Math.imul($e,st)|0,b=b+Math.imul(Te,Ut)|0,E=(E=E+Math.imul(Te,ct)|0)+Math.imul(Me,Ut)|0,R=R+Math.imul(Me,ct)|0,b=b+Math.imul(ge,he)|0,E=(E=E+Math.imul(ge,me)|0)+Math.imul(be,he)|0,R=R+Math.imul(be,me)|0,b=b+Math.imul(ue,Ze)|0,E=(E=E+Math.imul(ue,Ie)|0)+Math.imul(de,Ze)|0,R=R+Math.imul(de,Ie)|0,b=b+Math.imul(ie,Je)|0,E=(E=E+Math.imul(ie,qe)|0)+Math.imul(se,Je)|0,R=R+Math.imul(se,qe)|0;var xt=(j+(b=b+Math.imul(ne,at)|0)|0)+((8191&(E=(E=E+Math.imul(ne,mt)|0)+Math.imul(oe,at)|0))<<13)|0;j=((R=R+Math.imul(oe,mt)|0)+(E>>>13)|0)+(xt>>>26)|0,xt&=67108863,b=Math.imul(Le,zt),E=(E=Math.imul(Le,st))+Math.imul(Ae,zt)|0,R=Math.imul(Ae,st),b=b+Math.imul(je,Ut)|0,E=(E=E+Math.imul(je,ct)|0)+Math.imul($e,Ut)|0,R=R+Math.imul($e,ct)|0,b=b+Math.imul(Te,he)|0,E=(E=E+Math.imul(Te,me)|0)+Math.imul(Me,he)|0,R=R+Math.imul(Me,me)|0,b=b+Math.imul(ge,Ze)|0,E=(E=E+Math.imul(ge,Ie)|0)+Math.imul(be,Ze)|0,R=R+Math.imul(be,Ie)|0,b=b+Math.imul(ue,Je)|0,E=(E=E+Math.imul(ue,qe)|0)+Math.imul(de,Je)|0,R=R+Math.imul(de,qe)|0;var pt=(j+(b=b+Math.imul(ie,at)|0)|0)+((8191&(E=(E=E+Math.imul(ie,mt)|0)+Math.imul(se,at)|0))<<13)|0;j=((R=R+Math.imul(se,mt)|0)+(E>>>13)|0)+(pt>>>26)|0,pt&=67108863,b=Math.imul(Le,Ut),E=(E=Math.imul(Le,ct))+Math.imul(Ae,Ut)|0,R=Math.imul(Ae,ct),b=b+Math.imul(je,he)|0,E=(E=E+Math.imul(je,me)|0)+Math.imul($e,he)|0,R=R+Math.imul($e,me)|0,b=b+Math.imul(Te,Ze)|0,E=(E=E+Math.imul(Te,Ie)|0)+Math.imul(Me,Ze)|0,R=R+Math.imul(Me,Ie)|0,b=b+Math.imul(ge,Je)|0,E=(E=E+Math.imul(ge,qe)|0)+Math.imul(be,Je)|0,R=R+Math.imul(be,qe)|0;var vt=(j+(b=b+Math.imul(ue,at)|0)|0)+((8191&(E=(E=E+Math.imul(ue,mt)|0)+Math.imul(de,at)|0))<<13)|0;j=((R=R+Math.imul(de,mt)|0)+(E>>>13)|0)+(vt>>>26)|0,vt&=67108863,b=Math.imul(Le,he),E=(E=Math.imul(Le,me))+Math.imul(Ae,he)|0,R=Math.imul(Ae,me),b=b+Math.imul(je,Ze)|0,E=(E=E+Math.imul(je,Ie)|0)+Math.imul($e,Ze)|0,R=R+Math.imul($e,Ie)|0,b=b+Math.imul(Te,Je)|0,E=(E=E+Math.imul(Te,qe)|0)+Math.imul(Me,Je)|0,R=R+Math.imul(Me,qe)|0;var et=(j+(b=b+Math.imul(ge,at)|0)|0)+((8191&(E=(E=E+Math.imul(ge,mt)|0)+Math.imul(be,at)|0))<<13)|0;j=((R=R+Math.imul(be,mt)|0)+(E>>>13)|0)+(et>>>26)|0,et&=67108863,b=Math.imul(Le,Ze),E=(E=Math.imul(Le,Ie))+Math.imul(Ae,Ze)|0,R=Math.imul(Ae,Ie),b=b+Math.imul(je,Je)|0,E=(E=E+Math.imul(je,qe)|0)+Math.imul($e,Je)|0,R=R+Math.imul($e,qe)|0;var Gt=(j+(b=b+Math.imul(Te,at)|0)|0)+((8191&(E=(E=E+Math.imul(Te,mt)|0)+Math.imul(Me,at)|0))<<13)|0;j=((R=R+Math.imul(Me,mt)|0)+(E>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,b=Math.imul(Le,Je),E=(E=Math.imul(Le,qe))+Math.imul(Ae,Je)|0,R=Math.imul(Ae,qe);var Vt=(j+(b=b+Math.imul(je,at)|0)|0)+((8191&(E=(E=E+Math.imul(je,mt)|0)+Math.imul($e,at)|0))<<13)|0;j=((R=R+Math.imul($e,mt)|0)+(E>>>13)|0)+(Vt>>>26)|0,Vt&=67108863;var jt=(j+(b=Math.imul(Le,at))|0)+((8191&(E=(E=Math.imul(Le,mt))+Math.imul(Ae,at)|0))<<13)|0;return j=((R=Math.imul(Ae,mt))+(E>>>13)|0)+(jt>>>26)|0,jt&=67108863,U[0]=fr,U[1]=Yt,U[2]=_r,U[3]=Rr,U[4]=gi,U[5]=re,U[6]=pe,U[7]=Ce,U[8]=Se,U[9]=He,U[10]=De,U[11]=Fe,U[12]=xt,U[13]=pt,U[14]=vt,U[15]=et,U[16]=Gt,U[17]=Vt,U[18]=jt,j!==0&&(U[19]=j,S.length++),S};function A(x,C,S){S.negative=C.negative^x.negative,S.length=x.length+C.length;for(var b=0,E=0,R=0;R<S.length-1;R++){var I=E;E=0;for(var k=67108863&b,U=Math.min(R,C.length-1),j=Math.max(0,R-x.length+1);j<=U;j++){var X=R-j,N=(0|x.words[X])*(0|C.words[j]),K=67108863&N;k=67108863&(K=K+k|0),E+=(I=(I=I+(N/67108864|0)|0)+(K>>>26)|0)>>>26,I&=67108863}S.words[R]=k,b=I,I=E}return b!==0?S.words[R]=b:S.length--,S._strip()}function F(x,C,S){return A(x,C,S)}Math.imul||(_=w),l.prototype.mulTo=function(x,C){var S=this.length+x.length;return this.length===10&&x.length===10?_(this,x,C):S<63?w(this,x,C):S<1024?A(this,x,C):F(this,x,C)},l.prototype.mul=function(x){var C=new l(null);return C.words=new Array(this.length+x.length),this.mulTo(x,C)},l.prototype.mulf=function(x){var C=new l(null);return C.words=new Array(this.length+x.length),F(this,x,C)},l.prototype.imul=function(x){return this.clone().mulTo(x,this)},l.prototype.imuln=function(x){var C=x<0;C&&(x=-x),a(typeof x=="number"),a(x<67108864);for(var S=0,b=0;b<this.length;b++){var E=(0|this.words[b])*x,R=(67108863&E)+(67108863&S);S>>=26,S+=E/67108864|0,S+=R>>>26,this.words[b]=67108863&R}return S!==0&&(this.words[b]=S,this.length++),C?this.ineg():this},l.prototype.muln=function(x){return this.clone().imuln(x)},l.prototype.sqr=function(){return this.mul(this)},l.prototype.isqr=function(){return this.imul(this.clone())},l.prototype.pow=function(x){var C=function(R){for(var I=new Array(R.bitLength()),k=0;k<I.length;k++){var U=k/26|0,j=k%26;I[k]=R.words[U]>>>j&1}return I}(x);if(C.length===0)return new l(1);for(var S=this,b=0;b<C.length&&C[b]===0;b++,S=S.sqr());if(++b<C.length)for(var E=S.sqr();b<C.length;b++,E=E.sqr())C[b]!==0&&(S=S.mul(E));return S},l.prototype.iushln=function(x){a(typeof x=="number"&&x>=0);var C,S=x%26,b=(x-S)/26,E=67108863>>>26-S<<26-S;if(S!==0){var R=0;for(C=0;C<this.length;C++){var I=this.words[C]&E,k=(0|this.words[C])-I<<S;this.words[C]=k|R,R=I>>>26-S}R&&(this.words[C]=R,this.length++)}if(b!==0){for(C=this.length-1;C>=0;C--)this.words[C+b]=this.words[C];for(C=0;C<b;C++)this.words[C]=0;this.length+=b}return this._strip()},l.prototype.ishln=function(x){return a(this.negative===0),this.iushln(x)},l.prototype.iushrn=function(x,C,S){var b;a(typeof x=="number"&&x>=0),b=C?(C-C%26)/26:0;var E=x%26,R=Math.min((x-E)/26,this.length),I=67108863^67108863>>>E<<E,k=S;if(b-=R,b=Math.max(0,b),k){for(var U=0;U<R;U++)k.words[U]=this.words[U];k.length=R}if(R!==0)if(this.length>R)for(this.length-=R,U=0;U<this.length;U++)this.words[U]=this.words[U+R];else this.words[0]=0,this.length=1;var j=0;for(U=this.length-1;U>=0&&(j!==0||U>=b);U--){var X=0|this.words[U];this.words[U]=j<<26-E|X>>>E,j=X&I}return k&&j!==0&&(k.words[k.length++]=j),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},l.prototype.ishrn=function(x,C,S){return a(this.negative===0),this.iushrn(x,C,S)},l.prototype.shln=function(x){return this.clone().ishln(x)},l.prototype.ushln=function(x){return this.clone().iushln(x)},l.prototype.shrn=function(x){return this.clone().ishrn(x)},l.prototype.ushrn=function(x){return this.clone().iushrn(x)},l.prototype.testn=function(x){a(typeof x=="number"&&x>=0);var C=x%26,S=(x-C)/26,b=1<<C;return!(this.length<=S)&&!!(this.words[S]&b)},l.prototype.imaskn=function(x){a(typeof x=="number"&&x>=0);var C=x%26,S=(x-C)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(C!==0&&S++,this.length=Math.min(S,this.length),C!==0){var b=67108863^67108863>>>C<<C;this.words[this.length-1]&=b}return this._strip()},l.prototype.maskn=function(x){return this.clone().imaskn(x)},l.prototype.iaddn=function(x){return a(typeof x=="number"),a(x<67108864),x<0?this.isubn(-x):this.negative!==0?this.length===1&&(0|this.words[0])<=x?(this.words[0]=x-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(x),this.negative=1,this):this._iaddn(x)},l.prototype._iaddn=function(x){this.words[0]+=x;for(var C=0;C<this.length&&this.words[C]>=67108864;C++)this.words[C]-=67108864,C===this.length-1?this.words[C+1]=1:this.words[C+1]++;return this.length=Math.max(this.length,C+1),this},l.prototype.isubn=function(x){if(a(typeof x=="number"),a(x<67108864),x<0)return this.iaddn(-x);if(this.negative!==0)return this.negative=0,this.iaddn(x),this.negative=1,this;if(this.words[0]-=x,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var C=0;C<this.length&&this.words[C]<0;C++)this.words[C]+=67108864,this.words[C+1]-=1;return this._strip()},l.prototype.addn=function(x){return this.clone().iaddn(x)},l.prototype.subn=function(x){return this.clone().isubn(x)},l.prototype.iabs=function(){return this.negative=0,this},l.prototype.abs=function(){return this.clone().iabs()},l.prototype._ishlnsubmul=function(x,C,S){var b,E,R=x.length+S;this._expand(R);var I=0;for(b=0;b<x.length;b++){E=(0|this.words[b+S])+I;var k=(0|x.words[b])*C;I=((E-=67108863&k)>>26)-(k/67108864|0),this.words[b+S]=67108863&E}for(;b<this.length-S;b++)I=(E=(0|this.words[b+S])+I)>>26,this.words[b+S]=67108863&E;if(I===0)return this._strip();for(a(I===-1),I=0,b=0;b<this.length;b++)I=(E=-(0|this.words[b])+I)>>26,this.words[b]=67108863&E;return this.negative=1,this._strip()},l.prototype._wordDiv=function(x,C){var S=(this.length,x.length),b=this.clone(),E=x,R=0|E.words[E.length-1];(S=26-this._countBits(R))!==0&&(E=E.ushln(S),b.iushln(S),R=0|E.words[E.length-1]);var I,k=b.length-E.length;if(C!=="mod"){(I=new l(null)).length=k+1,I.words=new Array(I.length);for(var U=0;U<I.length;U++)I.words[U]=0}var j=b.clone()._ishlnsubmul(E,1,k);j.negative===0&&(b=j,I&&(I.words[k]=1));for(var X=k-1;X>=0;X--){var N=67108864*(0|b.words[E.length+X])+(0|b.words[E.length+X-1]);for(N=Math.min(N/R|0,67108863),b._ishlnsubmul(E,N,X);b.negative!==0;)N--,b.negative=0,b._ishlnsubmul(E,1,X),b.isZero()||(b.negative^=1);I&&(I.words[X]=N)}return I&&I._strip(),b._strip(),C!=="div"&&S!==0&&b.iushrn(S),{div:I||null,mod:b}},l.prototype.divmod=function(x,C,S){return a(!x.isZero()),this.isZero()?{div:new l(0),mod:new l(0)}:this.negative!==0&&x.negative===0?(R=this.neg().divmod(x,C),C!=="mod"&&(b=R.div.neg()),C!=="div"&&(E=R.mod.neg(),S&&E.negative!==0&&E.iadd(x)),{div:b,mod:E}):this.negative===0&&x.negative!==0?(R=this.divmod(x.neg(),C),C!=="mod"&&(b=R.div.neg()),{div:b,mod:R.mod}):this.negative&x.negative?(R=this.neg().divmod(x.neg(),C),C!=="div"&&(E=R.mod.neg(),S&&E.negative!==0&&E.isub(x)),{div:R.div,mod:E}):x.length>this.length||this.cmp(x)<0?{div:new l(0),mod:this}:x.length===1?C==="div"?{div:this.divn(x.words[0]),mod:null}:C==="mod"?{div:null,mod:new l(this.modrn(x.words[0]))}:{div:this.divn(x.words[0]),mod:new l(this.modrn(x.words[0]))}:this._wordDiv(x,C);var b,E,R},l.prototype.div=function(x){return this.divmod(x,"div",!1).div},l.prototype.mod=function(x){return this.divmod(x,"mod",!1).mod},l.prototype.umod=function(x){return this.divmod(x,"mod",!0).mod},l.prototype.divRound=function(x){var C=this.divmod(x);if(C.mod.isZero())return C.div;var S=C.div.negative!==0?C.mod.isub(x):C.mod,b=x.ushrn(1),E=x.andln(1),R=S.cmp(b);return R<0||E===1&&R===0?C.div:C.div.negative!==0?C.div.isubn(1):C.div.iaddn(1)},l.prototype.modrn=function(x){var C=x<0;C&&(x=-x),a(x<=67108863);for(var S=(1<<26)%x,b=0,E=this.length-1;E>=0;E--)b=(S*b+(0|this.words[E]))%x;return C?-b:b},l.prototype.modn=function(x){return this.modrn(x)},l.prototype.idivn=function(x){var C=x<0;C&&(x=-x),a(x<=67108863);for(var S=0,b=this.length-1;b>=0;b--){var E=(0|this.words[b])+67108864*S;this.words[b]=E/x|0,S=E%x}return this._strip(),C?this.ineg():this},l.prototype.divn=function(x){return this.clone().idivn(x)},l.prototype.egcd=function(x){a(x.negative===0),a(!x.isZero());var C=this,S=x.clone();C=C.negative!==0?C.umod(x):C.clone();for(var b=new l(1),E=new l(0),R=new l(0),I=new l(1),k=0;C.isEven()&&S.isEven();)C.iushrn(1),S.iushrn(1),++k;for(var U=S.clone(),j=C.clone();!C.isZero();){for(var X=0,N=1;!(C.words[0]&N)&&X<26;++X,N<<=1);if(X>0)for(C.iushrn(X);X-- >0;)(b.isOdd()||E.isOdd())&&(b.iadd(U),E.isub(j)),b.iushrn(1),E.iushrn(1);for(var K=0,P=1;!(S.words[0]&P)&&K<26;++K,P<<=1);if(K>0)for(S.iushrn(K);K-- >0;)(R.isOdd()||I.isOdd())&&(R.iadd(U),I.isub(j)),R.iushrn(1),I.iushrn(1);C.cmp(S)>=0?(C.isub(S),b.isub(R),E.isub(I)):(S.isub(C),R.isub(b),I.isub(E))}return{a:R,b:I,gcd:S.iushln(k)}},l.prototype._invmp=function(x){a(x.negative===0),a(!x.isZero());var C=this,S=x.clone();C=C.negative!==0?C.umod(x):C.clone();for(var b,E=new l(1),R=new l(0),I=S.clone();C.cmpn(1)>0&&S.cmpn(1)>0;){for(var k=0,U=1;!(C.words[0]&U)&&k<26;++k,U<<=1);if(k>0)for(C.iushrn(k);k-- >0;)E.isOdd()&&E.iadd(I),E.iushrn(1);for(var j=0,X=1;!(S.words[0]&X)&&j<26;++j,X<<=1);if(j>0)for(S.iushrn(j);j-- >0;)R.isOdd()&&R.iadd(I),R.iushrn(1);C.cmp(S)>=0?(C.isub(S),E.isub(R)):(S.isub(C),R.isub(E))}return(b=C.cmpn(1)===0?E:R).cmpn(0)<0&&b.iadd(x),b},l.prototype.gcd=function(x){if(this.isZero())return x.abs();if(x.isZero())return this.abs();var C=this.clone(),S=x.clone();C.negative=0,S.negative=0;for(var b=0;C.isEven()&&S.isEven();b++)C.iushrn(1),S.iushrn(1);for(;;){for(;C.isEven();)C.iushrn(1);for(;S.isEven();)S.iushrn(1);var E=C.cmp(S);if(E<0){var R=C;C=S,S=R}else if(E===0||S.cmpn(1)===0)break;C.isub(S)}return S.iushln(b)},l.prototype.invm=function(x){return this.egcd(x).a.umod(x)},l.prototype.isEven=function(){return(1&this.words[0])==0},l.prototype.isOdd=function(){return(1&this.words[0])==1},l.prototype.andln=function(x){return this.words[0]&x},l.prototype.bincn=function(x){a(typeof x=="number");var C=x%26,S=(x-C)/26,b=1<<C;if(this.length<=S)return this._expand(S+1),this.words[S]|=b,this;for(var E=b,R=S;E!==0&&R<this.length;R++){var I=0|this.words[R];E=(I+=E)>>>26,I&=67108863,this.words[R]=I}return E!==0&&(this.words[R]=E,this.length++),this},l.prototype.isZero=function(){return this.length===1&&this.words[0]===0},l.prototype.cmpn=function(x){var C,S=x<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;if(this._strip(),this.length>1)C=1;else{S&&(x=-x),a(x<=67108863,"Number is too big");var b=0|this.words[0];C=b===x?0:b<x?-1:1}return this.negative!==0?0|-C:C},l.prototype.cmp=function(x){if(this.negative!==0&&x.negative===0)return-1;if(this.negative===0&&x.negative!==0)return 1;var C=this.ucmp(x);return this.negative!==0?0|-C:C},l.prototype.ucmp=function(x){if(this.length>x.length)return 1;if(this.length<x.length)return-1;for(var C=0,S=this.length-1;S>=0;S--){var b=0|this.words[S],E=0|x.words[S];if(b!==E){b<E?C=-1:b>E&&(C=1);break}}return C},l.prototype.gtn=function(x){return this.cmpn(x)===1},l.prototype.gt=function(x){return this.cmp(x)===1},l.prototype.gten=function(x){return this.cmpn(x)>=0},l.prototype.gte=function(x){return this.cmp(x)>=0},l.prototype.ltn=function(x){return this.cmpn(x)===-1},l.prototype.lt=function(x){return this.cmp(x)===-1},l.prototype.lten=function(x){return this.cmpn(x)<=0},l.prototype.lte=function(x){return this.cmp(x)<=0},l.prototype.eqn=function(x){return this.cmpn(x)===0},l.prototype.eq=function(x){return this.cmp(x)===0},l.red=function(x){return new T(x)},l.prototype.toRed=function(x){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),x.convertTo(this)._forceRed(x)},l.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},l.prototype._forceRed=function(x){return this.red=x,this},l.prototype.forceRed=function(x){return a(!this.red,"Already a number in reduction context"),this._forceRed(x)},l.prototype.redAdd=function(x){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,x)},l.prototype.redIAdd=function(x){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,x)},l.prototype.redSub=function(x){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,x)},l.prototype.redISub=function(x){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,x)},l.prototype.redShl=function(x){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,x)},l.prototype.redMul=function(x){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.mul(this,x)},l.prototype.redIMul=function(x){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,x),this.red.imul(this,x)},l.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},l.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},l.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},l.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},l.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},l.prototype.redPow=function(x){return a(this.red&&!x.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,x)};var G={k256:null,p224:null,p192:null,p25519:null};function L(x,C){this.name=x,this.p=new l(C,16),this.n=this.p.bitLength(),this.k=new l(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function O(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function V(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function z(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function H(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function T(x){if(typeof x=="string"){var C=l._prime(x);this.m=C.p,this.prime=C}else a(x.gtn(1),"modulus must be greater than 1"),this.m=x,this.prime=null}function M(x){T.call(this,x),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new l(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}L.prototype._tmp=function(){var x=new l(null);return x.words=new Array(Math.ceil(this.n/13)),x},L.prototype.ireduce=function(x){var C,S=x;do this.split(S,this.tmp),C=(S=(S=this.imulK(S)).iadd(this.tmp)).bitLength();while(C>this.n);var b=C<this.n?-1:S.ucmp(this.p);return b===0?(S.words[0]=0,S.length=1):b>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},L.prototype.split=function(x,C){x.iushrn(this.n,0,C)},L.prototype.imulK=function(x){return x.imul(this.k)},u(O,L),O.prototype.split=function(x,C){for(var S=Math.min(x.length,9),b=0;b<S;b++)C.words[b]=x.words[b];if(C.length=S,x.length<=9)return x.words[0]=0,void(x.length=1);var E=x.words[9];for(C.words[C.length++]=4194303&E,b=10;b<x.length;b++){var R=0|x.words[b];x.words[b-10]=(4194303&R)<<4|E>>>22,E=R}E>>>=22,x.words[b-10]=E,E===0&&x.length>10?x.length-=10:x.length-=9},O.prototype.imulK=function(x){x.words[x.length]=0,x.words[x.length+1]=0,x.length+=2;for(var C=0,S=0;S<x.length;S++){var b=0|x.words[S];C+=977*b,x.words[S]=67108863&C,C=64*b+(C/67108864|0)}return x.words[x.length-1]===0&&(x.length--,x.words[x.length-1]===0&&x.length--),x},u(V,L),u(z,L),u(H,L),H.prototype.imulK=function(x){for(var C=0,S=0;S<x.length;S++){var b=19*(0|x.words[S])+C,E=67108863&b;b>>>=26,x.words[S]=E,C=b}return C!==0&&(x.words[x.length++]=C),x},l._prime=function(x){if(G[x])return G[x];var C;if(x==="k256")C=new O;else if(x==="p224")C=new V;else if(x==="p192")C=new z;else{if(x!=="p25519")throw new Error("Unknown prime "+x);C=new H}return G[x]=C,C},T.prototype._verify1=function(x){a(x.negative===0,"red works only with positives"),a(x.red,"red works only with red numbers")},T.prototype._verify2=function(x,C){a((x.negative|C.negative)==0,"red works only with positives"),a(x.red&&x.red===C.red,"red works only with red numbers")},T.prototype.imod=function(x){return this.prime?this.prime.ireduce(x)._forceRed(this):(g(x,x.umod(this.m)._forceRed(this)),x)},T.prototype.neg=function(x){return x.isZero()?x.clone():this.m.sub(x)._forceRed(this)},T.prototype.add=function(x,C){this._verify2(x,C);var S=x.add(C);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},T.prototype.iadd=function(x,C){this._verify2(x,C);var S=x.iadd(C);return S.cmp(this.m)>=0&&S.isub(this.m),S},T.prototype.sub=function(x,C){this._verify2(x,C);var S=x.sub(C);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},T.prototype.isub=function(x,C){this._verify2(x,C);var S=x.isub(C);return S.cmpn(0)<0&&S.iadd(this.m),S},T.prototype.shl=function(x,C){return this._verify1(x),this.imod(x.ushln(C))},T.prototype.imul=function(x,C){return this._verify2(x,C),this.imod(x.imul(C))},T.prototype.mul=function(x,C){return this._verify2(x,C),this.imod(x.mul(C))},T.prototype.isqr=function(x){return this.imul(x,x.clone())},T.prototype.sqr=function(x){return this.mul(x,x)},T.prototype.sqrt=function(x){if(x.isZero())return x.clone();var C=this.m.andln(3);if(a(C%2==1),C===3){var S=this.m.add(new l(1)).iushrn(2);return this.pow(x,S)}for(var b=this.m.subn(1),E=0;!b.isZero()&&b.andln(1)===0;)E++,b.iushrn(1);a(!b.isZero());var R=new l(1).toRed(this),I=R.redNeg(),k=this.m.subn(1).iushrn(1),U=this.m.bitLength();for(U=new l(2*U*U).toRed(this);this.pow(U,k).cmp(I)!==0;)U.redIAdd(I);for(var j=this.pow(U,b),X=this.pow(x,b.addn(1).iushrn(1)),N=this.pow(x,b),K=E;N.cmp(R)!==0;){for(var P=N,D=0;P.cmp(R)!==0;D++)P=P.redSqr();a(D<K);var W=this.pow(j,new l(1).iushln(K-D-1));X=X.redMul(W),j=W.redSqr(),N=N.redMul(j),K=D}return X},T.prototype.invm=function(x){var C=x._invmp(this.m);return C.negative!==0?(C.negative=0,this.imod(C).redNeg()):this.imod(C)},T.prototype.pow=function(x,C){if(C.isZero())return new l(1).toRed(this);if(C.cmpn(1)===0)return x.clone();var S=new Array(16);S[0]=new l(1).toRed(this),S[1]=x;for(var b=2;b<S.length;b++)S[b]=this.mul(S[b-1],x);var E=S[0],R=0,I=0,k=C.bitLength()%26;for(k===0&&(k=26),b=C.length-1;b>=0;b--){for(var U=C.words[b],j=k-1;j>=0;j--){var X=U>>j&1;E!==S[0]&&(E=this.sqr(E)),X!==0||R!==0?(R<<=1,R|=X,(++I===4||b===0&&j===0)&&(E=this.mul(E,S[R]),I=0,R=0)):I=0}k=26}return E},T.prototype.convertTo=function(x){var C=x.umod(this.m);return C===x?C.clone():C},T.prototype.convertFrom=function(x){var C=x.clone();return C.red=null,C},l.mont=function(x){return new M(x)},u(M,T),M.prototype.convertTo=function(x){return this.imod(x.ushln(this.shift))},M.prototype.convertFrom=function(x){var C=this.imod(x.mul(this.rinv));return C.red=null,C},M.prototype.imul=function(x,C){if(x.isZero()||C.isZero())return x.words[0]=0,x.length=1,x;var S=x.imul(C),b=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=S.isub(b).iushrn(this.shift),R=E;return E.cmp(this.m)>=0?R=E.isub(this.m):E.cmpn(0)<0&&(R=E.iadd(this.m)),R._forceRed(this)},M.prototype.mul=function(x,C){if(x.isZero()||C.isZero())return new l(0)._forceRed(this);var S=x.mul(C),b=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=S.isub(b).iushrn(this.shift),R=E;return E.cmp(this.m)>=0?R=E.isub(this.m):E.cmpn(0)<0&&(R=E.iadd(this.m)),R._forceRed(this)},M.prototype.invm=function(x){return this.imod(x._invmp(this.m).mul(this.r2))._forceRed(this)}})(i===void 0||i)},{buffer:188}],187:[function(r,i,s){var n;function o(u){this.rand=u}if(i.exports=function(u){return n||(n=new o(null)),n.generate(u)},i.exports.Rand=o,o.prototype.generate=function(u){return this._rand(u)},o.prototype._rand=function(u){if(this.rand.getBytes)return this.rand.getBytes(u);for(var l=new Uint8Array(u),c=0;c<l.length;c++)l[c]=this.rand.getByte();return l},typeof self=="object")self.crypto&&self.crypto.getRandomValues?o.prototype._rand=function(u){var l=new Uint8Array(u);return self.crypto.getRandomValues(l),l}:self.msCrypto&&self.msCrypto.getRandomValues?o.prototype._rand=function(u){var l=new Uint8Array(u);return self.msCrypto.getRandomValues(l),l}:typeof window=="object"&&(o.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var a=r("crypto");if(typeof a.randomBytes!="function")throw new Error("Not supported");o.prototype._rand=function(u){return a.randomBytes(u)}}catch{}},{crypto:188}],188:[function(r,i,s){},{}],189:[function(r,i,s){var n=r("safe-buffer").Buffer;function o(d){n.isBuffer(d)||(d=n.from(d));for(var p=d.length/4|0,g=new Array(p),v=0;v<p;v++)g[v]=d.readUInt32BE(4*v);return g}function a(d){for(;0<d.length;d++)d[0]=0}function u(d,p,g,v,f){for(var y,m,w,_,A=g[0],F=g[1],G=g[2],L=g[3],O=d[0]^p[0],V=d[1]^p[1],z=d[2]^p[2],H=d[3]^p[3],T=4,M=1;M<f;M++)y=A[O>>>24]^F[V>>>16&255]^G[z>>>8&255]^L[255&H]^p[T++],m=A[V>>>24]^F[z>>>16&255]^G[H>>>8&255]^L[255&O]^p[T++],w=A[z>>>24]^F[H>>>16&255]^G[O>>>8&255]^L[255&V]^p[T++],_=A[H>>>24]^F[O>>>16&255]^G[V>>>8&255]^L[255&z]^p[T++],O=y,V=m,z=w,H=_;return y=(v[O>>>24]<<24|v[V>>>16&255]<<16|v[z>>>8&255]<<8|v[255&H])^p[T++],m=(v[V>>>24]<<24|v[z>>>16&255]<<16|v[H>>>8&255]<<8|v[255&O])^p[T++],w=(v[z>>>24]<<24|v[H>>>16&255]<<16|v[O>>>8&255]<<8|v[255&V])^p[T++],_=(v[H>>>24]<<24|v[O>>>16&255]<<16|v[V>>>8&255]<<8|v[255&z])^p[T++],[y>>>=0,m>>>=0,w>>>=0,_>>>=0]}var l=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var d=new Array(256),p=0;p<256;p++)d[p]=p<128?p<<1:p<<1^283;for(var g=[],v=[],f=[[],[],[],[]],y=[[],[],[],[]],m=0,w=0,_=0;_<256;++_){var A=w^w<<1^w<<2^w<<3^w<<4;A=A>>>8^255&A^99,g[m]=A,v[A]=m;var F=d[m],G=d[F],L=d[G],O=257*d[A]^16843008*A;f[0][m]=O<<24|O>>>8,f[1][m]=O<<16|O>>>16,f[2][m]=O<<8|O>>>24,f[3][m]=O,O=16843009*L^65537*G^257*F^16843008*m,y[0][A]=O<<24|O>>>8,y[1][A]=O<<16|O>>>16,y[2][A]=O<<8|O>>>24,y[3][A]=O,m===0?m=w=1:(m=F^d[d[d[L^F]]],w^=d[d[w]])}return{SBOX:g,INV_SBOX:v,SUB_MIX:f,INV_SUB_MIX:y}}();function h(d){this._key=o(d),this._reset()}h.blockSize=16,h.keySize=32,h.prototype.blockSize=h.blockSize,h.prototype.keySize=h.keySize,h.prototype._reset=function(){for(var d=this._key,p=d.length,g=p+6,v=4*(g+1),f=[],y=0;y<p;y++)f[y]=d[y];for(y=p;y<v;y++){var m=f[y-1];y%p==0?(m=m<<8|m>>>24,m=c.SBOX[m>>>24]<<24|c.SBOX[m>>>16&255]<<16|c.SBOX[m>>>8&255]<<8|c.SBOX[255&m],m^=l[y/p|0]<<24):p>6&&y%p==4&&(m=c.SBOX[m>>>24]<<24|c.SBOX[m>>>16&255]<<16|c.SBOX[m>>>8&255]<<8|c.SBOX[255&m]),f[y]=f[y-p]^m}for(var w=[],_=0;_<v;_++){var A=v-_,F=f[A-(_%4?0:4)];w[_]=_<4||A<=4?F:c.INV_SUB_MIX[0][c.SBOX[F>>>24]]^c.INV_SUB_MIX[1][c.SBOX[F>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[F>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&F]]}this._nRounds=g,this._keySchedule=f,this._invKeySchedule=w},h.prototype.encryptBlockRaw=function(d){return u(d=o(d),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},h.prototype.encryptBlock=function(d){var p=this.encryptBlockRaw(d),g=n.allocUnsafe(16);return g.writeUInt32BE(p[0],0),g.writeUInt32BE(p[1],4),g.writeUInt32BE(p[2],8),g.writeUInt32BE(p[3],12),g},h.prototype.decryptBlock=function(d){var p=(d=o(d))[1];d[1]=d[3],d[3]=p;var g=u(d,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),v=n.allocUnsafe(16);return v.writeUInt32BE(g[0],0),v.writeUInt32BE(g[3],4),v.writeUInt32BE(g[2],8),v.writeUInt32BE(g[1],12),v},h.prototype.scrub=function(){a(this._keySchedule),a(this._invKeySchedule),a(this._key)},i.exports.AES=h},{"safe-buffer":494}],190:[function(r,i,s){var n=r("./aes"),o=r("safe-buffer").Buffer,a=r("cipher-base"),u=r("inherits"),l=r("./ghash"),c=r("buffer-xor"),h=r("./incr32");function d(p,g,v,f){a.call(this);var y=o.alloc(4,0);this._cipher=new n.AES(g);var m=this._cipher.encryptBlock(y);this._ghash=new l(m),v=function(w,_,A){if(_.length===12)return w._finID=o.concat([_,o.from([0,0,0,1])]),o.concat([_,o.from([0,0,0,2])]);var F=new l(A),G=_.length,L=G%16;F.update(_),L&&(L=16-L,F.update(o.alloc(L,0))),F.update(o.alloc(8,0));var O=8*G,V=o.alloc(8);V.writeUIntBE(O,0,8),F.update(V),w._finID=F.state;var z=o.from(w._finID);return h(z),z}(this,v,m),this._prev=o.from(v),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=f,this._alen=0,this._len=0,this._mode=p,this._authTag=null,this._called=!1}u(d,a),d.prototype._update=function(p){if(!this._called&&this._alen){var g=16-this._alen%16;g<16&&(g=o.alloc(g,0),this._ghash.update(g))}this._called=!0;var v=this._mode.encrypt(this,p);return this._decrypt?this._ghash.update(p):this._ghash.update(v),this._len+=p.length,v},d.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var p=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(g,v){var f=0;g.length!==v.length&&f++;for(var y=Math.min(g.length,v.length),m=0;m<y;++m)f+=g[m]^v[m];return f}(p,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=p,this._cipher.scrub()},d.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},d.prototype.setAuthTag=function(p){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=p},d.prototype.setAAD=function(p){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(p),this._alen+=p.length},i.exports=d},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(r,i,s){var n=r("./encrypter"),o=r("./decrypter"),a=r("./modes/list.json");s.createCipher=s.Cipher=n.createCipher,s.createCipheriv=s.Cipheriv=n.createCipheriv,s.createDecipher=s.Decipher=o.createDecipher,s.createDecipheriv=s.Decipheriv=o.createDecipheriv,s.listCiphers=s.getCiphers=function(){return Object.keys(a)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(r,i,s){var n=r("./authCipher"),o=r("safe-buffer").Buffer,a=r("./modes"),u=r("./streamCipher"),l=r("cipher-base"),c=r("./aes"),h=r("evp_bytestokey");function d(v,f,y){l.call(this),this._cache=new p,this._last=void 0,this._cipher=new c.AES(f),this._prev=o.from(y),this._mode=v,this._autopadding=!0}function p(){this.cache=o.allocUnsafe(0)}function g(v,f,y){var m=a[v.toLowerCase()];if(!m)throw new TypeError("invalid suite type");if(typeof y=="string"&&(y=o.from(y)),m.mode!=="GCM"&&y.length!==m.iv)throw new TypeError("invalid iv length "+y.length);if(typeof f=="string"&&(f=o.from(f)),f.length!==m.key/8)throw new TypeError("invalid key length "+f.length);return m.type==="stream"?new u(m.module,f,y,!0):m.type==="auth"?new n(m.module,f,y,!0):new d(m.module,f,y)}r("inherits")(d,l),d.prototype._update=function(v){var f,y;this._cache.add(v);for(var m=[];f=this._cache.get(this._autopadding);)y=this._mode.decrypt(this,f),m.push(y);return o.concat(m)},d.prototype._final=function(){var v=this._cache.flush();if(this._autopadding)return function(f){var y=f[15];if(y<1||y>16)throw new Error("unable to decrypt data");for(var m=-1;++m<y;)if(f[m+(16-y)]!==y)throw new Error("unable to decrypt data");if(y!==16)return f.slice(0,16-y)}(this._mode.decrypt(this,v));if(v)throw new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(v){return this._autopadding=!!v,this},p.prototype.add=function(v){this.cache=o.concat([this.cache,v])},p.prototype.get=function(v){var f;if(v){if(this.cache.length>16)return f=this.cache.slice(0,16),this.cache=this.cache.slice(16),f}else if(this.cache.length>=16)return f=this.cache.slice(0,16),this.cache=this.cache.slice(16),f;return null},p.prototype.flush=function(){if(this.cache.length)return this.cache},s.createDecipher=function(v,f){var y=a[v.toLowerCase()];if(!y)throw new TypeError("invalid suite type");var m=h(f,!1,y.key,y.iv);return g(v,m.key,m.iv)},s.createDecipheriv=g},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(r,i,s){var n=r("./modes"),o=r("./authCipher"),a=r("safe-buffer").Buffer,u=r("./streamCipher"),l=r("cipher-base"),c=r("./aes"),h=r("evp_bytestokey");function d(f,y,m){l.call(this),this._cache=new g,this._cipher=new c.AES(y),this._prev=a.from(m),this._mode=f,this._autopadding=!0}r("inherits")(d,l),d.prototype._update=function(f){var y,m;this._cache.add(f);for(var w=[];y=this._cache.get();)m=this._mode.encrypt(this,y),w.push(m);return a.concat(w)};var p=a.alloc(16,16);function g(){this.cache=a.allocUnsafe(0)}function v(f,y,m){var w=n[f.toLowerCase()];if(!w)throw new TypeError("invalid suite type");if(typeof y=="string"&&(y=a.from(y)),y.length!==w.key/8)throw new TypeError("invalid key length "+y.length);if(typeof m=="string"&&(m=a.from(m)),w.mode!=="GCM"&&m.length!==w.iv)throw new TypeError("invalid iv length "+m.length);return w.type==="stream"?new u(w.module,y,m):w.type==="auth"?new o(w.module,y,m):new d(w.module,y,m)}d.prototype._final=function(){var f=this._cache.flush();if(this._autopadding)return f=this._mode.encrypt(this,f),this._cipher.scrub(),f;if(!f.equals(p))throw this._cipher.scrub(),new Error("data not multiple of block length")},d.prototype.setAutoPadding=function(f){return this._autopadding=!!f,this},g.prototype.add=function(f){this.cache=a.concat([this.cache,f])},g.prototype.get=function(){if(this.cache.length>15){var f=this.cache.slice(0,16);return this.cache=this.cache.slice(16),f}return null},g.prototype.flush=function(){for(var f=16-this.cache.length,y=a.allocUnsafe(f),m=-1;++m<f;)y.writeUInt8(f,m);return a.concat([this.cache,y])},s.createCipheriv=v,s.createCipher=function(f,y){var m=n[f.toLowerCase()];if(!m)throw new TypeError("invalid suite type");var w=h(y,!1,m.key,m.iv);return v(f,w.key,w.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(r,i,s){var n=r("safe-buffer").Buffer,o=n.alloc(16,0);function a(l){var c=n.allocUnsafe(16);return c.writeUInt32BE(l[0]>>>0,0),c.writeUInt32BE(l[1]>>>0,4),c.writeUInt32BE(l[2]>>>0,8),c.writeUInt32BE(l[3]>>>0,12),c}function u(l){this.h=l,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}u.prototype.ghash=function(l){for(var c=-1;++c<l.length;)this.state[c]^=l[c];this._multiply()},u.prototype._multiply=function(){for(var l,c,h,d=[(l=this.h).readUInt32BE(0),l.readUInt32BE(4),l.readUInt32BE(8),l.readUInt32BE(12)],p=[0,0,0,0],g=-1;++g<128;){for(this.state[~~(g/8)]&1<<7-g%8&&(p[0]^=d[0],p[1]^=d[1],p[2]^=d[2],p[3]^=d[3]),h=(1&d[3])!=0,c=3;c>0;c--)d[c]=d[c]>>>1|(1&d[c-1])<<31;d[0]=d[0]>>>1,h&&(d[0]=d[0]^225<<24)}this.state=a(p)},u.prototype.update=function(l){var c;for(this.cache=n.concat([this.cache,l]);this.cache.length>=16;)c=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(c)},u.prototype.final=function(l,c){return this.cache.length&&this.ghash(n.concat([this.cache,o],16)),this.ghash(a([0,l,0,c])),this.state},i.exports=u},{"safe-buffer":494}],195:[function(r,i,s){i.exports=function(n){for(var o,a=n.length;a--;){if((o=n.readUInt8(a))!==255){o++,n.writeUInt8(o,a);break}n.writeUInt8(0,a)}}},{}],196:[function(r,i,s){var n=r("buffer-xor");s.encrypt=function(o,a){var u=n(a,o._prev);return o._prev=o._cipher.encryptBlock(u),o._prev},s.decrypt=function(o,a){var u=o._prev;o._prev=a;var l=o._cipher.decryptBlock(a);return n(l,u)}},{"buffer-xor":219}],197:[function(r,i,s){var n=r("safe-buffer").Buffer,o=r("buffer-xor");function a(u,l,c){var h=l.length,d=o(l,u._cache);return u._cache=u._cache.slice(h),u._prev=n.concat([u._prev,c?l:d]),d}s.encrypt=function(u,l,c){for(var h,d=n.allocUnsafe(0);l.length;){if(u._cache.length===0&&(u._cache=u._cipher.encryptBlock(u._prev),u._prev=n.allocUnsafe(0)),!(u._cache.length<=l.length)){d=n.concat([d,a(u,l,c)]);break}h=u._cache.length,d=n.concat([d,a(u,l.slice(0,h),c)]),l=l.slice(h)}return d}},{"buffer-xor":219,"safe-buffer":494}],198:[function(r,i,s){var n=r("safe-buffer").Buffer;function o(u,l,c){for(var h,d,p=-1,g=0;++p<8;)h=l&1<<7-p?128:0,g+=(128&(d=u._cipher.encryptBlock(u._prev)[0]^h))>>p%8,u._prev=a(u._prev,c?h:d);return g}function a(u,l){var c=u.length,h=-1,d=n.allocUnsafe(u.length);for(u=n.concat([u,n.from([l])]);++h<c;)d[h]=u[h]<<1|u[h+1]>>7;return d}s.encrypt=function(u,l,c){for(var h=l.length,d=n.allocUnsafe(h),p=-1;++p<h;)d[p]=o(u,l[p],c);return d}},{"safe-buffer":494}],199:[function(r,i,s){var n=r("safe-buffer").Buffer;function o(a,u,l){var c=a._cipher.encryptBlock(a._prev)[0]^u;return a._prev=n.concat([a._prev.slice(1),n.from([l?u:c])]),c}s.encrypt=function(a,u,l){for(var c=u.length,h=n.allocUnsafe(c),d=-1;++d<c;)h[d]=o(a,u[d],l);return h}},{"safe-buffer":494}],200:[function(r,i,s){var n=r("buffer-xor"),o=r("safe-buffer").Buffer,a=r("../incr32");function u(l){var c=l._cipher.encryptBlockRaw(l._prev);return a(l._prev),c}s.encrypt=function(l,c){var h=Math.ceil(c.length/16),d=l._cache.length;l._cache=o.concat([l._cache,o.allocUnsafe(16*h)]);for(var p=0;p<h;p++){var g=u(l),v=d+16*p;l._cache.writeUInt32BE(g[0],v+0),l._cache.writeUInt32BE(g[1],v+4),l._cache.writeUInt32BE(g[2],v+8),l._cache.writeUInt32BE(g[3],v+12)}var f=l._cache.slice(0,c.length);return l._cache=l._cache.slice(c.length),n(c,f)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(r,i,s){s.encrypt=function(n,o){return n._cipher.encryptBlock(o)},s.decrypt=function(n,o){return n._cipher.decryptBlock(o)}},{}],202:[function(r,i,s){var n={ECB:r("./ecb"),CBC:r("./cbc"),CFB:r("./cfb"),CFB8:r("./cfb8"),CFB1:r("./cfb1"),OFB:r("./ofb"),CTR:r("./ctr"),GCM:r("./ctr")},o=r("./list.json");for(var a in o)o[a].module=n[o[a].mode];i.exports=o},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(r,i,s){i.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(r,i,s){(function(n){(function(){var o=r("buffer-xor");function a(u){return u._prev=u._cipher.encryptBlock(u._prev),u._prev}s.encrypt=function(u,l){for(;u._cache.length<l.length;)u._cache=n.concat([u._cache,a(u)]);var c=u._cache.slice(0,l.length);return u._cache=u._cache.slice(l.length),o(l,c)}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(r,i,s){var n=r("./aes"),o=r("safe-buffer").Buffer,a=r("cipher-base");function u(l,c,h,d){a.call(this),this._cipher=new n.AES(c),this._prev=o.from(h),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=d,this._mode=l}r("inherits")(u,a),u.prototype._update=function(l){return this._mode.encrypt(this,l,this._decrypt)},u.prototype._final=function(){this._cipher.scrub()},i.exports=u},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(r,i,s){var n=r("browserify-des"),o=r("browserify-aes/browser"),a=r("browserify-aes/modes"),u=r("browserify-des/modes"),l=r("evp_bytestokey");function c(d,p,g){if(d=d.toLowerCase(),a[d])return o.createCipheriv(d,p,g);if(u[d])return new n({key:p,iv:g,mode:d});throw new TypeError("invalid suite type")}function h(d,p,g){if(d=d.toLowerCase(),a[d])return o.createDecipheriv(d,p,g);if(u[d])return new n({key:p,iv:g,mode:d,decrypt:!0});throw new TypeError("invalid suite type")}s.createCipher=s.Cipher=function(d,p){var g,v;if(d=d.toLowerCase(),a[d])g=a[d].key,v=a[d].iv;else{if(!u[d])throw new TypeError("invalid suite type");g=8*u[d].key,v=u[d].iv}var f=l(p,!1,g,v);return c(d,f.key,f.iv)},s.createCipheriv=s.Cipheriv=c,s.createDecipher=s.Decipher=function(d,p){var g,v;if(d=d.toLowerCase(),a[d])g=a[d].key,v=a[d].iv;else{if(!u[d])throw new TypeError("invalid suite type");g=8*u[d].key,v=u[d].iv}var f=l(p,!1,g,v);return h(d,f.key,f.iv)},s.createDecipheriv=s.Decipheriv=h,s.listCiphers=s.getCiphers=function(){return Object.keys(u).concat(o.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(r,i,s){var n=r("cipher-base"),o=r("des.js"),a=r("inherits"),u=r("safe-buffer").Buffer,l={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};function c(h){n.call(this);var d,p=h.mode.toLowerCase(),g=l[p];d=h.decrypt?"decrypt":"encrypt";var v=h.key;u.isBuffer(v)||(v=u.from(v)),p!=="des-ede"&&p!=="des-ede-cbc"||(v=u.concat([v,v.slice(0,8)]));var f=h.iv;u.isBuffer(f)||(f=u.from(f)),this._des=g.create({key:v,iv:f,type:d})}l.des=l["des-cbc"],l.des3=l["des-ede3-cbc"],i.exports=c,a(c,n),c.prototype._update=function(h){return u.from(this._des.update(h))},c.prototype._final=function(){return u.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(r,i,s){s["des-ecb"]={key:8,iv:0},s["des-cbc"]=s.des={key:8,iv:8},s["des-ede3-cbc"]=s.des3={key:24,iv:8},s["des-ede3"]={key:24,iv:0},s["des-ede-cbc"]={key:16,iv:8},s["des-ede"]={key:16,iv:0}},{}],209:[function(r,i,s){(function(n){(function(){var o=r("bn.js"),a=r("randombytes");function u(c){var h,d=c.modulus.byteLength();do h=new o(a(d));while(h.cmp(c.modulus)>=0||!h.umod(c.prime1)||!h.umod(c.prime2));return h}function l(c,h){var d=function(G){var L=u(G);return{blinder:L.toRed(o.mont(G.modulus)).redPow(new o(G.publicExponent)).fromRed(),unblinder:L.invm(G.modulus)}}(h),p=h.modulus.byteLength(),g=new o(c).mul(d.blinder).umod(h.modulus),v=g.toRed(o.mont(h.prime1)),f=g.toRed(o.mont(h.prime2)),y=h.coefficient,m=h.prime1,w=h.prime2,_=v.redPow(h.exponent1).fromRed(),A=f.redPow(h.exponent2).fromRed(),F=_.isub(A).imul(y).umod(m).imul(w);return A.iadd(F).imul(d.unblinder).umod(h.modulus).toArrayLike(n,"be",p)}l.getr=u,i.exports=l}).call(this)}).call(this,r("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(r,i,s){i.exports=r("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(r,i,s){i.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(r,i,s){i.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(r,i,s){var n=r("safe-buffer").Buffer,o=r("create-hash"),a=r("readable-stream"),u=r("inherits"),l=r("./sign"),c=r("./verify"),h=r("./algorithms.json");function d(f){a.Writable.call(this);var y=h[f];if(!y)throw new Error("Unknown message digest");this._hashType=y.hash,this._hash=o(y.hash),this._tag=y.id,this._signType=y.sign}function p(f){a.Writable.call(this);var y=h[f];if(!y)throw new Error("Unknown message digest");this._hash=o(y.hash),this._tag=y.id,this._signType=y.sign}function g(f){return new d(f)}function v(f){return new p(f)}Object.keys(h).forEach(function(f){h[f].id=n.from(h[f].id,"hex"),h[f.toLowerCase()]=h[f]}),u(d,a.Writable),d.prototype._write=function(f,y,m){this._hash.update(f),m()},d.prototype.update=function(f,y){return typeof f=="string"&&(f=n.from(f,y)),this._hash.update(f),this},d.prototype.sign=function(f,y){this.end();var m=this._hash.digest(),w=l(m,f,this._hashType,this._signType,this._tag);return y?w.toString(y):w},u(p,a.Writable),p.prototype._write=function(f,y,m){this._hash.update(f),m()},p.prototype.update=function(f,y){return typeof f=="string"&&(f=n.from(f,y)),this._hash.update(f),this},p.prototype.verify=function(f,y,m){typeof y=="string"&&(y=n.from(y,m)),this.end();var w=this._hash.digest();return c(y,w,f,this._signType,this._tag)},i.exports={Sign:g,Verify:v,createSign:g,createVerify:v}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(r,i,s){var n=r("safe-buffer").Buffer,o=r("create-hmac"),a=r("browserify-rsa"),u=r("elliptic").ec,l=r("bn.js"),c=r("parse-asn1"),h=r("./curves.json");function d(f,y,m,w){if((f=n.from(f.toArray())).length<y.byteLength()){var _=n.alloc(y.byteLength()-f.length);f=n.concat([_,f])}var A=m.length,F=function(O,V){O=(O=p(O,V)).mod(V);var z=n.from(O.toArray());if(z.length<V.byteLength()){var H=n.alloc(V.byteLength()-z.length);z=n.concat([H,z])}return z}(m,y),G=n.alloc(A);G.fill(1);var L=n.alloc(A);return L=o(w,L).update(G).update(n.from([0])).update(f).update(F).digest(),G=o(w,L).update(G).digest(),{k:L=o(w,L).update(G).update(n.from([1])).update(f).update(F).digest(),v:G=o(w,L).update(G).digest()}}function p(f,y){var m=new l(f),w=(f.length<<3)-y.bitLength();return w>0&&m.ishrn(w),m}function g(f,y,m){var w,_;do{for(w=n.alloc(0);8*w.length<f.bitLength();)y.v=o(m,y.k).update(y.v).digest(),w=n.concat([w,y.v]);_=p(w,f),y.k=o(m,y.k).update(y.v).update(n.from([0])).digest(),y.v=o(m,y.k).update(y.v).digest()}while(_.cmp(f)!==-1);return _}function v(f,y,m,w){return f.toRed(l.mont(m)).redPow(y).fromRed().mod(w)}i.exports=function(f,y,m,w,_){var A=c(y);if(A.curve){if(w!=="ecdsa"&&w!=="ecdsa/rsa")throw new Error("wrong private key type");return function(O,V){var z=h[V.curve.join(".")];if(!z)throw new Error("unknown curve "+V.curve.join("."));var H=new u(z).keyFromPrivate(V.privateKey).sign(O);return n.from(H.toDER())}(f,A)}if(A.type==="dsa"){if(w!=="dsa")throw new Error("wrong private key type");return function(O,V,z){for(var H,T=V.params.priv_key,M=V.params.p,x=V.params.q,C=V.params.g,S=new l(0),b=p(O,x).mod(x),E=!1,R=d(T,x,O,z);E===!1;)H=g(x,R,z),S=v(C,H,M,x),(E=H.invm(x).imul(b.add(T.mul(S))).mod(x)).cmpn(0)===0&&(E=!1,S=new l(0));return function(I,k){I=I.toArray(),k=k.toArray(),128&I[0]&&(I=[0].concat(I)),128&k[0]&&(k=[0].concat(k));var U=[48,I.length+k.length+4,2,I.length];return U=U.concat(I,[2,k.length],k),n.from(U)}(S,E)}(f,A,m)}if(w!=="rsa"&&w!=="ecdsa/rsa")throw new Error("wrong private key type");f=n.concat([_,f]);for(var F=A.modulus.byteLength(),G=[0,1];f.length+G.length+1<F;)G.push(255);G.push(0);for(var L=-1;++L<f.length;)G.push(f[L]);return a(G,A)},i.exports.getKey=d,i.exports.makeKey=g},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(r,i,s){var n=r("safe-buffer").Buffer,o=r("bn.js"),a=r("elliptic").ec,u=r("parse-asn1"),l=r("./curves.json");function c(h,d){if(h.cmpn(0)<=0)throw new Error("invalid sig");if(h.cmp(d)>=d)throw new Error("invalid sig")}i.exports=function(h,d,p,g,v){var f=u(p);if(f.type==="ec"){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");return function(G,L,O){var V=l[O.data.algorithm.curve.join(".")];if(!V)throw new Error("unknown curve "+O.data.algorithm.curve.join("."));var z=new a(V),H=O.data.subjectPrivateKey.data;return z.verify(L,G,H)}(h,d,f)}if(f.type==="dsa"){if(g!=="dsa")throw new Error("wrong public key type");return function(G,L,O){var V=O.data.p,z=O.data.q,H=O.data.g,T=O.data.pub_key,M=u.signature.decode(G,"der"),x=M.s,C=M.r;c(x,z),c(C,z);var S=o.mont(V),b=x.invm(z);return H.toRed(S).redPow(new o(L).mul(b).mod(z)).fromRed().mul(T.toRed(S).redPow(C.mul(b).mod(z)).fromRed()).mod(V).mod(z).cmp(C)===0}(h,d,f)}if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");d=n.concat([v,d]);for(var y=f.modulus.byteLength(),m=[1],w=0;d.length+m.length+2<y;)m.push(255),w++;m.push(0);for(var _=-1;++_<d.length;)m.push(d[_]);m=n.from(m);var A=o.mont(f.modulus);h=(h=new o(h).toRed(A)).redPow(new o(f.publicExponent)),h=n.from(h.fromRed().toArray());var F=w<8?1:0;for(y=Math.min(h.length,m.length),h.length!==m.length&&(F=1),_=-1;++_<y;)F|=h[_]^m[_];return F===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(r,i,s){},{}],217:[function(r,i,s){var n=r("buffer"),o=n.Buffer;function a(l,c){for(var h in l)c[h]=l[h]}function u(l,c,h){return o(l,c,h)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?i.exports=n:(a(n,s),s.Buffer=u),a(o,u),u.from=function(l,c,h){if(typeof l=="number")throw new TypeError("Argument must not be a number");return o(l,c,h)},u.alloc=function(l,c,h){if(typeof l!="number")throw new TypeError("Argument must be a number");var d=o(l);return c!==void 0?typeof h=="string"?d.fill(c,h):d.fill(c):d.fill(0),d},u.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return o(l)},u.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(l)}},{buffer:220}],218:[function(r,i,s){var n=r("safe-buffer").Buffer,o=n.isEncoding||function(f){switch((f=""+f)&&f.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(f){var y;switch(this.encoding=function(m){var w=function(_){if(!_)return"utf8";for(var A;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(A)return;_=(""+_).toLowerCase(),A=!0}}(m);if(typeof w!="string"&&(n.isEncoding===o||!o(m)))throw new Error("Unknown encoding: "+m);return w||m}(f),this.encoding){case"utf16le":this.text=c,this.end=h,y=4;break;case"utf8":this.fillLast=l,y=4;break;case"base64":this.text=d,this.end=p,y=3;break;default:return this.write=g,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(y)}function u(f){return f<=127?0:f>>5==6?2:f>>4==14?3:f>>3==30?4:f>>6==2?-1:-2}function l(f){var y=this.lastTotal-this.lastNeed,m=function(w,_,A){if((192&_[0])!=128)return w.lastNeed=0,"";if(w.lastNeed>1&&_.length>1){if((192&_[1])!=128)return w.lastNeed=1,"";if(w.lastNeed>2&&_.length>2&&(192&_[2])!=128)return w.lastNeed=2,""}}(this,f);return m!==void 0?m:this.lastNeed<=f.length?(f.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(f.copy(this.lastChar,y,0,f.length),void(this.lastNeed-=f.length))}function c(f,y){if((f.length-y)%2==0){var m=f.toString("utf16le",y);if(m){var w=m.charCodeAt(m.length-1);if(w>=55296&&w<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1],m.slice(0,-1)}return m}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=f[f.length-1],f.toString("utf16le",y,f.length-1)}function h(f){var y=f&&f.length?this.write(f):"";if(this.lastNeed){var m=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,m)}return y}function d(f,y){var m=(f.length-y)%3;return m===0?f.toString("base64",y):(this.lastNeed=3-m,this.lastTotal=3,m===1?this.lastChar[0]=f[f.length-1]:(this.lastChar[0]=f[f.length-2],this.lastChar[1]=f[f.length-1]),f.toString("base64",y,f.length-m))}function p(f){var y=f&&f.length?this.write(f):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function g(f){return f.toString(this.encoding)}function v(f){return f&&f.length?this.write(f):""}s.StringDecoder=a,a.prototype.write=function(f){if(f.length===0)return"";var y,m;if(this.lastNeed){if((y=this.fillLast(f))===void 0)return"";m=this.lastNeed,this.lastNeed=0}else m=0;return m<f.length?y?y+this.text(f,m):this.text(f,m):y||""},a.prototype.end=function(f){var y=f&&f.length?this.write(f):"";return this.lastNeed?y+"":y},a.prototype.text=function(f,y){var m=function(_,A,F){var G=A.length-1;if(G<F)return 0;var L=u(A[G]);return L>=0?(L>0&&(_.lastNeed=L-1),L):--G<F||L===-2?0:(L=u(A[G]))>=0?(L>0&&(_.lastNeed=L-2),L):--G<F||L===-2?0:(L=u(A[G]))>=0?(L>0&&(L===2?L=0:_.lastNeed=L-3),L):0}(this,f,y);if(!this.lastNeed)return f.toString("utf8",y);this.lastTotal=m;var w=f.length-(m-this.lastNeed);return f.copy(this.lastChar,0,w),f.toString("utf8",y,w)},a.prototype.fillLast=function(f){if(this.lastNeed<=f.length)return f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);f.copy(this.lastChar,this.lastTotal-this.lastNeed,0,f.length),this.lastNeed-=f.length}},{"safe-buffer":217}],219:[function(r,i,s){(function(n){(function(){i.exports=function(o,a){for(var u=Math.min(o.length,a.length),l=new n(u),c=0;c<u;++c)l[c]=o[c]^a[c];return l}}).call(this)}).call(this,r("buffer").Buffer)},{buffer:220}],220:[function(r,i,s){(function(n){(function(){var o=r("base64-js"),a=r("ieee754");s.Buffer=l,s.SlowBuffer=function(P){return+P!=P&&(P=0),l.alloc(+P)},s.INSPECT_MAX_BYTES=50;function u(P){if(P>2147483647)throw new RangeError('The value "'+P+'" is invalid for option "size"');var D=new Uint8Array(P);return D.__proto__=l.prototype,D}function l(P,D,W){if(typeof P=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(P)}return c(P,D,W)}function c(P,D,W){if(typeof P=="string")return function(Q,J){if(typeof J=="string"&&J!==""||(J="utf8"),!l.isEncoding(J))throw new TypeError("Unknown encoding: "+J);var ne=0|v(Q,J),oe=u(ne),Z=oe.write(Q,J);return Z!==ne&&(oe=oe.slice(0,Z)),oe}(P,D);if(ArrayBuffer.isView(P))return p(P);if(P==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(N(P,ArrayBuffer)||P&&N(P.buffer,ArrayBuffer))return function(Q,J,ne){if(J<0||Q.byteLength<J)throw new RangeError('"offset" is outside of buffer bounds');if(Q.byteLength<J+(ne||0))throw new RangeError('"length" is outside of buffer bounds');var oe;return oe=J===void 0&&ne===void 0?new Uint8Array(Q):ne===void 0?new Uint8Array(Q,J):new Uint8Array(Q,J,ne),oe.__proto__=l.prototype,oe}(P,D,W);if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Y=P.valueOf&&P.valueOf();if(Y!=null&&Y!==P)return l.from(Y,D,W);var ee=function(Q){if(l.isBuffer(Q)){var J=0|g(Q.length),ne=u(J);return ne.length===0||Q.copy(ne,0,0,J),ne}if(Q.length!==void 0)return typeof Q.length!="number"||K(Q.length)?u(0):p(Q);if(Q.type==="Buffer"&&Array.isArray(Q.data))return p(Q.data)}(P);if(ee)return ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return l.from(P[Symbol.toPrimitive]("string"),D,W);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}function h(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function d(P){return h(P),u(P<0?0:0|g(P))}function p(P){for(var D=P.length<0?0:0|g(P.length),W=u(D),Y=0;Y<D;Y+=1)W[Y]=255&P[Y];return W}function g(P){if(P>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|P}function v(P,D){if(l.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||N(P,ArrayBuffer))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);var W=P.length,Y=arguments.length>2&&arguments[2]===!0;if(!Y&&W===0)return 0;for(var ee=!1;;)switch(D){case"ascii":case"latin1":case"binary":return W;case"utf8":case"utf-8":return U(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*W;case"hex":return W>>>1;case"base64":return j(P).length;default:if(ee)return Y?-1:U(P).length;D=(""+D).toLowerCase(),ee=!0}}function f(P,D,W){var Y=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((W===void 0||W>this.length)&&(W=this.length),W<=0)||(W>>>=0)<=(D>>>=0))return"";for(P||(P="utf8");;)switch(P){case"hex":return M(this,D,W);case"utf8":case"utf-8":return z(this,D,W);case"ascii":return H(this,D,W);case"latin1":case"binary":return T(this,D,W);case"base64":return V(this,D,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,D,W);default:if(Y)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),Y=!0}}function y(P,D,W){var Y=P[D];P[D]=P[W],P[W]=Y}function m(P,D,W,Y,ee){if(P.length===0)return-1;if(typeof W=="string"?(Y=W,W=0):W>2147483647?W=2147483647:W<-2147483648&&(W=-2147483648),K(W=+W)&&(W=ee?0:P.length-1),W<0&&(W=P.length+W),W>=P.length){if(ee)return-1;W=P.length-1}else if(W<0){if(!ee)return-1;W=0}if(typeof D=="string"&&(D=l.from(D,Y)),l.isBuffer(D))return D.length===0?-1:w(P,D,W,Y,ee);if(typeof D=="number")return D&=255,typeof Uint8Array.prototype.indexOf=="function"?ee?Uint8Array.prototype.indexOf.call(P,D,W):Uint8Array.prototype.lastIndexOf.call(P,D,W):w(P,[D],W,Y,ee);throw new TypeError("val must be string, number or Buffer")}function w(P,D,W,Y,ee){var Q,J=1,ne=P.length,oe=D.length;if(Y!==void 0&&((Y=String(Y).toLowerCase())==="ucs2"||Y==="ucs-2"||Y==="utf16le"||Y==="utf-16le")){if(P.length<2||D.length<2)return-1;J=2,ne/=2,oe/=2,W/=2}function Z(ue,de){return J===1?ue[de]:ue.readUInt16BE(de*J)}if(ee){var ie=-1;for(Q=W;Q<ne;Q++)if(Z(P,Q)===Z(D,ie===-1?0:Q-ie)){if(ie===-1&&(ie=Q),Q-ie+1===oe)return ie*J}else ie!==-1&&(Q-=Q-ie),ie=-1}else for(W+oe>ne&&(W=ne-oe),Q=W;Q>=0;Q--){for(var se=!0,ce=0;ce<oe;ce++)if(Z(P,Q+ce)!==Z(D,ce)){se=!1;break}if(se)return Q}return-1}function _(P,D,W,Y){W=Number(W)||0;var ee=P.length-W;Y?(Y=Number(Y))>ee&&(Y=ee):Y=ee;var Q=D.length;Y>Q/2&&(Y=Q/2);for(var J=0;J<Y;++J){var ne=parseInt(D.substr(2*J,2),16);if(K(ne))return J;P[W+J]=ne}return J}function A(P,D,W,Y){return X(U(D,P.length-W),P,W,Y)}function F(P,D,W,Y){return X(function(ee){for(var Q=[],J=0;J<ee.length;++J)Q.push(255&ee.charCodeAt(J));return Q}(D),P,W,Y)}function G(P,D,W,Y){return F(P,D,W,Y)}function L(P,D,W,Y){return X(j(D),P,W,Y)}function O(P,D,W,Y){return X(function(ee,Q){for(var J,ne,oe,Z=[],ie=0;ie<ee.length&&!((Q-=2)<0);++ie)J=ee.charCodeAt(ie),ne=J>>8,oe=J%256,Z.push(oe),Z.push(ne);return Z}(D,P.length-W),P,W,Y)}function V(P,D,W){return D===0&&W===P.length?o.fromByteArray(P):o.fromByteArray(P.slice(D,W))}function z(P,D,W){W=Math.min(P.length,W);for(var Y=[],ee=D;ee<W;){var Q,J,ne,oe,Z=P[ee],ie=null,se=Z>239?4:Z>223?3:Z>191?2:1;if(ee+se<=W)switch(se){case 1:Z<128&&(ie=Z);break;case 2:(192&(Q=P[ee+1]))==128&&(oe=(31&Z)<<6|63&Q)>127&&(ie=oe);break;case 3:Q=P[ee+1],J=P[ee+2],(192&Q)==128&&(192&J)==128&&(oe=(15&Z)<<12|(63&Q)<<6|63&J)>2047&&(oe<55296||oe>57343)&&(ie=oe);break;case 4:Q=P[ee+1],J=P[ee+2],ne=P[ee+3],(192&Q)==128&&(192&J)==128&&(192&ne)==128&&(oe=(15&Z)<<18|(63&Q)<<12|(63&J)<<6|63&ne)>65535&&oe<1114112&&(ie=oe)}ie===null?(ie=65533,se=1):ie>65535&&(ie-=65536,Y.push(ie>>>10&1023|55296),ie=56320|1023&ie),Y.push(ie),ee+=se}return function(ce){var ue=ce.length;if(ue<=4096)return String.fromCharCode.apply(String,ce);for(var de="",fe=0;fe<ue;)de+=String.fromCharCode.apply(String,ce.slice(fe,fe+=4096));return de}(Y)}s.kMaxLength=2147483647,l.TYPED_ARRAY_SUPPORT=function(){try{var P=new Uint8Array(1);return P.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},P.foo()===42}catch{return!1}}(),l.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),l.poolSize=8192,l.from=function(P,D,W){return c(P,D,W)},l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,l.alloc=function(P,D,W){return function(Y,ee,Q){return h(Y),Y<=0?u(Y):ee!==void 0?typeof Q=="string"?u(Y).fill(ee,Q):u(Y).fill(ee):u(Y)}(P,D,W)},l.allocUnsafe=function(P){return d(P)},l.allocUnsafeSlow=function(P){return d(P)},l.isBuffer=function(P){return P!=null&&P._isBuffer===!0&&P!==l.prototype},l.compare=function(P,D){if(N(P,Uint8Array)&&(P=l.from(P,P.offset,P.byteLength)),N(D,Uint8Array)&&(D=l.from(D,D.offset,D.byteLength)),!l.isBuffer(P)||!l.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(P===D)return 0;for(var W=P.length,Y=D.length,ee=0,Q=Math.min(W,Y);ee<Q;++ee)if(P[ee]!==D[ee]){W=P[ee],Y=D[ee];break}return W<Y?-1:Y<W?1:0},l.isEncoding=function(P){switch(String(P).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(P,D){if(!Array.isArray(P))throw new TypeError('"list" argument must be an Array of Buffers');if(P.length===0)return l.alloc(0);var W;if(D===void 0)for(D=0,W=0;W<P.length;++W)D+=P[W].length;var Y=l.allocUnsafe(D),ee=0;for(W=0;W<P.length;++W){var Q=P[W];if(N(Q,Uint8Array)&&(Q=l.from(Q)),!l.isBuffer(Q))throw new TypeError('"list" argument must be an Array of Buffers');Q.copy(Y,ee),ee+=Q.length}return Y},l.byteLength=v,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var P=this.length;if(P%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var D=0;D<P;D+=2)y(this,D,D+1);return this},l.prototype.swap32=function(){var P=this.length;if(P%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var D=0;D<P;D+=4)y(this,D,D+3),y(this,D+1,D+2);return this},l.prototype.swap64=function(){var P=this.length;if(P%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var D=0;D<P;D+=8)y(this,D,D+7),y(this,D+1,D+6),y(this,D+2,D+5),y(this,D+3,D+4);return this},l.prototype.toString=function(){var P=this.length;return P===0?"":arguments.length===0?z(this,0,P):f.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(P){if(!l.isBuffer(P))throw new TypeError("Argument must be a Buffer");return this===P||l.compare(this,P)===0},l.prototype.inspect=function(){var P="",D=s.INSPECT_MAX_BYTES;return P=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim(),this.length>D&&(P+=" ... "),"<Buffer "+P+">"},l.prototype.compare=function(P,D,W,Y,ee){if(N(P,Uint8Array)&&(P=l.from(P,P.offset,P.byteLength)),!l.isBuffer(P))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof P);if(D===void 0&&(D=0),W===void 0&&(W=P?P.length:0),Y===void 0&&(Y=0),ee===void 0&&(ee=this.length),D<0||W>P.length||Y<0||ee>this.length)throw new RangeError("out of range index");if(Y>=ee&&D>=W)return 0;if(Y>=ee)return-1;if(D>=W)return 1;if(this===P)return 0;for(var Q=(ee>>>=0)-(Y>>>=0),J=(W>>>=0)-(D>>>=0),ne=Math.min(Q,J),oe=this.slice(Y,ee),Z=P.slice(D,W),ie=0;ie<ne;++ie)if(oe[ie]!==Z[ie]){Q=oe[ie],J=Z[ie];break}return Q<J?-1:J<Q?1:0},l.prototype.includes=function(P,D,W){return this.indexOf(P,D,W)!==-1},l.prototype.indexOf=function(P,D,W){return m(this,P,D,W,!0)},l.prototype.lastIndexOf=function(P,D,W){return m(this,P,D,W,!1)},l.prototype.write=function(P,D,W,Y){if(D===void 0)Y="utf8",W=this.length,D=0;else if(W===void 0&&typeof D=="string")Y=D,W=this.length,D=0;else{if(!isFinite(D))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");D>>>=0,isFinite(W)?(W>>>=0,Y===void 0&&(Y="utf8")):(Y=W,W=void 0)}var ee=this.length-D;if((W===void 0||W>ee)&&(W=ee),P.length>0&&(W<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");Y||(Y="utf8");for(var Q=!1;;)switch(Y){case"hex":return _(this,P,D,W);case"utf8":case"utf-8":return A(this,P,D,W);case"ascii":return F(this,P,D,W);case"latin1":case"binary":return G(this,P,D,W);case"base64":return L(this,P,D,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,P,D,W);default:if(Q)throw new TypeError("Unknown encoding: "+Y);Y=(""+Y).toLowerCase(),Q=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(P,D,W){var Y="";W=Math.min(P.length,W);for(var ee=D;ee<W;++ee)Y+=String.fromCharCode(127&P[ee]);return Y}function T(P,D,W){var Y="";W=Math.min(P.length,W);for(var ee=D;ee<W;++ee)Y+=String.fromCharCode(P[ee]);return Y}function M(P,D,W){var Y=P.length;(!D||D<0)&&(D=0),(!W||W<0||W>Y)&&(W=Y);for(var ee="",Q=D;Q<W;++Q)ee+=k(P[Q]);return ee}function x(P,D,W){for(var Y=P.slice(D,W),ee="",Q=0;Q<Y.length;Q+=2)ee+=String.fromCharCode(Y[Q]+256*Y[Q+1]);return ee}function C(P,D,W){if(P%1!=0||P<0)throw new RangeError("offset is not uint");if(P+D>W)throw new RangeError("Trying to access beyond buffer length")}function S(P,D,W,Y,ee,Q){if(!l.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>ee||D<Q)throw new RangeError('"value" argument is out of bounds');if(W+Y>P.length)throw new RangeError("Index out of range")}function b(P,D,W,Y,ee,Q){if(W+Y>P.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("Index out of range")}function E(P,D,W,Y,ee){return D=+D,W>>>=0,ee||b(P,0,W,4),a.write(P,D,W,Y,23,4),W+4}function R(P,D,W,Y,ee){return D=+D,W>>>=0,ee||b(P,0,W,8),a.write(P,D,W,Y,52,8),W+8}l.prototype.slice=function(P,D){var W=this.length;(P=~~P)<0?(P+=W)<0&&(P=0):P>W&&(P=W),(D=D===void 0?W:~~D)<0?(D+=W)<0&&(D=0):D>W&&(D=W),D<P&&(D=P);var Y=this.subarray(P,D);return Y.__proto__=l.prototype,Y},l.prototype.readUIntLE=function(P,D,W){P>>>=0,D>>>=0,W||C(P,D,this.length);for(var Y=this[P],ee=1,Q=0;++Q<D&&(ee*=256);)Y+=this[P+Q]*ee;return Y},l.prototype.readUIntBE=function(P,D,W){P>>>=0,D>>>=0,W||C(P,D,this.length);for(var Y=this[P+--D],ee=1;D>0&&(ee*=256);)Y+=this[P+--D]*ee;return Y},l.prototype.readUInt8=function(P,D){return P>>>=0,D||C(P,1,this.length),this[P]},l.prototype.readUInt16LE=function(P,D){return P>>>=0,D||C(P,2,this.length),this[P]|this[P+1]<<8},l.prototype.readUInt16BE=function(P,D){return P>>>=0,D||C(P,2,this.length),this[P]<<8|this[P+1]},l.prototype.readUInt32LE=function(P,D){return P>>>=0,D||C(P,4,this.length),(this[P]|this[P+1]<<8|this[P+2]<<16)+16777216*this[P+3]},l.prototype.readUInt32BE=function(P,D){return P>>>=0,D||C(P,4,this.length),16777216*this[P]+(this[P+1]<<16|this[P+2]<<8|this[P+3])},l.prototype.readIntLE=function(P,D,W){P>>>=0,D>>>=0,W||C(P,D,this.length);for(var Y=this[P],ee=1,Q=0;++Q<D&&(ee*=256);)Y+=this[P+Q]*ee;return Y>=(ee*=128)&&(Y-=Math.pow(2,8*D)),Y},l.prototype.readIntBE=function(P,D,W){P>>>=0,D>>>=0,W||C(P,D,this.length);for(var Y=D,ee=1,Q=this[P+--Y];Y>0&&(ee*=256);)Q+=this[P+--Y]*ee;return Q>=(ee*=128)&&(Q-=Math.pow(2,8*D)),Q},l.prototype.readInt8=function(P,D){return P>>>=0,D||C(P,1,this.length),128&this[P]?-1*(255-this[P]+1):this[P]},l.prototype.readInt16LE=function(P,D){P>>>=0,D||C(P,2,this.length);var W=this[P]|this[P+1]<<8;return 32768&W?4294901760|W:W},l.prototype.readInt16BE=function(P,D){P>>>=0,D||C(P,2,this.length);var W=this[P+1]|this[P]<<8;return 32768&W?4294901760|W:W},l.prototype.readInt32LE=function(P,D){return P>>>=0,D||C(P,4,this.length),this[P]|this[P+1]<<8|this[P+2]<<16|this[P+3]<<24},l.prototype.readInt32BE=function(P,D){return P>>>=0,D||C(P,4,this.length),this[P]<<24|this[P+1]<<16|this[P+2]<<8|this[P+3]},l.prototype.readFloatLE=function(P,D){return P>>>=0,D||C(P,4,this.length),a.read(this,P,!0,23,4)},l.prototype.readFloatBE=function(P,D){return P>>>=0,D||C(P,4,this.length),a.read(this,P,!1,23,4)},l.prototype.readDoubleLE=function(P,D){return P>>>=0,D||C(P,8,this.length),a.read(this,P,!0,52,8)},l.prototype.readDoubleBE=function(P,D){return P>>>=0,D||C(P,8,this.length),a.read(this,P,!1,52,8)},l.prototype.writeUIntLE=function(P,D,W,Y){P=+P,D>>>=0,W>>>=0,Y||S(this,P,D,W,Math.pow(2,8*W)-1,0);var ee=1,Q=0;for(this[D]=255&P;++Q<W&&(ee*=256);)this[D+Q]=P/ee&255;return D+W},l.prototype.writeUIntBE=function(P,D,W,Y){P=+P,D>>>=0,W>>>=0,Y||S(this,P,D,W,Math.pow(2,8*W)-1,0);var ee=W-1,Q=1;for(this[D+ee]=255&P;--ee>=0&&(Q*=256);)this[D+ee]=P/Q&255;return D+W},l.prototype.writeUInt8=function(P,D,W){return P=+P,D>>>=0,W||S(this,P,D,1,255,0),this[D]=255&P,D+1},l.prototype.writeUInt16LE=function(P,D,W){return P=+P,D>>>=0,W||S(this,P,D,2,65535,0),this[D]=255&P,this[D+1]=P>>>8,D+2},l.prototype.writeUInt16BE=function(P,D,W){return P=+P,D>>>=0,W||S(this,P,D,2,65535,0),this[D]=P>>>8,this[D+1]=255&P,D+2},l.prototype.writeUInt32LE=function(P,D,W){return P=+P,D>>>=0,W||S(this,P,D,4,4294967295,0),this[D+3]=P>>>24,this[D+2]=P>>>16,this[D+1]=P>>>8,this[D]=255&P,D+4},l.prototype.writeUInt32BE=function(P,D,W){return P=+P,D>>>=0,W||S(this,P,D,4,4294967295,0),this[D]=P>>>24,this[D+1]=P>>>16,this[D+2]=P>>>8,this[D+3]=255&P,D+4},l.prototype.writeIntLE=function(P,D,W,Y){if(P=+P,D>>>=0,!Y){var ee=Math.pow(2,8*W-1);S(this,P,D,W,ee-1,-ee)}var Q=0,J=1,ne=0;for(this[D]=255&P;++Q<W&&(J*=256);)P<0&&ne===0&&this[D+Q-1]!==0&&(ne=1),this[D+Q]=(P/J>>0)-ne&255;return D+W},l.prototype.writeIntBE=function(P,D,W,Y){if(P=+P,D>>>=0,!Y){var ee=Math.pow(2,8*W-1);S(this,P,D,W,ee-1,-ee)}var Q=W-1,J=1,ne=0;for(this[D+Q]=255&P;--Q>=0&&(J*=256);)P<0&&ne===0&&this[D+Q+1]!==0&&(ne=1),this[D+Q]=(P/J>>0)-ne&255;return D+W},l.prototype.writeInt8=function(P,D,W){return P=+P,D>>>=0,W||S(this,P,D,1,127,-128),P<0&&(P=255+P+1),this[D]=255&P,D+1},l.prototype.writeInt16LE=function(P,D,W){return P=+P,D>>>=0,W||S(this,P,D,2,32767,-32768),this[D]=255&P,this[D+1]=P>>>8,D+2},l.prototype.writeInt16BE=function(P,D,W){return P=+P,D>>>=0,W||S(this,P,D,2,32767,-32768),this[D]=P>>>8,this[D+1]=255&P,D+2},l.prototype.writeInt32LE=function(P,D,W){return P=+P,D>>>=0,W||S(this,P,D,4,2147483647,-2147483648),this[D]=255&P,this[D+1]=P>>>8,this[D+2]=P>>>16,this[D+3]=P>>>24,D+4},l.prototype.writeInt32BE=function(P,D,W){return P=+P,D>>>=0,W||S(this,P,D,4,2147483647,-2147483648),P<0&&(P=4294967295+P+1),this[D]=P>>>24,this[D+1]=P>>>16,this[D+2]=P>>>8,this[D+3]=255&P,D+4},l.prototype.writeFloatLE=function(P,D,W){return E(this,P,D,!0,W)},l.prototype.writeFloatBE=function(P,D,W){return E(this,P,D,!1,W)},l.prototype.writeDoubleLE=function(P,D,W){return R(this,P,D,!0,W)},l.prototype.writeDoubleBE=function(P,D,W){return R(this,P,D,!1,W)},l.prototype.copy=function(P,D,W,Y){if(!l.isBuffer(P))throw new TypeError("argument should be a Buffer");if(W||(W=0),Y||Y===0||(Y=this.length),D>=P.length&&(D=P.length),D||(D=0),Y>0&&Y<W&&(Y=W),Y===W||P.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("sourceEnd out of bounds");Y>this.length&&(Y=this.length),P.length-D<Y-W&&(Y=P.length-D+W);var ee=Y-W;if(this===P&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(D,W,Y);else if(this===P&&W<D&&D<Y)for(var Q=ee-1;Q>=0;--Q)P[Q+D]=this[Q+W];else Uint8Array.prototype.set.call(P,this.subarray(W,Y),D);return ee},l.prototype.fill=function(P,D,W,Y){if(typeof P=="string"){if(typeof D=="string"?(Y=D,D=0,W=this.length):typeof W=="string"&&(Y=W,W=this.length),Y!==void 0&&typeof Y!="string")throw new TypeError("encoding must be a string");if(typeof Y=="string"&&!l.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);if(P.length===1){var ee=P.charCodeAt(0);(Y==="utf8"&&ee<128||Y==="latin1")&&(P=ee)}}else typeof P=="number"&&(P&=255);if(D<0||this.length<D||this.length<W)throw new RangeError("Out of range index");if(W<=D)return this;var Q;if(D>>>=0,W=W===void 0?this.length:W>>>0,P||(P=0),typeof P=="number")for(Q=D;Q<W;++Q)this[Q]=P;else{var J=l.isBuffer(P)?P:l.from(P,Y),ne=J.length;if(ne===0)throw new TypeError('The value "'+P+'" is invalid for argument "value"');for(Q=0;Q<W-D;++Q)this[Q+D]=J[Q%ne]}return this};var I=/[^+/0-9A-Za-z-_]/g;function k(P){return P<16?"0"+P.toString(16):P.toString(16)}function U(P,D){var W;D=D||1/0;for(var Y=P.length,ee=null,Q=[],J=0;J<Y;++J){if((W=P.charCodeAt(J))>55295&&W<57344){if(!ee){if(W>56319){(D-=3)>-1&&Q.push(239,191,189);continue}if(J+1===Y){(D-=3)>-1&&Q.push(239,191,189);continue}ee=W;continue}if(W<56320){(D-=3)>-1&&Q.push(239,191,189),ee=W;continue}W=65536+(ee-55296<<10|W-56320)}else ee&&(D-=3)>-1&&Q.push(239,191,189);if(ee=null,W<128){if((D-=1)<0)break;Q.push(W)}else if(W<2048){if((D-=2)<0)break;Q.push(W>>6|192,63&W|128)}else if(W<65536){if((D-=3)<0)break;Q.push(W>>12|224,W>>6&63|128,63&W|128)}else{if(!(W<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;Q.push(W>>18|240,W>>12&63|128,W>>6&63|128,63&W|128)}}return Q}function j(P){return o.toByteArray(function(D){if((D=(D=D.split("=")[0]).trim().replace(I,"")).length<2)return"";for(;D.length%4!=0;)D+="=";return D}(P))}function X(P,D,W,Y){for(var ee=0;ee<Y&&!(ee+W>=D.length||ee>=P.length);++ee)D[ee+W]=P[ee];return ee}function N(P,D){return P instanceof D||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===D.name}function K(P){return P!=P}}).call(this)}).call(this,r("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(r,i,s){var n=r("safe-buffer").Buffer,o=r("stream").Transform,a=r("string_decoder").StringDecoder;function u(l){o.call(this),this.hashMode=typeof l=="string",this.hashMode?this[l]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r("inherits")(u,o),u.prototype.update=function(l,c,h){typeof l=="string"&&(l=n.from(l,c));var d=this._update(l);return this.hashMode?this:(h&&(d=this._toString(d,h)),d)},u.prototype.setAutoPadding=function(){},u.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},u.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},u.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},u.prototype._transform=function(l,c,h){var d;try{this.hashMode?this._update(l):this.push(this._update(l))}catch(p){d=p}finally{h(d)}},u.prototype._flush=function(l){var c;try{this.push(this.__final())}catch(h){c=h}l(c)},u.prototype._finalOrDigest=function(l){var c=this.__final()||n.alloc(0);return l&&(c=this._toString(c,l,!0)),c},u.prototype._toString=function(l,c,h){if(this._decoder||(this._decoder=new a(c),this._encoding=c),this._encoding!==c)throw new Error("can't switch encodings");var d=this._decoder.write(l);return h&&(d+=this._decoder.end()),d},i.exports=u},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(r,i,s){var n=r("../internals/is-callable"),o=r("../internals/try-to-string"),a=TypeError;i.exports=function(u){if(n(u))return u;throw new a(o(u)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(r,i,s){var n=r("../internals/is-constructor"),o=r("../internals/try-to-string"),a=TypeError;i.exports=function(u){if(n(u))return u;throw new a(o(u)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(r,i,s){var n=r("../internals/is-callable"),o=String,a=TypeError;i.exports=function(u){if(typeof u=="object"||n(u))return u;throw new a("Can't set "+o(u)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(r,i,s){var n=r("../internals/well-known-symbol"),o=r("../internals/object-create"),a=r("../internals/object-define-property").f,u=n("unscopables"),l=Array.prototype;l[u]===void 0&&a(l,u,{configurable:!0,value:o(null)}),i.exports=function(c){l[u][c]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(r,i,s){var n=r("../internals/object-is-prototype-of"),o=TypeError;i.exports=function(a,u){if(n(u,a))return a;throw new o("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(r,i,s){var n=r("../internals/is-object"),o=String,a=TypeError;i.exports=function(u){if(n(u))return u;throw new a(o(u)+" is not an object")}},{"../internals/is-object":289}],228:[function(r,i,s){var n=r("../internals/to-indexed-object"),o=r("../internals/to-absolute-index"),a=r("../internals/length-of-array-like"),u=function(l){return function(c,h,d){var p,g=n(c),v=a(g),f=o(d,v);if(l&&h!=h){for(;v>f;)if((p=g[f++])!=p)return!0}else for(;v>f;f++)if((l||f in g)&&g[f]===h)return l||f||0;return!l&&-1}};i.exports={includes:u(!0),indexOf:u(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(r,i,s){var n=r("../internals/function-bind-context"),o=r("../internals/function-uncurry-this"),a=r("../internals/indexed-object"),u=r("../internals/to-object"),l=r("../internals/length-of-array-like"),c=r("../internals/array-species-create"),h=o([].push),d=function(p){var g=p===1,v=p===2,f=p===3,y=p===4,m=p===6,w=p===7,_=p===5||m;return function(A,F,G,L){for(var O,V,z=u(A),H=a(z),T=n(F,G),M=l(H),x=0,C=L||c,S=g?C(A,M):v||w?C(A,0):void 0;M>x;x++)if((_||x in H)&&(V=T(O=H[x],x,z),p))if(g)S[x]=V;else if(V)switch(p){case 3:return!0;case 5:return O;case 6:return x;case 2:h(S,O)}else switch(p){case 4:return!1;case 7:h(S,O)}return m?-1:f||y?y:S}};i.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(r,i,s){var n=r("../internals/to-absolute-index"),o=r("../internals/length-of-array-like"),a=r("../internals/create-property"),u=Array,l=Math.max;i.exports=function(c,h,d){for(var p=o(c),g=n(h,p),v=n(d===void 0?p:d,p),f=u(l(v-g,0)),y=0;g<v;g++,y++)a(f,y,c[g]);return f.length=y,f}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(r,i,s){var n=r("../internals/function-uncurry-this");i.exports=n([].slice)},{"../internals/function-uncurry-this":268}],232:[function(r,i,s){var n=r("../internals/is-array"),o=r("../internals/is-constructor"),a=r("../internals/is-object"),u=r("../internals/well-known-symbol")("species"),l=Array;i.exports=function(c){var h;return n(c)&&(h=c.constructor,(o(h)&&(h===l||n(h.prototype))||a(h)&&(h=h[u])===null)&&(h=void 0)),h===void 0?l:h}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(r,i,s){var n=r("../internals/array-species-constructor");i.exports=function(o,a){return new(n(o))(a===0?0:a)}},{"../internals/array-species-constructor":232}],234:[function(r,i,s){var n=r("../internals/well-known-symbol")("iterator"),o=!1;try{var a=0,u={next:function(){return{done:!!a++}},return:function(){o=!0}};u[n]=function(){return this},Array.from(u,function(){throw 2})}catch{}i.exports=function(l,c){try{if(!c&&!o)return!1}catch{return!1}var h=!1;try{var d={};d[n]=function(){return{next:function(){return{done:h=!0}}}},l(d)}catch{}return h}},{"../internals/well-known-symbol":357}],235:[function(r,i,s){var n=r("../internals/function-uncurry-this"),o=n({}.toString),a=n("".slice);i.exports=function(u){return a(o(u),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(r,i,s){var n=r("../internals/to-string-tag-support"),o=r("../internals/is-callable"),a=r("../internals/classof-raw"),u=r("../internals/well-known-symbol")("toStringTag"),l=Object,c=a(function(){return arguments}())==="Arguments";i.exports=n?a:function(h){var d,p,g;return h===void 0?"Undefined":h===null?"Null":typeof(p=function(v,f){try{return v[f]}catch{}}(d=l(h),u))=="string"?p:c?a(d):(g=a(d))==="Object"&&o(d.callee)?"Arguments":g}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(r,i,s){var n=r("../internals/has-own-property"),o=r("../internals/own-keys"),a=r("../internals/object-get-own-property-descriptor"),u=r("../internals/object-define-property");i.exports=function(l,c,h){for(var d=o(c),p=u.f,g=a.f,v=0;v<d.length;v++){var f=d[v];n(l,f)||h&&n(h,f)||p(l,f,g(c,f))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(r,i,s){var n=r("../internals/well-known-symbol")("match");i.exports=function(o){var a=/./;try{"/./"[o](a)}catch{try{return a[n]=!1,"/./"[o](a)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(r,i,s){var n=r("../internals/fails");i.exports=!n(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},{"../internals/fails":260}],240:[function(r,i,s){i.exports=function(n,o){return{value:n,done:o}}},{}],241:[function(r,i,s){var n=r("../internals/descriptors"),o=r("../internals/object-define-property"),a=r("../internals/create-property-descriptor");i.exports=n?function(u,l,c){return o.f(u,l,a(1,c))}:function(u,l,c){return u[l]=c,u}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(r,i,s){i.exports=function(n,o){return{enumerable:!(1&n),configurable:!(2&n),writable:!(4&n),value:o}}},{}],243:[function(r,i,s){var n=r("../internals/to-property-key"),o=r("../internals/object-define-property"),a=r("../internals/create-property-descriptor");i.exports=function(u,l,c){var h=n(l);h in u?o.f(u,h,a(0,c)):u[h]=c}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(r,i,s){var n=r("../internals/make-built-in"),o=r("../internals/object-define-property");i.exports=function(a,u,l){return l.get&&n(l.get,u,{getter:!0}),l.set&&n(l.set,u,{setter:!0}),o.f(a,u,l)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(r,i,s){var n=r("../internals/is-callable"),o=r("../internals/object-define-property"),a=r("../internals/make-built-in"),u=r("../internals/define-global-property");i.exports=function(l,c,h,d){d||(d={});var p=d.enumerable,g=d.name!==void 0?d.name:c;if(n(h)&&a(h,g,d),d.global)p?l[c]=h:u(c,h);else{try{d.unsafe?l[c]&&(p=!0):delete l[c]}catch{}p?l[c]=h:o.f(l,c,{value:h,enumerable:!1,configurable:!d.nonConfigurable,writable:!d.nonWritable})}return l}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(r,i,s){var n=r("../internals/global"),o=Object.defineProperty;i.exports=function(a,u){try{o(n,a,{value:u,configurable:!0,writable:!0})}catch{n[a]=u}return u}},{"../internals/global":274}],247:[function(r,i,s){var n=r("../internals/fails");i.exports=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(r,i,s){var n=typeof document=="object"&&document.all,o=n===void 0&&n!==void 0;i.exports={all:n,IS_HTMLDDA:o}},{}],249:[function(r,i,s){var n=r("../internals/global"),o=r("../internals/is-object"),a=n.document,u=o(a)&&o(a.createElement);i.exports=function(l){return u?a.createElement(l):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(r,i,s){var n=r("../internals/engine-is-deno"),o=r("../internals/engine-is-node");i.exports=!n&&!o&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(r,i,s){i.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(r,i,s){var n=r("../internals/engine-user-agent");i.exports=/ipad|iphone|ipod/i.test(n)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(r,i,s){var n=r("../internals/engine-user-agent");i.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},{"../internals/engine-user-agent":256}],254:[function(r,i,s){var n=r("../internals/global"),o=r("../internals/classof-raw");i.exports=o(n.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(r,i,s){var n=r("../internals/engine-user-agent");i.exports=/web0s(?!.*chrome)/i.test(n)},{"../internals/engine-user-agent":256}],256:[function(r,i,s){i.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(r,i,s){var n,o,a=r("../internals/global"),u=r("../internals/engine-user-agent"),l=a.process,c=a.Deno,h=l&&l.versions||c&&c.version,d=h&&h.v8;d&&(o=(n=d.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&u&&(!(n=u.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=u.match(/Chrome\/(\d+)/))&&(o=+n[1]),i.exports=o},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(r,i,s){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(r,i,s){var n=r("../internals/global"),o=r("../internals/object-get-own-property-descriptor").f,a=r("../internals/create-non-enumerable-property"),u=r("../internals/define-built-in"),l=r("../internals/define-global-property"),c=r("../internals/copy-constructor-properties"),h=r("../internals/is-forced");i.exports=function(d,p){var g,v,f,y,m,w=d.target,_=d.global,A=d.stat;if(g=_?n:A?n[w]||l(w,{}):(n[w]||{}).prototype)for(v in p){if(y=p[v],f=d.dontCallGetSet?(m=o(g,v))&&m.value:g[v],!h(_?v:w+(A?".":"#")+v,d.forced)&&f!==void 0){if(typeof y==typeof f)continue;c(y,f)}(d.sham||f&&f.sham)&&a(y,"sham",!0),u(g,v,y,d)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(r,i,s){i.exports=function(n){try{return!!n()}catch{return!0}}},{}],261:[function(r,i,s){var n=r("../internals/function-bind-native"),o=Function.prototype,a=o.apply,u=o.call;i.exports=typeof Reflect=="object"&&Reflect.apply||(n?u.bind(a):function(){return u.apply(a,arguments)})},{"../internals/function-bind-native":263}],262:[function(r,i,s){var n=r("../internals/function-uncurry-this-clause"),o=r("../internals/a-callable"),a=r("../internals/function-bind-native"),u=n(n.bind);i.exports=function(l,c){return o(l),c===void 0?l:a?u(l,c):function(){return l.apply(c,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(r,i,s){var n=r("../internals/fails");i.exports=!n(function(){var o=(function(){}).bind();return typeof o!="function"||o.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(r,i,s){var n=r("../internals/function-bind-native"),o=Function.prototype.call;i.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},{"../internals/function-bind-native":263}],265:[function(r,i,s){var n=r("../internals/descriptors"),o=r("../internals/has-own-property"),a=Function.prototype,u=n&&Object.getOwnPropertyDescriptor,l=o(a,"name"),c=l&&(function(){}).name==="something",h=l&&(!n||n&&u(a,"name").configurable);i.exports={EXISTS:l,PROPER:c,CONFIGURABLE:h}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(r,i,s){var n=r("../internals/function-uncurry-this"),o=r("../internals/a-callable");i.exports=function(a,u,l){try{return n(o(Object.getOwnPropertyDescriptor(a,u)[l]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(r,i,s){var n=r("../internals/classof-raw"),o=r("../internals/function-uncurry-this");i.exports=function(a){if(n(a)==="Function")return o(a)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(r,i,s){var n=r("../internals/function-bind-native"),o=Function.prototype,a=o.call,u=n&&o.bind.bind(a,a);i.exports=n?u:function(l){return function(){return a.apply(l,arguments)}}},{"../internals/function-bind-native":263}],269:[function(r,i,s){var n=r("../internals/global"),o=r("../internals/is-callable"),a=function(u){return o(u)?u:void 0};i.exports=function(u,l){return arguments.length<2?a(n[u]):n[u]&&n[u][l]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(r,i,s){var n=r("../internals/classof"),o=r("../internals/get-method"),a=r("../internals/is-null-or-undefined"),u=r("../internals/iterators"),l=r("../internals/well-known-symbol")("iterator");i.exports=function(c){if(!a(c))return o(c,l)||o(c,"@@iterator")||u[n(c)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(r,i,s){var n=r("../internals/function-call"),o=r("../internals/a-callable"),a=r("../internals/an-object"),u=r("../internals/try-to-string"),l=r("../internals/get-iterator-method"),c=TypeError;i.exports=function(h,d){var p=arguments.length<2?l(h):d;if(o(p))return a(n(p,h));throw new c(u(h)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(r,i,s){var n=r("../internals/function-uncurry-this"),o=r("../internals/is-array"),a=r("../internals/is-callable"),u=r("../internals/classof-raw"),l=r("../internals/to-string"),c=n([].push);i.exports=function(h){if(a(h))return h;if(o(h)){for(var d=h.length,p=[],g=0;g<d;g++){var v=h[g];typeof v=="string"?c(p,v):typeof v!="number"&&u(v)!=="Number"&&u(v)!=="String"||c(p,l(v))}var f=p.length,y=!0;return function(m,w){if(y)return y=!1,w;if(o(this))return w;for(var _=0;_<f;_++)if(p[_]===m)return w}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(r,i,s){var n=r("../internals/a-callable"),o=r("../internals/is-null-or-undefined");i.exports=function(a,u){var l=a[u];return o(l)?void 0:n(l)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(r,i,s){(function(n){(function(){var o=function(a){return a&&a.Math===Math&&a};i.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof n=="object"&&n)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof _t<"u"?_t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(r,i,s){var n=r("../internals/function-uncurry-this"),o=r("../internals/to-object"),a=n({}.hasOwnProperty);i.exports=Object.hasOwn||function(u,l){return a(o(u),l)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(r,i,s){i.exports={}},{}],277:[function(r,i,s){i.exports=function(n,o){try{arguments.length===1?console.error(n):console.error(n,o)}catch{}}},{}],278:[function(r,i,s){var n=r("../internals/get-built-in");i.exports=n("document","documentElement")},{"../internals/get-built-in":269}],279:[function(r,i,s){var n=r("../internals/descriptors"),o=r("../internals/fails"),a=r("../internals/document-create-element");i.exports=!n&&!o(function(){return Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(r,i,s){var n=r("../internals/function-uncurry-this"),o=r("../internals/fails"),a=r("../internals/classof-raw"),u=Object,l=n("".split);i.exports=o(function(){return!u("z").propertyIsEnumerable(0)})?function(c){return a(c)==="String"?l(c,""):u(c)}:u},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(r,i,s){var n=r("../internals/function-uncurry-this"),o=r("../internals/is-callable"),a=r("../internals/shared-store"),u=n(Function.toString);o(a.inspectSource)||(a.inspectSource=function(l){return u(l)}),i.exports=a.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(r,i,s){var n,o,a,u=r("../internals/weak-map-basic-detection"),l=r("../internals/global"),c=r("../internals/is-object"),h=r("../internals/create-non-enumerable-property"),d=r("../internals/has-own-property"),p=r("../internals/shared-store"),g=r("../internals/shared-key"),v=r("../internals/hidden-keys"),f=l.TypeError,y=l.WeakMap;if(u||p.state){var m=p.state||(p.state=new y);m.get=m.get,m.has=m.has,m.set=m.set,n=function(_,A){if(m.has(_))throw new f("Object already initialized");return A.facade=_,m.set(_,A),A},o=function(_){return m.get(_)||{}},a=function(_){return m.has(_)}}else{var w=g("state");v[w]=!0,n=function(_,A){if(d(_,w))throw new f("Object already initialized");return A.facade=_,h(_,w,A),A},o=function(_){return d(_,w)?_[w]:{}},a=function(_){return d(_,w)}}i.exports={set:n,get:o,has:a,enforce:function(_){return a(_)?o(_):n(_,{})},getterFor:function(_){return function(A){var F;if(!c(A)||(F=o(A)).type!==_)throw new f("Incompatible receiver, "+_+" required");return F}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(r,i,s){var n=r("../internals/well-known-symbol"),o=r("../internals/iterators"),a=n("iterator"),u=Array.prototype;i.exports=function(l){return l!==void 0&&(o.Array===l||u[a]===l)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(r,i,s){var n=r("../internals/classof-raw");i.exports=Array.isArray||function(o){return n(o)==="Array"}},{"../internals/classof-raw":235}],285:[function(r,i,s){var n=r("../internals/document-all"),o=n.all;i.exports=n.IS_HTMLDDA?function(a){return typeof a=="function"||a===o}:function(a){return typeof a=="function"}},{"../internals/document-all":248}],286:[function(r,i,s){var n=r("../internals/function-uncurry-this"),o=r("../internals/fails"),a=r("../internals/is-callable"),u=r("../internals/classof"),l=r("../internals/get-built-in"),c=r("../internals/inspect-source"),h=function(){},d=[],p=l("Reflect","construct"),g=/^\s*(?:class|function)\b/,v=n(g.exec),f=!g.test(h),y=function(w){if(!a(w))return!1;try{return p(h,d,w),!0}catch{return!1}},m=function(w){if(!a(w))return!1;switch(u(w)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!v(g,c(w))}catch{return!0}};m.sham=!0,i.exports=!p||o(function(){var w;return y(y.call)||!y(Object)||!y(function(){w=!0})||w})?m:y},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(r,i,s){var n=r("../internals/fails"),o=r("../internals/is-callable"),a=/#|\.prototype\./,u=function(p,g){var v=c[l(p)];return v===d||v!==h&&(o(g)?n(g):!!g)},l=u.normalize=function(p){return String(p).replace(a,".").toLowerCase()},c=u.data={},h=u.NATIVE="N",d=u.POLYFILL="P";i.exports=u},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(r,i,s){i.exports=function(n){return n==null}},{}],289:[function(r,i,s){var n=r("../internals/is-callable"),o=r("../internals/document-all"),a=o.all;i.exports=o.IS_HTMLDDA?function(u){return typeof u=="object"?u!==null:n(u)||u===a}:function(u){return typeof u=="object"?u!==null:n(u)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(r,i,s){i.exports=!1},{}],291:[function(r,i,s){var n=r("../internals/is-object"),o=r("../internals/classof-raw"),a=r("../internals/well-known-symbol")("match");i.exports=function(u){var l;return n(u)&&((l=u[a])!==void 0?!!l:o(u)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(r,i,s){var n=r("../internals/get-built-in"),o=r("../internals/is-callable"),a=r("../internals/object-is-prototype-of"),u=r("../internals/use-symbol-as-uid"),l=Object;i.exports=u?function(c){return typeof c=="symbol"}:function(c){var h=n("Symbol");return o(h)&&a(h.prototype,l(c))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(r,i,s){var n=r("../internals/function-bind-context"),o=r("../internals/function-call"),a=r("../internals/an-object"),u=r("../internals/try-to-string"),l=r("../internals/is-array-iterator-method"),c=r("../internals/length-of-array-like"),h=r("../internals/object-is-prototype-of"),d=r("../internals/get-iterator"),p=r("../internals/get-iterator-method"),g=r("../internals/iterator-close"),v=TypeError,f=function(m,w){this.stopped=m,this.result=w},y=f.prototype;i.exports=function(m,w,_){var A,F,G,L,O,V,z,H=_&&_.that,T=!(!_||!_.AS_ENTRIES),M=!(!_||!_.IS_RECORD),x=!(!_||!_.IS_ITERATOR),C=!(!_||!_.INTERRUPTED),S=n(w,H),b=function(R){return A&&g(A,"normal",R),new f(!0,R)},E=function(R){return T?(a(R),C?S(R[0],R[1],b):S(R[0],R[1])):C?S(R,b):S(R)};if(M)A=m.iterator;else if(x)A=m;else{if(!(F=p(m)))throw new v(u(m)+" is not iterable");if(l(F)){for(G=0,L=c(m);L>G;G++)if((O=E(m[G]))&&h(y,O))return O;return new f(!1)}A=d(m,F)}for(V=M?m.next:A.next;!(z=o(V,A)).done;){try{O=E(z.value)}catch(R){g(A,"throw",R)}if(typeof O=="object"&&O&&h(y,O))return O}return new f(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(r,i,s){var n=r("../internals/function-call"),o=r("../internals/an-object"),a=r("../internals/get-method");i.exports=function(u,l,c){var h,d;o(u);try{if(!(h=a(u,"return"))){if(l==="throw")throw c;return c}h=n(h,u)}catch(p){d=!0,h=p}if(l==="throw")throw c;if(d)throw h;return o(h),c}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(r,i,s){var n=r("../internals/iterators-core").IteratorPrototype,o=r("../internals/object-create"),a=r("../internals/create-property-descriptor"),u=r("../internals/set-to-string-tag"),l=r("../internals/iterators"),c=function(){return this};i.exports=function(h,d,p,g){var v=d+" Iterator";return h.prototype=o(n,{next:a(+!g,p)}),u(h,v,!1,!0),l[v]=c,h}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(r,i,s){var n=r("../internals/export"),o=r("../internals/function-call"),a=r("../internals/is-pure"),u=r("../internals/function-name"),l=r("../internals/is-callable"),c=r("../internals/iterator-create-constructor"),h=r("../internals/object-get-prototype-of"),d=r("../internals/object-set-prototype-of"),p=r("../internals/set-to-string-tag"),g=r("../internals/create-non-enumerable-property"),v=r("../internals/define-built-in"),f=r("../internals/well-known-symbol"),y=r("../internals/iterators"),m=r("../internals/iterators-core"),w=u.PROPER,_=u.CONFIGURABLE,A=m.IteratorPrototype,F=m.BUGGY_SAFARI_ITERATORS,G=f("iterator"),L=function(){return this};i.exports=function(O,V,z,H,T,M,x){c(z,V,H);var C,S,b,E=function(N){if(N===T&&j)return j;if(!F&&N&&N in k)return k[N];switch(N){case"keys":case"values":case"entries":return function(){return new z(this,N)}}return function(){return new z(this)}},R=V+" Iterator",I=!1,k=O.prototype,U=k[G]||k["@@iterator"]||T&&k[T],j=!F&&U||E(T),X=V==="Array"&&k.entries||U;if(X&&(C=h(X.call(new O)))!==Object.prototype&&C.next&&(a||h(C)===A||(d?d(C,A):l(C[G])||v(C,G,L)),p(C,R,!0,!0),a&&(y[R]=L)),w&&T==="values"&&U&&U.name!=="values"&&(!a&&_?g(k,"name","values"):(I=!0,j=function(){return o(U,this)})),T)if(S={values:E("values"),keys:M?j:E("keys"),entries:E("entries")},x)for(b in S)(F||I||!(b in k))&&v(k,b,S[b]);else n({target:V,proto:!0,forced:F||I},S);return a&&!x||k[G]===j||v(k,G,j,{name:T}),y[V]=j,S}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(r,i,s){var n,o,a,u=r("../internals/fails"),l=r("../internals/is-callable"),c=r("../internals/is-object"),h=r("../internals/object-create"),d=r("../internals/object-get-prototype-of"),p=r("../internals/define-built-in"),g=r("../internals/well-known-symbol"),v=r("../internals/is-pure"),f=g("iterator"),y=!1;[].keys&&("next"in(a=[].keys())?(o=d(d(a)))!==Object.prototype&&(n=o):y=!0),!c(n)||u(function(){var m={};return n[f].call(m)!==m})?n={}:v&&(n=h(n)),l(n[f])||p(n,f,function(){return this}),i.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:y}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(r,i,s){arguments[4][276][0].apply(s,arguments)},{dup:276}],299:[function(r,i,s){var n=r("../internals/to-length");i.exports=function(o){return n(o.length)}},{"../internals/to-length":343}],300:[function(r,i,s){var n=r("../internals/function-uncurry-this"),o=r("../internals/fails"),a=r("../internals/is-callable"),u=r("../internals/has-own-property"),l=r("../internals/descriptors"),c=r("../internals/function-name").CONFIGURABLE,h=r("../internals/inspect-source"),d=r("../internals/internal-state"),p=d.enforce,g=d.get,v=String,f=Object.defineProperty,y=n("".slice),m=n("".replace),w=n([].join),_=l&&!o(function(){return f(function(){},"length",{value:8}).length!==8}),A=String(String).split("String"),F=i.exports=function(G,L,O){y(v(L),0,7)==="Symbol("&&(L="["+m(v(L),/^Symbol\(([^)]*)\)/,"$1")+"]"),O&&O.getter&&(L="get "+L),O&&O.setter&&(L="set "+L),(!u(G,"name")||c&&G.name!==L)&&(l?f(G,"name",{value:L,configurable:!0}):G.name=L),_&&O&&u(O,"arity")&&G.length!==O.arity&&f(G,"length",{value:O.arity});try{O&&u(O,"constructor")&&O.constructor?l&&f(G,"prototype",{writable:!1}):G.prototype&&(G.prototype=void 0)}catch{}var V=p(G);return u(V,"source")||(V.source=w(A,typeof L=="string"?L:"")),G};Function.prototype.toString=F(function(){return a(this)&&g(this).source||h(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(r,i,s){var n=Math.ceil,o=Math.floor;i.exports=Math.trunc||function(a){var u=+a;return(u>0?o:n)(u)}},{}],302:[function(r,i,s){var n,o,a,u,l,c=r("../internals/global"),h=r("../internals/function-bind-context"),d=r("../internals/object-get-own-property-descriptor").f,p=r("../internals/task").set,g=r("../internals/queue"),v=r("../internals/engine-is-ios"),f=r("../internals/engine-is-ios-pebble"),y=r("../internals/engine-is-webos-webkit"),m=r("../internals/engine-is-node"),w=c.MutationObserver||c.WebKitMutationObserver,_=c.document,A=c.process,F=c.Promise,G=d(c,"queueMicrotask"),L=G&&G.value;if(!L){var O=new g,V=function(){var z,H;for(m&&(z=A.domain)&&z.exit();H=O.get();)try{H()}catch(T){throw O.head&&n(),T}z&&z.enter()};v||m||y||!w||!_?!f&&F&&F.resolve?((u=F.resolve(void 0)).constructor=F,l=h(u.then,u),n=function(){l(V)}):m?n=function(){A.nextTick(V)}:(p=h(p,c),n=function(){p(V)}):(o=!0,a=_.createTextNode(""),new w(V).observe(a,{characterData:!0}),n=function(){a.data=o=!o}),L=function(z){O.head||n(),O.add(z)}}i.exports=L},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(r,i,s){var n=r("../internals/a-callable"),o=TypeError,a=function(u){var l,c;this.promise=new u(function(h,d){if(l!==void 0||c!==void 0)throw new o("Bad Promise constructor");l=h,c=d}),this.resolve=n(l),this.reject=n(c)};i.exports.f=function(u){return new a(u)}},{"../internals/a-callable":222}],304:[function(r,i,s){var n=r("../internals/is-regexp"),o=TypeError;i.exports=function(a){if(n(a))throw new o("The method doesn't accept regular expressions");return a}},{"../internals/is-regexp":291}],305:[function(r,i,s){var n=r("../internals/descriptors"),o=r("../internals/function-uncurry-this"),a=r("../internals/function-call"),u=r("../internals/fails"),l=r("../internals/object-keys"),c=r("../internals/object-get-own-property-symbols"),h=r("../internals/object-property-is-enumerable"),d=r("../internals/to-object"),p=r("../internals/indexed-object"),g=Object.assign,v=Object.defineProperty,f=o([].concat);i.exports=!g||u(function(){if(n&&g({b:1},g(v({},"a",{enumerable:!0,get:function(){v(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var y={},m={},w=Symbol("assign detection");return y[w]=7,"abcdefghijklmnopqrst".split("").forEach(function(_){m[_]=_}),g({},y)[w]!==7||l(g({},m)).join("")!=="abcdefghijklmnopqrst"})?function(y,m){for(var w=d(y),_=arguments.length,A=1,F=c.f,G=h.f;_>A;)for(var L,O=p(arguments[A++]),V=F?f(l(O),F(O)):l(O),z=V.length,H=0;z>H;)L=V[H++],n&&!a(G,O,L)||(w[L]=O[L]);return w}:g},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(r,i,s){var n,o=r("../internals/an-object"),a=r("../internals/object-define-properties"),u=r("../internals/enum-bug-keys"),l=r("../internals/hidden-keys"),c=r("../internals/html"),h=r("../internals/document-create-element"),d=r("../internals/shared-key"),p=d("IE_PROTO"),g=function(){},v=function(m){return"<script>"+m+"<\/script>"},f=function(m){m.write(v("")),m.close();var w=m.parentWindow.Object;return m=null,w},y=function(){try{n=new ActiveXObject("htmlfile")}catch{}var m,w;y=typeof document<"u"?document.domain&&n?f(n):((w=h("iframe")).style.display="none",c.appendChild(w),w.src="javascript:",(m=w.contentWindow.document).open(),m.write(v("document.F=Object")),m.close(),m.F):f(n);for(var _=u.length;_--;)delete y.prototype[u[_]];return y()};l[p]=!0,i.exports=Object.create||function(m,w){var _;return m!==null?(g.prototype=o(m),_=new g,g.prototype=null,_[p]=m):_=y(),w===void 0?_:a.f(_,w)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(r,i,s){var n=r("../internals/descriptors"),o=r("../internals/v8-prototype-define-bug"),a=r("../internals/object-define-property"),u=r("../internals/an-object"),l=r("../internals/to-indexed-object"),c=r("../internals/object-keys");s.f=n&&!o?Object.defineProperties:function(h,d){u(h);for(var p,g=l(d),v=c(d),f=v.length,y=0;f>y;)a.f(h,p=v[y++],g[p]);return h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(r,i,s){var n=r("../internals/descriptors"),o=r("../internals/ie8-dom-define"),a=r("../internals/v8-prototype-define-bug"),u=r("../internals/an-object"),l=r("../internals/to-property-key"),c=TypeError,h=Object.defineProperty,d=Object.getOwnPropertyDescriptor;s.f=n?a?function(p,g,v){if(u(p),g=l(g),u(v),typeof p=="function"&&g==="prototype"&&"value"in v&&"writable"in v&&!v.writable){var f=d(p,g);f&&f.writable&&(p[g]=v.value,v={configurable:"configurable"in v?v.configurable:f.configurable,enumerable:"enumerable"in v?v.enumerable:f.enumerable,writable:!1})}return h(p,g,v)}:h:function(p,g,v){if(u(p),g=l(g),u(v),o)try{return h(p,g,v)}catch{}if("get"in v||"set"in v)throw new c("Accessors not supported");return"value"in v&&(p[g]=v.value),p}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(r,i,s){var n=r("../internals/descriptors"),o=r("../internals/function-call"),a=r("../internals/object-property-is-enumerable"),u=r("../internals/create-property-descriptor"),l=r("../internals/to-indexed-object"),c=r("../internals/to-property-key"),h=r("../internals/has-own-property"),d=r("../internals/ie8-dom-define"),p=Object.getOwnPropertyDescriptor;s.f=n?p:function(g,v){if(g=l(g),v=c(v),d)try{return p(g,v)}catch{}if(h(g,v))return u(!o(a.f,g,v),g[v])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(r,i,s){var n=r("../internals/classof-raw"),o=r("../internals/to-indexed-object"),a=r("../internals/object-get-own-property-names").f,u=r("../internals/array-slice-simple"),l=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];i.exports.f=function(c){return l&&n(c)==="Window"?function(h){try{return a(h)}catch{return u(l)}}(c):a(o(c))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(r,i,s){var n=r("../internals/object-keys-internal"),o=r("../internals/enum-bug-keys").concat("length","prototype");s.f=Object.getOwnPropertyNames||function(a){return n(a,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(r,i,s){s.f=Object.getOwnPropertySymbols},{}],313:[function(r,i,s){var n=r("../internals/has-own-property"),o=r("../internals/is-callable"),a=r("../internals/to-object"),u=r("../internals/shared-key"),l=r("../internals/correct-prototype-getter"),c=u("IE_PROTO"),h=Object,d=h.prototype;i.exports=l?h.getPrototypeOf:function(p){var g=a(p);if(n(g,c))return g[c];var v=g.constructor;return o(v)&&g instanceof v?v.prototype:g instanceof h?d:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(r,i,s){var n=r("../internals/function-uncurry-this");i.exports=n({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(r,i,s){var n=r("../internals/function-uncurry-this"),o=r("../internals/has-own-property"),a=r("../internals/to-indexed-object"),u=r("../internals/array-includes").indexOf,l=r("../internals/hidden-keys"),c=n([].push);i.exports=function(h,d){var p,g=a(h),v=0,f=[];for(p in g)!o(l,p)&&o(g,p)&&c(f,p);for(;d.length>v;)o(g,p=d[v++])&&(~u(f,p)||c(f,p));return f}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(r,i,s){var n=r("../internals/object-keys-internal"),o=r("../internals/enum-bug-keys");i.exports=Object.keys||function(a){return n(a,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(r,i,s){var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,a=o&&!n.call({1:2},1);s.f=a?function(u){var l=o(this,u);return!!l&&l.enumerable}:n},{}],318:[function(r,i,s){var n=r("../internals/function-uncurry-this-accessor"),o=r("../internals/an-object"),a=r("../internals/a-possible-prototype");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u,l=!1,c={};try{(u=n(Object.prototype,"__proto__","set"))(c,[]),l=c instanceof Array}catch{}return function(h,d){return o(h),a(d),l?u(h,d):h.__proto__=d,h}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(r,i,s){var n=r("../internals/descriptors"),o=r("../internals/fails"),a=r("../internals/function-uncurry-this"),u=r("../internals/object-get-prototype-of"),l=r("../internals/object-keys"),c=r("../internals/to-indexed-object"),h=a(r("../internals/object-property-is-enumerable").f),d=a([].push),p=n&&o(function(){var v=Object.create(null);return v[2]=2,!h(v,2)}),g=function(v){return function(f){for(var y,m=c(f),w=l(m),_=p&&u(m)===null,A=w.length,F=0,G=[];A>F;)y=w[F++],n&&!(_?y in m:h(m,y))||d(G,v?[y,m[y]]:m[y]);return G}};i.exports={entries:g(!0),values:g(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(r,i,s){var n=r("../internals/function-call"),o=r("../internals/is-callable"),a=r("../internals/is-object"),u=TypeError;i.exports=function(l,c){var h,d;if(c==="string"&&o(h=l.toString)&&!a(d=n(h,l))||o(h=l.valueOf)&&!a(d=n(h,l))||c!=="string"&&o(h=l.toString)&&!a(d=n(h,l)))return d;throw new u("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(r,i,s){var n=r("../internals/get-built-in"),o=r("../internals/function-uncurry-this"),a=r("../internals/object-get-own-property-names"),u=r("../internals/object-get-own-property-symbols"),l=r("../internals/an-object"),c=o([].concat);i.exports=n("Reflect","ownKeys")||function(h){var d=a.f(l(h)),p=u.f;return p?c(d,p(h)):d}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(r,i,s){var n=r("../internals/global");i.exports=n},{"../internals/global":274}],323:[function(r,i,s){i.exports=function(n){try{return{error:!1,value:n()}}catch(o){return{error:!0,value:o}}}},{}],324:[function(r,i,s){var n=r("../internals/global"),o=r("../internals/promise-native-constructor"),a=r("../internals/is-callable"),u=r("../internals/is-forced"),l=r("../internals/inspect-source"),c=r("../internals/well-known-symbol"),h=r("../internals/engine-is-browser"),d=r("../internals/engine-is-deno"),p=r("../internals/is-pure"),g=r("../internals/engine-v8-version"),v=o&&o.prototype,f=c("species"),y=!1,m=a(n.PromiseRejectionEvent),w=u("Promise",function(){var _=l(o),A=_!==String(o);if(!A&&g===66||p&&(!v.catch||!v.finally))return!0;if(!g||g<51||!/native code/.test(_)){var F=new o(function(L){L(1)}),G=function(L){L(function(){},function(){})};if((F.constructor={})[f]=G,!(y=F.then(function(){})instanceof G))return!0}return!A&&(h||d)&&!m});i.exports={CONSTRUCTOR:w,REJECTION_EVENT:m,SUBCLASSING:y}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(r,i,s){var n=r("../internals/global");i.exports=n.Promise},{"../internals/global":274}],326:[function(r,i,s){var n=r("../internals/an-object"),o=r("../internals/is-object"),a=r("../internals/new-promise-capability");i.exports=function(u,l){if(n(u),o(l)&&l.constructor===u)return l;var c=a.f(u);return(0,c.resolve)(l),c.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(r,i,s){var n=r("../internals/promise-native-constructor"),o=r("../internals/check-correctness-of-iteration"),a=r("../internals/promise-constructor-detection").CONSTRUCTOR;i.exports=a||!o(function(u){n.all(u).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(r,i,s){var n=function(){this.head=null,this.tail=null};n.prototype={add:function(o){var a={item:o,next:null},u=this.tail;u?u.next=a:this.head=a,this.tail=a},get:function(){var o=this.head;if(o)return(this.head=o.next)===null&&(this.tail=null),o.item}},i.exports=n},{}],329:[function(r,i,s){var n=r("../internals/is-null-or-undefined"),o=TypeError;i.exports=function(a){if(n(a))throw new o("Can't call method on "+a);return a}},{"../internals/is-null-or-undefined":288}],330:[function(r,i,s){var n=r("../internals/get-built-in"),o=r("../internals/define-built-in-accessor"),a=r("../internals/well-known-symbol"),u=r("../internals/descriptors"),l=a("species");i.exports=function(c){var h=n(c);u&&h&&!h[l]&&o(h,l,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(r,i,s){var n=r("../internals/object-define-property").f,o=r("../internals/has-own-property"),a=r("../internals/well-known-symbol")("toStringTag");i.exports=function(u,l,c){u&&!c&&(u=u.prototype),u&&!o(u,a)&&n(u,a,{configurable:!0,value:l})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(r,i,s){var n=r("../internals/shared"),o=r("../internals/uid"),a=n("keys");i.exports=function(u){return a[u]||(a[u]=o(u))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(r,i,s){var n=r("../internals/global"),o=r("../internals/define-global-property"),a=n["__core-js_shared__"]||o("__core-js_shared__",{});i.exports=a},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(r,i,s){var n=r("../internals/is-pure"),o=r("../internals/shared-store");(i.exports=function(a,u){return o[a]||(o[a]=u!==void 0?u:{})})("versions",[]).push({version:"3.33.0",mode:n?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(r,i,s){var n=r("../internals/an-object"),o=r("../internals/a-constructor"),a=r("../internals/is-null-or-undefined"),u=r("../internals/well-known-symbol")("species");i.exports=function(l,c){var h,d=n(l).constructor;return d===void 0||a(h=n(d)[u])?c:o(h)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(r,i,s){var n=r("../internals/engine-v8-version"),o=r("../internals/fails"),a=r("../internals/global").String;i.exports=!!Object.getOwnPropertySymbols&&!o(function(){var u=Symbol("symbol detection");return!a(u)||!(Object(u)instanceof Symbol)||!Symbol.sham&&n&&n<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(r,i,s){var n=r("../internals/function-call"),o=r("../internals/get-built-in"),a=r("../internals/well-known-symbol"),u=r("../internals/define-built-in");i.exports=function(){var l=o("Symbol"),c=l&&l.prototype,h=c&&c.valueOf,d=a("toPrimitive");c&&!c[d]&&u(c,d,function(p){return n(h,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(r,i,s){var n=r("../internals/symbol-constructor-detection");i.exports=n&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(r,i,s){var n,o,a,u,l=r("../internals/global"),c=r("../internals/function-apply"),h=r("../internals/function-bind-context"),d=r("../internals/is-callable"),p=r("../internals/has-own-property"),g=r("../internals/fails"),v=r("../internals/html"),f=r("../internals/array-slice"),y=r("../internals/document-create-element"),m=r("../internals/validate-arguments-length"),w=r("../internals/engine-is-ios"),_=r("../internals/engine-is-node"),A=l.setImmediate,F=l.clearImmediate,G=l.process,L=l.Dispatch,O=l.Function,V=l.MessageChannel,z=l.String,H=0,T={};g(function(){n=l.location});var M=function(b){if(p(T,b)){var E=T[b];delete T[b],E()}},x=function(b){return function(){M(b)}},C=function(b){M(b.data)},S=function(b){l.postMessage(z(b),n.protocol+"//"+n.host)};A&&F||(A=function(b){m(arguments.length,1);var E=d(b)?b:O(b),R=f(arguments,1);return T[++H]=function(){c(E,void 0,R)},o(H),H},F=function(b){delete T[b]},_?o=function(b){G.nextTick(x(b))}:L&&L.now?o=function(b){L.now(x(b))}:V&&!w?(u=(a=new V).port2,a.port1.onmessage=C,o=h(u.postMessage,u)):l.addEventListener&&d(l.postMessage)&&!l.importScripts&&n&&n.protocol!=="file:"&&!g(S)?(o=S,l.addEventListener("message",C,!1)):o="onreadystatechange"in y("script")?function(b){v.appendChild(y("script")).onreadystatechange=function(){v.removeChild(this),M(b)}}:function(b){setTimeout(x(b),0)}),i.exports={set:A,clear:F}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(r,i,s){var n=r("../internals/to-integer-or-infinity"),o=Math.max,a=Math.min;i.exports=function(u,l){var c=n(u);return c<0?o(c+l,0):a(c,l)}},{"../internals/to-integer-or-infinity":342}],341:[function(r,i,s){var n=r("../internals/indexed-object"),o=r("../internals/require-object-coercible");i.exports=function(a){return n(o(a))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(r,i,s){var n=r("../internals/math-trunc");i.exports=function(o){var a=+o;return a!=a||a===0?0:n(a)}},{"../internals/math-trunc":301}],343:[function(r,i,s){var n=r("../internals/to-integer-or-infinity"),o=Math.min;i.exports=function(a){return a>0?o(n(a),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(r,i,s){var n=r("../internals/require-object-coercible"),o=Object;i.exports=function(a){return o(n(a))}},{"../internals/require-object-coercible":329}],345:[function(r,i,s){var n=r("../internals/function-call"),o=r("../internals/is-object"),a=r("../internals/is-symbol"),u=r("../internals/get-method"),l=r("../internals/ordinary-to-primitive"),c=r("../internals/well-known-symbol"),h=TypeError,d=c("toPrimitive");i.exports=function(p,g){if(!o(p)||a(p))return p;var v,f=u(p,d);if(f){if(g===void 0&&(g="default"),v=n(f,p,g),!o(v)||a(v))return v;throw new h("Can't convert object to primitive value")}return g===void 0&&(g="number"),l(p,g)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(r,i,s){var n=r("../internals/to-primitive"),o=r("../internals/is-symbol");i.exports=function(a){var u=n(a,"string");return o(u)?u:u+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(r,i,s){var n={};n[r("../internals/well-known-symbol")("toStringTag")]="z",i.exports=String(n)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(r,i,s){var n=r("../internals/classof"),o=String;i.exports=function(a){if(n(a)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return o(a)}},{"../internals/classof":236}],349:[function(r,i,s){var n=String;i.exports=function(o){try{return n(o)}catch{return"Object"}}},{}],350:[function(r,i,s){var n=r("../internals/function-uncurry-this"),o=0,a=Math.random(),u=n(1 .toString);i.exports=function(l){return"Symbol("+(l===void 0?"":l)+")_"+u(++o+a,36)}},{"../internals/function-uncurry-this":268}],351:[function(r,i,s){var n=r("../internals/symbol-constructor-detection");i.exports=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(r,i,s){var n=r("../internals/descriptors"),o=r("../internals/fails");i.exports=n&&o(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(r,i,s){var n=TypeError;i.exports=function(o,a){if(o<a)throw new n("Not enough arguments");return o}},{}],354:[function(r,i,s){var n=r("../internals/global"),o=r("../internals/is-callable"),a=n.WeakMap;i.exports=o(a)&&/native code/.test(String(a))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(r,i,s){var n=r("../internals/path"),o=r("../internals/has-own-property"),a=r("../internals/well-known-symbol-wrapped"),u=r("../internals/object-define-property").f;i.exports=function(l){var c=n.Symbol||(n.Symbol={});o(c,l)||u(c,l,{value:a.f(l)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(r,i,s){var n=r("../internals/well-known-symbol");s.f=n},{"../internals/well-known-symbol":357}],357:[function(r,i,s){var n=r("../internals/global"),o=r("../internals/shared"),a=r("../internals/has-own-property"),u=r("../internals/uid"),l=r("../internals/symbol-constructor-detection"),c=r("../internals/use-symbol-as-uid"),h=n.Symbol,d=o("wks"),p=c?h.for||h:h&&h.withoutSetter||u;i.exports=function(g){return a(d,g)||(d[g]=l&&a(h,g)?h[g]:p("Symbol."+g)),d[g]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(r,i,s){var n=r("../internals/export"),o=r("../internals/array-iteration").findIndex,a=r("../internals/add-to-unscopables"),u=!0;"findIndex"in[]&&Array(1).findIndex(function(){u=!1}),n({target:"Array",proto:!0,forced:u},{findIndex:function(l){return o(this,l,arguments.length>1?arguments[1]:void 0)}}),a("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(r,i,s){var n=r("../internals/export"),o=r("../internals/array-iteration").find,a=r("../internals/add-to-unscopables"),u=!0;"find"in[]&&Array(1).find(function(){u=!1}),n({target:"Array",proto:!0,forced:u},{find:function(l){return o(this,l,arguments.length>1?arguments[1]:void 0)}}),a("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(r,i,s){var n=r("../internals/export"),o=r("../internals/array-includes").includes,a=r("../internals/fails"),u=r("../internals/add-to-unscopables");n({target:"Array",proto:!0,forced:a(function(){return!Array(1).includes()})},{includes:function(l){return o(this,l,arguments.length>1?arguments[1]:void 0)}}),u("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(r,i,s){var n=r("../internals/to-indexed-object"),o=r("../internals/add-to-unscopables"),a=r("../internals/iterators"),u=r("../internals/internal-state"),l=r("../internals/object-define-property").f,c=r("../internals/iterator-define"),h=r("../internals/create-iter-result-object"),d=r("../internals/is-pure"),p=r("../internals/descriptors"),g=u.set,v=u.getterFor("Array Iterator");i.exports=c(Array,"Array",function(y,m){g(this,{type:"Array Iterator",target:n(y),index:0,kind:m})},function(){var y=v(this),m=y.target,w=y.kind,_=y.index++;if(!m||_>=m.length)return y.target=void 0,h(void 0,!0);switch(w){case"keys":return h(_,!1);case"values":return h(m[_],!1)}return h([_,m[_]],!1)},"values");var f=a.Arguments=a.Array;if(o("keys"),o("values"),o("entries"),!d&&p&&f.name!=="values")try{l(f,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(r,i,s){var n=r("../internals/export"),o=r("../internals/get-built-in"),a=r("../internals/function-apply"),u=r("../internals/function-call"),l=r("../internals/function-uncurry-this"),c=r("../internals/fails"),h=r("../internals/is-callable"),d=r("../internals/is-symbol"),p=r("../internals/array-slice"),g=r("../internals/get-json-replacer-function"),v=r("../internals/symbol-constructor-detection"),f=String,y=o("JSON","stringify"),m=l(/./.exec),w=l("".charAt),_=l("".charCodeAt),A=l("".replace),F=l(1 .toString),G=/[\uD800-\uDFFF]/g,L=/^[\uD800-\uDBFF]$/,O=/^[\uDC00-\uDFFF]$/,V=!v||c(function(){var M=o("Symbol")("stringify detection");return y([M])!=="[null]"||y({a:M})!=="{}"||y(Object(M))!=="{}"}),z=c(function(){return y("\uDF06\uD834")!=='"\\udf06\\ud834"'||y("\uDEAD")!=='"\\udead"'}),H=function(M,x){var C=p(arguments),S=g(x);if(h(S)||M!==void 0&&!d(M))return C[1]=function(b,E){if(h(S)&&(E=u(S,this,f(b),E)),!d(E))return E},a(y,null,C)},T=function(M,x,C){var S=w(C,x-1),b=w(C,x+1);return m(L,M)&&!m(O,b)||m(O,M)&&!m(L,S)?"\\u"+F(_(M,0),16):M};y&&n({target:"JSON",stat:!0,arity:3,forced:V||z},{stringify:function(M,x,C){var S=p(arguments),b=a(V?H:y,null,S);return z&&typeof b=="string"?A(b,G,T):b}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(r,i,s){r("../internals/export")({target:"Number",stat:!0},{isNaN:function(n){return n!=n}})},{"../internals/export":259}],364:[function(r,i,s){var n=r("../internals/export"),o=r("../internals/object-assign");n({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(r,i,s){var n=r("../internals/export"),o=r("../internals/symbol-constructor-detection"),a=r("../internals/fails"),u=r("../internals/object-get-own-property-symbols"),l=r("../internals/to-object");n({target:"Object",stat:!0,forced:!o||a(function(){u.f(1)})},{getOwnPropertySymbols:function(c){var h=u.f;return h?h(l(c)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(r,i,s){var n=r("../internals/export"),o=r("../internals/to-object"),a=r("../internals/object-keys");n({target:"Object",stat:!0,forced:r("../internals/fails")(function(){a(1)})},{keys:function(u){return a(o(u))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(r,i,s){var n=r("../internals/export"),o=r("../internals/object-to-array").values;n({target:"Object",stat:!0},{values:function(a){return o(a)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(r,i,s){var n=r("../internals/export"),o=r("../internals/function-call"),a=r("../internals/a-callable"),u=r("../internals/new-promise-capability"),l=r("../internals/perform"),c=r("../internals/iterate");n({target:"Promise",stat:!0,forced:r("../internals/promise-statics-incorrect-iteration")},{all:function(h){var d=this,p=u.f(d),g=p.resolve,v=p.reject,f=l(function(){var y=a(d.resolve),m=[],w=0,_=1;c(h,function(A){var F=w++,G=!1;_++,o(y,d,A).then(function(L){G||(G=!0,m[F]=L,--_||g(m))},v)}),--_||g(m)});return f.error&&v(f.value),p.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(r,i,s){var n=r("../internals/export"),o=r("../internals/is-pure"),a=r("../internals/promise-constructor-detection").CONSTRUCTOR,u=r("../internals/promise-native-constructor"),l=r("../internals/get-built-in"),c=r("../internals/is-callable"),h=r("../internals/define-built-in"),d=u&&u.prototype;if(n({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(g){return this.then(void 0,g)}}),!o&&c(u)){var p=l("Promise").prototype.catch;d.catch!==p&&h(d,"catch",p,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(r,i,s){var n,o,a,u=r("../internals/export"),l=r("../internals/is-pure"),c=r("../internals/engine-is-node"),h=r("../internals/global"),d=r("../internals/function-call"),p=r("../internals/define-built-in"),g=r("../internals/object-set-prototype-of"),v=r("../internals/set-to-string-tag"),f=r("../internals/set-species"),y=r("../internals/a-callable"),m=r("../internals/is-callable"),w=r("../internals/is-object"),_=r("../internals/an-instance"),A=r("../internals/species-constructor"),F=r("../internals/task").set,G=r("../internals/microtask"),L=r("../internals/host-report-errors"),O=r("../internals/perform"),V=r("../internals/queue"),z=r("../internals/internal-state"),H=r("../internals/promise-native-constructor"),T=r("../internals/promise-constructor-detection"),M=r("../internals/new-promise-capability"),x=T.CONSTRUCTOR,C=T.REJECTION_EVENT,S=T.SUBCLASSING,b=z.getterFor("Promise"),E=z.set,R=H&&H.prototype,I=H,k=R,U=h.TypeError,j=h.document,X=h.process,N=M.f,K=N,P=!!(j&&j.createEvent&&h.dispatchEvent),D=function(se){var ce;return!(!w(se)||!m(ce=se.then))&&ce},W=function(se,ce){var ue,de,fe,ge=ce.value,be=ce.state===1,_e=be?se.ok:se.fail,Te=se.resolve,Me=se.reject,Ke=se.domain;try{_e?(be||(ce.rejection===2&&ne(ce),ce.rejection=1),_e===!0?ue=ge:(Ke&&Ke.enter(),ue=_e(ge),Ke&&(Ke.exit(),fe=!0)),ue===se.promise?Me(new U("Promise-chain cycle")):(de=D(ue))?d(de,ue,Te,Me):Te(ue)):Me(ge)}catch(je){Ke&&!fe&&Ke.exit(),Me(je)}},Y=function(se,ce){se.notified||(se.notified=!0,G(function(){for(var ue,de=se.reactions;ue=de.get();)W(ue,se);se.notified=!1,ce&&!se.rejection&&Q(se)}))},ee=function(se,ce,ue){var de,fe;P?((de=j.createEvent("Event")).promise=ce,de.reason=ue,de.initEvent(se,!1,!0),h.dispatchEvent(de)):de={promise:ce,reason:ue},!C&&(fe=h["on"+se])?fe(de):se==="unhandledrejection"&&L("Unhandled promise rejection",ue)},Q=function(se){d(F,h,function(){var ce,ue=se.facade,de=se.value;if(J(se)&&(ce=O(function(){c?X.emit("unhandledRejection",de,ue):ee("unhandledrejection",ue,de)}),se.rejection=c||J(se)?2:1,ce.error))throw ce.value})},J=function(se){return se.rejection!==1&&!se.parent},ne=function(se){d(F,h,function(){var ce=se.facade;c?X.emit("rejectionHandled",ce):ee("rejectionhandled",ce,se.value)})},oe=function(se,ce,ue){return function(de){se(ce,de,ue)}},Z=function(se,ce,ue){se.done||(se.done=!0,ue&&(se=ue),se.value=ce,se.state=2,Y(se,!0))},ie=function(se,ce,ue){if(!se.done){se.done=!0,ue&&(se=ue);try{if(se.facade===ce)throw new U("Promise can't be resolved itself");var de=D(ce);de?G(function(){var fe={done:!1};try{d(de,ce,oe(ie,fe,se),oe(Z,fe,se))}catch(ge){Z(fe,ge,se)}}):(se.value=ce,se.state=1,Y(se,!1))}catch(fe){Z({done:!1},fe,se)}}};if(x&&(k=(I=function(se){_(this,k),y(se),d(n,this);var ce=b(this);try{se(oe(ie,ce),oe(Z,ce))}catch(ue){Z(ce,ue)}}).prototype,(n=function(se){E(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new V,rejection:!1,state:0,value:void 0})}).prototype=p(k,"then",function(se,ce){var ue=b(this),de=N(A(this,I));return ue.parent=!0,de.ok=!m(se)||se,de.fail=m(ce)&&ce,de.domain=c?X.domain:void 0,ue.state===0?ue.reactions.add(de):G(function(){W(de,ue)}),de.promise}),o=function(){var se=new n,ce=b(se);this.promise=se,this.resolve=oe(ie,ce),this.reject=oe(Z,ce)},M.f=N=function(se){return se===I||se===void 0?new o(se):K(se)},!l&&m(H)&&R!==Object.prototype)){a=R.then,S||p(R,"then",function(se,ce){var ue=this;return new I(function(de,fe){d(a,ue,de,fe)}).then(se,ce)},{unsafe:!0});try{delete R.constructor}catch{}g&&g(R,k)}u({global:!0,constructor:!0,wrap:!0,forced:x},{Promise:I}),v(I,"Promise",!1,!0),f("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(r,i,s){var n=r("../internals/export"),o=r("../internals/is-pure"),a=r("../internals/promise-native-constructor"),u=r("../internals/fails"),l=r("../internals/get-built-in"),c=r("../internals/is-callable"),h=r("../internals/species-constructor"),d=r("../internals/promise-resolve"),p=r("../internals/define-built-in"),g=a&&a.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!a&&u(function(){g.finally.call({then:function(){}},function(){})})},{finally:function(f){var y=h(this,l("Promise")),m=c(f);return this.then(m?function(w){return d(y,f()).then(function(){return w})}:f,m?function(w){return d(y,f()).then(function(){throw w})}:f)}}),!o&&c(a)){var v=l("Promise").prototype.finally;g.finally!==v&&p(g,"finally",v,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(r,i,s){r("../modules/es.promise.constructor"),r("../modules/es.promise.all"),r("../modules/es.promise.catch"),r("../modules/es.promise.race"),r("../modules/es.promise.reject"),r("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(r,i,s){var n=r("../internals/export"),o=r("../internals/function-call"),a=r("../internals/a-callable"),u=r("../internals/new-promise-capability"),l=r("../internals/perform"),c=r("../internals/iterate");n({target:"Promise",stat:!0,forced:r("../internals/promise-statics-incorrect-iteration")},{race:function(h){var d=this,p=u.f(d),g=p.reject,v=l(function(){var f=a(d.resolve);c(h,function(y){o(f,d,y).then(p.resolve,g)})});return v.error&&g(v.value),p.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(r,i,s){var n=r("../internals/export"),o=r("../internals/function-call"),a=r("../internals/new-promise-capability");n({target:"Promise",stat:!0,forced:r("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(u){var l=a.f(this);return o(l.reject,void 0,u),l.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(r,i,s){var n=r("../internals/export"),o=r("../internals/get-built-in"),a=r("../internals/is-pure"),u=r("../internals/promise-native-constructor"),l=r("../internals/promise-constructor-detection").CONSTRUCTOR,c=r("../internals/promise-resolve"),h=o("Promise"),d=a&&!l;n({target:"Promise",stat:!0,forced:a||l},{resolve:function(p){return c(d&&this===h?u:this,p)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(r,i,s){var n=r("../internals/export"),o=r("../internals/function-uncurry-this"),a=r("../internals/to-absolute-index"),u=RangeError,l=String.fromCharCode,c=String.fromCodePoint,h=o([].join);n({target:"String",stat:!0,arity:1,forced:!!c&&c.length!==1},{fromCodePoint:function(d){for(var p,g=[],v=arguments.length,f=0;v>f;){if(p=+arguments[f++],a(p,1114111)!==p)throw new u(p+" is not a valid code point");g[f]=p<65536?l(p):l(55296+((p-=65536)>>10),p%1024+56320)}return h(g,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(r,i,s){var n=r("../internals/export"),o=r("../internals/function-uncurry-this"),a=r("../internals/not-a-regexp"),u=r("../internals/require-object-coercible"),l=r("../internals/to-string"),c=r("../internals/correct-is-regexp-logic"),h=o("".indexOf);n({target:"String",proto:!0,forced:!c("includes")},{includes:function(d){return!!~h(l(u(this)),l(a(d)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(r,i,s){r("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(r,i,s){var n=r("../internals/export"),o=r("../internals/global"),a=r("../internals/function-call"),u=r("../internals/function-uncurry-this"),l=r("../internals/is-pure"),c=r("../internals/descriptors"),h=r("../internals/symbol-constructor-detection"),d=r("../internals/fails"),p=r("../internals/has-own-property"),g=r("../internals/object-is-prototype-of"),v=r("../internals/an-object"),f=r("../internals/to-indexed-object"),y=r("../internals/to-property-key"),m=r("../internals/to-string"),w=r("../internals/create-property-descriptor"),_=r("../internals/object-create"),A=r("../internals/object-keys"),F=r("../internals/object-get-own-property-names"),G=r("../internals/object-get-own-property-names-external"),L=r("../internals/object-get-own-property-symbols"),O=r("../internals/object-get-own-property-descriptor"),V=r("../internals/object-define-property"),z=r("../internals/object-define-properties"),H=r("../internals/object-property-is-enumerable"),T=r("../internals/define-built-in"),M=r("../internals/define-built-in-accessor"),x=r("../internals/shared"),C=r("../internals/shared-key"),S=r("../internals/hidden-keys"),b=r("../internals/uid"),E=r("../internals/well-known-symbol"),R=r("../internals/well-known-symbol-wrapped"),I=r("../internals/well-known-symbol-define"),k=r("../internals/symbol-define-to-primitive"),U=r("../internals/set-to-string-tag"),j=r("../internals/internal-state"),X=r("../internals/array-iteration").forEach,N=C("hidden"),K=j.set,P=j.getterFor("Symbol"),D=Object.prototype,W=o.Symbol,Y=W&&W.prototype,ee=o.RangeError,Q=o.TypeError,J=o.QObject,ne=O.f,oe=V.f,Z=G.f,ie=H.f,se=u([].push),ce=x("symbols"),ue=x("op-symbols"),de=x("wks"),fe=!J||!J.prototype||!J.prototype.findChild,ge=function(Le,Ae,Ne){var ze=ne(D,Ae);ze&&delete D[Ae],oe(Le,Ae,Ne),ze&&Le!==D&&oe(D,Ae,ze)},be=c&&d(function(){return _(oe({},"a",{get:function(){return oe(this,"a",{value:7}).a}})).a!==7})?ge:oe,_e=function(Le,Ae){var Ne=ce[Le]=_(Y);return K(Ne,{type:"Symbol",tag:Le,description:Ae}),c||(Ne.description=Ae),Ne},Te=function(Le,Ae,Ne){Le===D&&Te(ue,Ae,Ne),v(Le);var ze=y(Ae);return v(Ne),p(ce,ze)?(Ne.enumerable?(p(Le,N)&&Le[N][ze]&&(Le[N][ze]=!1),Ne=_(Ne,{enumerable:w(0,!1)})):(p(Le,N)||oe(Le,N,w(1,{})),Le[N][ze]=!0),be(Le,ze,Ne)):oe(Le,ze,Ne)},Me=function(Le,Ae){v(Le);var Ne=f(Ae),ze=A(Ne).concat(Ye(Ne));return X(ze,function(Ge){c&&!a(Ke,Ne,Ge)||Te(Le,Ge,Ne[Ge])}),Le},Ke=function(Le){var Ae=y(Le),Ne=a(ie,this,Ae);return!(this===D&&p(ce,Ae)&&!p(ue,Ae))&&(!(Ne||!p(this,Ae)||!p(ce,Ae)||p(this,N)&&this[N][Ae])||Ne)},je=function(Le,Ae){var Ne=f(Le),ze=y(Ae);if(Ne!==D||!p(ce,ze)||p(ue,ze)){var Ge=ne(Ne,ze);return!Ge||!p(ce,ze)||p(Ne,N)&&Ne[N][ze]||(Ge.enumerable=!0),Ge}},$e=function(Le){var Ae=Z(f(Le)),Ne=[];return X(Ae,function(ze){p(ce,ze)||p(S,ze)||se(Ne,ze)}),Ne},Ye=function(Le){var Ae=Le===D,Ne=Z(Ae?ue:f(Le)),ze=[];return X(Ne,function(Ge){!p(ce,Ge)||Ae&&!p(D,Ge)||se(ze,ce[Ge])}),ze};h||(T(Y=(W=function(){if(g(Y,this))throw new Q("Symbol is not a constructor");var Le=arguments.length&&arguments[0]!==void 0?m(arguments[0]):void 0,Ae=b(Le),Ne=function(ze){this===D&&a(Ne,ue,ze),p(this,N)&&p(this[N],Ae)&&(this[N][Ae]=!1);var Ge=w(1,ze);try{be(this,Ae,Ge)}catch(St){if(!(St instanceof ee))throw St;ge(this,Ae,Ge)}};return c&&fe&&be(D,Ae,{configurable:!0,set:Ne}),_e(Ae,Le)}).prototype,"toString",function(){return P(this).tag}),T(W,"withoutSetter",function(Le){return _e(b(Le),Le)}),H.f=Ke,V.f=Te,z.f=Me,O.f=je,F.f=G.f=$e,L.f=Ye,R.f=function(Le){return _e(E(Le),Le)},c&&(M(Y,"description",{configurable:!0,get:function(){return P(this).description}}),l||T(D,"propertyIsEnumerable",Ke,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!h,sham:!h},{Symbol:W}),X(A(de),function(Le){I(Le)}),n({target:"Symbol",stat:!0,forced:!h},{useSetter:function(){fe=!0},useSimple:function(){fe=!1}}),n({target:"Object",stat:!0,forced:!h,sham:!c},{create:function(Le,Ae){return Ae===void 0?_(Le):Me(_(Le),Ae)},defineProperty:Te,defineProperties:Me,getOwnPropertyDescriptor:je}),n({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:$e}),k(),U(W,"Symbol"),S[N]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(r,i,s){var n=r("../internals/export"),o=r("../internals/get-built-in"),a=r("../internals/has-own-property"),u=r("../internals/to-string"),l=r("../internals/shared"),c=r("../internals/symbol-registry-detection"),h=l("string-to-symbol-registry"),d=l("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!c},{for:function(p){var g=u(p);if(a(h,g))return h[g];var v=o("Symbol")(g);return h[g]=v,d[v]=g,v}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(r,i,s){r("../modules/es.symbol.constructor"),r("../modules/es.symbol.for"),r("../modules/es.symbol.key-for"),r("../modules/es.json.stringify"),r("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(r,i,s){var n=r("../internals/export"),o=r("../internals/has-own-property"),a=r("../internals/is-symbol"),u=r("../internals/try-to-string"),l=r("../internals/shared"),c=r("../internals/symbol-registry-detection"),h=l("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!c},{keyFor:function(d){if(!a(d))throw new TypeError(u(d)+" is not a symbol");if(o(h,d))return h[d]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(r,i,s){function n(o){return Object.prototype.toString.call(o)}s.isArray=function(o){return Array.isArray?Array.isArray(o):n(o)==="[object Array]"},s.isBoolean=function(o){return typeof o=="boolean"},s.isNull=function(o){return o===null},s.isNullOrUndefined=function(o){return o==null},s.isNumber=function(o){return typeof o=="number"},s.isString=function(o){return typeof o=="string"},s.isSymbol=function(o){return typeof o=="symbol"},s.isUndefined=function(o){return o===void 0},s.isRegExp=function(o){return n(o)==="[object RegExp]"},s.isObject=function(o){return typeof o=="object"&&o!==null},s.isDate=function(o){return n(o)==="[object Date]"},s.isError=function(o){return n(o)==="[object Error]"||o instanceof Error},s.isFunction=function(o){return typeof o=="function"},s.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},s.isBuffer=r("buffer").Buffer.isBuffer},{buffer:220}],384:[function(r,i,s){(function(n){(function(){var o=r("elliptic"),a=r("bn.js");i.exports=function(h){return new l(h)};var u={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function l(h){this.curveType=u[h],this.curveType||(this.curveType={name:h}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function c(h,d,p){Array.isArray(h)||(h=h.toArray());var g=new n(h);if(p&&g.length<p){var v=new n(p-g.length);v.fill(0),g=n.concat([v,g])}return d?g.toString(d):g}u.p224=u.secp224r1,u.p256=u.secp256r1=u.prime256v1,u.p192=u.secp192r1=u.prime192v1,u.p384=u.secp384r1,u.p521=u.secp521r1,l.prototype.generateKeys=function(h,d){return this.keys=this.curve.genKeyPair(),this.getPublicKey(h,d)},l.prototype.computeSecret=function(h,d,p){return d=d||"utf8",n.isBuffer(h)||(h=new n(h,d)),c(this.curve.keyFromPublic(h).getPublic().mul(this.keys.getPrivate()).getX(),p,this.curveType.byteLength)},l.prototype.getPublicKey=function(h,d){var p=this.keys.getPublic(d==="compressed",!0);return d==="hybrid"&&(p[p.length-1]%2?p[0]=7:p[0]=6),c(p,h)},l.prototype.getPrivateKey=function(h){return c(this.keys.getPrivate(),h)},l.prototype.setPublicKey=function(h,d){return d=d||"utf8",n.isBuffer(h)||(h=new n(h,d)),this.keys._importPublic(h),this},l.prototype.setPrivateKey=function(h,d){d=d||"utf8",n.isBuffer(h)||(h=new n(h,d));var p=new a(h);return p=p.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(p),this}}).call(this)}).call(this,r("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(r,i,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],386:[function(r,i,s){var n=r("inherits"),o=r("md5.js"),a=r("ripemd160"),u=r("sha.js"),l=r("cipher-base");function c(h){l.call(this,"digest"),this._hash=h}n(c,l),c.prototype._update=function(h){this._hash.update(h)},c.prototype._final=function(){return this._hash.digest()},i.exports=function(h){return(h=h.toLowerCase())==="md5"?new o:h==="rmd160"||h==="ripemd160"?new a:new c(u(h))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(r,i,s){var n=r("md5.js");i.exports=function(o){return new n().update(o).digest()}},{"md5.js":450}],388:[function(r,i,s){var n=r("inherits"),o=r("./legacy"),a=r("cipher-base"),u=r("safe-buffer").Buffer,l=r("create-hash/md5"),c=r("ripemd160"),h=r("sha.js"),d=u.alloc(128);function p(g,v){a.call(this,"digest"),typeof v=="string"&&(v=u.from(v));var f=g==="sha512"||g==="sha384"?128:64;this._alg=g,this._key=v,v.length>f?v=(g==="rmd160"?new c:h(g)).update(v).digest():v.length<f&&(v=u.concat([v,d],f));for(var y=this._ipad=u.allocUnsafe(f),m=this._opad=u.allocUnsafe(f),w=0;w<f;w++)y[w]=54^v[w],m[w]=92^v[w];this._hash=g==="rmd160"?new c:h(g),this._hash.update(y)}n(p,a),p.prototype._update=function(g){this._hash.update(g)},p.prototype._final=function(){var g=this._hash.digest();return(this._alg==="rmd160"?new c:h(this._alg)).update(this._opad).update(g).digest()},i.exports=function(g,v){return(g=g.toLowerCase())==="rmd160"||g==="ripemd160"?new p("rmd160",v):g==="md5"?new o(l,v):new p(g,v)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(r,i,s){var n=r("inherits"),o=r("safe-buffer").Buffer,a=r("cipher-base"),u=o.alloc(128);function l(c,h){a.call(this,"digest"),typeof h=="string"&&(h=o.from(h)),this._alg=c,this._key=h,h.length>64?h=c(h):h.length<64&&(h=o.concat([h,u],64));for(var d=this._ipad=o.allocUnsafe(64),p=this._opad=o.allocUnsafe(64),g=0;g<64;g++)d[g]=54^h[g],p[g]=92^h[g];this._hash=[d]}n(l,a),l.prototype._update=function(c){this._hash.push(c)},l.prototype._final=function(){var c=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,c]))},i.exports=l},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(r,i,s){s.randomBytes=s.rng=s.pseudoRandomBytes=s.prng=r("randombytes"),s.createHash=s.Hash=r("create-hash"),s.createHmac=s.Hmac=r("create-hmac");var n=r("browserify-sign/algos"),o=Object.keys(n),a=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(o);s.getHashes=function(){return a};var u=r("pbkdf2");s.pbkdf2=u.pbkdf2,s.pbkdf2Sync=u.pbkdf2Sync;var l=r("browserify-cipher");s.Cipher=l.Cipher,s.createCipher=l.createCipher,s.Cipheriv=l.Cipheriv,s.createCipheriv=l.createCipheriv,s.Decipher=l.Decipher,s.createDecipher=l.createDecipher,s.Decipheriv=l.Decipheriv,s.createDecipheriv=l.createDecipheriv,s.getCiphers=l.getCiphers,s.listCiphers=l.listCiphers;var c=r("diffie-hellman");s.DiffieHellmanGroup=c.DiffieHellmanGroup,s.createDiffieHellmanGroup=c.createDiffieHellmanGroup,s.getDiffieHellman=c.getDiffieHellman,s.createDiffieHellman=c.createDiffieHellman,s.DiffieHellman=c.DiffieHellman;var h=r("browserify-sign");s.createSign=h.createSign,s.Sign=h.Sign,s.createVerify=h.createVerify,s.Verify=h.Verify,s.createECDH=r("create-ecdh");var d=r("public-encrypt");s.publicEncrypt=d.publicEncrypt,s.privateEncrypt=d.privateEncrypt,s.publicDecrypt=d.publicDecrypt,s.privateDecrypt=d.privateDecrypt;var p=r("randomfill");s.randomFill=p.randomFill,s.randomFillSync=p.randomFillSync,s.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},s.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(r,i,s){(function(n,o){typeof s=="object"&&i!==void 0?i.exports=o():(n=typeof globalThis<"u"?globalThis:n||self).dayjs=o()})(void 0,function(){var n=6e4,o=36e5,a="millisecond",u="second",l="minute",c="hour",h="day",d="week",p="month",g="quarter",v="year",f="date",y="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(C){var S=["th","st","nd","rd"],b=C%100;return"["+C+(S[(b-20)%10]||S[b]||S[0])+"]"}},A=function(C,S,b){var E=String(C);return!E||E.length>=S?C:""+Array(S+1-E.length).join(b)+C},F={s:A,z:function(C){var S=-C.utcOffset(),b=Math.abs(S),E=Math.floor(b/60),R=b%60;return(S<=0?"+":"-")+A(E,2,"0")+":"+A(R,2,"0")},m:function C(S,b){if(S.date()<b.date())return-C(b,S);var E=12*(b.year()-S.year())+(b.month()-S.month()),R=S.clone().add(E,p),I=b-R<0,k=S.clone().add(E+(I?-1:1),p);return+(-(E+(b-R)/(I?R-k:k-R))||0)},a:function(C){return C<0?Math.ceil(C)||0:Math.floor(C)},p:function(C){return{M:p,y:v,w:d,d:h,D:f,h:c,m:l,s:u,ms:a,Q:g}[C]||String(C||"").toLowerCase().replace(/s$/,"")},u:function(C){return C===void 0}},G="en",L={};L[G]=_;var O="$isDayjsObject",V=function(C){return C instanceof M||!(!C||!C[O])},z=function C(S,b,E){var R;if(!S)return G;if(typeof S=="string"){var I=S.toLowerCase();L[I]&&(R=I),b&&(L[I]=b,R=I);var k=S.split("-");if(!R&&k.length>1)return C(k[0])}else{var U=S.name;L[U]=S,R=U}return!E&&R&&(G=R),R||!E&&G},H=function(C,S){if(V(C))return C.clone();var b=typeof S=="object"?S:{};return b.date=C,b.args=arguments,new M(b)},T=F;T.l=z,T.i=V,T.w=function(C,S){return H(C,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var M=function(){function C(b){this.$L=z(b.locale,null,!0),this.parse(b),this.$x=this.$x||b.x||{},this[O]=!0}var S=C.prototype;return S.parse=function(b){this.$d=function(E){var R=E.date,I=E.utc;if(R===null)return new Date(NaN);if(T.u(R))return new Date;if(R instanceof Date)return new Date(R);if(typeof R=="string"&&!/Z$/i.test(R)){var k=R.match(m);if(k){var U=k[2]-1||0,j=(k[7]||"0").substring(0,3);return I?new Date(Date.UTC(k[1],U,k[3]||1,k[4]||0,k[5]||0,k[6]||0,j)):new Date(k[1],U,k[3]||1,k[4]||0,k[5]||0,k[6]||0,j)}}return new Date(R)}(b),this.init()},S.init=function(){var b=this.$d;this.$y=b.getFullYear(),this.$M=b.getMonth(),this.$D=b.getDate(),this.$W=b.getDay(),this.$H=b.getHours(),this.$m=b.getMinutes(),this.$s=b.getSeconds(),this.$ms=b.getMilliseconds()},S.$utils=function(){return T},S.isValid=function(){return this.$d.toString()!==y},S.isSame=function(b,E){var R=H(b);return this.startOf(E)<=R&&R<=this.endOf(E)},S.isAfter=function(b,E){return H(b)<this.startOf(E)},S.isBefore=function(b,E){return this.endOf(E)<H(b)},S.$g=function(b,E,R){return T.u(b)?this[E]:this.set(R,b)},S.unix=function(){return Math.floor(this.valueOf()/1e3)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(b,E){var R=this,I=!!T.u(E)||E,k=T.p(b),U=function(Y,ee){var Q=T.w(R.$u?Date.UTC(R.$y,ee,Y):new Date(R.$y,ee,Y),R);return I?Q:Q.endOf(h)},j=function(Y,ee){return T.w(R.toDate()[Y].apply(R.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(ee)),R)},X=this.$W,N=this.$M,K=this.$D,P="set"+(this.$u?"UTC":"");switch(k){case v:return I?U(1,0):U(31,11);case p:return I?U(1,N):U(0,N+1);case d:var D=this.$locale().weekStart||0,W=(X<D?X+7:X)-D;return U(I?K-W:K+(6-W),N);case h:case f:return j(P+"Hours",0);case c:return j(P+"Minutes",1);case l:return j(P+"Seconds",2);case u:return j(P+"Milliseconds",3);default:return this.clone()}},S.endOf=function(b){return this.startOf(b,!1)},S.$set=function(b,E){var R,I=T.p(b),k="set"+(this.$u?"UTC":""),U=(R={},R[h]=k+"Date",R[f]=k+"Date",R[p]=k+"Month",R[v]=k+"FullYear",R[c]=k+"Hours",R[l]=k+"Minutes",R[u]=k+"Seconds",R[a]=k+"Milliseconds",R)[I],j=I===h?this.$D+(E-this.$W):E;if(I===p||I===v){var X=this.clone().set(f,1);X.$d[U](j),X.init(),this.$d=X.set(f,Math.min(this.$D,X.daysInMonth())).$d}else U&&this.$d[U](j);return this.init(),this},S.set=function(b,E){return this.clone().$set(b,E)},S.get=function(b){return this[T.p(b)]()},S.add=function(b,E){var R,I=this;b=Number(b);var k=T.p(E),U=function(N){var K=H(I);return T.w(K.date(K.date()+Math.round(N*b)),I)};if(k===p)return this.set(p,this.$M+b);if(k===v)return this.set(v,this.$y+b);if(k===h)return U(1);if(k===d)return U(7);var j=(R={},R[l]=n,R[c]=o,R[u]=1e3,R)[k]||1,X=this.$d.getTime()+b*j;return T.w(X,this)},S.subtract=function(b,E){return this.add(-1*b,E)},S.format=function(b){var E=this,R=this.$locale();if(!this.isValid())return R.invalidDate||y;var I=b||"YYYY-MM-DDTHH:mm:ssZ",k=T.z(this),U=this.$H,j=this.$m,X=this.$M,N=R.weekdays,K=R.months,P=R.meridiem,D=function(ee,Q,J,ne){return ee&&(ee[Q]||ee(E,I))||J[Q].slice(0,ne)},W=function(ee){return T.s(U%12||12,ee,"0")},Y=P||function(ee,Q,J){var ne=ee<12?"AM":"PM";return J?ne.toLowerCase():ne};return I.replace(w,function(ee,Q){return Q||function(J){switch(J){case"YY":return String(E.$y).slice(-2);case"YYYY":return T.s(E.$y,4,"0");case"M":return X+1;case"MM":return T.s(X+1,2,"0");case"MMM":return D(R.monthsShort,X,K,3);case"MMMM":return D(K,X);case"D":return E.$D;case"DD":return T.s(E.$D,2,"0");case"d":return String(E.$W);case"dd":return D(R.weekdaysMin,E.$W,N,2);case"ddd":return D(R.weekdaysShort,E.$W,N,3);case"dddd":return N[E.$W];case"H":return String(U);case"HH":return T.s(U,2,"0");case"h":return W(1);case"hh":return W(2);case"a":return Y(U,j,!0);case"A":return Y(U,j,!1);case"m":return String(j);case"mm":return T.s(j,2,"0");case"s":return String(E.$s);case"ss":return T.s(E.$s,2,"0");case"SSS":return T.s(E.$ms,3,"0");case"Z":return k}return null}(ee)||k.replace(":","")})},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(b,E,R){var I,k=this,U=T.p(E),j=H(b),X=(j.utcOffset()-this.utcOffset())*n,N=this-j,K=function(){return T.m(k,j)};switch(U){case v:I=K()/12;break;case p:I=K();break;case g:I=K()/3;break;case d:I=(N-X)/6048e5;break;case h:I=(N-X)/864e5;break;case c:I=N/o;break;case l:I=N/n;break;case u:I=N/1e3;break;default:I=N}return R?I:T.a(I)},S.daysInMonth=function(){return this.endOf(p).$D},S.$locale=function(){return L[this.$L]},S.locale=function(b,E){if(!b)return this.$L;var R=this.clone(),I=z(b,E,!0);return I&&(R.$L=I),R},S.clone=function(){return T.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},C}(),x=M.prototype;return H.prototype=x,[["$ms",a],["$s",u],["$m",l],["$H",c],["$W",h],["$M",p],["$y",v],["$D",f]].forEach(function(C){x[C[1]]=function(S){return this.$g(S,C[0],C[1])}}),H.extend=function(C,S){return C.$i||(C(S,M,H),C.$i=!0),H},H.locale=z,H.isDayjs=V,H.unix=function(C){return H(1e3*C)},H.en=L[G],H.Ls=L,H.p={},H})},{}],392:[function(r,i,s){(function(n,o){typeof s=="object"&&i!==void 0?i.exports=o():(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_customParseFormat=o()})(void 0,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,u=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,c={},h=function(m){return(m=+m)+(m>68?1900:2e3)},d=function(m){return function(w){this[m]=+w}},p=[/[+-]\d\d:?(\d\d)?|Z/,function(m){(this.zone||(this.zone={})).offset=function(w){if(!w||w==="Z")return 0;var _=w.match(/([+-]|\d\d)/g),A=60*_[1]+(+_[2]||0);return A===0?0:_[0]==="+"?-A:A}(m)}],g=function(m){var w=c[m];return w&&(w.indexOf?w:w.s.concat(w.f))},v=function(m,w){var _,A=c.meridiem;if(A){for(var F=1;F<=24;F+=1)if(m.indexOf(A(F,0,w))>-1){_=F>12;break}}else _=m===(w?"pm":"PM");return _},f={A:[l,function(m){this.afternoon=v(m,!1)}],a:[l,function(m){this.afternoon=v(m,!0)}],S:[/\d/,function(m){this.milliseconds=100*+m}],SS:[a,function(m){this.milliseconds=10*+m}],SSS:[/\d{3}/,function(m){this.milliseconds=+m}],s:[u,d("seconds")],ss:[u,d("seconds")],m:[u,d("minutes")],mm:[u,d("minutes")],H:[u,d("hours")],h:[u,d("hours")],HH:[u,d("hours")],hh:[u,d("hours")],D:[u,d("day")],DD:[a,d("day")],Do:[l,function(m){var w=c.ordinal,_=m.match(/\d+/);if(this.day=_[0],w)for(var A=1;A<=31;A+=1)w(A).replace(/\[|\]/g,"")===m&&(this.day=A)}],M:[u,d("month")],MM:[a,d("month")],MMM:[l,function(m){var w=g("months"),_=(g("monthsShort")||w.map(function(A){return A.slice(0,3)})).indexOf(m)+1;if(_<1)throw new Error;this.month=_%12||_}],MMMM:[l,function(m){var w=g("months").indexOf(m)+1;if(w<1)throw new Error;this.month=w%12||w}],Y:[/[+-]?\d+/,d("year")],YY:[a,function(m){this.year=h(m)}],YYYY:[/\d{4}/,d("year")],Z:p,ZZ:p};function y(m){var w,_;w=m,_=c&&c.formats;for(var A=(m=w.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(H,T,M){var x=M&&M.toUpperCase();return T||_[M]||n[M]||_[x].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(C,S,b){return S||b.slice(1)})})).match(o),F=A.length,G=0;G<F;G+=1){var L=A[G],O=f[L],V=O&&O[0],z=O&&O[1];A[G]=z?{regex:V,parser:z}:L.replace(/^\[|\]$/g,"")}return function(H){for(var T={},M=0,x=0;M<F;M+=1){var C=A[M];if(typeof C=="string")x+=C.length;else{var S=C.regex,b=C.parser,E=H.slice(x),R=S.exec(E)[0];b.call(T,R),H=H.replace(R,"")}}return function(I){var k=I.afternoon;if(k!==void 0){var U=I.hours;k?U<12&&(I.hours+=12):U===12&&(I.hours=0),delete I.afternoon}}(T),T}}return function(m,w,_){_.p.customParseFormat=!0,m&&m.parseTwoDigitYear&&(h=m.parseTwoDigitYear);var A=w.prototype,F=A.parse;A.parse=function(G){var L=G.date,O=G.utc,V=G.args;this.$u=O;var z=V[1];if(typeof z=="string"){var H=V[2]===!0,T=V[3]===!0,M=H||T,x=V[2];T&&(x=V[2]),c=this.$locale(),!H&&x&&(c=_.Ls[x]),this.$d=function(E,R,I){try{if(["x","X"].indexOf(R)>-1)return new Date((R==="X"?1e3:1)*E);var k=y(R)(E),U=k.year,j=k.month,X=k.day,N=k.hours,K=k.minutes,P=k.seconds,D=k.milliseconds,W=k.zone,Y=new Date,ee=X||(U||j?1:Y.getDate()),Q=U||Y.getFullYear(),J=0;U&&!j||(J=j>0?j-1:Y.getMonth());var ne=N||0,oe=K||0,Z=P||0,ie=D||0;return W?new Date(Date.UTC(Q,J,ee,ne,oe,Z,ie+60*W.offset*1e3)):I?new Date(Date.UTC(Q,J,ee,ne,oe,Z,ie)):new Date(Q,J,ee,ne,oe,Z,ie)}catch{return new Date("")}}(L,z,O),this.init(),x&&x!==!0&&(this.$L=this.locale(x).$L),M&&L!=this.format(z)&&(this.$d=new Date("")),c={}}else if(z instanceof Array)for(var C=z.length,S=1;S<=C;S+=1){V[1]=z[S-1];var b=_.apply(this,V);if(b.isValid()){this.$d=b.$d,this.$L=b.$L,this.init();break}S===C&&(this.$d=new Date(""))}else F.call(this,G)}}})},{}],393:[function(r,i,s){(function(n,o){typeof s=="object"&&i!==void 0?i.exports=o():(n=typeof globalThis<"u"?globalThis:n||self).dayjs_plugin_utc=o()})(void 0,function(){var n="minute",o=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(u,l,c){var h=l.prototype;c.utc=function(m){var w={date:m,utc:!0,args:arguments};return new l(w)},h.utc=function(m){var w=c(this.toDate(),{locale:this.$L,utc:!0});return m?w.add(this.utcOffset(),n):w},h.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var d=h.parse;h.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),d.call(this,m)};var p=h.init;h.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else p.call(this)};var g=h.utcOffset;h.utcOffset=function(m,w){var _=this.$utils().u;if(_(m))return this.$u?0:_(this.$offset)?g.call(this):this.$offset;if(typeof m=="string"&&(m=function(L){L===void 0&&(L="");var O=L.match(o);if(!O)return null;var V=(""+O[0]).match(a)||["-",0,0],z=V[0],H=60*+V[1]+ +V[2];return H===0?0:z==="+"?H:-H}(m))===null)return this;var A=Math.abs(m)<=16?60*m:m,F=this;if(w)return F.$offset=A,F.$u=m===0,F;if(m!==0){var G=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(F=this.local().add(A+G,n)).$offset=A,F.$x.$localOffset=G}else F=this.utc();return F};var v=h.format;h.format=function(m){var w=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return v.call(this,w)},h.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},h.isUTC=function(){return!!this.$u},h.toISOString=function(){return this.toDate().toISOString()},h.toString=function(){return this.toDate().toUTCString()};var f=h.toDate;h.toDate=function(m){return m==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():f.call(this)};var y=h.diff;h.diff=function(m,w,_){if(m&&this.$u===m.$u)return y.call(this,m,w,_);var A=this.local(),F=c(m).local();return y.call(A,F,w,_)}}})},{}],394:[function(r,i,s){s.utils=r("./des/utils"),s.Cipher=r("./des/cipher"),s.DES=r("./des/des"),s.CBC=r("./des/cbc"),s.EDE=r("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(r,i,s){var n=r("minimalistic-assert"),o=r("inherits"),a={};function u(l){n.equal(l.length,8,"Invalid IV length"),this.iv=new Array(8);for(var c=0;c<this.iv.length;c++)this.iv[c]=l[c]}s.instantiate=function(l){function c(g){l.call(this,g),this._cbcInit()}o(c,l);for(var h=Object.keys(a),d=0;d<h.length;d++){var p=h[d];c.prototype[p]=a[p]}return c.create=function(g){return new c(g)},c},a._cbcInit=function(){var l=new u(this.options.iv);this._cbcState=l},a._update=function(l,c,h,d){var p=this._cbcState,g=this.constructor.super_.prototype,v=p.iv;if(this.type==="encrypt"){for(var f=0;f<this.blockSize;f++)v[f]^=l[c+f];for(g._update.call(this,v,0,h,d),f=0;f<this.blockSize;f++)v[f]=h[d+f]}else{for(g._update.call(this,l,c,h,d),f=0;f<this.blockSize;f++)h[d+f]^=v[f];for(f=0;f<this.blockSize;f++)v[f]=l[c+f]}}},{inherits:440,"minimalistic-assert":453}],396:[function(r,i,s){var n=r("minimalistic-assert");function o(a){this.options=a,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=a.padding!==!1}i.exports=o,o.prototype._init=function(){},o.prototype.update=function(a){return a.length===0?[]:this.type==="decrypt"?this._updateDecrypt(a):this._updateEncrypt(a)},o.prototype._buffer=function(a,u){for(var l=Math.min(this.buffer.length-this.bufferOff,a.length-u),c=0;c<l;c++)this.buffer[this.bufferOff+c]=a[u+c];return this.bufferOff+=l,l},o.prototype._flushBuffer=function(a,u){return this._update(this.buffer,0,a,u),this.bufferOff=0,this.blockSize},o.prototype._updateEncrypt=function(a){var u=0,l=0,c=(this.bufferOff+a.length)/this.blockSize|0,h=new Array(c*this.blockSize);this.bufferOff!==0&&(u+=this._buffer(a,u),this.bufferOff===this.buffer.length&&(l+=this._flushBuffer(h,l)));for(var d=a.length-(a.length-u)%this.blockSize;u<d;u+=this.blockSize)this._update(a,u,h,l),l+=this.blockSize;for(;u<a.length;u++,this.bufferOff++)this.buffer[this.bufferOff]=a[u];return h},o.prototype._updateDecrypt=function(a){for(var u=0,l=0,c=Math.ceil((this.bufferOff+a.length)/this.blockSize)-1,h=new Array(c*this.blockSize);c>0;c--)u+=this._buffer(a,u),l+=this._flushBuffer(h,l);return u+=this._buffer(a,u),h},o.prototype.final=function(a){var u,l;return a&&(u=this.update(a)),l=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),u?u.concat(l):l},o.prototype._pad=function(a,u){if(u===0)return!1;for(;u<a.length;)a[u++]=0;return!0},o.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var a=new Array(this.blockSize);return this._update(this.buffer,0,a,0),a},o.prototype._unpad=function(a){return a},o.prototype._finalDecrypt=function(){n.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var a=new Array(this.blockSize);return this._flushBuffer(a,0),this._unpad(a)}},{"minimalistic-assert":453}],397:[function(r,i,s){var n=r("minimalistic-assert"),o=r("inherits"),a=r("./utils"),u=r("./cipher");function l(){this.tmp=new Array(2),this.keys=null}function c(d){u.call(this,d);var p=new l;this._desState=p,this.deriveKeys(p,d.key)}o(c,u),i.exports=c,c.create=function(d){return new c(d)};var h=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(d,p){d.keys=new Array(32),n.equal(p.length,this.blockSize,"Invalid key length");var g=a.readUInt32BE(p,0),v=a.readUInt32BE(p,4);a.pc1(g,v,d.tmp,0),g=d.tmp[0],v=d.tmp[1];for(var f=0;f<d.keys.length;f+=2){var y=h[f>>>1];g=a.r28shl(g,y),v=a.r28shl(v,y),a.pc2(g,v,d.keys,f)}},c.prototype._update=function(d,p,g,v){var f=this._desState,y=a.readUInt32BE(d,p),m=a.readUInt32BE(d,p+4);a.ip(y,m,f.tmp,0),y=f.tmp[0],m=f.tmp[1],this.type==="encrypt"?this._encrypt(f,y,m,f.tmp,0):this._decrypt(f,y,m,f.tmp,0),y=f.tmp[0],m=f.tmp[1],a.writeUInt32BE(g,y,v),a.writeUInt32BE(g,m,v+4)},c.prototype._pad=function(d,p){if(this.padding===!1)return!1;for(var g=d.length-p,v=p;v<d.length;v++)d[v]=g;return!0},c.prototype._unpad=function(d){if(this.padding===!1)return d;for(var p=d[d.length-1],g=d.length-p;g<d.length;g++)n.equal(d[g],p);return d.slice(0,d.length-p)},c.prototype._encrypt=function(d,p,g,v,f){for(var y=p,m=g,w=0;w<d.keys.length;w+=2){var _=d.keys[w],A=d.keys[w+1];a.expand(m,d.tmp,0),_^=d.tmp[0],A^=d.tmp[1];var F=a.substitute(_,A),G=m;m=(y^a.permute(F))>>>0,y=G}a.rip(m,y,v,f)},c.prototype._decrypt=function(d,p,g,v,f){for(var y=g,m=p,w=d.keys.length-2;w>=0;w-=2){var _=d.keys[w],A=d.keys[w+1];a.expand(y,d.tmp,0),_^=d.tmp[0],A^=d.tmp[1];var F=a.substitute(_,A),G=y;y=(m^a.permute(F))>>>0,m=G}a.rip(y,m,v,f)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(r,i,s){var n=r("minimalistic-assert"),o=r("inherits"),a=r("./cipher"),u=r("./des");function l(h,d){n.equal(d.length,24,"Invalid key length");var p=d.slice(0,8),g=d.slice(8,16),v=d.slice(16,24);this.ciphers=h==="encrypt"?[u.create({type:"encrypt",key:p}),u.create({type:"decrypt",key:g}),u.create({type:"encrypt",key:v})]:[u.create({type:"decrypt",key:v}),u.create({type:"encrypt",key:g}),u.create({type:"decrypt",key:p})]}function c(h){a.call(this,h);var d=new l(this.type,this.options.key);this._edeState=d}o(c,a),i.exports=c,c.create=function(h){return new c(h)},c.prototype._update=function(h,d,p,g){var v=this._edeState;v.ciphers[0]._update(h,d,p,g),v.ciphers[1]._update(p,g,p,g),v.ciphers[2]._update(p,g,p,g)},c.prototype._pad=u.prototype._pad,c.prototype._unpad=u.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(r,i,s){s.readUInt32BE=function(u,l){return(u[0+l]<<24|u[1+l]<<16|u[2+l]<<8|u[3+l])>>>0},s.writeUInt32BE=function(u,l,c){u[0+c]=l>>>24,u[1+c]=l>>>16&255,u[2+c]=l>>>8&255,u[3+c]=255&l},s.ip=function(u,l,c,h){for(var d=0,p=0,g=6;g>=0;g-=2){for(var v=0;v<=24;v+=8)d<<=1,d|=l>>>v+g&1;for(v=0;v<=24;v+=8)d<<=1,d|=u>>>v+g&1}for(g=6;g>=0;g-=2){for(v=1;v<=25;v+=8)p<<=1,p|=l>>>v+g&1;for(v=1;v<=25;v+=8)p<<=1,p|=u>>>v+g&1}c[h+0]=d>>>0,c[h+1]=p>>>0},s.rip=function(u,l,c,h){for(var d=0,p=0,g=0;g<4;g++)for(var v=24;v>=0;v-=8)d<<=1,d|=l>>>v+g&1,d<<=1,d|=u>>>v+g&1;for(g=4;g<8;g++)for(v=24;v>=0;v-=8)p<<=1,p|=l>>>v+g&1,p<<=1,p|=u>>>v+g&1;c[h+0]=d>>>0,c[h+1]=p>>>0},s.pc1=function(u,l,c,h){for(var d=0,p=0,g=7;g>=5;g--){for(var v=0;v<=24;v+=8)d<<=1,d|=l>>v+g&1;for(v=0;v<=24;v+=8)d<<=1,d|=u>>v+g&1}for(v=0;v<=24;v+=8)d<<=1,d|=l>>v+g&1;for(g=1;g<=3;g++){for(v=0;v<=24;v+=8)p<<=1,p|=l>>v+g&1;for(v=0;v<=24;v+=8)p<<=1,p|=u>>v+g&1}for(v=0;v<=24;v+=8)p<<=1,p|=u>>v+g&1;c[h+0]=d>>>0,c[h+1]=p>>>0},s.r28shl=function(u,l){return u<<l&268435455|u>>>28-l};var n=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];s.pc2=function(u,l,c,h){for(var d=0,p=0,g=n.length>>>1,v=0;v<g;v++)d<<=1,d|=u>>>n[v]&1;for(v=g;v<n.length;v++)p<<=1,p|=l>>>n[v]&1;c[h+0]=d>>>0,c[h+1]=p>>>0},s.expand=function(u,l,c){var h=0,d=0;h=(1&u)<<5|u>>>27;for(var p=23;p>=15;p-=4)h<<=6,h|=u>>>p&63;for(p=11;p>=3;p-=4)d|=u>>>p&63,d<<=6;d|=(31&u)<<1|u>>>31,l[c+0]=h>>>0,l[c+1]=d>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];s.substitute=function(u,l){for(var c=0,h=0;h<4;h++)c<<=4,c|=o[64*h+(u>>>18-6*h&63)];for(h=0;h<4;h++)c<<=4,c|=o[256+64*h+(l>>>18-6*h&63)];return c>>>0};var a=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];s.permute=function(u){for(var l=0,c=0;c<a.length;c++)l<<=1,l|=u>>>a[c]&1;return l>>>0},s.padSplit=function(u,l,c){for(var h=u.toString(2);h.length<l;)h="0"+h;for(var d=[],p=0;p<l;p+=c)d.push(h.slice(p,p+c));return d.join(" ")}},{}],400:[function(r,i,s){(function(n){(function(){var o=r("./lib/generatePrime"),a=r("./lib/primes.json"),u=r("./lib/dh"),l={binary:!0,hex:!0,base64:!0};s.DiffieHellmanGroup=s.createDiffieHellmanGroup=s.getDiffieHellman=function(c){var h=new n(a[c].prime,"hex"),d=new n(a[c].gen,"hex");return new u(h,d)},s.createDiffieHellman=s.DiffieHellman=function c(h,d,p,g){return n.isBuffer(d)||l[d]===void 0?c(h,"binary",d,p):(d=d||"binary",g=g||"binary",p=p||new n([2]),n.isBuffer(p)||(p=new n(p,g)),typeof h=="number"?new u(o(h,p),p,!0):(n.isBuffer(h)||(h=new n(h,d)),new u(h,p,!0)))}}).call(this)}).call(this,r("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(r,i,s){(function(n){(function(){var o=r("bn.js"),a=new(r("miller-rabin")),u=new o(24),l=new o(11),c=new o(10),h=new o(3),d=new o(7),p=r("./generatePrime"),g=r("randombytes");function v(_,A){return A=A||"utf8",n.isBuffer(_)||(_=new n(_,A)),this._pub=new o(_),this}function f(_,A){return A=A||"utf8",n.isBuffer(_)||(_=new n(_,A)),this._priv=new o(_),this}i.exports=m;var y={};function m(_,A,F){this.setGenerator(A),this.__prime=new o(_),this._prime=o.mont(this.__prime),this._primeLen=_.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,F?(this.setPublicKey=v,this.setPrivateKey=f):this._primeCode=8}function w(_,A){var F=new n(_.toArray());return A?F.toString(A):F}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(_,A){var F=A.toString("hex"),G=[F,_.toString(16)].join("_");if(G in y)return y[G];var L,O=0;if(_.isEven()||!p.simpleSieve||!p.fermatTest(_)||!a.test(_))return O+=1,O+=F==="02"||F==="05"?8:4,y[G]=O,O;switch(a.test(_.shrn(1))||(O+=2),F){case"02":_.mod(u).cmp(l)&&(O+=8);break;case"05":(L=_.mod(c)).cmp(h)&&L.cmp(d)&&(O+=8);break;default:O+=4}return y[G]=O,O}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new o(g(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(_){var A=(_=(_=new o(_)).toRed(this._prime)).redPow(this._priv).fromRed(),F=new n(A.toArray()),G=this.getPrime();if(F.length<G.length){var L=new n(G.length-F.length);L.fill(0),F=n.concat([L,F])}return F},m.prototype.getPublicKey=function(_){return w(this._pub,_)},m.prototype.getPrivateKey=function(_){return w(this._priv,_)},m.prototype.getPrime=function(_){return w(this.__prime,_)},m.prototype.getGenerator=function(_){return w(this._gen,_)},m.prototype.setGenerator=function(_,A){return A=A||"utf8",n.isBuffer(_)||(_=new n(_,A)),this.__gen=_,this._gen=new o(_),this}}).call(this)}).call(this,r("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(r,i,s){var n=r("randombytes");i.exports=_,_.simpleSieve=m,_.fermatTest=w;var o=r("bn.js"),a=new o(24),u=new(r("miller-rabin")),l=new o(1),c=new o(2),h=new o(5),d=(new o(16),new o(8),new o(10)),p=new o(3),g=(new o(7),new o(11)),v=new o(4),f=(new o(12),null);function y(){if(f!==null)return f;var A=[];A[0]=2;for(var F=1,G=3;G<1048576;G+=2){for(var L=Math.ceil(Math.sqrt(G)),O=0;O<F&&A[O]<=L&&G%A[O]!=0;O++);F!==O&&A[O]<=L||(A[F++]=G)}return f=A,A}function m(A){for(var F=y(),G=0;G<F.length;G++)if(A.modn(F[G])===0)return A.cmpn(F[G])===0;return!0}function w(A){var F=o.mont(A);return c.toRed(F).redPow(A.subn(1)).fromRed().cmpn(1)===0}function _(A,F){if(A<16)return new o(F===2||F===5?[140,123]:[140,39]);var G,L;for(F=new o(F);;){for(G=new o(n(Math.ceil(A/8)));G.bitLength()>A;)G.ishrn(1);if(G.isEven()&&G.iadd(l),G.testn(1)||G.iadd(c),F.cmp(c)){if(!F.cmp(h))for(;G.mod(d).cmp(p);)G.iadd(v)}else for(;G.mod(a).cmp(g);)G.iadd(v);if(m(L=G.shrn(1))&&m(G)&&w(L)&&w(G)&&u.test(L)&&u.test(G))return G}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(r,i,s){i.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(r,i,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],405:[function(r,i,s){var n=s;n.version=r("../package.json").version,n.utils=r("./elliptic/utils"),n.rand=r("brorand"),n.curve=r("./elliptic/curve"),n.curves=r("./elliptic/curves"),n.ec=r("./elliptic/ec"),n.eddsa=r("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(r,i,s){var n=r("bn.js"),o=r("../utils"),a=o.getNAF,u=o.getJSF,l=o.assert;function c(d,p){this.type=d,this.p=new n(p.p,16),this.red=p.prime?n.red(p.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=p.n&&new n(p.n,16),this.g=p.g&&this.pointFromJSON(p.g,p.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var g=this.n&&this.p.div(this.n);!g||g.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function h(d,p){this.curve=d,this.type=p,this.precomputed=null}i.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(d,p){l(d.precomputed);var g=d._getDoubles(),v=a(p,1,this._bitLength),f=(1<<g.step+1)-(g.step%2==0?2:1);f/=3;var y,m,w=[];for(y=0;y<v.length;y+=g.step){m=0;for(var _=y+g.step-1;_>=y;_--)m=(m<<1)+v[_];w.push(m)}for(var A=this.jpoint(null,null,null),F=this.jpoint(null,null,null),G=f;G>0;G--){for(y=0;y<w.length;y++)(m=w[y])===G?F=F.mixedAdd(g.points[y]):m===-G&&(F=F.mixedAdd(g.points[y].neg()));A=A.add(F)}return A.toP()},c.prototype._wnafMul=function(d,p){var g=4,v=d._getNAFPoints(g);g=v.wnd;for(var f=v.points,y=a(p,g,this._bitLength),m=this.jpoint(null,null,null),w=y.length-1;w>=0;w--){for(var _=0;w>=0&&y[w]===0;w--)_++;if(w>=0&&_++,m=m.dblp(_),w<0)break;var A=y[w];l(A!==0),m=d.type==="affine"?A>0?m.mixedAdd(f[A-1>>1]):m.mixedAdd(f[-A-1>>1].neg()):A>0?m.add(f[A-1>>1]):m.add(f[-A-1>>1].neg())}return d.type==="affine"?m.toP():m},c.prototype._wnafMulAdd=function(d,p,g,v,f){var y,m,w,_=this._wnafT1,A=this._wnafT2,F=this._wnafT3,G=0;for(y=0;y<v;y++){var L=(w=p[y])._getNAFPoints(d);_[y]=L.wnd,A[y]=L.points}for(y=v-1;y>=1;y-=2){var O=y-1,V=y;if(_[O]===1&&_[V]===1){var z=[p[O],null,null,p[V]];p[O].y.cmp(p[V].y)===0?(z[1]=p[O].add(p[V]),z[2]=p[O].toJ().mixedAdd(p[V].neg())):p[O].y.cmp(p[V].y.redNeg())===0?(z[1]=p[O].toJ().mixedAdd(p[V]),z[2]=p[O].add(p[V].neg())):(z[1]=p[O].toJ().mixedAdd(p[V]),z[2]=p[O].toJ().mixedAdd(p[V].neg()));var H=[-3,-1,-5,-7,0,7,5,1,3],T=u(g[O],g[V]);for(G=Math.max(T[0].length,G),F[O]=new Array(G),F[V]=new Array(G),m=0;m<G;m++){var M=0|T[0][m],x=0|T[1][m];F[O][m]=H[3*(M+1)+(x+1)],F[V][m]=0,A[O]=z}}else F[O]=a(g[O],_[O],this._bitLength),F[V]=a(g[V],_[V],this._bitLength),G=Math.max(F[O].length,G),G=Math.max(F[V].length,G)}var C=this.jpoint(null,null,null),S=this._wnafT4;for(y=G;y>=0;y--){for(var b=0;y>=0;){var E=!0;for(m=0;m<v;m++)S[m]=0|F[m][y],S[m]!==0&&(E=!1);if(!E)break;b++,y--}if(y>=0&&b++,C=C.dblp(b),y<0)break;for(m=0;m<v;m++){var R=S[m];R!==0&&(R>0?w=A[m][R-1>>1]:R<0&&(w=A[m][-R-1>>1].neg()),C=w.type==="affine"?C.mixedAdd(w):C.add(w))}}for(y=0;y<v;y++)A[y]=null;return f?C:C.toP()},c.BasePoint=h,h.prototype.eq=function(){throw new Error("Not implemented")},h.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(d,p){d=o.toArray(d,p);var g=this.p.byteLength();if((d[0]===4||d[0]===6||d[0]===7)&&d.length-1==2*g)return d[0]===6?l(d[d.length-1]%2==0):d[0]===7&&l(d[d.length-1]%2==1),this.point(d.slice(1,1+g),d.slice(1+g,1+2*g));if((d[0]===2||d[0]===3)&&d.length-1===g)return this.pointFromX(d.slice(1,1+g),d[0]===3);throw new Error("Unknown point format")},h.prototype.encodeCompressed=function(d){return this.encode(d,!0)},h.prototype._encode=function(d){var p=this.curve.p.byteLength(),g=this.getX().toArray("be",p);return d?[this.getY().isEven()?2:3].concat(g):[4].concat(g,this.getY().toArray("be",p))},h.prototype.encode=function(d,p){return o.encode(this._encode(p),d)},h.prototype.precompute=function(d){if(this.precomputed)return this;var p={doubles:null,naf:null,beta:null};return p.naf=this._getNAFPoints(8),p.doubles=this._getDoubles(4,d),p.beta=this._getBeta(),this.precomputed=p,this},h.prototype._hasDoubles=function(d){if(!this.precomputed)return!1;var p=this.precomputed.doubles;return!!p&&p.points.length>=Math.ceil((d.bitLength()+1)/p.step)},h.prototype._getDoubles=function(d,p){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var g=[this],v=this,f=0;f<p;f+=d){for(var y=0;y<d;y++)v=v.dbl();g.push(v)}return{step:d,points:g}},h.prototype._getNAFPoints=function(d){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var p=[this],g=(1<<d)-1,v=g===1?null:this.dbl(),f=1;f<g;f++)p[f]=p[f-1].add(v);return{wnd:d,points:p}},h.prototype._getBeta=function(){return null},h.prototype.dblp=function(d){for(var p=this,g=0;g<d;g++)p=p.dbl();return p}},{"../utils":419,"bn.js":420}],407:[function(r,i,s){var n=r("../utils"),o=r("bn.js"),a=r("inherits"),u=r("./base"),l=n.assert;function c(d){this.twisted=(0|d.a)!=1,this.mOneA=this.twisted&&(0|d.a)==-1,this.extended=this.mOneA,u.call(this,"edwards",d),this.a=new o(d.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(d.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(d.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),l(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|d.c)==1}function h(d,p,g,v,f){u.BasePoint.call(this,d,"projective"),p===null&&g===null&&v===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(p,16),this.y=new o(g,16),this.z=v?new o(v,16):this.curve.one,this.t=f&&new o(f,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}a(c,u),i.exports=c,c.prototype._mulA=function(d){return this.mOneA?d.redNeg():this.a.redMul(d)},c.prototype._mulC=function(d){return this.oneC?d:this.c.redMul(d)},c.prototype.jpoint=function(d,p,g,v){return this.point(d,p,g,v)},c.prototype.pointFromX=function(d,p){(d=new o(d,16)).red||(d=d.toRed(this.red));var g=d.redSqr(),v=this.c2.redSub(this.a.redMul(g)),f=this.one.redSub(this.c2.redMul(this.d).redMul(g)),y=v.redMul(f.redInvm()),m=y.redSqrt();if(m.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");var w=m.fromRed().isOdd();return(p&&!w||!p&&w)&&(m=m.redNeg()),this.point(d,m)},c.prototype.pointFromY=function(d,p){(d=new o(d,16)).red||(d=d.toRed(this.red));var g=d.redSqr(),v=g.redSub(this.c2),f=g.redMul(this.d).redMul(this.c2).redSub(this.a),y=v.redMul(f.redInvm());if(y.cmp(this.zero)===0){if(p)throw new Error("invalid point");return this.point(this.zero,d)}var m=y.redSqrt();if(m.redSqr().redSub(y).cmp(this.zero)!==0)throw new Error("invalid point");return m.fromRed().isOdd()!==p&&(m=m.redNeg()),this.point(m,d)},c.prototype.validate=function(d){if(d.isInfinity())return!0;d.normalize();var p=d.x.redSqr(),g=d.y.redSqr(),v=p.redMul(this.a).redAdd(g),f=this.c2.redMul(this.one.redAdd(this.d.redMul(p).redMul(g)));return v.cmp(f)===0},a(h,u.BasePoint),c.prototype.pointFromJSON=function(d){return h.fromJSON(this,d)},c.prototype.point=function(d,p,g,v){return new h(this,d,p,g,v)},h.fromJSON=function(d,p){return new h(d,p[0],p[1],p[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},h.prototype._extDbl=function(){var d=this.x.redSqr(),p=this.y.redSqr(),g=this.z.redSqr();g=g.redIAdd(g);var v=this.curve._mulA(d),f=this.x.redAdd(this.y).redSqr().redISub(d).redISub(p),y=v.redAdd(p),m=y.redSub(g),w=v.redSub(p),_=f.redMul(m),A=y.redMul(w),F=f.redMul(w),G=m.redMul(y);return this.curve.point(_,A,G,F)},h.prototype._projDbl=function(){var d,p,g,v,f,y,m=this.x.redAdd(this.y).redSqr(),w=this.x.redSqr(),_=this.y.redSqr();if(this.curve.twisted){var A=(v=this.curve._mulA(w)).redAdd(_);this.zOne?(d=m.redSub(w).redSub(_).redMul(A.redSub(this.curve.two)),p=A.redMul(v.redSub(_)),g=A.redSqr().redSub(A).redSub(A)):(f=this.z.redSqr(),y=A.redSub(f).redISub(f),d=m.redSub(w).redISub(_).redMul(y),p=A.redMul(v.redSub(_)),g=A.redMul(y))}else v=w.redAdd(_),f=this.curve._mulC(this.z).redSqr(),y=v.redSub(f).redSub(f),d=this.curve._mulC(m.redISub(v)).redMul(y),p=this.curve._mulC(v).redMul(w.redISub(_)),g=v.redMul(y);return this.curve.point(d,p,g)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(d){var p=this.y.redSub(this.x).redMul(d.y.redSub(d.x)),g=this.y.redAdd(this.x).redMul(d.y.redAdd(d.x)),v=this.t.redMul(this.curve.dd).redMul(d.t),f=this.z.redMul(d.z.redAdd(d.z)),y=g.redSub(p),m=f.redSub(v),w=f.redAdd(v),_=g.redAdd(p),A=y.redMul(m),F=w.redMul(_),G=y.redMul(_),L=m.redMul(w);return this.curve.point(A,F,L,G)},h.prototype._projAdd=function(d){var p,g,v=this.z.redMul(d.z),f=v.redSqr(),y=this.x.redMul(d.x),m=this.y.redMul(d.y),w=this.curve.d.redMul(y).redMul(m),_=f.redSub(w),A=f.redAdd(w),F=this.x.redAdd(this.y).redMul(d.x.redAdd(d.y)).redISub(y).redISub(m),G=v.redMul(_).redMul(F);return this.curve.twisted?(p=v.redMul(A).redMul(m.redSub(this.curve._mulA(y))),g=_.redMul(A)):(p=v.redMul(A).redMul(m.redSub(y)),g=this.curve._mulC(_).redMul(A)),this.curve.point(G,p,g)},h.prototype.add=function(d){return this.isInfinity()?d:d.isInfinity()?this:this.curve.extended?this._extAdd(d):this._projAdd(d)},h.prototype.mul=function(d){return this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve._wnafMul(this,d)},h.prototype.mulAdd=function(d,p,g){return this.curve._wnafMulAdd(1,[this,p],[d,g],2,!1)},h.prototype.jmulAdd=function(d,p,g){return this.curve._wnafMulAdd(1,[this,p],[d,g],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var d=this.z.redInvm();return this.x=this.x.redMul(d),this.y=this.y.redMul(d),this.t&&(this.t=this.t.redMul(d)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(d){return this===d||this.getX().cmp(d.getX())===0&&this.getY().cmp(d.getY())===0},h.prototype.eqXToP=function(d){var p=d.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(p)===0)return!0;for(var g=d.clone(),v=this.curve.redN.redMul(this.z);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(p.redIAdd(v),this.x.cmp(p)===0)return!0}},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(r,i,s){var n=s;n.base=r("./base"),n.short=r("./short"),n.mont=r("./mont"),n.edwards=r("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(r,i,s){var n=r("bn.js"),o=r("inherits"),a=r("./base"),u=r("../utils");function l(h){a.call(this,"mont",h),this.a=new n(h.a,16).toRed(this.red),this.b=new n(h.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(h,d,p){a.BasePoint.call(this,h,"projective"),d===null&&p===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(d,16),this.z=new n(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(l,a),i.exports=l,l.prototype.validate=function(h){var d=h.normalize().x,p=d.redSqr(),g=p.redMul(d).redAdd(p.redMul(this.a)).redAdd(d);return g.redSqrt().redSqr().cmp(g)===0},o(c,a.BasePoint),l.prototype.decodePoint=function(h,d){return this.point(u.toArray(h,d),1)},l.prototype.point=function(h,d){return new c(this,h,d)},l.prototype.pointFromJSON=function(h){return c.fromJSON(this,h)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(h,d){return new c(h,d[0],d[1]||h.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0},c.prototype.dbl=function(){var h=this.x.redAdd(this.z).redSqr(),d=this.x.redSub(this.z).redSqr(),p=h.redSub(d),g=h.redMul(d),v=p.redMul(d.redAdd(this.curve.a24.redMul(p)));return this.curve.point(g,v)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(h,d){var p=this.x.redAdd(this.z),g=this.x.redSub(this.z),v=h.x.redAdd(h.z),f=h.x.redSub(h.z).redMul(p),y=v.redMul(g),m=d.z.redMul(f.redAdd(y).redSqr()),w=d.x.redMul(f.redISub(y).redSqr());return this.curve.point(m,w)},c.prototype.mul=function(h){for(var d=h.clone(),p=this,g=this.curve.point(null,null),v=[];d.cmpn(0)!==0;d.iushrn(1))v.push(d.andln(1));for(var f=v.length-1;f>=0;f--)v[f]===0?(p=p.diffAdd(g,this),g=g.dbl()):(g=p.diffAdd(g,this),p=p.dbl());return g},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(h){return this.getX().cmp(h.getX())===0},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(r,i,s){var n=r("../utils"),o=r("bn.js"),a=r("inherits"),u=r("./base"),l=n.assert;function c(p){u.call(this,"short",p),this.a=new o(p.a,16).toRed(this.red),this.b=new o(p.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(p),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function h(p,g,v,f){u.BasePoint.call(this,p,"affine"),g===null&&v===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(g,16),this.y=new o(v,16),f&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function d(p,g,v,f){u.BasePoint.call(this,p,"jacobian"),g===null&&v===null&&f===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(g,16),this.y=new o(v,16),this.z=new o(f,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(c,u),i.exports=c,c.prototype._getEndomorphism=function(p){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var g,v;if(p.beta)g=new o(p.beta,16).toRed(this.red);else{var f=this._getEndoRoots(this.p);g=(g=f[0].cmp(f[1])<0?f[0]:f[1]).toRed(this.red)}if(p.lambda)v=new o(p.lambda,16);else{var y=this._getEndoRoots(this.n);this.g.mul(y[0]).x.cmp(this.g.x.redMul(g))===0?v=y[0]:(v=y[1],l(this.g.mul(v).x.cmp(this.g.x.redMul(g))===0))}return{beta:g,lambda:v,basis:p.basis?p.basis.map(function(m){return{a:new o(m.a,16),b:new o(m.b,16)}}):this._getEndoBasis(v)}}},c.prototype._getEndoRoots=function(p){var g=p===this.p?this.red:o.mont(p),v=new o(2).toRed(g).redInvm(),f=v.redNeg(),y=new o(3).toRed(g).redNeg().redSqrt().redMul(v);return[f.redAdd(y).fromRed(),f.redSub(y).fromRed()]},c.prototype._getEndoBasis=function(p){for(var g,v,f,y,m,w,_,A,F,G=this.n.ushrn(Math.floor(this.n.bitLength()/2)),L=p,O=this.n.clone(),V=new o(1),z=new o(0),H=new o(0),T=new o(1),M=0;L.cmpn(0)!==0;){var x=O.div(L);A=O.sub(x.mul(L)),F=H.sub(x.mul(V));var C=T.sub(x.mul(z));if(!f&&A.cmp(G)<0)g=_.neg(),v=V,f=A.neg(),y=F;else if(f&&++M==2)break;_=A,O=L,L=A,H=V,V=F,T=z,z=C}m=A.neg(),w=F;var S=f.sqr().add(y.sqr());return m.sqr().add(w.sqr()).cmp(S)>=0&&(m=g,w=v),f.negative&&(f=f.neg(),y=y.neg()),m.negative&&(m=m.neg(),w=w.neg()),[{a:f,b:y},{a:m,b:w}]},c.prototype._endoSplit=function(p){var g=this.endo.basis,v=g[0],f=g[1],y=f.b.mul(p).divRound(this.n),m=v.b.neg().mul(p).divRound(this.n),w=y.mul(v.a),_=m.mul(f.a),A=y.mul(v.b),F=m.mul(f.b);return{k1:p.sub(w).sub(_),k2:A.add(F).neg()}},c.prototype.pointFromX=function(p,g){(p=new o(p,16)).red||(p=p.toRed(this.red));var v=p.redSqr().redMul(p).redIAdd(p.redMul(this.a)).redIAdd(this.b),f=v.redSqrt();if(f.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var y=f.fromRed().isOdd();return(g&&!y||!g&&y)&&(f=f.redNeg()),this.point(p,f)},c.prototype.validate=function(p){if(p.inf)return!0;var g=p.x,v=p.y,f=this.a.redMul(g),y=g.redSqr().redMul(g).redIAdd(f).redIAdd(this.b);return v.redSqr().redISub(y).cmpn(0)===0},c.prototype._endoWnafMulAdd=function(p,g,v){for(var f=this._endoWnafT1,y=this._endoWnafT2,m=0;m<p.length;m++){var w=this._endoSplit(g[m]),_=p[m],A=_._getBeta();w.k1.negative&&(w.k1.ineg(),_=_.neg(!0)),w.k2.negative&&(w.k2.ineg(),A=A.neg(!0)),f[2*m]=_,f[2*m+1]=A,y[2*m]=w.k1,y[2*m+1]=w.k2}for(var F=this._wnafMulAdd(1,f,y,2*m,v),G=0;G<2*m;G++)f[G]=null,y[G]=null;return F},a(h,u.BasePoint),c.prototype.point=function(p,g,v){return new h(this,p,g,v)},c.prototype.pointFromJSON=function(p,g){return h.fromJSON(this,p,g)},h.prototype._getBeta=function(){if(this.curve.endo){var p=this.precomputed;if(p&&p.beta)return p.beta;var g=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(p){var v=this.curve,f=function(y){return v.point(y.x.redMul(v.endo.beta),y.y)};p.beta=g,g.precomputed={beta:null,naf:p.naf&&{wnd:p.naf.wnd,points:p.naf.points.map(f)},doubles:p.doubles&&{step:p.doubles.step,points:p.doubles.points.map(f)}}}return g}},h.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},h.fromJSON=function(p,g,v){typeof g=="string"&&(g=JSON.parse(g));var f=p.point(g[0],g[1],v);if(!g[2])return f;function y(w){return p.point(w[0],w[1],v)}var m=g[2];return f.precomputed={beta:null,doubles:m.doubles&&{step:m.doubles.step,points:[f].concat(m.doubles.points.map(y))},naf:m.naf&&{wnd:m.naf.wnd,points:[f].concat(m.naf.points.map(y))}},f},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.inf},h.prototype.add=function(p){if(this.inf)return p;if(p.inf)return this;if(this.eq(p))return this.dbl();if(this.neg().eq(p))return this.curve.point(null,null);if(this.x.cmp(p.x)===0)return this.curve.point(null,null);var g=this.y.redSub(p.y);g.cmpn(0)!==0&&(g=g.redMul(this.x.redSub(p.x).redInvm()));var v=g.redSqr().redISub(this.x).redISub(p.x),f=g.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,f)},h.prototype.dbl=function(){if(this.inf)return this;var p=this.y.redAdd(this.y);if(p.cmpn(0)===0)return this.curve.point(null,null);var g=this.curve.a,v=this.x.redSqr(),f=p.redInvm(),y=v.redAdd(v).redIAdd(v).redIAdd(g).redMul(f),m=y.redSqr().redISub(this.x.redAdd(this.x)),w=y.redMul(this.x.redSub(m)).redISub(this.y);return this.curve.point(m,w)},h.prototype.getX=function(){return this.x.fromRed()},h.prototype.getY=function(){return this.y.fromRed()},h.prototype.mul=function(p){return p=new o(p,16),this.isInfinity()?this:this._hasDoubles(p)?this.curve._fixedNafMul(this,p):this.curve.endo?this.curve._endoWnafMulAdd([this],[p]):this.curve._wnafMul(this,p)},h.prototype.mulAdd=function(p,g,v){var f=[this,g],y=[p,v];return this.curve.endo?this.curve._endoWnafMulAdd(f,y):this.curve._wnafMulAdd(1,f,y,2)},h.prototype.jmulAdd=function(p,g,v){var f=[this,g],y=[p,v];return this.curve.endo?this.curve._endoWnafMulAdd(f,y,!0):this.curve._wnafMulAdd(1,f,y,2,!0)},h.prototype.eq=function(p){return this===p||this.inf===p.inf&&(this.inf||this.x.cmp(p.x)===0&&this.y.cmp(p.y)===0)},h.prototype.neg=function(p){if(this.inf)return this;var g=this.curve.point(this.x,this.y.redNeg());if(p&&this.precomputed){var v=this.precomputed,f=function(y){return y.neg()};g.precomputed={naf:v.naf&&{wnd:v.naf.wnd,points:v.naf.points.map(f)},doubles:v.doubles&&{step:v.doubles.step,points:v.doubles.points.map(f)}}}return g},h.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},a(d,u.BasePoint),c.prototype.jpoint=function(p,g,v){return new d(this,p,g,v)},d.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var p=this.z.redInvm(),g=p.redSqr(),v=this.x.redMul(g),f=this.y.redMul(g).redMul(p);return this.curve.point(v,f)},d.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},d.prototype.add=function(p){if(this.isInfinity())return p;if(p.isInfinity())return this;var g=p.z.redSqr(),v=this.z.redSqr(),f=this.x.redMul(g),y=p.x.redMul(v),m=this.y.redMul(g.redMul(p.z)),w=p.y.redMul(v.redMul(this.z)),_=f.redSub(y),A=m.redSub(w);if(_.cmpn(0)===0)return A.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var F=_.redSqr(),G=F.redMul(_),L=f.redMul(F),O=A.redSqr().redIAdd(G).redISub(L).redISub(L),V=A.redMul(L.redISub(O)).redISub(m.redMul(G)),z=this.z.redMul(p.z).redMul(_);return this.curve.jpoint(O,V,z)},d.prototype.mixedAdd=function(p){if(this.isInfinity())return p.toJ();if(p.isInfinity())return this;var g=this.z.redSqr(),v=this.x,f=p.x.redMul(g),y=this.y,m=p.y.redMul(g).redMul(this.z),w=v.redSub(f),_=y.redSub(m);if(w.cmpn(0)===0)return _.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var A=w.redSqr(),F=A.redMul(w),G=v.redMul(A),L=_.redSqr().redIAdd(F).redISub(G).redISub(G),O=_.redMul(G.redISub(L)).redISub(y.redMul(F)),V=this.z.redMul(w);return this.curve.jpoint(L,O,V)},d.prototype.dblp=function(p){if(p===0)return this;if(this.isInfinity())return this;if(!p)return this.dbl();var g;if(this.curve.zeroA||this.curve.threeA){var v=this;for(g=0;g<p;g++)v=v.dbl();return v}var f=this.curve.a,y=this.curve.tinv,m=this.x,w=this.y,_=this.z,A=_.redSqr().redSqr(),F=w.redAdd(w);for(g=0;g<p;g++){var G=m.redSqr(),L=F.redSqr(),O=L.redSqr(),V=G.redAdd(G).redIAdd(G).redIAdd(f.redMul(A)),z=m.redMul(L),H=V.redSqr().redISub(z.redAdd(z)),T=z.redISub(H),M=V.redMul(T);M=M.redIAdd(M).redISub(O);var x=F.redMul(_);g+1<p&&(A=A.redMul(O)),m=H,_=x,F=M}return this.curve.jpoint(m,F.redMul(y),_)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},d.prototype._zeroDbl=function(){var p,g,v;if(this.zOne){var f=this.x.redSqr(),y=this.y.redSqr(),m=y.redSqr(),w=this.x.redAdd(y).redSqr().redISub(f).redISub(m);w=w.redIAdd(w);var _=f.redAdd(f).redIAdd(f),A=_.redSqr().redISub(w).redISub(w),F=m.redIAdd(m);F=(F=F.redIAdd(F)).redIAdd(F),p=A,g=_.redMul(w.redISub(A)).redISub(F),v=this.y.redAdd(this.y)}else{var G=this.x.redSqr(),L=this.y.redSqr(),O=L.redSqr(),V=this.x.redAdd(L).redSqr().redISub(G).redISub(O);V=V.redIAdd(V);var z=G.redAdd(G).redIAdd(G),H=z.redSqr(),T=O.redIAdd(O);T=(T=T.redIAdd(T)).redIAdd(T),p=H.redISub(V).redISub(V),g=z.redMul(V.redISub(p)).redISub(T),v=(v=this.y.redMul(this.z)).redIAdd(v)}return this.curve.jpoint(p,g,v)},d.prototype._threeDbl=function(){var p,g,v;if(this.zOne){var f=this.x.redSqr(),y=this.y.redSqr(),m=y.redSqr(),w=this.x.redAdd(y).redSqr().redISub(f).redISub(m);w=w.redIAdd(w);var _=f.redAdd(f).redIAdd(f).redIAdd(this.curve.a),A=_.redSqr().redISub(w).redISub(w);p=A;var F=m.redIAdd(m);F=(F=F.redIAdd(F)).redIAdd(F),g=_.redMul(w.redISub(A)).redISub(F),v=this.y.redAdd(this.y)}else{var G=this.z.redSqr(),L=this.y.redSqr(),O=this.x.redMul(L),V=this.x.redSub(G).redMul(this.x.redAdd(G));V=V.redAdd(V).redIAdd(V);var z=O.redIAdd(O),H=(z=z.redIAdd(z)).redAdd(z);p=V.redSqr().redISub(H),v=this.y.redAdd(this.z).redSqr().redISub(L).redISub(G);var T=L.redSqr();T=(T=(T=T.redIAdd(T)).redIAdd(T)).redIAdd(T),g=V.redMul(z.redISub(p)).redISub(T)}return this.curve.jpoint(p,g,v)},d.prototype._dbl=function(){var p=this.curve.a,g=this.x,v=this.y,f=this.z,y=f.redSqr().redSqr(),m=g.redSqr(),w=v.redSqr(),_=m.redAdd(m).redIAdd(m).redIAdd(p.redMul(y)),A=g.redAdd(g),F=(A=A.redIAdd(A)).redMul(w),G=_.redSqr().redISub(F.redAdd(F)),L=F.redISub(G),O=w.redSqr();O=(O=(O=O.redIAdd(O)).redIAdd(O)).redIAdd(O);var V=_.redMul(L).redISub(O),z=v.redAdd(v).redMul(f);return this.curve.jpoint(G,V,z)},d.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var p=this.x.redSqr(),g=this.y.redSqr(),v=this.z.redSqr(),f=g.redSqr(),y=p.redAdd(p).redIAdd(p),m=y.redSqr(),w=this.x.redAdd(g).redSqr().redISub(p).redISub(f),_=(w=(w=(w=w.redIAdd(w)).redAdd(w).redIAdd(w)).redISub(m)).redSqr(),A=f.redIAdd(f);A=(A=(A=A.redIAdd(A)).redIAdd(A)).redIAdd(A);var F=y.redIAdd(w).redSqr().redISub(m).redISub(_).redISub(A),G=g.redMul(F);G=(G=G.redIAdd(G)).redIAdd(G);var L=this.x.redMul(_).redISub(G);L=(L=L.redIAdd(L)).redIAdd(L);var O=this.y.redMul(F.redMul(A.redISub(F)).redISub(w.redMul(_)));O=(O=(O=O.redIAdd(O)).redIAdd(O)).redIAdd(O);var V=this.z.redAdd(w).redSqr().redISub(v).redISub(_);return this.curve.jpoint(L,O,V)},d.prototype.mul=function(p,g){return p=new o(p,g),this.curve._wnafMul(this,p)},d.prototype.eq=function(p){if(p.type==="affine")return this.eq(p.toJ());if(this===p)return!0;var g=this.z.redSqr(),v=p.z.redSqr();if(this.x.redMul(v).redISub(p.x.redMul(g)).cmpn(0)!==0)return!1;var f=g.redMul(this.z),y=v.redMul(p.z);return this.y.redMul(y).redISub(p.y.redMul(f)).cmpn(0)===0},d.prototype.eqXToP=function(p){var g=this.z.redSqr(),v=p.toRed(this.curve.red).redMul(g);if(this.x.cmp(v)===0)return!0;for(var f=p.clone(),y=this.curve.redN.redMul(g);;){if(f.iadd(this.curve.n),f.cmp(this.curve.p)>=0)return!1;if(v.redIAdd(y),this.x.cmp(v)===0)return!0}},d.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(r,i,s){var n,o=s,a=r("hash.js"),u=r("./curve"),l=r("./utils").assert;function c(d){d.type==="short"?this.curve=new u.short(d):d.type==="edwards"?this.curve=new u.edwards(d):this.curve=new u.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,l(this.g.validate(),"Invalid curve"),l(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function h(d,p){Object.defineProperty(o,d,{configurable:!0,enumerable:!0,get:function(){var g=new c(p);return Object.defineProperty(o,d,{configurable:!0,enumerable:!0,value:g}),g}})}o.PresetCurve=c,h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r("./precomputed/secp256k1")}catch{n=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(r,i,s){var n=r("bn.js"),o=r("hmac-drbg"),a=r("../utils"),u=r("../curves"),l=r("brorand"),c=a.assert,h=r("./key"),d=r("./signature");function p(g){if(!(this instanceof p))return new p(g);typeof g=="string"&&(c(Object.prototype.hasOwnProperty.call(u,g),"Unknown curve "+g),g=u[g]),g instanceof u.PresetCurve&&(g={curve:g}),this.curve=g.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=g.curve.g,this.g.precompute(g.curve.n.bitLength()+1),this.hash=g.hash||g.curve.hash}i.exports=p,p.prototype.keyPair=function(g){return new h(this,g)},p.prototype.keyFromPrivate=function(g,v){return h.fromPrivate(this,g,v)},p.prototype.keyFromPublic=function(g,v){return h.fromPublic(this,g,v)},p.prototype.genKeyPair=function(g){g||(g={});for(var v=new o({hash:this.hash,pers:g.pers,persEnc:g.persEnc||"utf8",entropy:g.entropy||l(this.hash.hmacStrength),entropyEnc:g.entropy&&g.entropyEnc||"utf8",nonce:this.n.toArray()}),f=this.n.byteLength(),y=this.n.sub(new n(2));;){var m=new n(v.generate(f));if(!(m.cmp(y)>0))return m.iaddn(1),this.keyFromPrivate(m)}},p.prototype._truncateToN=function(g,v){var f=8*g.byteLength()-this.n.bitLength();return f>0&&(g=g.ushrn(f)),!v&&g.cmp(this.n)>=0?g.sub(this.n):g},p.prototype.sign=function(g,v,f,y){typeof f=="object"&&(y=f,f=null),y||(y={}),v=this.keyFromPrivate(v,f),g=this._truncateToN(new n(g,16));for(var m=this.n.byteLength(),w=v.getPrivate().toArray("be",m),_=g.toArray("be",m),A=new o({hash:this.hash,entropy:w,nonce:_,pers:y.pers,persEnc:y.persEnc||"utf8"}),F=this.n.sub(new n(1)),G=0;;G++){var L=y.k?y.k(G):new n(A.generate(this.n.byteLength()));if(!((L=this._truncateToN(L,!0)).cmpn(1)<=0||L.cmp(F)>=0)){var O=this.g.mul(L);if(!O.isInfinity()){var V=O.getX(),z=V.umod(this.n);if(z.cmpn(0)!==0){var H=L.invm(this.n).mul(z.mul(v.getPrivate()).iadd(g));if((H=H.umod(this.n)).cmpn(0)!==0){var T=(O.getY().isOdd()?1:0)|(V.cmp(z)!==0?2:0);return y.canonical&&H.cmp(this.nh)>0&&(H=this.n.sub(H),T^=1),new d({r:z,s:H,recoveryParam:T})}}}}}},p.prototype.verify=function(g,v,f,y){g=this._truncateToN(new n(g,16)),f=this.keyFromPublic(f,y);var m=(v=new d(v,"hex")).r,w=v.s;if(m.cmpn(1)<0||m.cmp(this.n)>=0||w.cmpn(1)<0||w.cmp(this.n)>=0)return!1;var _,A=w.invm(this.n),F=A.mul(g).umod(this.n),G=A.mul(m).umod(this.n);return this.curve._maxwellTrick?!(_=this.g.jmulAdd(F,f.getPublic(),G)).isInfinity()&&_.eqXToP(m):!(_=this.g.mulAdd(F,f.getPublic(),G)).isInfinity()&&_.getX().umod(this.n).cmp(m)===0},p.prototype.recoverPubKey=function(g,v,f,y){c((3&f)===f,"The recovery param is more than two bits"),v=new d(v,y);var m=this.n,w=new n(g),_=v.r,A=v.s,F=1&f,G=f>>1;if(_.cmp(this.curve.p.umod(this.curve.n))>=0&&G)throw new Error("Unable to find sencond key candinate");_=G?this.curve.pointFromX(_.add(this.curve.n),F):this.curve.pointFromX(_,F);var L=v.r.invm(m),O=m.sub(w).mul(L).umod(m),V=A.mul(L).umod(m);return this.g.mulAdd(O,_,V)},p.prototype.getKeyRecoveryParam=function(g,v,f,y){if((v=new d(v,y)).recoveryParam!==null)return v.recoveryParam;for(var m=0;m<4;m++){var w;try{w=this.recoverPubKey(g,v,m)}catch{continue}if(w.eq(f))return m}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(r,i,s){var n=r("bn.js"),o=r("../utils").assert;function a(u,l){this.ec=u,this.priv=null,this.pub=null,l.priv&&this._importPrivate(l.priv,l.privEnc),l.pub&&this._importPublic(l.pub,l.pubEnc)}i.exports=a,a.fromPublic=function(u,l,c){return l instanceof a?l:new a(u,{pub:l,pubEnc:c})},a.fromPrivate=function(u,l,c){return l instanceof a?l:new a(u,{priv:l,privEnc:c})},a.prototype.validate=function(){var u=this.getPublic();return u.isInfinity()?{result:!1,reason:"Invalid public key"}:u.validate()?u.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},a.prototype.getPublic=function(u,l){return typeof u=="string"&&(l=u,u=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),l?this.pub.encode(l,u):this.pub},a.prototype.getPrivate=function(u){return u==="hex"?this.priv.toString(16,2):this.priv},a.prototype._importPrivate=function(u,l){this.priv=new n(u,l||16),this.priv=this.priv.umod(this.ec.curve.n)},a.prototype._importPublic=function(u,l){if(u.x||u.y)return this.ec.curve.type==="mont"?o(u.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||o(u.x&&u.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(u.x,u.y));this.pub=this.ec.curve.decodePoint(u,l)},a.prototype.derive=function(u){return u.validate()||o(u.validate(),"public point not validated"),u.mul(this.priv).getX()},a.prototype.sign=function(u,l,c){return this.ec.sign(u,this,l,c)},a.prototype.verify=function(u,l){return this.ec.verify(u,l,this)},a.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(r,i,s){var n=r("bn.js"),o=r("../utils"),a=o.assert;function u(p,g){if(p instanceof u)return p;this._importDER(p,g)||(a(p.r&&p.s,"Signature without r or s"),this.r=new n(p.r,16),this.s=new n(p.s,16),p.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=p.recoveryParam)}function l(){this.place=0}function c(p,g){var v=p[g.place++];if(!(128&v))return v;var f=15&v;if(f===0||f>4)return!1;for(var y=0,m=0,w=g.place;m<f;m++,w++)y<<=8,y|=p[w],y>>>=0;return!(y<=127)&&(g.place=w,y)}function h(p){for(var g=0,v=p.length-1;!p[g]&&!(128&p[g+1])&&g<v;)g++;return g===0?p:p.slice(g)}function d(p,g){if(g<128)p.push(g);else{var v=1+(Math.log(g)/Math.LN2>>>3);for(p.push(128|v);--v;)p.push(g>>>(v<<3)&255);p.push(g)}}i.exports=u,u.prototype._importDER=function(p,g){p=o.toArray(p,g);var v=new l;if(p[v.place++]!==48)return!1;var f=c(p,v);if(f===!1||f+v.place!==p.length||p[v.place++]!==2)return!1;var y=c(p,v);if(y===!1)return!1;var m=p.slice(v.place,y+v.place);if(v.place+=y,p[v.place++]!==2)return!1;var w=c(p,v);if(w===!1||p.length!==w+v.place)return!1;var _=p.slice(v.place,w+v.place);if(m[0]===0){if(!(128&m[1]))return!1;m=m.slice(1)}if(_[0]===0){if(!(128&_[1]))return!1;_=_.slice(1)}return this.r=new n(m),this.s=new n(_),this.recoveryParam=null,!0},u.prototype.toDER=function(p){var g=this.r.toArray(),v=this.s.toArray();for(128&g[0]&&(g=[0].concat(g)),128&v[0]&&(v=[0].concat(v)),g=h(g),v=h(v);!(v[0]||128&v[1]);)v=v.slice(1);var f=[2];d(f,g.length),(f=f.concat(g)).push(2),d(f,v.length);var y=f.concat(v),m=[48];return d(m,y.length),m=m.concat(y),o.encode(m,p)}},{"../utils":419,"bn.js":420}],415:[function(r,i,s){var n=r("hash.js"),o=r("../curves"),a=r("../utils"),u=a.assert,l=a.parseBytes,c=r("./key"),h=r("./signature");function d(p){if(u(p==="ed25519","only tested with ed25519 so far"),!(this instanceof d))return new d(p);p=o[p].curve,this.curve=p,this.g=p.g,this.g.precompute(p.n.bitLength()+1),this.pointClass=p.point().constructor,this.encodingLength=Math.ceil(p.n.bitLength()/8),this.hash=n.sha512}i.exports=d,d.prototype.sign=function(p,g){p=l(p);var v=this.keyFromSecret(g),f=this.hashInt(v.messagePrefix(),p),y=this.g.mul(f),m=this.encodePoint(y),w=this.hashInt(m,v.pubBytes(),p).mul(v.priv()),_=f.add(w).umod(this.curve.n);return this.makeSignature({R:y,S:_,Rencoded:m})},d.prototype.verify=function(p,g,v){p=l(p),g=this.makeSignature(g);var f=this.keyFromPublic(v),y=this.hashInt(g.Rencoded(),f.pubBytes(),p),m=this.g.mul(g.S());return g.R().add(f.pub().mul(y)).eq(m)},d.prototype.hashInt=function(){for(var p=this.hash(),g=0;g<arguments.length;g++)p.update(arguments[g]);return a.intFromLE(p.digest()).umod(this.curve.n)},d.prototype.keyFromPublic=function(p){return c.fromPublic(this,p)},d.prototype.keyFromSecret=function(p){return c.fromSecret(this,p)},d.prototype.makeSignature=function(p){return p instanceof h?p:new h(this,p)},d.prototype.encodePoint=function(p){var g=p.getY().toArray("le",this.encodingLength);return g[this.encodingLength-1]|=p.getX().isOdd()?128:0,g},d.prototype.decodePoint=function(p){var g=(p=a.parseBytes(p)).length-1,v=p.slice(0,g).concat(-129&p[g]),f=(128&p[g])!=0,y=a.intFromLE(v);return this.curve.pointFromY(y,f)},d.prototype.encodeInt=function(p){return p.toArray("le",this.encodingLength)},d.prototype.decodeInt=function(p){return a.intFromLE(p)},d.prototype.isPoint=function(p){return p instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(r,i,s){var n=r("../utils"),o=n.assert,a=n.parseBytes,u=n.cachedProperty;function l(c,h){this.eddsa=c,this._secret=a(h.secret),c.isPoint(h.pub)?this._pub=h.pub:this._pubBytes=a(h.pub)}l.fromPublic=function(c,h){return h instanceof l?h:new l(c,{pub:h})},l.fromSecret=function(c,h){return h instanceof l?h:new l(c,{secret:h})},l.prototype.secret=function(){return this._secret},u(l,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),u(l,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),u(l,"privBytes",function(){var c=this.eddsa,h=this.hash(),d=c.encodingLength-1,p=h.slice(0,c.encodingLength);return p[0]&=248,p[d]&=127,p[d]|=64,p}),u(l,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),u(l,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),u(l,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),l.prototype.sign=function(c){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(c,this)},l.prototype.verify=function(c,h){return this.eddsa.verify(c,h,this)},l.prototype.getSecret=function(c){return o(this._secret,"KeyPair is public only"),n.encode(this.secret(),c)},l.prototype.getPublic=function(c){return n.encode(this.pubBytes(),c)},i.exports=l},{"../utils":419}],417:[function(r,i,s){var n=r("bn.js"),o=r("../utils"),a=o.assert,u=o.cachedProperty,l=o.parseBytes;function c(h,d){this.eddsa=h,typeof d!="object"&&(d=l(d)),Array.isArray(d)&&(d={R:d.slice(0,h.encodingLength),S:d.slice(h.encodingLength)}),a(d.R&&d.S,"Signature without R or S"),h.isPoint(d.R)&&(this._R=d.R),d.S instanceof n&&(this._S=d.S),this._Rencoded=Array.isArray(d.R)?d.R:d.Rencoded,this._Sencoded=Array.isArray(d.S)?d.S:d.Sencoded}u(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),u(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),u(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),u(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},i.exports=c},{"../utils":419,"bn.js":420}],418:[function(r,i,s){i.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(r,i,s){var n=s,o=r("bn.js"),a=r("minimalistic-assert"),u=r("minimalistic-crypto-utils");n.assert=a,n.toArray=u.toArray,n.zero2=u.zero2,n.toHex=u.toHex,n.encode=u.encode,n.getNAF=function(l,c,h){var d=new Array(Math.max(l.bitLength(),h)+1);d.fill(0);for(var p=1<<c+1,g=l.clone(),v=0;v<d.length;v++){var f,y=g.andln(p-1);g.isOdd()?(f=y>(p>>1)-1?(p>>1)-y:y,g.isubn(f)):f=0,d[v]=f,g.iushrn(1)}return d},n.getJSF=function(l,c){var h=[[],[]];l=l.clone(),c=c.clone();for(var d,p=0,g=0;l.cmpn(-p)>0||c.cmpn(-g)>0;){var v,f,y=l.andln(3)+p&3,m=c.andln(3)+g&3;y===3&&(y=-1),m===3&&(m=-1),v=1&y?(d=l.andln(7)+p&7)!==3&&d!==5||m!==2?y:-y:0,h[0].push(v),f=1&m?(d=c.andln(7)+g&7)!==3&&d!==5||y!==2?m:-m:0,h[1].push(f),2*p===v+1&&(p=1-p),2*g===f+1&&(g=1-g),l.iushrn(1),c.iushrn(1)}return h},n.cachedProperty=function(l,c,h){var d="_"+c;l.prototype[c]=function(){return this[d]!==void 0?this[d]:this[d]=h.call(this)}},n.parseBytes=function(l){return typeof l=="string"?n.toArray(l,"hex"):l},n.intFromLE=function(l){return new o(l,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(r,i,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],421:[function(r,i,s){i.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(r,i,s){var n=Object.create||function(L){var O=function(){};return O.prototype=L,new O},o=Object.keys||function(L){var O=[];for(var V in L)Object.prototype.hasOwnProperty.call(L,V)&&O.push(V);return V},a=Function.prototype.bind||function(L){var O=this;return function(){return O.apply(L,arguments)}};function u(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=n(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}i.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._maxListeners=void 0;var l,c=10;try{var h={};Object.defineProperty&&Object.defineProperty(h,"x",{value:0}),l=h.x===0}catch{l=!1}function d(L){return L._maxListeners===void 0?u.defaultMaxListeners:L._maxListeners}function p(L,O,V){if(O)L.call(V);else for(var z=L.length,H=G(L,z),T=0;T<z;++T)H[T].call(V)}function g(L,O,V,z){if(O)L.call(V,z);else for(var H=L.length,T=G(L,H),M=0;M<H;++M)T[M].call(V,z)}function v(L,O,V,z,H){if(O)L.call(V,z,H);else for(var T=L.length,M=G(L,T),x=0;x<T;++x)M[x].call(V,z,H)}function f(L,O,V,z,H,T){if(O)L.call(V,z,H,T);else for(var M=L.length,x=G(L,M),C=0;C<M;++C)x[C].call(V,z,H,T)}function y(L,O,V,z){if(O)L.apply(V,z);else for(var H=L.length,T=G(L,H),M=0;M<H;++M)T[M].apply(V,z)}function m(L,O,V,z){var H,T,M;if(typeof V!="function")throw new TypeError('"listener" argument must be a function');if((T=L._events)?(T.newListener&&(L.emit("newListener",O,V.listener?V.listener:V),T=L._events),M=T[O]):(T=L._events=n(null),L._eventsCount=0),M){if(typeof M=="function"?M=T[O]=z?[V,M]:[M,V]:z?M.unshift(V):M.push(V),!M.warned&&(H=d(L))&&H>0&&M.length>H){M.warned=!0;var x=new Error("Possible EventEmitter memory leak detected. "+M.length+' "'+String(O)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');x.name="MaxListenersExceededWarning",x.emitter=L,x.type=O,x.count=M.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",x.name,x.message)}}else M=T[O]=V,++L._eventsCount;return L}function w(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var L=new Array(arguments.length),O=0;O<L.length;++O)L[O]=arguments[O];this.listener.apply(this.target,L)}}function _(L,O,V){var z={fired:!1,wrapFn:void 0,target:L,type:O,listener:V},H=a.call(w,z);return H.listener=V,z.wrapFn=H,H}function A(L,O,V){var z=L._events;if(!z)return[];var H=z[O];return H?typeof H=="function"?V?[H.listener||H]:[H]:V?function(T){for(var M=new Array(T.length),x=0;x<M.length;++x)M[x]=T[x].listener||T[x];return M}(H):G(H,H.length):[]}function F(L){var O=this._events;if(O){var V=O[L];if(typeof V=="function")return 1;if(V)return V.length}return 0}function G(L,O){for(var V=new Array(O),z=0;z<O;++z)V[z]=L[z];return V}l?Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(L){if(typeof L!="number"||L<0||L!=L)throw new TypeError('"defaultMaxListeners" must be a positive number');c=L}}):u.defaultMaxListeners=c,u.prototype.setMaxListeners=function(L){if(typeof L!="number"||L<0||isNaN(L))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=L,this},u.prototype.getMaxListeners=function(){return d(this)},u.prototype.emit=function(L){var O,V,z,H,T,M,x=L==="error";if(M=this._events)x=x&&M.error==null;else if(!x)return!1;if(x){if(arguments.length>1&&(O=arguments[1]),O instanceof Error)throw O;var C=new Error('Unhandled "error" event. ('+O+")");throw C.context=O,C}if(!(V=M[L]))return!1;var S=typeof V=="function";switch(z=arguments.length){case 1:p(V,S,this);break;case 2:g(V,S,this,arguments[1]);break;case 3:v(V,S,this,arguments[1],arguments[2]);break;case 4:f(V,S,this,arguments[1],arguments[2],arguments[3]);break;default:for(H=new Array(z-1),T=1;T<z;T++)H[T-1]=arguments[T];y(V,S,this,H)}return!0},u.prototype.addListener=function(L,O){return m(this,L,O,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(L,O){return m(this,L,O,!0)},u.prototype.once=function(L,O){if(typeof O!="function")throw new TypeError('"listener" argument must be a function');return this.on(L,_(this,L,O)),this},u.prototype.prependOnceListener=function(L,O){if(typeof O!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(L,_(this,L,O)),this},u.prototype.removeListener=function(L,O){var V,z,H,T,M;if(typeof O!="function")throw new TypeError('"listener" argument must be a function');if(!(z=this._events))return this;if(!(V=z[L]))return this;if(V===O||V.listener===O)--this._eventsCount==0?this._events=n(null):(delete z[L],z.removeListener&&this.emit("removeListener",L,V.listener||O));else if(typeof V!="function"){for(H=-1,T=V.length-1;T>=0;T--)if(V[T]===O||V[T].listener===O){M=V[T].listener,H=T;break}if(H<0)return this;H===0?V.shift():function(x,C){for(var S=C,b=S+1,E=x.length;b<E;S+=1,b+=1)x[S]=x[b];x.pop()}(V,H),V.length===1&&(z[L]=V[0]),z.removeListener&&this.emit("removeListener",L,M||O)}return this},u.prototype.removeAllListeners=function(L){var O,V,z;if(!(V=this._events))return this;if(!V.removeListener)return arguments.length===0?(this._events=n(null),this._eventsCount=0):V[L]&&(--this._eventsCount==0?this._events=n(null):delete V[L]),this;if(arguments.length===0){var H,T=o(V);for(z=0;z<T.length;++z)(H=T[z])!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=n(null),this._eventsCount=0,this}if(typeof(O=V[L])=="function")this.removeListener(L,O);else if(O)for(z=O.length-1;z>=0;z--)this.removeListener(L,O[z]);return this},u.prototype.listeners=function(L){return A(this,L,!0)},u.prototype.rawListeners=function(L){return A(this,L,!1)},u.listenerCount=function(L,O){return typeof L.listenerCount=="function"?L.listenerCount(O):F.call(L,O)},u.prototype.listenerCount=F,u.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(r,i,s){var n=r("safe-buffer").Buffer,o=r("md5.js");i.exports=function(a,u,l,c){if(n.isBuffer(a)||(a=n.from(a,"binary")),u&&(n.isBuffer(u)||(u=n.from(u,"binary")),u.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var h=l/8,d=n.alloc(h),p=n.alloc(c||0),g=n.alloc(0);h>0||c>0;){var v=new o;v.update(g),v.update(a),u&&v.update(u),g=v.digest();var f=0;if(h>0){var y=d.length-h;f=Math.min(h,g.length),g.copy(d,y,0,f),h-=f}if(f<g.length&&c>0){var m=p.length-c,w=Math.min(c,g.length-f);g.copy(p,m,f,f+w),c-=w}}return g.fill(0),{key:d,iv:p}}},{"md5.js":450,"safe-buffer":494}],424:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=s.ParserOptions=s.parseFile=s.parseStream=s.parseString=s.parse=s.FormatterOptions=s.CsvFormatterStream=s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=void 0;var n=r("@fast-csv/format");Object.defineProperty(s,"format",{enumerable:!0,get:function(){return n.format}}),Object.defineProperty(s,"write",{enumerable:!0,get:function(){return n.write}}),Object.defineProperty(s,"writeToStream",{enumerable:!0,get:function(){return n.writeToStream}}),Object.defineProperty(s,"writeToBuffer",{enumerable:!0,get:function(){return n.writeToBuffer}}),Object.defineProperty(s,"writeToString",{enumerable:!0,get:function(){return n.writeToString}}),Object.defineProperty(s,"writeToPath",{enumerable:!0,get:function(){return n.writeToPath}}),Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return n.CsvFormatterStream}}),Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return n.FormatterOptions}});var o=r("@fast-csv/parse");Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return o.parse}}),Object.defineProperty(s,"parseString",{enumerable:!0,get:function(){return o.parseString}}),Object.defineProperty(s,"parseStream",{enumerable:!0,get:function(){return o.parseStream}}),Object.defineProperty(s,"parseFile",{enumerable:!0,get:function(){return o.parseFile}}),Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return o.ParserOptions}}),Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return o.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(r,i,s){var n=r("safe-buffer").Buffer,o=r("readable-stream").Transform;function a(u){o.call(this),this._block=n.allocUnsafe(u),this._blockSize=u,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r("inherits")(a,o),a.prototype._transform=function(u,l,c){var h=null;try{this.update(u,l)}catch(d){h=d}c(h)},a.prototype._flush=function(u){var l=null;try{this.push(this.digest())}catch(c){l=c}u(l)},a.prototype.update=function(u,l){if(function(v,f){if(!n.isBuffer(v)&&typeof v!="string")throw new TypeError(f+" must be a string or a buffer")}(u,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(u)||(u=n.from(u,l));for(var c=this._block,h=0;this._blockOffset+u.length-h>=this._blockSize;){for(var d=this._blockOffset;d<this._blockSize;)c[d++]=u[h++];this._update(),this._blockOffset=0}for(;h<u.length;)c[this._blockOffset++]=u[h++];for(var p=0,g=8*u.length;g>0;++p)this._length[p]+=g,(g=this._length[p]/4294967296|0)>0&&(this._length[p]-=4294967296*g);return this},a.prototype._update=function(){throw new Error("_update is not implemented")},a.prototype.digest=function(u){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var l=this._digest();u!==void 0&&(l=l.toString(u)),this._block.fill(0),this._blockOffset=0;for(var c=0;c<4;++c)this._length[c]=0;return l},a.prototype._digest=function(){throw new Error("_digest is not implemented")},i.exports=a},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(r,i,s){var n=s;n.utils=r("./hash/utils"),n.common=r("./hash/common"),n.sha=r("./hash/sha"),n.ripemd=r("./hash/ripemd"),n.hmac=r("./hash/hmac"),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(r,i,s){var n=r("./utils"),o=r("minimalistic-assert");function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}s.BlockHash=a,a.prototype.update=function(u,l){if(u=n.toArray(u,l),this.pending?this.pending=this.pending.concat(u):this.pending=u,this.pendingTotal+=u.length,this.pending.length>=this._delta8){var c=(u=this.pending).length%this._delta8;this.pending=u.slice(u.length-c,u.length),this.pending.length===0&&(this.pending=null),u=n.join32(u,0,u.length-c,this.endian);for(var h=0;h<u.length;h+=this._delta32)this._update(u,h,h+this._delta32)}return this},a.prototype.digest=function(u){return this.update(this._pad()),o(this.pending===null),this._digest(u)},a.prototype._pad=function(){var u=this.pendingTotal,l=this._delta8,c=l-(u+this.padLength)%l,h=new Array(c+this.padLength);h[0]=128;for(var d=1;d<c;d++)h[d]=0;if(u<<=3,this.endian==="big"){for(var p=8;p<this.padLength;p++)h[d++]=0;h[d++]=0,h[d++]=0,h[d++]=0,h[d++]=0,h[d++]=u>>>24&255,h[d++]=u>>>16&255,h[d++]=u>>>8&255,h[d++]=255&u}else for(h[d++]=255&u,h[d++]=u>>>8&255,h[d++]=u>>>16&255,h[d++]=u>>>24&255,h[d++]=0,h[d++]=0,h[d++]=0,h[d++]=0,p=8;p<this.padLength;p++)h[d++]=0;return h}},{"./utils":437,"minimalistic-assert":453}],428:[function(r,i,s){var n=r("./utils"),o=r("minimalistic-assert");function a(u,l,c){if(!(this instanceof a))return new a(u,l,c);this.Hash=u,this.blockSize=u.blockSize/8,this.outSize=u.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(l,c))}i.exports=a,a.prototype._init=function(u){u.length>this.blockSize&&(u=new this.Hash().update(u).digest()),o(u.length<=this.blockSize);for(var l=u.length;l<this.blockSize;l++)u.push(0);for(l=0;l<u.length;l++)u[l]^=54;for(this.inner=new this.Hash().update(u),l=0;l<u.length;l++)u[l]^=106;this.outer=new this.Hash().update(u)},a.prototype.update=function(u,l){return this.inner.update(u,l),this},a.prototype.digest=function(u){return this.outer.update(this.inner.digest()),this.outer.digest(u)}},{"./utils":437,"minimalistic-assert":453}],429:[function(r,i,s){var n=r("./utils"),o=r("./common"),a=n.rotl32,u=n.sum32,l=n.sum32_3,c=n.sum32_4,h=o.BlockHash;function d(){if(!(this instanceof d))return new d;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function p(_,A,F,G){return _<=15?A^F^G:_<=31?A&F|~A&G:_<=47?(A|~F)^G:_<=63?A&G|F&~G:A^(F|~G)}function g(_){return _<=15?0:_<=31?1518500249:_<=47?1859775393:_<=63?2400959708:2840853838}function v(_){return _<=15?1352829926:_<=31?1548603684:_<=47?1836072691:_<=63?2053994217:0}n.inherits(d,h),s.ripemd160=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(_,A){for(var F=this.h[0],G=this.h[1],L=this.h[2],O=this.h[3],V=this.h[4],z=F,H=G,T=L,M=O,x=V,C=0;C<80;C++){var S=u(a(c(F,p(C,G,L,O),_[f[C]+A],g(C)),m[C]),V);F=V,V=O,O=a(L,10),L=G,G=S,S=u(a(c(z,p(79-C,H,T,M),_[y[C]+A],v(C)),w[C]),x),z=x,x=M,M=a(T,10),T=H,H=S}S=l(this.h[1],L,M),this.h[1]=l(this.h[2],O,x),this.h[2]=l(this.h[3],V,z),this.h[3]=l(this.h[4],F,H),this.h[4]=l(this.h[0],G,T),this.h[0]=S},d.prototype._digest=function(_){return _==="hex"?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],w=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(r,i,s){s.sha1=r("./sha/1"),s.sha224=r("./sha/224"),s.sha256=r("./sha/256"),s.sha384=r("./sha/384"),s.sha512=r("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(r,i,s){var n=r("../utils"),o=r("../common"),a=r("./common"),u=n.rotl32,l=n.sum32,c=n.sum32_5,h=a.ft_1,d=o.BlockHash,p=[1518500249,1859775393,2400959708,3395469782];function g(){if(!(this instanceof g))return new g;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(g,d),i.exports=g,g.blockSize=512,g.outSize=160,g.hmacStrength=80,g.padLength=64,g.prototype._update=function(v,f){for(var y=this.W,m=0;m<16;m++)y[m]=v[f+m];for(;m<y.length;m++)y[m]=u(y[m-3]^y[m-8]^y[m-14]^y[m-16],1);var w=this.h[0],_=this.h[1],A=this.h[2],F=this.h[3],G=this.h[4];for(m=0;m<y.length;m++){var L=~~(m/20),O=c(u(w,5),h(L,_,A,F),G,y[m],p[L]);G=F,F=A,A=u(_,30),_=w,w=O}this.h[0]=l(this.h[0],w),this.h[1]=l(this.h[1],_),this.h[2]=l(this.h[2],A),this.h[3]=l(this.h[3],F),this.h[4]=l(this.h[4],G)},g.prototype._digest=function(v){return v==="hex"?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(r,i,s){var n=r("../utils"),o=r("./256");function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(a,o),i.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(u){return u==="hex"?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(r,i,s){var n=r("../utils"),o=r("../common"),a=r("./common"),u=r("minimalistic-assert"),l=n.sum32,c=n.sum32_4,h=n.sum32_5,d=a.ch32,p=a.maj32,g=a.s0_256,v=a.s1_256,f=a.g0_256,y=a.g1_256,m=o.BlockHash,w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _(){if(!(this instanceof _))return new _;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=w,this.W=new Array(64)}n.inherits(_,m),i.exports=_,_.blockSize=512,_.outSize=256,_.hmacStrength=192,_.padLength=64,_.prototype._update=function(A,F){for(var G=this.W,L=0;L<16;L++)G[L]=A[F+L];for(;L<G.length;L++)G[L]=c(y(G[L-2]),G[L-7],f(G[L-15]),G[L-16]);var O=this.h[0],V=this.h[1],z=this.h[2],H=this.h[3],T=this.h[4],M=this.h[5],x=this.h[6],C=this.h[7];for(u(this.k.length===G.length),L=0;L<G.length;L++){var S=h(C,v(T),d(T,M,x),this.k[L],G[L]),b=l(g(O),p(O,V,z));C=x,x=M,M=T,T=l(H,S),H=z,z=V,V=O,O=l(S,b)}this.h[0]=l(this.h[0],O),this.h[1]=l(this.h[1],V),this.h[2]=l(this.h[2],z),this.h[3]=l(this.h[3],H),this.h[4]=l(this.h[4],T),this.h[5]=l(this.h[5],M),this.h[6]=l(this.h[6],x),this.h[7]=l(this.h[7],C)},_.prototype._digest=function(A){return A==="hex"?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(r,i,s){var n=r("../utils"),o=r("./512");function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(a,o),i.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(u){return u==="hex"?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(r,i,s){var n=r("../utils"),o=r("../common"),a=r("minimalistic-assert"),u=n.rotr64_hi,l=n.rotr64_lo,c=n.shr64_hi,h=n.shr64_lo,d=n.sum64,p=n.sum64_hi,g=n.sum64_lo,v=n.sum64_4_hi,f=n.sum64_4_lo,y=n.sum64_5_hi,m=n.sum64_5_lo,w=o.BlockHash,_=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function A(){if(!(this instanceof A))return new A;w.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=_,this.W=new Array(160)}function F(b,E,R,I,k){var U=b&R^~b&k;return U<0&&(U+=4294967296),U}function G(b,E,R,I,k,U){var j=E&I^~E&U;return j<0&&(j+=4294967296),j}function L(b,E,R,I,k){var U=b&R^b&k^R&k;return U<0&&(U+=4294967296),U}function O(b,E,R,I,k,U){var j=E&I^E&U^I&U;return j<0&&(j+=4294967296),j}function V(b,E){var R=u(b,E,28)^u(E,b,2)^u(E,b,7);return R<0&&(R+=4294967296),R}function z(b,E){var R=l(b,E,28)^l(E,b,2)^l(E,b,7);return R<0&&(R+=4294967296),R}function H(b,E){var R=u(b,E,14)^u(b,E,18)^u(E,b,9);return R<0&&(R+=4294967296),R}function T(b,E){var R=l(b,E,14)^l(b,E,18)^l(E,b,9);return R<0&&(R+=4294967296),R}function M(b,E){var R=u(b,E,1)^u(b,E,8)^c(b,E,7);return R<0&&(R+=4294967296),R}function x(b,E){var R=l(b,E,1)^l(b,E,8)^h(b,E,7);return R<0&&(R+=4294967296),R}function C(b,E){var R=u(b,E,19)^u(E,b,29)^c(b,E,6);return R<0&&(R+=4294967296),R}function S(b,E){var R=l(b,E,19)^l(E,b,29)^h(b,E,6);return R<0&&(R+=4294967296),R}n.inherits(A,w),i.exports=A,A.blockSize=1024,A.outSize=512,A.hmacStrength=192,A.padLength=128,A.prototype._prepareBlock=function(b,E){for(var R=this.W,I=0;I<32;I++)R[I]=b[E+I];for(;I<R.length;I+=2){var k=C(R[I-4],R[I-3]),U=S(R[I-4],R[I-3]),j=R[I-14],X=R[I-13],N=M(R[I-30],R[I-29]),K=x(R[I-30],R[I-29]),P=R[I-32],D=R[I-31];R[I]=v(k,U,j,X,N,K,P,D),R[I+1]=f(k,U,j,X,N,K,P,D)}},A.prototype._update=function(b,E){this._prepareBlock(b,E);var R=this.W,I=this.h[0],k=this.h[1],U=this.h[2],j=this.h[3],X=this.h[4],N=this.h[5],K=this.h[6],P=this.h[7],D=this.h[8],W=this.h[9],Y=this.h[10],ee=this.h[11],Q=this.h[12],J=this.h[13],ne=this.h[14],oe=this.h[15];a(this.k.length===R.length);for(var Z=0;Z<R.length;Z+=2){var ie=ne,se=oe,ce=H(D,W),ue=T(D,W),de=F(D,W,Y,ee,Q),fe=G(D,W,Y,ee,Q,J),ge=this.k[Z],be=this.k[Z+1],_e=R[Z],Te=R[Z+1],Me=y(ie,se,ce,ue,de,fe,ge,be,_e,Te),Ke=m(ie,se,ce,ue,de,fe,ge,be,_e,Te);ie=V(I,k),se=z(I,k),ce=L(I,k,U,j,X),ue=O(I,k,U,j,X,N);var je=p(ie,se,ce,ue),$e=g(ie,se,ce,ue);ne=Q,oe=J,Q=Y,J=ee,Y=D,ee=W,D=p(K,P,Me,Ke),W=g(P,P,Me,Ke),K=X,P=N,X=U,N=j,U=I,j=k,I=p(Me,Ke,je,$e),k=g(Me,Ke,je,$e)}d(this.h,0,I,k),d(this.h,2,U,j),d(this.h,4,X,N),d(this.h,6,K,P),d(this.h,8,D,W),d(this.h,10,Y,ee),d(this.h,12,Q,J),d(this.h,14,ne,oe)},A.prototype._digest=function(b){return b==="hex"?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(r,i,s){var n=r("../utils").rotr32;function o(l,c,h){return l&c^~l&h}function a(l,c,h){return l&c^l&h^c&h}function u(l,c,h){return l^c^h}s.ft_1=function(l,c,h,d){return l===0?o(c,h,d):l===1||l===3?u(c,h,d):l===2?a(c,h,d):void 0},s.ch32=o,s.maj32=a,s.p32=u,s.s0_256=function(l){return n(l,2)^n(l,13)^n(l,22)},s.s1_256=function(l){return n(l,6)^n(l,11)^n(l,25)},s.g0_256=function(l){return n(l,7)^n(l,18)^l>>>3},s.g1_256=function(l){return n(l,17)^n(l,19)^l>>>10}},{"../utils":437}],437:[function(r,i,s){var n=r("minimalistic-assert"),o=r("inherits");function a(h,d){return(64512&h.charCodeAt(d))==55296&&!(d<0||d+1>=h.length)&&(64512&h.charCodeAt(d+1))==56320}function u(h){return(h>>>24|h>>>8&65280|h<<8&16711680|(255&h)<<24)>>>0}function l(h){return h.length===1?"0"+h:h}function c(h){return h.length===7?"0"+h:h.length===6?"00"+h:h.length===5?"000"+h:h.length===4?"0000"+h:h.length===3?"00000"+h:h.length===2?"000000"+h:h.length===1?"0000000"+h:h}s.inherits=o,s.toArray=function(h,d){if(Array.isArray(h))return h.slice();if(!h)return[];var p=[];if(typeof h=="string")if(d){if(d==="hex")for((h=h.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(h="0"+h),v=0;v<h.length;v+=2)p.push(parseInt(h[v]+h[v+1],16))}else for(var g=0,v=0;v<h.length;v++){var f=h.charCodeAt(v);f<128?p[g++]=f:f<2048?(p[g++]=f>>6|192,p[g++]=63&f|128):a(h,v)?(f=65536+((1023&f)<<10)+(1023&h.charCodeAt(++v)),p[g++]=f>>18|240,p[g++]=f>>12&63|128,p[g++]=f>>6&63|128,p[g++]=63&f|128):(p[g++]=f>>12|224,p[g++]=f>>6&63|128,p[g++]=63&f|128)}else for(v=0;v<h.length;v++)p[v]=0|h[v];return p},s.toHex=function(h){for(var d="",p=0;p<h.length;p++)d+=l(h[p].toString(16));return d},s.htonl=u,s.toHex32=function(h,d){for(var p="",g=0;g<h.length;g++){var v=h[g];d==="little"&&(v=u(v)),p+=c(v.toString(16))}return p},s.zero2=l,s.zero8=c,s.join32=function(h,d,p,g){var v=p-d;n(v%4==0);for(var f=new Array(v/4),y=0,m=d;y<f.length;y++,m+=4){var w;w=g==="big"?h[m]<<24|h[m+1]<<16|h[m+2]<<8|h[m+3]:h[m+3]<<24|h[m+2]<<16|h[m+1]<<8|h[m],f[y]=w>>>0}return f},s.split32=function(h,d){for(var p=new Array(4*h.length),g=0,v=0;g<h.length;g++,v+=4){var f=h[g];d==="big"?(p[v]=f>>>24,p[v+1]=f>>>16&255,p[v+2]=f>>>8&255,p[v+3]=255&f):(p[v+3]=f>>>24,p[v+2]=f>>>16&255,p[v+1]=f>>>8&255,p[v]=255&f)}return p},s.rotr32=function(h,d){return h>>>d|h<<32-d},s.rotl32=function(h,d){return h<<d|h>>>32-d},s.sum32=function(h,d){return h+d>>>0},s.sum32_3=function(h,d,p){return h+d+p>>>0},s.sum32_4=function(h,d,p,g){return h+d+p+g>>>0},s.sum32_5=function(h,d,p,g,v){return h+d+p+g+v>>>0},s.sum64=function(h,d,p,g){var v=h[d],f=g+h[d+1]>>>0,y=(f<g?1:0)+p+v;h[d]=y>>>0,h[d+1]=f},s.sum64_hi=function(h,d,p,g){return(d+g>>>0<d?1:0)+h+p>>>0},s.sum64_lo=function(h,d,p,g){return d+g>>>0},s.sum64_4_hi=function(h,d,p,g,v,f,y,m){var w=0,_=d;return w+=(_=_+g>>>0)<d?1:0,w+=(_=_+f>>>0)<f?1:0,h+p+v+y+(w+=(_=_+m>>>0)<m?1:0)>>>0},s.sum64_4_lo=function(h,d,p,g,v,f,y,m){return d+g+f+m>>>0},s.sum64_5_hi=function(h,d,p,g,v,f,y,m,w,_){var A=0,F=d;return A+=(F=F+g>>>0)<d?1:0,A+=(F=F+f>>>0)<f?1:0,A+=(F=F+m>>>0)<m?1:0,h+p+v+y+w+(A+=(F=F+_>>>0)<_?1:0)>>>0},s.sum64_5_lo=function(h,d,p,g,v,f,y,m,w,_){return d+g+f+m+_>>>0},s.rotr64_hi=function(h,d,p){return(d<<32-p|h>>>p)>>>0},s.rotr64_lo=function(h,d,p){return(h<<32-p|d>>>p)>>>0},s.shr64_hi=function(h,d,p){return h>>>p},s.shr64_lo=function(h,d,p){return(h<<32-p|d>>>p)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(r,i,s){var n=r("hash.js"),o=r("minimalistic-crypto-utils"),a=r("minimalistic-assert");function u(l){if(!(this instanceof u))return new u(l);this.hash=l.hash,this.predResist=!!l.predResist,this.outLen=this.hash.outSize,this.minEntropy=l.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var c=o.toArray(l.entropy,l.entropyEnc||"hex"),h=o.toArray(l.nonce,l.nonceEnc||"hex"),d=o.toArray(l.pers,l.persEnc||"hex");a(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(c,h,d)}i.exports=u,u.prototype._init=function(l,c,h){var d=l.concat(c).concat(h);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var p=0;p<this.V.length;p++)this.K[p]=0,this.V[p]=1;this._update(d),this._reseed=1,this.reseedInterval=281474976710656},u.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},u.prototype._update=function(l){var c=this._hmac().update(this.V).update([0]);l&&(c=c.update(l)),this.K=c.digest(),this.V=this._hmac().update(this.V).digest(),l&&(this.K=this._hmac().update(this.V).update([1]).update(l).digest(),this.V=this._hmac().update(this.V).digest())},u.prototype.reseed=function(l,c,h,d){typeof c!="string"&&(d=h,h=c,c=null),l=o.toArray(l,c),h=o.toArray(h,d),a(l.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(l.concat(h||[])),this._reseed=1},u.prototype.generate=function(l,c,h,d){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof c!="string"&&(d=h,h=c,c=null),h&&(h=o.toArray(h,d||"hex"),this._update(h));for(var p=[];p.length<l;)this.V=this._hmac().update(this.V).digest(),p=p.concat(this.V);var g=p.slice(0,l);return this._update(h),this._reseed++,o.encode(g,c)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(r,i,s){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */s.read=function(n,o,a,u,l){var c,h,d=8*l-u-1,p=(1<<d)-1,g=p>>1,v=-7,f=a?l-1:0,y=a?-1:1,m=n[o+f];for(f+=y,c=m&(1<<-v)-1,m>>=-v,v+=d;v>0;c=256*c+n[o+f],f+=y,v-=8);for(h=c&(1<<-v)-1,c>>=-v,v+=u;v>0;h=256*h+n[o+f],f+=y,v-=8);if(c===0)c=1-g;else{if(c===p)return h?NaN:1/0*(m?-1:1);h+=Math.pow(2,u),c-=g}return(m?-1:1)*h*Math.pow(2,c-u)},s.write=function(n,o,a,u,l,c){var h,d,p,g=8*c-l-1,v=(1<<g)-1,f=v>>1,y=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=u?0:c-1,w=u?1:-1,_=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(d=isNaN(o)?1:0,h=v):(h=Math.floor(Math.log(o)/Math.LN2),o*(p=Math.pow(2,-h))<1&&(h--,p*=2),(o+=h+f>=1?y/p:y*Math.pow(2,1-f))*p>=2&&(h++,p/=2),h+f>=v?(d=0,h=v):h+f>=1?(d=(o*p-1)*Math.pow(2,l),h+=f):(d=o*Math.pow(2,f-1)*Math.pow(2,l),h=0));l>=8;n[a+m]=255&d,m+=w,d/=256,l-=8);for(h=h<<l|d,g+=l;g>0;n[a+m]=255&h,m+=w,h/=256,g-=8);n[a+m-w]|=128*_}},{}],440:[function(r,i,s){typeof Object.create=="function"?i.exports=function(n,o){o&&(n.super_=o,n.prototype=Object.create(o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:i.exports=function(n,o){if(o){n.super_=o;var a=function(){};a.prototype=o.prototype,n.prototype=new a,n.prototype.constructor=n}}},{}],441:[function(r,i,s){(function(n,o,a,u,l,c,h,d){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(p){typeof s=="object"&&i!==void 0?i.exports=p():(typeof window<"u"?window:o!==void 0?o:typeof self<"u"?self:this).JSZip=p()})(function(){return function p(g,v,f){function y(_,A){if(!v[_]){if(!g[_]){var F=typeof r=="function"&&r;if(!A&&F)return F(_,!0);if(m)return m(_,!0);var G=new Error("Cannot find module '"+_+"'");throw G.code="MODULE_NOT_FOUND",G}var L=v[_]={exports:{}};g[_][0].call(L.exports,function(O){return y(g[_][1][O]||O)},L,L.exports,p,g,v,f)}return v[_].exports}for(var m=typeof r=="function"&&r,w=0;w<f.length;w++)y(f[w]);return y}({1:[function(p,g,v){var f=p("./utils"),y=p("./support"),m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";v.encode=function(w){for(var _,A,F,G,L,O,V,z=[],H=0,T=w.length,M=T,x=f.getTypeOf(w)!=="string";H<w.length;)M=T-H,F=x?(_=w[H++],A=H<T?w[H++]:0,H<T?w[H++]:0):(_=w.charCodeAt(H++),A=H<T?w.charCodeAt(H++):0,H<T?w.charCodeAt(H++):0),G=_>>2,L=(3&_)<<4|A>>4,O=1<M?(15&A)<<2|F>>6:64,V=2<M?63&F:64,z.push(m.charAt(G)+m.charAt(L)+m.charAt(O)+m.charAt(V));return z.join("")},v.decode=function(w){var _,A,F,G,L,O,V=0,z=0,H="data:";if(w.substr(0,H.length)===H)throw new Error("Invalid base64 input, it looks like a data url.");var T,M=3*(w=w.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(w.charAt(w.length-1)===m.charAt(64)&&M--,w.charAt(w.length-2)===m.charAt(64)&&M--,M%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=y.uint8array?new Uint8Array(0|M):new Array(0|M);V<w.length;)_=m.indexOf(w.charAt(V++))<<2|(G=m.indexOf(w.charAt(V++)))>>4,A=(15&G)<<4|(L=m.indexOf(w.charAt(V++)))>>2,F=(3&L)<<6|(O=m.indexOf(w.charAt(V++))),T[z++]=_,L!==64&&(T[z++]=A),O!==64&&(T[z++]=F);return T}},{"./support":30,"./utils":32}],2:[function(p,g,v){var f=p("./external"),y=p("./stream/DataWorker"),m=p("./stream/Crc32Probe"),w=p("./stream/DataLengthProbe");function _(A,F,G,L,O){this.compressedSize=A,this.uncompressedSize=F,this.crc32=G,this.compression=L,this.compressedContent=O}_.prototype={getContentWorker:function(){var A=new y(f.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new w("data_length")),F=this;return A.on("end",function(){if(this.streamInfo.data_length!==F.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),A},getCompressedWorker:function(){return new y(f.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},_.createWorkerFrom=function(A,F,G){return A.pipe(new m).pipe(new w("uncompressedSize")).pipe(F.compressWorker(G)).pipe(new w("compressedSize")).withStreamInfo("compression",F)},g.exports=_},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(p,g,v){var f=p("./stream/GenericWorker");v.STORE={magic:"\0\0",compressWorker:function(){return new f("STORE compression")},uncompressWorker:function(){return new f("STORE decompression")}},v.DEFLATE=p("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(p,g,v){var f=p("./utils"),y=function(){for(var m,w=[],_=0;_<256;_++){m=_;for(var A=0;A<8;A++)m=1&m?3988292384^m>>>1:m>>>1;w[_]=m}return w}();g.exports=function(m,w){return m!==void 0&&m.length?f.getTypeOf(m)!=="string"?function(_,A,F,G){var L=y,O=0+F;_^=-1;for(var V=0;V<O;V++)_=_>>>8^L[255&(_^A[V])];return-1^_}(0|w,m,m.length):function(_,A,F,G){var L=y,O=0+F;_^=-1;for(var V=0;V<O;V++)_=_>>>8^L[255&(_^A.charCodeAt(V))];return-1^_}(0|w,m,m.length):0}},{"./utils":32}],5:[function(p,g,v){v.base64=!1,v.binary=!1,v.dir=!1,v.createFolders=!0,v.date=null,v.compression=null,v.compressionOptions=null,v.comment=null,v.unixPermissions=null,v.dosPermissions=null},{}],6:[function(p,g,v){var f;f=typeof Promise<"u"?Promise:p("lie"),g.exports={Promise:f}},{lie:37}],7:[function(p,g,v){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",y=p("pako"),m=p("./utils"),w=p("./stream/GenericWorker"),_=f?"uint8array":"array";function A(F,G){w.call(this,"FlateWorker/"+F),this._pako=null,this._pakoAction=F,this._pakoOptions=G,this.meta={}}v.magic="\b\0",m.inherits(A,w),A.prototype.processChunk=function(F){this.meta=F.meta,this._pako===null&&this._createPako(),this._pako.push(m.transformTo(_,F.data),!1)},A.prototype.flush=function(){w.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},A.prototype.cleanUp=function(){w.prototype.cleanUp.call(this),this._pako=null},A.prototype._createPako=function(){this._pako=new y[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var F=this;this._pako.onData=function(G){F.push({data:G,meta:F.meta})}},v.compressWorker=function(F){return new A("Deflate",F)},v.uncompressWorker=function(){return new A("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(p,g,v){function f(L,O){var V,z="";for(V=0;V<O;V++)z+=String.fromCharCode(255&L),L>>>=8;return z}function y(L,O,V,z,H,T){var M,x,C=L.file,S=L.compression,b=T!==_.utf8encode,E=m.transformTo("string",T(C.name)),R=m.transformTo("string",_.utf8encode(C.name)),I=C.comment,k=m.transformTo("string",T(I)),U=m.transformTo("string",_.utf8encode(I)),j=R.length!==C.name.length,X=U.length!==I.length,N="",K="",P="",D=C.dir,W=C.date,Y={crc32:0,compressedSize:0,uncompressedSize:0};O&&!V||(Y.crc32=L.crc32,Y.compressedSize=L.compressedSize,Y.uncompressedSize=L.uncompressedSize);var ee=0;O&&(ee|=8),b||!j&&!X||(ee|=2048);var Q=0,J=0;D&&(Q|=16),H==="UNIX"?(J=798,Q|=function(oe,Z){var ie=oe;return oe||(ie=Z?16893:33204),(65535&ie)<<16}(C.unixPermissions,D)):(J=20,Q|=function(oe){return 63&(oe||0)}(C.dosPermissions)),M=W.getUTCHours(),M<<=6,M|=W.getUTCMinutes(),M<<=5,M|=W.getUTCSeconds()/2,x=W.getUTCFullYear()-1980,x<<=4,x|=W.getUTCMonth()+1,x<<=5,x|=W.getUTCDate(),j&&(K=f(1,1)+f(A(E),4)+R,N+="up"+f(K.length,2)+K),X&&(P=f(1,1)+f(A(k),4)+U,N+="uc"+f(P.length,2)+P);var ne="";return ne+=`
\0`,ne+=f(ee,2),ne+=S.magic,ne+=f(M,2),ne+=f(x,2),ne+=f(Y.crc32,4),ne+=f(Y.compressedSize,4),ne+=f(Y.uncompressedSize,4),ne+=f(E.length,2),ne+=f(N.length,2),{fileRecord:F.LOCAL_FILE_HEADER+ne+E+N,dirRecord:F.CENTRAL_FILE_HEADER+f(J,2)+ne+f(k.length,2)+"\0\0\0\0"+f(Q,4)+f(z,4)+E+N+k}}var m=p("../utils"),w=p("../stream/GenericWorker"),_=p("../utf8"),A=p("../crc32"),F=p("../signature");function G(L,O,V,z){w.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=O,this.zipPlatform=V,this.encodeFileName=z,this.streamFiles=L,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}m.inherits(G,w),G.prototype.push=function(L){var O=L.meta.percent||0,V=this.entriesCount,z=this._sources.length;this.accumulate?this.contentBuffer.push(L):(this.bytesWritten+=L.data.length,w.prototype.push.call(this,{data:L.data,meta:{currentFile:this.currentFile,percent:V?(O+100*(V-z-1))/V:100}}))},G.prototype.openedSource=function(L){this.currentSourceOffset=this.bytesWritten,this.currentFile=L.file.name;var O=this.streamFiles&&!L.file.dir;if(O){var V=y(L,O,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:V.fileRecord,meta:{percent:0}})}else this.accumulate=!0},G.prototype.closedSource=function(L){this.accumulate=!1;var O=this.streamFiles&&!L.file.dir,V=y(L,O,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(V.dirRecord),O)this.push({data:function(z){return F.DATA_DESCRIPTOR+f(z.crc32,4)+f(z.compressedSize,4)+f(z.uncompressedSize,4)}(L),meta:{percent:100}});else for(this.push({data:V.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},G.prototype.flush=function(){for(var L=this.bytesWritten,O=0;O<this.dirRecords.length;O++)this.push({data:this.dirRecords[O],meta:{percent:100}});var V=this.bytesWritten-L,z=function(H,T,M,x,C){var S=m.transformTo("string",C(x));return F.CENTRAL_DIRECTORY_END+"\0\0\0\0"+f(H,2)+f(H,2)+f(T,4)+f(M,4)+f(S.length,2)+S}(this.dirRecords.length,V,L,this.zipComment,this.encodeFileName);this.push({data:z,meta:{percent:100}})},G.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},G.prototype.registerPrevious=function(L){this._sources.push(L);var O=this;return L.on("data",function(V){O.processChunk(V)}),L.on("end",function(){O.closedSource(O.previous.streamInfo),O._sources.length?O.prepareNextSource():O.end()}),L.on("error",function(V){O.error(V)}),this},G.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},G.prototype.error=function(L){var O=this._sources;if(!w.prototype.error.call(this,L))return!1;for(var V=0;V<O.length;V++)try{O[V].error(L)}catch{}return!0},G.prototype.lock=function(){w.prototype.lock.call(this);for(var L=this._sources,O=0;O<L.length;O++)L[O].lock()},g.exports=G},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(p,g,v){var f=p("../compressions"),y=p("./ZipFileWorker");v.generateWorker=function(m,w,_){var A=new y(w.streamFiles,_,w.platform,w.encodeFileName),F=0;try{m.forEach(function(G,L){F++;var O=function(T,M){var x=T||M,C=f[x];if(!C)throw new Error(x+" is not a valid compression method !");return C}(L.options.compression,w.compression),V=L.options.compressionOptions||w.compressionOptions||{},z=L.dir,H=L.date;L._compressWorker(O,V).withStreamInfo("file",{name:G,dir:z,date:H,comment:L.comment||"",unixPermissions:L.unixPermissions,dosPermissions:L.dosPermissions}).pipe(A)}),A.entriesCount=F}catch(G){A.error(G)}return A}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(p,g,v){function f(){if(!(this instanceof f))return new f;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var y=new f;for(var m in this)typeof this[m]!="function"&&(y[m]=this[m]);return y}}(f.prototype=p("./object")).loadAsync=p("./load"),f.support=p("./support"),f.defaults=p("./defaults"),f.version="3.10.1",f.loadAsync=function(y,m){return new f().loadAsync(y,m)},f.external=p("./external"),g.exports=f},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(p,g,v){var f=p("./utils"),y=p("./external"),m=p("./utf8"),w=p("./zipEntries"),_=p("./stream/Crc32Probe"),A=p("./nodejsUtils");function F(G){return new y.Promise(function(L,O){var V=G.decompressed.getContentWorker().pipe(new _);V.on("error",function(z){O(z)}).on("end",function(){V.streamInfo.crc32!==G.decompressed.crc32?O(new Error("Corrupted zip : CRC32 mismatch")):L()}).resume()})}g.exports=function(G,L){var O=this;return L=f.extend(L||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:m.utf8decode}),A.isNode&&A.isStream(G)?y.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):f.prepareContent("the loaded zip file",G,!0,L.optimizedBinaryString,L.base64).then(function(V){var z=new w(L);return z.load(V),z}).then(function(V){var z=[y.Promise.resolve(V)],H=V.files;if(L.checkCRC32)for(var T=0;T<H.length;T++)z.push(F(H[T]));return y.Promise.all(z)}).then(function(V){for(var z=V.shift(),H=z.files,T=0;T<H.length;T++){var M=H[T],x=M.fileNameStr,C=f.resolve(M.fileNameStr);O.file(C,M.decompressed,{binary:!0,optimizedBinaryString:!0,date:M.date,dir:M.dir,comment:M.fileCommentStr.length?M.fileCommentStr:null,unixPermissions:M.unixPermissions,dosPermissions:M.dosPermissions,createFolders:L.createFolders}),M.dir||(O.file(C).unsafeOriginalName=x)}return z.zipComment.length&&(O.comment=z.zipComment),O})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(p,g,v){var f=p("../utils"),y=p("../stream/GenericWorker");function m(w,_){y.call(this,"Nodejs stream input adapter for "+w),this._upstreamEnded=!1,this._bindStream(_)}f.inherits(m,y),m.prototype._bindStream=function(w){var _=this;(this._stream=w).pause(),w.on("data",function(A){_.push({data:A,meta:{percent:0}})}).on("error",function(A){_.isPaused?this.generatedError=A:_.error(A)}).on("end",function(){_.isPaused?_._upstreamEnded=!0:_.end()})},m.prototype.pause=function(){return!!y.prototype.pause.call(this)&&(this._stream.pause(),!0)},m.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},g.exports=m},{"../stream/GenericWorker":28,"../utils":32}],13:[function(p,g,v){var f=p("readable-stream").Readable;function y(m,w,_){f.call(this,w),this._helper=m;var A=this;m.on("data",function(F,G){A.push(F)||A._helper.pause(),_&&_(G)}).on("error",function(F){A.emit("error",F)}).on("end",function(){A.push(null)})}p("../utils").inherits(y,f),y.prototype._read=function(){this._helper.resume()},g.exports=y},{"../utils":32,"readable-stream":16}],14:[function(p,g,v){g.exports={isNode:a!==void 0,newBufferFrom:function(f,y){if(a.from&&a.from!==Uint8Array.from)return a.from(f,y);if(typeof f=="number")throw new Error('The "data" argument must not be a number');return new a(f,y)},allocBuffer:function(f){if(a.alloc)return a.alloc(f);var y=new a(f);return y.fill(0),y},isBuffer:function(f){return a.isBuffer(f)},isStream:function(f){return f&&typeof f.on=="function"&&typeof f.pause=="function"&&typeof f.resume=="function"}}},{}],15:[function(p,g,v){function f(C,S,b){var E,R=m.getTypeOf(S),I=m.extend(b||{},A);I.date=I.date||new Date,I.compression!==null&&(I.compression=I.compression.toUpperCase()),typeof I.unixPermissions=="string"&&(I.unixPermissions=parseInt(I.unixPermissions,8)),I.unixPermissions&&16384&I.unixPermissions&&(I.dir=!0),I.dosPermissions&&16&I.dosPermissions&&(I.dir=!0),I.dir&&(C=H(C)),I.createFolders&&(E=z(C))&&T.call(this,E,!0);var k=R==="string"&&I.binary===!1&&I.base64===!1;b&&b.binary!==void 0||(I.binary=!k),(S instanceof F&&S.uncompressedSize===0||I.dir||!S||S.length===0)&&(I.base64=!1,I.binary=!0,S="",I.compression="STORE",R="string");var U;U=S instanceof F||S instanceof w?S:O.isNode&&O.isStream(S)?new V(C,S):m.prepareContent(C,S,I.binary,I.optimizedBinaryString,I.base64);var j=new G(C,U,I);this.files[C]=j}var y=p("./utf8"),m=p("./utils"),w=p("./stream/GenericWorker"),_=p("./stream/StreamHelper"),A=p("./defaults"),F=p("./compressedObject"),G=p("./zipObject"),L=p("./generate"),O=p("./nodejsUtils"),V=p("./nodejs/NodejsStreamInputAdapter"),z=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var S=C.lastIndexOf("/");return 0<S?C.substring(0,S):""},H=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},T=function(C,S){return S=S!==void 0?S:A.createFolders,C=H(C),this.files[C]||f.call(this,C,null,{dir:!0,createFolders:S}),this.files[C]};function M(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var S,b,E;for(S in this.files)E=this.files[S],(b=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&C(b,E)},filter:function(C){var S=[];return this.forEach(function(b,E){C(b,E)&&S.push(E)}),S},file:function(C,S,b){if(arguments.length!==1)return C=this.root+C,f.call(this,C,S,b),this;if(M(C)){var E=C;return this.filter(function(I,k){return!k.dir&&E.test(I)})}var R=this.files[this.root+C];return R&&!R.dir?R:null},folder:function(C){if(!C)return this;if(M(C))return this.filter(function(R,I){return I.dir&&C.test(R)});var S=this.root+C,b=T.call(this,S),E=this.clone();return E.root=b.name,E},remove:function(C){C=this.root+C;var S=this.files[C];if(S||(C.slice(-1)!=="/"&&(C+="/"),S=this.files[C]),S&&!S.dir)delete this.files[C];else for(var b=this.filter(function(R,I){return I.name.slice(0,C.length)===C}),E=0;E<b.length;E++)delete this.files[b[E].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var S,b={};try{if((b=m.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:y.utf8encode})).type=b.type.toLowerCase(),b.compression=b.compression.toUpperCase(),b.type==="binarystring"&&(b.type="string"),!b.type)throw new Error("No output type specified.");m.checkSupport(b.type),b.platform!=="darwin"&&b.platform!=="freebsd"&&b.platform!=="linux"&&b.platform!=="sunos"||(b.platform="UNIX"),b.platform==="win32"&&(b.platform="DOS");var E=b.comment||this.comment||"";S=L.generateWorker(this,b,E)}catch(R){(S=new w("error")).error(R)}return new _(S,b.type||"string",b.mimeType)},generateAsync:function(C,S){return this.generateInternalStream(C).accumulate(S)},generateNodeStream:function(C,S){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(S)}};g.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(p,g,v){g.exports=p("stream")},{stream:void 0}],17:[function(p,g,v){var f=p("./DataReader");function y(m){f.call(this,m);for(var w=0;w<this.data.length;w++)m[w]=255&m[w]}p("../utils").inherits(y,f),y.prototype.byteAt=function(m){return this.data[this.zero+m]},y.prototype.lastIndexOfSignature=function(m){for(var w=m.charCodeAt(0),_=m.charCodeAt(1),A=m.charCodeAt(2),F=m.charCodeAt(3),G=this.length-4;0<=G;--G)if(this.data[G]===w&&this.data[G+1]===_&&this.data[G+2]===A&&this.data[G+3]===F)return G-this.zero;return-1},y.prototype.readAndCheckSignature=function(m){var w=m.charCodeAt(0),_=m.charCodeAt(1),A=m.charCodeAt(2),F=m.charCodeAt(3),G=this.readData(4);return w===G[0]&&_===G[1]&&A===G[2]&&F===G[3]},y.prototype.readData=function(m){if(this.checkOffset(m),m===0)return[];var w=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,w},g.exports=y},{"../utils":32,"./DataReader":18}],18:[function(p,g,v){var f=p("../utils");function y(m){this.data=m,this.length=m.length,this.index=0,this.zero=0}y.prototype={checkOffset:function(m){this.checkIndex(this.index+m)},checkIndex:function(m){if(this.length<this.zero+m||m<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+m+"). Corrupted zip ?")},setIndex:function(m){this.checkIndex(m),this.index=m},skip:function(m){this.setIndex(this.index+m)},byteAt:function(){},readInt:function(m){var w,_=0;for(this.checkOffset(m),w=this.index+m-1;w>=this.index;w--)_=(_<<8)+this.byteAt(w);return this.index+=m,_},readString:function(m){return f.transformTo("string",this.readData(m))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var m=this.readInt(4);return new Date(Date.UTC(1980+(m>>25&127),(m>>21&15)-1,m>>16&31,m>>11&31,m>>5&63,(31&m)<<1))}},g.exports=y},{"../utils":32}],19:[function(p,g,v){var f=p("./Uint8ArrayReader");function y(m){f.call(this,m)}p("../utils").inherits(y,f),y.prototype.readData=function(m){this.checkOffset(m);var w=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,w},g.exports=y},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(p,g,v){var f=p("./DataReader");function y(m){f.call(this,m)}p("../utils").inherits(y,f),y.prototype.byteAt=function(m){return this.data.charCodeAt(this.zero+m)},y.prototype.lastIndexOfSignature=function(m){return this.data.lastIndexOf(m)-this.zero},y.prototype.readAndCheckSignature=function(m){return m===this.readData(4)},y.prototype.readData=function(m){this.checkOffset(m);var w=this.data.slice(this.zero+this.index,this.zero+this.index+m);return this.index+=m,w},g.exports=y},{"../utils":32,"./DataReader":18}],21:[function(p,g,v){var f=p("./ArrayReader");function y(m){f.call(this,m)}p("../utils").inherits(y,f),y.prototype.readData=function(m){if(this.checkOffset(m),m===0)return new Uint8Array(0);var w=this.data.subarray(this.zero+this.index,this.zero+this.index+m);return this.index+=m,w},g.exports=y},{"../utils":32,"./ArrayReader":17}],22:[function(p,g,v){var f=p("../utils"),y=p("../support"),m=p("./ArrayReader"),w=p("./StringReader"),_=p("./NodeBufferReader"),A=p("./Uint8ArrayReader");g.exports=function(F){var G=f.getTypeOf(F);return f.checkSupport(G),G!=="string"||y.uint8array?G==="nodebuffer"?new _(F):y.uint8array?new A(f.transformTo("uint8array",F)):new m(f.transformTo("array",F)):new w(F)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(p,g,v){v.LOCAL_FILE_HEADER="PK",v.CENTRAL_FILE_HEADER="PK",v.CENTRAL_DIRECTORY_END="PK",v.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",v.ZIP64_CENTRAL_DIRECTORY_END="PK",v.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(p,g,v){var f=p("./GenericWorker"),y=p("../utils");function m(w){f.call(this,"ConvertWorker to "+w),this.destType=w}y.inherits(m,f),m.prototype.processChunk=function(w){this.push({data:y.transformTo(this.destType,w.data),meta:w.meta})},g.exports=m},{"../utils":32,"./GenericWorker":28}],25:[function(p,g,v){var f=p("./GenericWorker"),y=p("../crc32");function m(){f.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}p("../utils").inherits(m,f),m.prototype.processChunk=function(w){this.streamInfo.crc32=y(w.data,this.streamInfo.crc32||0),this.push(w)},g.exports=m},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(p,g,v){var f=p("../utils"),y=p("./GenericWorker");function m(w){y.call(this,"DataLengthProbe for "+w),this.propName=w,this.withStreamInfo(w,0)}f.inherits(m,y),m.prototype.processChunk=function(w){if(w){var _=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=_+w.data.length}y.prototype.processChunk.call(this,w)},g.exports=m},{"../utils":32,"./GenericWorker":28}],27:[function(p,g,v){var f=p("../utils"),y=p("./GenericWorker");function m(w){y.call(this,"DataWorker");var _=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,w.then(function(A){_.dataIsReady=!0,_.data=A,_.max=A&&A.length||0,_.type=f.getTypeOf(A),_.isPaused||_._tickAndRepeat()},function(A){_.error(A)})}f.inherits(m,y),m.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this.data=null},m.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,f.delay(this._tickAndRepeat,[],this)),!0)},m.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(f.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},m.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var w=null,_=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":w=this.data.substring(this.index,_);break;case"uint8array":w=this.data.subarray(this.index,_);break;case"array":case"nodebuffer":w=this.data.slice(this.index,_)}return this.index=_,this.push({data:w,meta:{percent:this.max?this.index/this.max*100:0}})},g.exports=m},{"../utils":32,"./GenericWorker":28}],28:[function(p,g,v){function f(y){this.name=y||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}f.prototype={push:function(y){this.emit("data",y)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(y){this.emit("error",y)}return!0},error:function(y){return!this.isFinished&&(this.isPaused?this.generatedError=y:(this.isFinished=!0,this.emit("error",y),this.previous&&this.previous.error(y),this.cleanUp()),!0)},on:function(y,m){return this._listeners[y].push(m),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(y,m){if(this._listeners[y])for(var w=0;w<this._listeners[y].length;w++)this._listeners[y][w].call(this,m)},pipe:function(y){return y.registerPrevious(this)},registerPrevious:function(y){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=y.streamInfo,this.mergeStreamInfo(),this.previous=y;var m=this;return y.on("data",function(w){m.processChunk(w)}),y.on("end",function(){m.end()}),y.on("error",function(w){m.error(w)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var y=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),y=!0),this.previous&&this.previous.resume(),!y},flush:function(){},processChunk:function(y){this.push(y)},withStreamInfo:function(y,m){return this.extraStreamInfo[y]=m,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var y in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,y)&&(this.streamInfo[y]=this.extraStreamInfo[y])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var y="Worker "+this.name;return this.previous?this.previous+" -> "+y:y}},g.exports=f},{}],29:[function(p,g,v){var f=p("../utils"),y=p("./ConvertWorker"),m=p("./GenericWorker"),w=p("../base64"),_=p("../support"),A=p("../external"),F=null;if(_.nodestream)try{F=p("../nodejs/NodejsStreamOutputAdapter")}catch{}function G(L,O,V){var z=O;switch(O){case"blob":case"arraybuffer":z="uint8array";break;case"base64":z="string"}try{this._internalType=z,this._outputType=O,this._mimeType=V,f.checkSupport(z),this._worker=L.pipe(new y(z)),L.lock()}catch(H){this._worker=new m("error"),this._worker.error(H)}}G.prototype={accumulate:function(L){return function(O,V){return new A.Promise(function(z,H){var T=[],M=O._internalType,x=O._outputType,C=O._mimeType;O.on("data",function(S,b){T.push(S),V&&V(b)}).on("error",function(S){T=[],H(S)}).on("end",function(){try{var S=function(b,E,R){switch(b){case"blob":return f.newBlob(f.transformTo("arraybuffer",E),R);case"base64":return w.encode(E);default:return f.transformTo(b,E)}}(x,function(b,E){var R,I=0,k=null,U=0;for(R=0;R<E.length;R++)U+=E[R].length;switch(b){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(k=new Uint8Array(U),R=0;R<E.length;R++)k.set(E[R],I),I+=E[R].length;return k;case"nodebuffer":return a.concat(E);default:throw new Error("concat : unsupported type '"+b+"'")}}(M,T),C);z(S)}catch(b){H(b)}T=[]}).resume()})}(this,L)},on:function(L,O){var V=this;return L==="data"?this._worker.on(L,function(z){O.call(V,z.data,z.meta)}):this._worker.on(L,function(){f.delay(O,arguments,V)}),this},resume:function(){return f.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(L){if(f.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new F(this,{objectMode:this._outputType!=="nodebuffer"},L)}},g.exports=G},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(p,g,v){if(v.base64=!0,v.array=!0,v.string=!0,v.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",v.nodebuffer=a!==void 0,v.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")v.blob=!1;else{var f=new ArrayBuffer(0);try{v.blob=new Blob([f],{type:"application/zip"}).size===0}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);y.append(f),v.blob=y.getBlob("application/zip").size===0}catch{v.blob=!1}}}try{v.nodestream=!!p("readable-stream").Readable}catch{v.nodestream=!1}},{"readable-stream":16}],31:[function(p,g,v){for(var f=p("./utils"),y=p("./support"),m=p("./nodejsUtils"),w=p("./stream/GenericWorker"),_=new Array(256),A=0;A<256;A++)_[A]=252<=A?6:248<=A?5:240<=A?4:224<=A?3:192<=A?2:1;function F(){w.call(this,"utf-8 decode"),this.leftOver=null}function G(){w.call(this,"utf-8 encode")}_[254]=_[254]=1,v.utf8encode=function(L){return y.nodebuffer?m.newBufferFrom(L,"utf-8"):function(O){var V,z,H,T,M,x=O.length,C=0;for(T=0;T<x;T++)(64512&(z=O.charCodeAt(T)))==55296&&T+1<x&&(64512&(H=O.charCodeAt(T+1)))==56320&&(z=65536+(z-55296<<10)+(H-56320),T++),C+=z<128?1:z<2048?2:z<65536?3:4;for(V=y.uint8array?new Uint8Array(C):new Array(C),T=M=0;M<C;T++)(64512&(z=O.charCodeAt(T)))==55296&&T+1<x&&(64512&(H=O.charCodeAt(T+1)))==56320&&(z=65536+(z-55296<<10)+(H-56320),T++),z<128?V[M++]=z:(z<2048?V[M++]=192|z>>>6:(z<65536?V[M++]=224|z>>>12:(V[M++]=240|z>>>18,V[M++]=128|z>>>12&63),V[M++]=128|z>>>6&63),V[M++]=128|63&z);return V}(L)},v.utf8decode=function(L){return y.nodebuffer?f.transformTo("nodebuffer",L).toString("utf-8"):function(O){var V,z,H,T,M=O.length,x=new Array(2*M);for(V=z=0;V<M;)if((H=O[V++])<128)x[z++]=H;else if(4<(T=_[H]))x[z++]=65533,V+=T-1;else{for(H&=T===2?31:T===3?15:7;1<T&&V<M;)H=H<<6|63&O[V++],T--;1<T?x[z++]=65533:H<65536?x[z++]=H:(H-=65536,x[z++]=55296|H>>10&1023,x[z++]=56320|1023&H)}return x.length!==z&&(x.subarray?x=x.subarray(0,z):x.length=z),f.applyFromCharCode(x)}(L=f.transformTo(y.uint8array?"uint8array":"array",L))},f.inherits(F,w),F.prototype.processChunk=function(L){var O=f.transformTo(y.uint8array?"uint8array":"array",L.data);if(this.leftOver&&this.leftOver.length){if(y.uint8array){var V=O;(O=new Uint8Array(V.length+this.leftOver.length)).set(this.leftOver,0),O.set(V,this.leftOver.length)}else O=this.leftOver.concat(O);this.leftOver=null}var z=function(T,M){var x;for((M=M||T.length)>T.length&&(M=T.length),x=M-1;0<=x&&(192&T[x])==128;)x--;return x<0||x===0?M:x+_[T[x]]>M?x:M}(O),H=O;z!==O.length&&(y.uint8array?(H=O.subarray(0,z),this.leftOver=O.subarray(z,O.length)):(H=O.slice(0,z),this.leftOver=O.slice(z,O.length))),this.push({data:v.utf8decode(H),meta:L.meta})},F.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:v.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},v.Utf8DecodeWorker=F,f.inherits(G,w),G.prototype.processChunk=function(L){this.push({data:v.utf8encode(L.data),meta:L.meta})},v.Utf8EncodeWorker=G},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(p,g,v){var f=p("./support"),y=p("./base64"),m=p("./nodejsUtils"),w=p("./external");function _(V){return V}function A(V,z){for(var H=0;H<V.length;++H)z[H]=255&V.charCodeAt(H);return z}p("setimmediate"),v.newBlob=function(V,z){v.checkSupport("blob");try{return new Blob([V],{type:z})}catch{try{var H=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return H.append(V),H.getBlob(z)}catch{throw new Error("Bug : can't construct the Blob.")}}};var F={stringifyByChunk:function(V,z,H){var T=[],M=0,x=V.length;if(x<=H)return String.fromCharCode.apply(null,V);for(;M<x;)z==="array"||z==="nodebuffer"?T.push(String.fromCharCode.apply(null,V.slice(M,Math.min(M+H,x)))):T.push(String.fromCharCode.apply(null,V.subarray(M,Math.min(M+H,x)))),M+=H;return T.join("")},stringifyByChar:function(V){for(var z="",H=0;H<V.length;H++)z+=String.fromCharCode(V[H]);return z},applyCanBeUsed:{uint8array:function(){try{return f.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return f.nodebuffer&&String.fromCharCode.apply(null,m.allocBuffer(1)).length===1}catch{return!1}}()}};function G(V){var z=65536,H=v.getTypeOf(V),T=!0;if(H==="uint8array"?T=F.applyCanBeUsed.uint8array:H==="nodebuffer"&&(T=F.applyCanBeUsed.nodebuffer),T)for(;1<z;)try{return F.stringifyByChunk(V,H,z)}catch{z=Math.floor(z/2)}return F.stringifyByChar(V)}function L(V,z){for(var H=0;H<V.length;H++)z[H]=V[H];return z}v.applyFromCharCode=G;var O={};O.string={string:_,array:function(V){return A(V,new Array(V.length))},arraybuffer:function(V){return O.string.uint8array(V).buffer},uint8array:function(V){return A(V,new Uint8Array(V.length))},nodebuffer:function(V){return A(V,m.allocBuffer(V.length))}},O.array={string:G,array:_,arraybuffer:function(V){return new Uint8Array(V).buffer},uint8array:function(V){return new Uint8Array(V)},nodebuffer:function(V){return m.newBufferFrom(V)}},O.arraybuffer={string:function(V){return G(new Uint8Array(V))},array:function(V){return L(new Uint8Array(V),new Array(V.byteLength))},arraybuffer:_,uint8array:function(V){return new Uint8Array(V)},nodebuffer:function(V){return m.newBufferFrom(new Uint8Array(V))}},O.uint8array={string:G,array:function(V){return L(V,new Array(V.length))},arraybuffer:function(V){return V.buffer},uint8array:_,nodebuffer:function(V){return m.newBufferFrom(V)}},O.nodebuffer={string:G,array:function(V){return L(V,new Array(V.length))},arraybuffer:function(V){return O.nodebuffer.uint8array(V).buffer},uint8array:function(V){return L(V,new Uint8Array(V.length))},nodebuffer:_},v.transformTo=function(V,z){if(z=z||"",!V)return z;v.checkSupport(V);var H=v.getTypeOf(z);return O[H][V](z)},v.resolve=function(V){for(var z=V.split("/"),H=[],T=0;T<z.length;T++){var M=z[T];M==="."||M===""&&T!==0&&T!==z.length-1||(M===".."?H.pop():H.push(M))}return H.join("/")},v.getTypeOf=function(V){return typeof V=="string"?"string":Object.prototype.toString.call(V)==="[object Array]"?"array":f.nodebuffer&&m.isBuffer(V)?"nodebuffer":f.uint8array&&V instanceof Uint8Array?"uint8array":f.arraybuffer&&V instanceof ArrayBuffer?"arraybuffer":void 0},v.checkSupport=function(V){if(!f[V.toLowerCase()])throw new Error(V+" is not supported by this platform")},v.MAX_VALUE_16BITS=65535,v.MAX_VALUE_32BITS=-1,v.pretty=function(V){var z,H,T="";for(H=0;H<(V||"").length;H++)T+="\\x"+((z=V.charCodeAt(H))<16?"0":"")+z.toString(16).toUpperCase();return T},v.delay=function(V,z,H){d(function(){V.apply(H||null,z||[])})},v.inherits=function(V,z){function H(){}H.prototype=z.prototype,V.prototype=new H},v.extend=function(){var V,z,H={};for(V=0;V<arguments.length;V++)for(z in arguments[V])Object.prototype.hasOwnProperty.call(arguments[V],z)&&H[z]===void 0&&(H[z]=arguments[V][z]);return H},v.prepareContent=function(V,z,H,T,M){return w.Promise.resolve(z).then(function(x){return f.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new w.Promise(function(C,S){var b=new FileReader;b.onload=function(E){C(E.target.result)},b.onerror=function(E){S(E.target.error)},b.readAsArrayBuffer(x)}):x}).then(function(x){var C=v.getTypeOf(x);return C?(C==="arraybuffer"?x=v.transformTo("uint8array",x):C==="string"&&(M?x=y.decode(x):H&&T!==!0&&(x=function(S){return A(S,f.uint8array?new Uint8Array(S.length):new Array(S.length))}(x))),x):w.Promise.reject(new Error("Can't read the data of '"+V+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(p,g,v){var f=p("./reader/readerFor"),y=p("./utils"),m=p("./signature"),w=p("./zipEntry"),_=p("./support");function A(F){this.files=[],this.loadOptions=F}A.prototype={checkSignature:function(F){if(!this.reader.readAndCheckSignature(F)){this.reader.index-=4;var G=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+y.pretty(G)+", expected "+y.pretty(F)+")")}},isSignature:function(F,G){var L=this.reader.index;this.reader.setIndex(F);var O=this.reader.readString(4)===G;return this.reader.setIndex(L),O},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var F=this.reader.readData(this.zipCommentLength),G=_.uint8array?"uint8array":"array",L=y.transformTo(G,F);this.zipComment=this.loadOptions.decodeFileName(L)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var F,G,L,O=this.zip64EndOfCentralSize-44;0<O;)F=this.reader.readInt(2),G=this.reader.readInt(4),L=this.reader.readData(G),this.zip64ExtensibleData[F]={id:F,length:G,value:L}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var F,G;for(F=0;F<this.files.length;F++)G=this.files[F],this.reader.setIndex(G.localHeaderOffset),this.checkSignature(m.LOCAL_FILE_HEADER),G.readLocalPart(this.reader),G.handleUTF8(),G.processAttributes()},readCentralDir:function(){var F;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(m.CENTRAL_FILE_HEADER);)(F=new w({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(F);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var F=this.reader.lastIndexOfSignature(m.CENTRAL_DIRECTORY_END);if(F<0)throw this.isSignature(0,m.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(F);var G=F;if(this.checkSignature(m.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===y.MAX_VALUE_16BITS||this.diskWithCentralDirStart===y.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===y.MAX_VALUE_16BITS||this.centralDirRecords===y.MAX_VALUE_16BITS||this.centralDirSize===y.MAX_VALUE_32BITS||this.centralDirOffset===y.MAX_VALUE_32BITS){if(this.zip64=!0,(F=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(F),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,m.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(m.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var L=this.centralDirOffset+this.centralDirSize;this.zip64&&(L+=20,L+=12+this.zip64EndOfCentralSize);var O=G-L;if(0<O)this.isSignature(G,m.CENTRAL_FILE_HEADER)||(this.reader.zero=O);else if(O<0)throw new Error("Corrupted zip: missing "+Math.abs(O)+" bytes.")},prepareReader:function(F){this.reader=f(F)},load:function(F){this.prepareReader(F),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},g.exports=A},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(p,g,v){var f=p("./reader/readerFor"),y=p("./utils"),m=p("./compressedObject"),w=p("./crc32"),_=p("./utf8"),A=p("./compressions"),F=p("./support");function G(L,O){this.options=L,this.loadOptions=O}G.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(L){var O,V;if(L.skip(22),this.fileNameLength=L.readInt(2),V=L.readInt(2),this.fileName=L.readData(this.fileNameLength),L.skip(V),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((O=function(z){for(var H in A)if(Object.prototype.hasOwnProperty.call(A,H)&&A[H].magic===z)return A[H];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+y.pretty(this.compressionMethod)+" unknown (inner file : "+y.transformTo("string",this.fileName)+")");this.decompressed=new m(this.compressedSize,this.uncompressedSize,this.crc32,O,L.readData(this.compressedSize))},readCentralPart:function(L){this.versionMadeBy=L.readInt(2),L.skip(2),this.bitFlag=L.readInt(2),this.compressionMethod=L.readString(2),this.date=L.readDate(),this.crc32=L.readInt(4),this.compressedSize=L.readInt(4),this.uncompressedSize=L.readInt(4);var O=L.readInt(2);if(this.extraFieldsLength=L.readInt(2),this.fileCommentLength=L.readInt(2),this.diskNumberStart=L.readInt(2),this.internalFileAttributes=L.readInt(2),this.externalFileAttributes=L.readInt(4),this.localHeaderOffset=L.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");L.skip(O),this.readExtraFields(L),this.parseZIP64ExtraField(L),this.fileComment=L.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var L=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),L==0&&(this.dosPermissions=63&this.externalFileAttributes),L==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var L=f(this.extraFields[1].value);this.uncompressedSize===y.MAX_VALUE_32BITS&&(this.uncompressedSize=L.readInt(8)),this.compressedSize===y.MAX_VALUE_32BITS&&(this.compressedSize=L.readInt(8)),this.localHeaderOffset===y.MAX_VALUE_32BITS&&(this.localHeaderOffset=L.readInt(8)),this.diskNumberStart===y.MAX_VALUE_32BITS&&(this.diskNumberStart=L.readInt(4))}},readExtraFields:function(L){var O,V,z,H=L.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});L.index+4<H;)O=L.readInt(2),V=L.readInt(2),z=L.readData(V),this.extraFields[O]={id:O,length:V,value:z};L.setIndex(H)},handleUTF8:function(){var L=F.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=_.utf8decode(this.fileName),this.fileCommentStr=_.utf8decode(this.fileComment);else{var O=this.findExtraFieldUnicodePath();if(O!==null)this.fileNameStr=O;else{var V=y.transformTo(L,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(V)}var z=this.findExtraFieldUnicodeComment();if(z!==null)this.fileCommentStr=z;else{var H=y.transformTo(L,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(H)}}},findExtraFieldUnicodePath:function(){var L=this.extraFields[28789];if(L){var O=f(L.value);return O.readInt(1)!==1||w(this.fileName)!==O.readInt(4)?null:_.utf8decode(O.readData(L.length-5))}return null},findExtraFieldUnicodeComment:function(){var L=this.extraFields[25461];if(L){var O=f(L.value);return O.readInt(1)!==1||w(this.fileComment)!==O.readInt(4)?null:_.utf8decode(O.readData(L.length-5))}return null}},g.exports=G},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(p,g,v){function f(O,V,z){this.name=O,this.dir=z.dir,this.date=z.date,this.comment=z.comment,this.unixPermissions=z.unixPermissions,this.dosPermissions=z.dosPermissions,this._data=V,this._dataBinary=z.binary,this.options={compression:z.compression,compressionOptions:z.compressionOptions}}var y=p("./stream/StreamHelper"),m=p("./stream/DataWorker"),w=p("./utf8"),_=p("./compressedObject"),A=p("./stream/GenericWorker");f.prototype={internalStream:function(O){var V=null,z="string";try{if(!O)throw new Error("No output type specified.");var H=(z=O.toLowerCase())==="string"||z==="text";z!=="binarystring"&&z!=="text"||(z="string"),V=this._decompressWorker();var T=!this._dataBinary;T&&!H&&(V=V.pipe(new w.Utf8EncodeWorker)),!T&&H&&(V=V.pipe(new w.Utf8DecodeWorker))}catch(M){(V=new A("error")).error(M)}return new y(V,z,"")},async:function(O,V){return this.internalStream(O).accumulate(V)},nodeStream:function(O,V){return this.internalStream(O||"nodebuffer").toNodejsStream(V)},_compressWorker:function(O,V){if(this._data instanceof _&&this._data.compression.magic===O.magic)return this._data.getCompressedWorker();var z=this._decompressWorker();return this._dataBinary||(z=z.pipe(new w.Utf8EncodeWorker)),_.createWorkerFrom(z,O,V)},_decompressWorker:function(){return this._data instanceof _?this._data.getContentWorker():this._data instanceof A?this._data:new m(this._data)}};for(var F=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],G=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},L=0;L<F.length;L++)f.prototype[F[L]]=G;g.exports=f},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(p,g,v){(function(f){var y,m,w=f.MutationObserver||f.WebKitMutationObserver;if(w){var _=0,A=new w(O),F=f.document.createTextNode("");A.observe(F,{characterData:!0}),y=function(){F.data=_=++_%2}}else if(f.setImmediate||f.MessageChannel===void 0)y="document"in f&&"onreadystatechange"in f.document.createElement("script")?function(){var V=f.document.createElement("script");V.onreadystatechange=function(){O(),V.onreadystatechange=null,V.parentNode.removeChild(V),V=null},f.document.documentElement.appendChild(V)}:function(){setTimeout(O,0)};else{var G=new f.MessageChannel;G.port1.onmessage=O,y=function(){G.port2.postMessage(0)}}var L=[];function O(){var V,z;m=!0;for(var H=L.length;H;){for(z=L,L=[],V=-1;++V<H;)z[V]();H=L.length}m=!1}g.exports=function(V){L.push(V)!==1||m||y()}}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(p,g,v){var f=p("immediate");function y(){}var m={},w=["REJECTED"],_=["FULFILLED"],A=["PENDING"];function F(H){if(typeof H!="function")throw new TypeError("resolver must be a function");this.state=A,this.queue=[],this.outcome=void 0,H!==y&&V(this,H)}function G(H,T,M){this.promise=H,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof M=="function"&&(this.onRejected=M,this.callRejected=this.otherCallRejected)}function L(H,T,M){f(function(){var x;try{x=T(M)}catch(C){return m.reject(H,C)}x===H?m.reject(H,new TypeError("Cannot resolve promise with itself")):m.resolve(H,x)})}function O(H){var T=H&&H.then;if(H&&(typeof H=="object"||typeof H=="function")&&typeof T=="function")return function(){T.apply(H,arguments)}}function V(H,T){var M=!1;function x(b){M||(M=!0,m.reject(H,b))}function C(b){M||(M=!0,m.resolve(H,b))}var S=z(function(){T(C,x)});S.status==="error"&&x(S.value)}function z(H,T){var M={};try{M.value=H(T),M.status="success"}catch(x){M.status="error",M.value=x}return M}(g.exports=F).prototype.finally=function(H){if(typeof H!="function")return this;var T=this.constructor;return this.then(function(M){return T.resolve(H()).then(function(){return M})},function(M){return T.resolve(H()).then(function(){throw M})})},F.prototype.catch=function(H){return this.then(null,H)},F.prototype.then=function(H,T){if(typeof H!="function"&&this.state===_||typeof T!="function"&&this.state===w)return this;var M=new this.constructor(y);return this.state!==A?L(M,this.state===_?H:T,this.outcome):this.queue.push(new G(M,H,T)),M},G.prototype.callFulfilled=function(H){m.resolve(this.promise,H)},G.prototype.otherCallFulfilled=function(H){L(this.promise,this.onFulfilled,H)},G.prototype.callRejected=function(H){m.reject(this.promise,H)},G.prototype.otherCallRejected=function(H){L(this.promise,this.onRejected,H)},m.resolve=function(H,T){var M=z(O,T);if(M.status==="error")return m.reject(H,M.value);var x=M.value;if(x)V(H,x);else{H.state=_,H.outcome=T;for(var C=-1,S=H.queue.length;++C<S;)H.queue[C].callFulfilled(T)}return H},m.reject=function(H,T){H.state=w,H.outcome=T;for(var M=-1,x=H.queue.length;++M<x;)H.queue[M].callRejected(T);return H},F.resolve=function(H){return H instanceof this?H:m.resolve(new this(y),H)},F.reject=function(H){var T=new this(y);return m.reject(T,H)},F.all=function(H){var T=this;if(Object.prototype.toString.call(H)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=H.length,x=!1;if(!M)return this.resolve([]);for(var C=new Array(M),S=0,b=-1,E=new this(y);++b<M;)R(H[b],b);return E;function R(I,k){T.resolve(I).then(function(U){C[k]=U,++S!==M||x||(x=!0,m.resolve(E,C))},function(U){x||(x=!0,m.reject(E,U))})}},F.race=function(H){if(Object.prototype.toString.call(H)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=H.length,M=!1;if(!T)return this.resolve([]);for(var x,C=-1,S=new this(y);++C<T;)x=H[C],this.resolve(x).then(function(b){M||(M=!0,m.resolve(S,b))},function(b){M||(M=!0,m.reject(S,b))});return S}},{immediate:36}],38:[function(p,g,v){var f={};(0,p("./lib/utils/common").assign)(f,p("./lib/deflate"),p("./lib/inflate"),p("./lib/zlib/constants")),g.exports=f},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(p,g,v){var f=p("./zlib/deflate"),y=p("./utils/common"),m=p("./utils/strings"),w=p("./zlib/messages"),_=p("./zlib/zstream"),A=Object.prototype.toString;function F(L){if(!(this instanceof F))return new F(L);this.options=y.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},L||{});var O=this.options;O.raw&&0<O.windowBits?O.windowBits=-O.windowBits:O.gzip&&0<O.windowBits&&O.windowBits<16&&(O.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var V=f.deflateInit2(this.strm,O.level,O.method,O.windowBits,O.memLevel,O.strategy);if(V!==0)throw new Error(w[V]);if(O.header&&f.deflateSetHeader(this.strm,O.header),O.dictionary){var z;if(z=typeof O.dictionary=="string"?m.string2buf(O.dictionary):A.call(O.dictionary)==="[object ArrayBuffer]"?new Uint8Array(O.dictionary):O.dictionary,(V=f.deflateSetDictionary(this.strm,z))!==0)throw new Error(w[V]);this._dict_set=!0}}function G(L,O){var V=new F(O);if(V.push(L,!0),V.err)throw V.msg||w[V.err];return V.result}F.prototype.push=function(L,O){var V,z,H=this.strm,T=this.options.chunkSize;if(this.ended)return!1;z=O===~~O?O:O===!0?4:0,typeof L=="string"?H.input=m.string2buf(L):A.call(L)==="[object ArrayBuffer]"?H.input=new Uint8Array(L):H.input=L,H.next_in=0,H.avail_in=H.input.length;do{if(H.avail_out===0&&(H.output=new y.Buf8(T),H.next_out=0,H.avail_out=T),(V=f.deflate(H,z))!==1&&V!==0)return this.onEnd(V),!(this.ended=!0);H.avail_out!==0&&(H.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(m.buf2binstring(y.shrinkBuf(H.output,H.next_out))):this.onData(y.shrinkBuf(H.output,H.next_out)))}while((0<H.avail_in||H.avail_out===0)&&V!==1);return z===4?(V=f.deflateEnd(this.strm),this.onEnd(V),this.ended=!0,V===0):z!==2||(this.onEnd(0),!(H.avail_out=0))},F.prototype.onData=function(L){this.chunks.push(L)},F.prototype.onEnd=function(L){L===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg},v.Deflate=F,v.deflate=G,v.deflateRaw=function(L,O){return(O=O||{}).raw=!0,G(L,O)},v.gzip=function(L,O){return(O=O||{}).gzip=!0,G(L,O)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(p,g,v){var f=p("./zlib/inflate"),y=p("./utils/common"),m=p("./utils/strings"),w=p("./zlib/constants"),_=p("./zlib/messages"),A=p("./zlib/zstream"),F=p("./zlib/gzheader"),G=Object.prototype.toString;function L(V){if(!(this instanceof L))return new L(V);this.options=y.assign({chunkSize:16384,windowBits:0,to:""},V||{});var z=this.options;z.raw&&0<=z.windowBits&&z.windowBits<16&&(z.windowBits=-z.windowBits,z.windowBits===0&&(z.windowBits=-15)),!(0<=z.windowBits&&z.windowBits<16)||V&&V.windowBits||(z.windowBits+=32),15<z.windowBits&&z.windowBits<48&&!(15&z.windowBits)&&(z.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A,this.strm.avail_out=0;var H=f.inflateInit2(this.strm,z.windowBits);if(H!==w.Z_OK)throw new Error(_[H]);this.header=new F,f.inflateGetHeader(this.strm,this.header)}function O(V,z){var H=new L(z);if(H.push(V,!0),H.err)throw H.msg||_[H.err];return H.result}L.prototype.push=function(V,z){var H,T,M,x,C,S,b=this.strm,E=this.options.chunkSize,R=this.options.dictionary,I=!1;if(this.ended)return!1;T=z===~~z?z:z===!0?w.Z_FINISH:w.Z_NO_FLUSH,typeof V=="string"?b.input=m.binstring2buf(V):G.call(V)==="[object ArrayBuffer]"?b.input=new Uint8Array(V):b.input=V,b.next_in=0,b.avail_in=b.input.length;do{if(b.avail_out===0&&(b.output=new y.Buf8(E),b.next_out=0,b.avail_out=E),(H=f.inflate(b,w.Z_NO_FLUSH))===w.Z_NEED_DICT&&R&&(S=typeof R=="string"?m.string2buf(R):G.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,H=f.inflateSetDictionary(this.strm,S)),H===w.Z_BUF_ERROR&&I===!0&&(H=w.Z_OK,I=!1),H!==w.Z_STREAM_END&&H!==w.Z_OK)return this.onEnd(H),!(this.ended=!0);b.next_out&&(b.avail_out!==0&&H!==w.Z_STREAM_END&&(b.avail_in!==0||T!==w.Z_FINISH&&T!==w.Z_SYNC_FLUSH)||(this.options.to==="string"?(M=m.utf8border(b.output,b.next_out),x=b.next_out-M,C=m.buf2string(b.output,M),b.next_out=x,b.avail_out=E-x,x&&y.arraySet(b.output,b.output,M,x,0),this.onData(C)):this.onData(y.shrinkBuf(b.output,b.next_out)))),b.avail_in===0&&b.avail_out===0&&(I=!0)}while((0<b.avail_in||b.avail_out===0)&&H!==w.Z_STREAM_END);return H===w.Z_STREAM_END&&(T=w.Z_FINISH),T===w.Z_FINISH?(H=f.inflateEnd(this.strm),this.onEnd(H),this.ended=!0,H===w.Z_OK):T!==w.Z_SYNC_FLUSH||(this.onEnd(w.Z_OK),!(b.avail_out=0))},L.prototype.onData=function(V){this.chunks.push(V)},L.prototype.onEnd=function(V){V===w.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=y.flattenChunks(this.chunks)),this.chunks=[],this.err=V,this.msg=this.strm.msg},v.Inflate=L,v.inflate=O,v.inflateRaw=function(V,z){return(z=z||{}).raw=!0,O(V,z)},v.ungzip=O},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(p,g,v){var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";v.assign=function(w){for(var _=Array.prototype.slice.call(arguments,1);_.length;){var A=_.shift();if(A){if(typeof A!="object")throw new TypeError(A+"must be non-object");for(var F in A)A.hasOwnProperty(F)&&(w[F]=A[F])}}return w},v.shrinkBuf=function(w,_){return w.length===_?w:w.subarray?w.subarray(0,_):(w.length=_,w)};var y={arraySet:function(w,_,A,F,G){if(_.subarray&&w.subarray)w.set(_.subarray(A,A+F),G);else for(var L=0;L<F;L++)w[G+L]=_[A+L]},flattenChunks:function(w){var _,A,F,G,L,O;for(_=F=0,A=w.length;_<A;_++)F+=w[_].length;for(O=new Uint8Array(F),_=G=0,A=w.length;_<A;_++)L=w[_],O.set(L,G),G+=L.length;return O}},m={arraySet:function(w,_,A,F,G){for(var L=0;L<F;L++)w[G+L]=_[A+L]},flattenChunks:function(w){return[].concat.apply([],w)}};v.setTyped=function(w){w?(v.Buf8=Uint8Array,v.Buf16=Uint16Array,v.Buf32=Int32Array,v.assign(v,y)):(v.Buf8=Array,v.Buf16=Array,v.Buf32=Array,v.assign(v,m))},v.setTyped(f)},{}],42:[function(p,g,v){var f=p("./common"),y=!0,m=!0;try{String.fromCharCode.apply(null,[0])}catch{y=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{m=!1}for(var w=new f.Buf8(256),_=0;_<256;_++)w[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;function A(F,G){if(G<65537&&(F.subarray&&m||!F.subarray&&y))return String.fromCharCode.apply(null,f.shrinkBuf(F,G));for(var L="",O=0;O<G;O++)L+=String.fromCharCode(F[O]);return L}w[254]=w[254]=1,v.string2buf=function(F){var G,L,O,V,z,H=F.length,T=0;for(V=0;V<H;V++)(64512&(L=F.charCodeAt(V)))==55296&&V+1<H&&(64512&(O=F.charCodeAt(V+1)))==56320&&(L=65536+(L-55296<<10)+(O-56320),V++),T+=L<128?1:L<2048?2:L<65536?3:4;for(G=new f.Buf8(T),V=z=0;z<T;V++)(64512&(L=F.charCodeAt(V)))==55296&&V+1<H&&(64512&(O=F.charCodeAt(V+1)))==56320&&(L=65536+(L-55296<<10)+(O-56320),V++),L<128?G[z++]=L:(L<2048?G[z++]=192|L>>>6:(L<65536?G[z++]=224|L>>>12:(G[z++]=240|L>>>18,G[z++]=128|L>>>12&63),G[z++]=128|L>>>6&63),G[z++]=128|63&L);return G},v.buf2binstring=function(F){return A(F,F.length)},v.binstring2buf=function(F){for(var G=new f.Buf8(F.length),L=0,O=G.length;L<O;L++)G[L]=F.charCodeAt(L);return G},v.buf2string=function(F,G){var L,O,V,z,H=G||F.length,T=new Array(2*H);for(L=O=0;L<H;)if((V=F[L++])<128)T[O++]=V;else if(4<(z=w[V]))T[O++]=65533,L+=z-1;else{for(V&=z===2?31:z===3?15:7;1<z&&L<H;)V=V<<6|63&F[L++],z--;1<z?T[O++]=65533:V<65536?T[O++]=V:(V-=65536,T[O++]=55296|V>>10&1023,T[O++]=56320|1023&V)}return A(T,O)},v.utf8border=function(F,G){var L;for((G=G||F.length)>F.length&&(G=F.length),L=G-1;0<=L&&(192&F[L])==128;)L--;return L<0||L===0?G:L+w[F[L]]>G?L:G}},{"./common":41}],43:[function(p,g,v){g.exports=function(f,y,m,w){for(var _=65535&f|0,A=f>>>16&65535|0,F=0;m!==0;){for(m-=F=2e3<m?2e3:m;A=A+(_=_+y[w++]|0)|0,--F;);_%=65521,A%=65521}return _|A<<16|0}},{}],44:[function(p,g,v){g.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(p,g,v){var f=function(){for(var y,m=[],w=0;w<256;w++){y=w;for(var _=0;_<8;_++)y=1&y?3988292384^y>>>1:y>>>1;m[w]=y}return m}();g.exports=function(y,m,w,_){var A=f,F=_+w;y^=-1;for(var G=_;G<F;G++)y=y>>>8^A[255&(y^m[G])];return-1^y}},{}],46:[function(p,g,v){var f,y=p("../utils/common"),m=p("./trees"),w=p("./adler32"),_=p("./crc32"),A=p("./messages"),F=-2,G=258,L=262,O=113;function V(N,K){return N.msg=A[K],K}function z(N){return(N<<1)-(4<N?9:0)}function H(N){for(var K=N.length;0<=--K;)N[K]=0}function T(N){var K=N.state,P=K.pending;P>N.avail_out&&(P=N.avail_out),P!==0&&(y.arraySet(N.output,K.pending_buf,K.pending_out,P,N.next_out),N.next_out+=P,K.pending_out+=P,N.total_out+=P,N.avail_out-=P,K.pending-=P,K.pending===0&&(K.pending_out=0))}function M(N,K){m._tr_flush_block(N,0<=N.block_start?N.block_start:-1,N.strstart-N.block_start,K),N.block_start=N.strstart,T(N.strm)}function x(N,K){N.pending_buf[N.pending++]=K}function C(N,K){N.pending_buf[N.pending++]=K>>>8&255,N.pending_buf[N.pending++]=255&K}function S(N,K){var P,D,W=N.max_chain_length,Y=N.strstart,ee=N.prev_length,Q=N.nice_match,J=N.strstart>N.w_size-L?N.strstart-(N.w_size-L):0,ne=N.window,oe=N.w_mask,Z=N.prev,ie=N.strstart+G,se=ne[Y+ee-1],ce=ne[Y+ee];N.prev_length>=N.good_match&&(W>>=2),Q>N.lookahead&&(Q=N.lookahead);do if(ne[(P=K)+ee]===ce&&ne[P+ee-1]===se&&ne[P]===ne[Y]&&ne[++P]===ne[Y+1]){Y+=2,P++;do;while(ne[++Y]===ne[++P]&&ne[++Y]===ne[++P]&&ne[++Y]===ne[++P]&&ne[++Y]===ne[++P]&&ne[++Y]===ne[++P]&&ne[++Y]===ne[++P]&&ne[++Y]===ne[++P]&&ne[++Y]===ne[++P]&&Y<ie);if(D=G-(ie-Y),Y=ie-G,ee<D){if(N.match_start=K,Q<=(ee=D))break;se=ne[Y+ee-1],ce=ne[Y+ee]}}while((K=Z[K&oe])>J&&--W!=0);return ee<=N.lookahead?ee:N.lookahead}function b(N){var K,P,D,W,Y,ee,Q,J,ne,oe,Z=N.w_size;do{if(W=N.window_size-N.lookahead-N.strstart,N.strstart>=Z+(Z-L)){for(y.arraySet(N.window,N.window,Z,Z,0),N.match_start-=Z,N.strstart-=Z,N.block_start-=Z,K=P=N.hash_size;D=N.head[--K],N.head[K]=Z<=D?D-Z:0,--P;);for(K=P=Z;D=N.prev[--K],N.prev[K]=Z<=D?D-Z:0,--P;);W+=Z}if(N.strm.avail_in===0)break;if(ee=N.strm,Q=N.window,J=N.strstart+N.lookahead,oe=void 0,(ne=W)<(oe=ee.avail_in)&&(oe=ne),P=oe===0?0:(ee.avail_in-=oe,y.arraySet(Q,ee.input,ee.next_in,oe,J),ee.state.wrap===1?ee.adler=w(ee.adler,Q,oe,J):ee.state.wrap===2&&(ee.adler=_(ee.adler,Q,oe,J)),ee.next_in+=oe,ee.total_in+=oe,oe),N.lookahead+=P,N.lookahead+N.insert>=3)for(Y=N.strstart-N.insert,N.ins_h=N.window[Y],N.ins_h=(N.ins_h<<N.hash_shift^N.window[Y+1])&N.hash_mask;N.insert&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[Y+3-1])&N.hash_mask,N.prev[Y&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=Y,Y++,N.insert--,!(N.lookahead+N.insert<3)););}while(N.lookahead<L&&N.strm.avail_in!==0)}function E(N,K){for(var P,D;;){if(N.lookahead<L){if(b(N),N.lookahead<L&&K===0)return 1;if(N.lookahead===0)break}if(P=0,N.lookahead>=3&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+3-1])&N.hash_mask,P=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),P!==0&&N.strstart-P<=N.w_size-L&&(N.match_length=S(N,P)),N.match_length>=3)if(D=m._tr_tally(N,N.strstart-N.match_start,N.match_length-3),N.lookahead-=N.match_length,N.match_length<=N.max_lazy_match&&N.lookahead>=3){for(N.match_length--;N.strstart++,N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+3-1])&N.hash_mask,P=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart,--N.match_length!=0;);N.strstart++}else N.strstart+=N.match_length,N.match_length=0,N.ins_h=N.window[N.strstart],N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+1])&N.hash_mask;else D=m._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++;if(D&&(M(N,!1),N.strm.avail_out===0))return 1}return N.insert=N.strstart<2?N.strstart:2,K===4?(M(N,!0),N.strm.avail_out===0?3:4):N.last_lit&&(M(N,!1),N.strm.avail_out===0)?1:2}function R(N,K){for(var P,D,W;;){if(N.lookahead<L){if(b(N),N.lookahead<L&&K===0)return 1;if(N.lookahead===0)break}if(P=0,N.lookahead>=3&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+3-1])&N.hash_mask,P=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),N.prev_length=N.match_length,N.prev_match=N.match_start,N.match_length=2,P!==0&&N.prev_length<N.max_lazy_match&&N.strstart-P<=N.w_size-L&&(N.match_length=S(N,P),N.match_length<=5&&(N.strategy===1||N.match_length===3&&4096<N.strstart-N.match_start)&&(N.match_length=2)),N.prev_length>=3&&N.match_length<=N.prev_length){for(W=N.strstart+N.lookahead-3,D=m._tr_tally(N,N.strstart-1-N.prev_match,N.prev_length-3),N.lookahead-=N.prev_length-1,N.prev_length-=2;++N.strstart<=W&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+3-1])&N.hash_mask,P=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),--N.prev_length!=0;);if(N.match_available=0,N.match_length=2,N.strstart++,D&&(M(N,!1),N.strm.avail_out===0))return 1}else if(N.match_available){if((D=m._tr_tally(N,0,N.window[N.strstart-1]))&&M(N,!1),N.strstart++,N.lookahead--,N.strm.avail_out===0)return 1}else N.match_available=1,N.strstart++,N.lookahead--}return N.match_available&&(D=m._tr_tally(N,0,N.window[N.strstart-1]),N.match_available=0),N.insert=N.strstart<2?N.strstart:2,K===4?(M(N,!0),N.strm.avail_out===0?3:4):N.last_lit&&(M(N,!1),N.strm.avail_out===0)?1:2}function I(N,K,P,D,W){this.good_length=N,this.max_lazy=K,this.nice_length=P,this.max_chain=D,this.func=W}function k(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new y.Buf16(1146),this.dyn_dtree=new y.Buf16(122),this.bl_tree=new y.Buf16(78),H(this.dyn_ltree),H(this.dyn_dtree),H(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new y.Buf16(16),this.heap=new y.Buf16(573),H(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new y.Buf16(573),H(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function U(N){var K;return N&&N.state?(N.total_in=N.total_out=0,N.data_type=2,(K=N.state).pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?42:O,N.adler=K.wrap===2?0:1,K.last_flush=0,m._tr_init(K),0):V(N,F)}function j(N){var K=U(N);return K===0&&function(P){P.window_size=2*P.w_size,H(P.head),P.max_lazy_match=f[P.level].max_lazy,P.good_match=f[P.level].good_length,P.nice_match=f[P.level].nice_length,P.max_chain_length=f[P.level].max_chain,P.strstart=0,P.block_start=0,P.lookahead=0,P.insert=0,P.match_length=P.prev_length=2,P.match_available=0,P.ins_h=0}(N.state),K}function X(N,K,P,D,W,Y){if(!N)return F;var ee=1;if(K===-1&&(K=6),D<0?(ee=0,D=-D):15<D&&(ee=2,D-=16),W<1||9<W||P!==8||D<8||15<D||K<0||9<K||Y<0||4<Y)return V(N,F);D===8&&(D=9);var Q=new k;return(N.state=Q).strm=N,Q.wrap=ee,Q.gzhead=null,Q.w_bits=D,Q.w_size=1<<Q.w_bits,Q.w_mask=Q.w_size-1,Q.hash_bits=W+7,Q.hash_size=1<<Q.hash_bits,Q.hash_mask=Q.hash_size-1,Q.hash_shift=~~((Q.hash_bits+3-1)/3),Q.window=new y.Buf8(2*Q.w_size),Q.head=new y.Buf16(Q.hash_size),Q.prev=new y.Buf16(Q.w_size),Q.lit_bufsize=1<<W+6,Q.pending_buf_size=4*Q.lit_bufsize,Q.pending_buf=new y.Buf8(Q.pending_buf_size),Q.d_buf=1*Q.lit_bufsize,Q.l_buf=3*Q.lit_bufsize,Q.level=K,Q.strategy=Y,Q.method=P,j(N)}f=[new I(0,0,0,0,function(N,K){var P=65535;for(P>N.pending_buf_size-5&&(P=N.pending_buf_size-5);;){if(N.lookahead<=1){if(b(N),N.lookahead===0&&K===0)return 1;if(N.lookahead===0)break}N.strstart+=N.lookahead,N.lookahead=0;var D=N.block_start+P;if((N.strstart===0||N.strstart>=D)&&(N.lookahead=N.strstart-D,N.strstart=D,M(N,!1),N.strm.avail_out===0)||N.strstart-N.block_start>=N.w_size-L&&(M(N,!1),N.strm.avail_out===0))return 1}return N.insert=0,K===4?(M(N,!0),N.strm.avail_out===0?3:4):(N.strstart>N.block_start&&(M(N,!1),N.strm.avail_out),1)}),new I(4,4,8,4,E),new I(4,5,16,8,E),new I(4,6,32,32,E),new I(4,4,16,16,R),new I(8,16,32,32,R),new I(8,16,128,128,R),new I(8,32,128,256,R),new I(32,128,258,1024,R),new I(32,258,258,4096,R)],v.deflateInit=function(N,K){return X(N,K,8,15,8,0)},v.deflateInit2=X,v.deflateReset=j,v.deflateResetKeep=U,v.deflateSetHeader=function(N,K){return N&&N.state?N.state.wrap!==2?F:(N.state.gzhead=K,0):F},v.deflate=function(N,K){var P,D,W,Y;if(!N||!N.state||5<K||K<0)return N?V(N,F):F;if(D=N.state,!N.output||!N.input&&N.avail_in!==0||D.status===666&&K!==4)return V(N,N.avail_out===0?-5:F);if(D.strm=N,P=D.last_flush,D.last_flush=K,D.status===42)if(D.wrap===2)N.adler=0,x(D,31),x(D,139),x(D,8),D.gzhead?(x(D,(D.gzhead.text?1:0)+(D.gzhead.hcrc?2:0)+(D.gzhead.extra?4:0)+(D.gzhead.name?8:0)+(D.gzhead.comment?16:0)),x(D,255&D.gzhead.time),x(D,D.gzhead.time>>8&255),x(D,D.gzhead.time>>16&255),x(D,D.gzhead.time>>24&255),x(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),x(D,255&D.gzhead.os),D.gzhead.extra&&D.gzhead.extra.length&&(x(D,255&D.gzhead.extra.length),x(D,D.gzhead.extra.length>>8&255)),D.gzhead.hcrc&&(N.adler=_(N.adler,D.pending_buf,D.pending,0)),D.gzindex=0,D.status=69):(x(D,0),x(D,0),x(D,0),x(D,0),x(D,0),x(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),x(D,3),D.status=O);else{var ee=8+(D.w_bits-8<<4)<<8;ee|=(2<=D.strategy||D.level<2?0:D.level<6?1:D.level===6?2:3)<<6,D.strstart!==0&&(ee|=32),ee+=31-ee%31,D.status=O,C(D,ee),D.strstart!==0&&(C(D,N.adler>>>16),C(D,65535&N.adler)),N.adler=1}if(D.status===69)if(D.gzhead.extra){for(W=D.pending;D.gzindex<(65535&D.gzhead.extra.length)&&(D.pending!==D.pending_buf_size||(D.gzhead.hcrc&&D.pending>W&&(N.adler=_(N.adler,D.pending_buf,D.pending-W,W)),T(N),W=D.pending,D.pending!==D.pending_buf_size));)x(D,255&D.gzhead.extra[D.gzindex]),D.gzindex++;D.gzhead.hcrc&&D.pending>W&&(N.adler=_(N.adler,D.pending_buf,D.pending-W,W)),D.gzindex===D.gzhead.extra.length&&(D.gzindex=0,D.status=73)}else D.status=73;if(D.status===73)if(D.gzhead.name){W=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>W&&(N.adler=_(N.adler,D.pending_buf,D.pending-W,W)),T(N),W=D.pending,D.pending===D.pending_buf_size)){Y=1;break}Y=D.gzindex<D.gzhead.name.length?255&D.gzhead.name.charCodeAt(D.gzindex++):0,x(D,Y)}while(Y!==0);D.gzhead.hcrc&&D.pending>W&&(N.adler=_(N.adler,D.pending_buf,D.pending-W,W)),Y===0&&(D.gzindex=0,D.status=91)}else D.status=91;if(D.status===91)if(D.gzhead.comment){W=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>W&&(N.adler=_(N.adler,D.pending_buf,D.pending-W,W)),T(N),W=D.pending,D.pending===D.pending_buf_size)){Y=1;break}Y=D.gzindex<D.gzhead.comment.length?255&D.gzhead.comment.charCodeAt(D.gzindex++):0,x(D,Y)}while(Y!==0);D.gzhead.hcrc&&D.pending>W&&(N.adler=_(N.adler,D.pending_buf,D.pending-W,W)),Y===0&&(D.status=103)}else D.status=103;if(D.status===103&&(D.gzhead.hcrc?(D.pending+2>D.pending_buf_size&&T(N),D.pending+2<=D.pending_buf_size&&(x(D,255&N.adler),x(D,N.adler>>8&255),N.adler=0,D.status=O)):D.status=O),D.pending!==0){if(T(N),N.avail_out===0)return D.last_flush=-1,0}else if(N.avail_in===0&&z(K)<=z(P)&&K!==4)return V(N,-5);if(D.status===666&&N.avail_in!==0)return V(N,-5);if(N.avail_in!==0||D.lookahead!==0||K!==0&&D.status!==666){var Q=D.strategy===2?function(J,ne){for(var oe;;){if(J.lookahead===0&&(b(J),J.lookahead===0)){if(ne===0)return 1;break}if(J.match_length=0,oe=m._tr_tally(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++,oe&&(M(J,!1),J.strm.avail_out===0))return 1}return J.insert=0,ne===4?(M(J,!0),J.strm.avail_out===0?3:4):J.last_lit&&(M(J,!1),J.strm.avail_out===0)?1:2}(D,K):D.strategy===3?function(J,ne){for(var oe,Z,ie,se,ce=J.window;;){if(J.lookahead<=G){if(b(J),J.lookahead<=G&&ne===0)return 1;if(J.lookahead===0)break}if(J.match_length=0,J.lookahead>=3&&0<J.strstart&&(Z=ce[ie=J.strstart-1])===ce[++ie]&&Z===ce[++ie]&&Z===ce[++ie]){se=J.strstart+G;do;while(Z===ce[++ie]&&Z===ce[++ie]&&Z===ce[++ie]&&Z===ce[++ie]&&Z===ce[++ie]&&Z===ce[++ie]&&Z===ce[++ie]&&Z===ce[++ie]&&ie<se);J.match_length=G-(se-ie),J.match_length>J.lookahead&&(J.match_length=J.lookahead)}if(J.match_length>=3?(oe=m._tr_tally(J,1,J.match_length-3),J.lookahead-=J.match_length,J.strstart+=J.match_length,J.match_length=0):(oe=m._tr_tally(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++),oe&&(M(J,!1),J.strm.avail_out===0))return 1}return J.insert=0,ne===4?(M(J,!0),J.strm.avail_out===0?3:4):J.last_lit&&(M(J,!1),J.strm.avail_out===0)?1:2}(D,K):f[D.level].func(D,K);if(Q!==3&&Q!==4||(D.status=666),Q===1||Q===3)return N.avail_out===0&&(D.last_flush=-1),0;if(Q===2&&(K===1?m._tr_align(D):K!==5&&(m._tr_stored_block(D,0,0,!1),K===3&&(H(D.head),D.lookahead===0&&(D.strstart=0,D.block_start=0,D.insert=0))),T(N),N.avail_out===0))return D.last_flush=-1,0}return K!==4?0:D.wrap<=0?1:(D.wrap===2?(x(D,255&N.adler),x(D,N.adler>>8&255),x(D,N.adler>>16&255),x(D,N.adler>>24&255),x(D,255&N.total_in),x(D,N.total_in>>8&255),x(D,N.total_in>>16&255),x(D,N.total_in>>24&255)):(C(D,N.adler>>>16),C(D,65535&N.adler)),T(N),0<D.wrap&&(D.wrap=-D.wrap),D.pending!==0?0:1)},v.deflateEnd=function(N){var K;return N&&N.state?(K=N.state.status)!==42&&K!==69&&K!==73&&K!==91&&K!==103&&K!==O&&K!==666?V(N,F):(N.state=null,K===O?V(N,-3):0):F},v.deflateSetDictionary=function(N,K){var P,D,W,Y,ee,Q,J,ne,oe=K.length;if(!N||!N.state||(Y=(P=N.state).wrap)===2||Y===1&&P.status!==42||P.lookahead)return F;for(Y===1&&(N.adler=w(N.adler,K,oe,0)),P.wrap=0,oe>=P.w_size&&(Y===0&&(H(P.head),P.strstart=0,P.block_start=0,P.insert=0),ne=new y.Buf8(P.w_size),y.arraySet(ne,K,oe-P.w_size,P.w_size,0),K=ne,oe=P.w_size),ee=N.avail_in,Q=N.next_in,J=N.input,N.avail_in=oe,N.next_in=0,N.input=K,b(P);P.lookahead>=3;){for(D=P.strstart,W=P.lookahead-2;P.ins_h=(P.ins_h<<P.hash_shift^P.window[D+3-1])&P.hash_mask,P.prev[D&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=D,D++,--W;);P.strstart=D,P.lookahead=2,b(P)}return P.strstart+=P.lookahead,P.block_start=P.strstart,P.insert=P.lookahead,P.lookahead=0,P.match_length=P.prev_length=2,P.match_available=0,N.next_in=Q,N.input=J,N.avail_in=ee,P.wrap=Y,0},v.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(p,g,v){g.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(p,g,v){g.exports=function(f,y){var m,w,_,A,F,G,L,O,V,z,H,T,M,x,C,S,b,E,R,I,k,U,j,X,N;m=f.state,w=f.next_in,X=f.input,_=w+(f.avail_in-5),A=f.next_out,N=f.output,F=A-(y-f.avail_out),G=A+(f.avail_out-257),L=m.dmax,O=m.wsize,V=m.whave,z=m.wnext,H=m.window,T=m.hold,M=m.bits,x=m.lencode,C=m.distcode,S=(1<<m.lenbits)-1,b=(1<<m.distbits)-1;e:do{M<15&&(T+=X[w++]<<M,M+=8,T+=X[w++]<<M,M+=8),E=x[T&S];t:for(;;){if(T>>>=R=E>>>24,M-=R,(R=E>>>16&255)==0)N[A++]=65535&E;else{if(!(16&R)){if(!(64&R)){E=x[(65535&E)+(T&(1<<R)-1)];continue t}if(32&R){m.mode=12;break e}f.msg="invalid literal/length code",m.mode=30;break e}I=65535&E,(R&=15)&&(M<R&&(T+=X[w++]<<M,M+=8),I+=T&(1<<R)-1,T>>>=R,M-=R),M<15&&(T+=X[w++]<<M,M+=8,T+=X[w++]<<M,M+=8),E=C[T&b];r:for(;;){if(T>>>=R=E>>>24,M-=R,!(16&(R=E>>>16&255))){if(!(64&R)){E=C[(65535&E)+(T&(1<<R)-1)];continue r}f.msg="invalid distance code",m.mode=30;break e}if(k=65535&E,M<(R&=15)&&(T+=X[w++]<<M,(M+=8)<R&&(T+=X[w++]<<M,M+=8)),L<(k+=T&(1<<R)-1)){f.msg="invalid distance too far back",m.mode=30;break e}if(T>>>=R,M-=R,(R=A-F)<k){if(V<(R=k-R)&&m.sane){f.msg="invalid distance too far back",m.mode=30;break e}if(j=H,(U=0)===z){if(U+=O-R,R<I){for(I-=R;N[A++]=H[U++],--R;);U=A-k,j=N}}else if(z<R){if(U+=O+z-R,(R-=z)<I){for(I-=R;N[A++]=H[U++],--R;);if(U=0,z<I){for(I-=R=z;N[A++]=H[U++],--R;);U=A-k,j=N}}}else if(U+=z-R,R<I){for(I-=R;N[A++]=H[U++],--R;);U=A-k,j=N}for(;2<I;)N[A++]=j[U++],N[A++]=j[U++],N[A++]=j[U++],I-=3;I&&(N[A++]=j[U++],1<I&&(N[A++]=j[U++]))}else{for(U=A-k;N[A++]=N[U++],N[A++]=N[U++],N[A++]=N[U++],2<(I-=3););I&&(N[A++]=N[U++],1<I&&(N[A++]=N[U++]))}break}}break}}while(w<_&&A<G);w-=I=M>>3,T&=(1<<(M-=I<<3))-1,f.next_in=w,f.next_out=A,f.avail_in=w<_?_-w+5:5-(w-_),f.avail_out=A<G?G-A+257:257-(A-G),m.hold=T,m.bits=M}},{}],49:[function(p,g,v){var f=p("../utils/common"),y=p("./adler32"),m=p("./crc32"),w=p("./inffast"),_=p("./inftrees"),A=-2;function F(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function G(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function L(S){var b;return S&&S.state?(b=S.state,S.total_in=S.total_out=b.total=0,S.msg="",b.wrap&&(S.adler=1&b.wrap),b.mode=1,b.last=0,b.havedict=0,b.dmax=32768,b.head=null,b.hold=0,b.bits=0,b.lencode=b.lendyn=new f.Buf32(852),b.distcode=b.distdyn=new f.Buf32(592),b.sane=1,b.back=-1,0):A}function O(S){var b;return S&&S.state?((b=S.state).wsize=0,b.whave=0,b.wnext=0,L(S)):A}function V(S,b){var E,R;return S&&S.state?(R=S.state,b<0?(E=0,b=-b):(E=1+(b>>4),b<48&&(b&=15)),b&&(b<8||15<b)?A:(R.window!==null&&R.wbits!==b&&(R.window=null),R.wrap=E,R.wbits=b,O(S))):A}function z(S,b){var E,R;return S?(R=new G,(S.state=R).window=null,(E=V(S,b))!==0&&(S.state=null),E):A}var H,T,M=!0;function x(S){if(M){var b;for(H=new f.Buf32(512),T=new f.Buf32(32),b=0;b<144;)S.lens[b++]=8;for(;b<256;)S.lens[b++]=9;for(;b<280;)S.lens[b++]=7;for(;b<288;)S.lens[b++]=8;for(_(1,S.lens,0,288,H,0,S.work,{bits:9}),b=0;b<32;)S.lens[b++]=5;_(2,S.lens,0,32,T,0,S.work,{bits:5}),M=!1}S.lencode=H,S.lenbits=9,S.distcode=T,S.distbits=5}function C(S,b,E,R){var I,k=S.state;return k.window===null&&(k.wsize=1<<k.wbits,k.wnext=0,k.whave=0,k.window=new f.Buf8(k.wsize)),R>=k.wsize?(f.arraySet(k.window,b,E-k.wsize,k.wsize,0),k.wnext=0,k.whave=k.wsize):(R<(I=k.wsize-k.wnext)&&(I=R),f.arraySet(k.window,b,E-R,I,k.wnext),(R-=I)?(f.arraySet(k.window,b,E-R,R,0),k.wnext=R,k.whave=k.wsize):(k.wnext+=I,k.wnext===k.wsize&&(k.wnext=0),k.whave<k.wsize&&(k.whave+=I))),0}v.inflateReset=O,v.inflateReset2=V,v.inflateResetKeep=L,v.inflateInit=function(S){return z(S,15)},v.inflateInit2=z,v.inflate=function(S,b){var E,R,I,k,U,j,X,N,K,P,D,W,Y,ee,Q,J,ne,oe,Z,ie,se,ce,ue,de,fe=0,ge=new f.Buf8(4),be=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return A;(E=S.state).mode===12&&(E.mode=13),U=S.next_out,I=S.output,X=S.avail_out,k=S.next_in,R=S.input,j=S.avail_in,N=E.hold,K=E.bits,P=j,D=X,ce=0;e:for(;;)switch(E.mode){case 1:if(E.wrap===0){E.mode=13;break}for(;K<16;){if(j===0)break e;j--,N+=R[k++]<<K,K+=8}if(2&E.wrap&&N===35615){ge[E.check=0]=255&N,ge[1]=N>>>8&255,E.check=m(E.check,ge,2,0),K=N=0,E.mode=2;break}if(E.flags=0,E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&N)<<8)+(N>>8))%31){S.msg="incorrect header check",E.mode=30;break}if((15&N)!=8){S.msg="unknown compression method",E.mode=30;break}if(K-=4,se=8+(15&(N>>>=4)),E.wbits===0)E.wbits=se;else if(se>E.wbits){S.msg="invalid window size",E.mode=30;break}E.dmax=1<<se,S.adler=E.check=1,E.mode=512&N?10:12,K=N=0;break;case 2:for(;K<16;){if(j===0)break e;j--,N+=R[k++]<<K,K+=8}if(E.flags=N,(255&E.flags)!=8){S.msg="unknown compression method",E.mode=30;break}if(57344&E.flags){S.msg="unknown header flags set",E.mode=30;break}E.head&&(E.head.text=N>>8&1),512&E.flags&&(ge[0]=255&N,ge[1]=N>>>8&255,E.check=m(E.check,ge,2,0)),K=N=0,E.mode=3;case 3:for(;K<32;){if(j===0)break e;j--,N+=R[k++]<<K,K+=8}E.head&&(E.head.time=N),512&E.flags&&(ge[0]=255&N,ge[1]=N>>>8&255,ge[2]=N>>>16&255,ge[3]=N>>>24&255,E.check=m(E.check,ge,4,0)),K=N=0,E.mode=4;case 4:for(;K<16;){if(j===0)break e;j--,N+=R[k++]<<K,K+=8}E.head&&(E.head.xflags=255&N,E.head.os=N>>8),512&E.flags&&(ge[0]=255&N,ge[1]=N>>>8&255,E.check=m(E.check,ge,2,0)),K=N=0,E.mode=5;case 5:if(1024&E.flags){for(;K<16;){if(j===0)break e;j--,N+=R[k++]<<K,K+=8}E.length=N,E.head&&(E.head.extra_len=N),512&E.flags&&(ge[0]=255&N,ge[1]=N>>>8&255,E.check=m(E.check,ge,2,0)),K=N=0}else E.head&&(E.head.extra=null);E.mode=6;case 6:if(1024&E.flags&&(j<(W=E.length)&&(W=j),W&&(E.head&&(se=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),f.arraySet(E.head.extra,R,k,W,se)),512&E.flags&&(E.check=m(E.check,R,W,k)),j-=W,k+=W,E.length-=W),E.length))break e;E.length=0,E.mode=7;case 7:if(2048&E.flags){if(j===0)break e;for(W=0;se=R[k+W++],E.head&&se&&E.length<65536&&(E.head.name+=String.fromCharCode(se)),se&&W<j;);if(512&E.flags&&(E.check=m(E.check,R,W,k)),j-=W,k+=W,se)break e}else E.head&&(E.head.name=null);E.length=0,E.mode=8;case 8:if(4096&E.flags){if(j===0)break e;for(W=0;se=R[k+W++],E.head&&se&&E.length<65536&&(E.head.comment+=String.fromCharCode(se)),se&&W<j;);if(512&E.flags&&(E.check=m(E.check,R,W,k)),j-=W,k+=W,se)break e}else E.head&&(E.head.comment=null);E.mode=9;case 9:if(512&E.flags){for(;K<16;){if(j===0)break e;j--,N+=R[k++]<<K,K+=8}if(N!==(65535&E.check)){S.msg="header crc mismatch",E.mode=30;break}K=N=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),S.adler=E.check=0,E.mode=12;break;case 10:for(;K<32;){if(j===0)break e;j--,N+=R[k++]<<K,K+=8}S.adler=E.check=F(N),K=N=0,E.mode=11;case 11:if(E.havedict===0)return S.next_out=U,S.avail_out=X,S.next_in=k,S.avail_in=j,E.hold=N,E.bits=K,2;S.adler=E.check=1,E.mode=12;case 12:if(b===5||b===6)break e;case 13:if(E.last){N>>>=7&K,K-=7&K,E.mode=27;break}for(;K<3;){if(j===0)break e;j--,N+=R[k++]<<K,K+=8}switch(E.last=1&N,K-=1,3&(N>>>=1)){case 0:E.mode=14;break;case 1:if(x(E),E.mode=20,b!==6)break;N>>>=2,K-=2;break e;case 2:E.mode=17;break;case 3:S.msg="invalid block type",E.mode=30}N>>>=2,K-=2;break;case 14:for(N>>>=7&K,K-=7&K;K<32;){if(j===0)break e;j--,N+=R[k++]<<K,K+=8}if((65535&N)!=(N>>>16^65535)){S.msg="invalid stored block lengths",E.mode=30;break}if(E.length=65535&N,K=N=0,E.mode=15,b===6)break e;case 15:E.mode=16;case 16:if(W=E.length){if(j<W&&(W=j),X<W&&(W=X),W===0)break e;f.arraySet(I,R,k,W,U),j-=W,k+=W,X-=W,U+=W,E.length-=W;break}E.mode=12;break;case 17:for(;K<14;){if(j===0)break e;j--,N+=R[k++]<<K,K+=8}if(E.nlen=257+(31&N),N>>>=5,K-=5,E.ndist=1+(31&N),N>>>=5,K-=5,E.ncode=4+(15&N),N>>>=4,K-=4,286<E.nlen||30<E.ndist){S.msg="too many length or distance symbols",E.mode=30;break}E.have=0,E.mode=18;case 18:for(;E.have<E.ncode;){for(;K<3;){if(j===0)break e;j--,N+=R[k++]<<K,K+=8}E.lens[be[E.have++]]=7&N,N>>>=3,K-=3}for(;E.have<19;)E.lens[be[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,ue={bits:E.lenbits},ce=_(0,E.lens,0,19,E.lencode,0,E.work,ue),E.lenbits=ue.bits,ce){S.msg="invalid code lengths set",E.mode=30;break}E.have=0,E.mode=19;case 19:for(;E.have<E.nlen+E.ndist;){for(;J=(fe=E.lencode[N&(1<<E.lenbits)-1])>>>16&255,ne=65535&fe,!((Q=fe>>>24)<=K);){if(j===0)break e;j--,N+=R[k++]<<K,K+=8}if(ne<16)N>>>=Q,K-=Q,E.lens[E.have++]=ne;else{if(ne===16){for(de=Q+2;K<de;){if(j===0)break e;j--,N+=R[k++]<<K,K+=8}if(N>>>=Q,K-=Q,E.have===0){S.msg="invalid bit length repeat",E.mode=30;break}se=E.lens[E.have-1],W=3+(3&N),N>>>=2,K-=2}else if(ne===17){for(de=Q+3;K<de;){if(j===0)break e;j--,N+=R[k++]<<K,K+=8}K-=Q,se=0,W=3+(7&(N>>>=Q)),N>>>=3,K-=3}else{for(de=Q+7;K<de;){if(j===0)break e;j--,N+=R[k++]<<K,K+=8}K-=Q,se=0,W=11+(127&(N>>>=Q)),N>>>=7,K-=7}if(E.have+W>E.nlen+E.ndist){S.msg="invalid bit length repeat",E.mode=30;break}for(;W--;)E.lens[E.have++]=se}}if(E.mode===30)break;if(E.lens[256]===0){S.msg="invalid code -- missing end-of-block",E.mode=30;break}if(E.lenbits=9,ue={bits:E.lenbits},ce=_(1,E.lens,0,E.nlen,E.lencode,0,E.work,ue),E.lenbits=ue.bits,ce){S.msg="invalid literal/lengths set",E.mode=30;break}if(E.distbits=6,E.distcode=E.distdyn,ue={bits:E.distbits},ce=_(2,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,ue),E.distbits=ue.bits,ce){S.msg="invalid distances set",E.mode=30;break}if(E.mode=20,b===6)break e;case 20:E.mode=21;case 21:if(6<=j&&258<=X){S.next_out=U,S.avail_out=X,S.next_in=k,S.avail_in=j,E.hold=N,E.bits=K,w(S,D),U=S.next_out,I=S.output,X=S.avail_out,k=S.next_in,R=S.input,j=S.avail_in,N=E.hold,K=E.bits,E.mode===12&&(E.back=-1);break}for(E.back=0;J=(fe=E.lencode[N&(1<<E.lenbits)-1])>>>16&255,ne=65535&fe,!((Q=fe>>>24)<=K);){if(j===0)break e;j--,N+=R[k++]<<K,K+=8}if(J&&!(240&J)){for(oe=Q,Z=J,ie=ne;J=(fe=E.lencode[ie+((N&(1<<oe+Z)-1)>>oe)])>>>16&255,ne=65535&fe,!(oe+(Q=fe>>>24)<=K);){if(j===0)break e;j--,N+=R[k++]<<K,K+=8}N>>>=oe,K-=oe,E.back+=oe}if(N>>>=Q,K-=Q,E.back+=Q,E.length=ne,J===0){E.mode=26;break}if(32&J){E.back=-1,E.mode=12;break}if(64&J){S.msg="invalid literal/length code",E.mode=30;break}E.extra=15&J,E.mode=22;case 22:if(E.extra){for(de=E.extra;K<de;){if(j===0)break e;j--,N+=R[k++]<<K,K+=8}E.length+=N&(1<<E.extra)-1,N>>>=E.extra,K-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=23;case 23:for(;J=(fe=E.distcode[N&(1<<E.distbits)-1])>>>16&255,ne=65535&fe,!((Q=fe>>>24)<=K);){if(j===0)break e;j--,N+=R[k++]<<K,K+=8}if(!(240&J)){for(oe=Q,Z=J,ie=ne;J=(fe=E.distcode[ie+((N&(1<<oe+Z)-1)>>oe)])>>>16&255,ne=65535&fe,!(oe+(Q=fe>>>24)<=K);){if(j===0)break e;j--,N+=R[k++]<<K,K+=8}N>>>=oe,K-=oe,E.back+=oe}if(N>>>=Q,K-=Q,E.back+=Q,64&J){S.msg="invalid distance code",E.mode=30;break}E.offset=ne,E.extra=15&J,E.mode=24;case 24:if(E.extra){for(de=E.extra;K<de;){if(j===0)break e;j--,N+=R[k++]<<K,K+=8}E.offset+=N&(1<<E.extra)-1,N>>>=E.extra,K-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){S.msg="invalid distance too far back",E.mode=30;break}E.mode=25;case 25:if(X===0)break e;if(W=D-X,E.offset>W){if((W=E.offset-W)>E.whave&&E.sane){S.msg="invalid distance too far back",E.mode=30;break}Y=W>E.wnext?(W-=E.wnext,E.wsize-W):E.wnext-W,W>E.length&&(W=E.length),ee=E.window}else ee=I,Y=U-E.offset,W=E.length;for(X<W&&(W=X),X-=W,E.length-=W;I[U++]=ee[Y++],--W;);E.length===0&&(E.mode=21);break;case 26:if(X===0)break e;I[U++]=E.length,X--,E.mode=21;break;case 27:if(E.wrap){for(;K<32;){if(j===0)break e;j--,N|=R[k++]<<K,K+=8}if(D-=X,S.total_out+=D,E.total+=D,D&&(S.adler=E.check=E.flags?m(E.check,I,D,U-D):y(E.check,I,D,U-D)),D=X,(E.flags?N:F(N))!==E.check){S.msg="incorrect data check",E.mode=30;break}K=N=0}E.mode=28;case 28:if(E.wrap&&E.flags){for(;K<32;){if(j===0)break e;j--,N+=R[k++]<<K,K+=8}if(N!==(4294967295&E.total)){S.msg="incorrect length check",E.mode=30;break}K=N=0}E.mode=29;case 29:ce=1;break e;case 30:ce=-3;break e;case 31:return-4;case 32:default:return A}return S.next_out=U,S.avail_out=X,S.next_in=k,S.avail_in=j,E.hold=N,E.bits=K,(E.wsize||D!==S.avail_out&&E.mode<30&&(E.mode<27||b!==4))&&C(S,S.output,S.next_out,D-S.avail_out)?(E.mode=31,-4):(P-=S.avail_in,D-=S.avail_out,S.total_in+=P,S.total_out+=D,E.total+=D,E.wrap&&D&&(S.adler=E.check=E.flags?m(E.check,I,D,S.next_out-D):y(E.check,I,D,S.next_out-D)),S.data_type=E.bits+(E.last?64:0)+(E.mode===12?128:0)+(E.mode===20||E.mode===15?256:0),(P==0&&D===0||b===4)&&ce===0&&(ce=-5),ce)},v.inflateEnd=function(S){if(!S||!S.state)return A;var b=S.state;return b.window&&(b.window=null),S.state=null,0},v.inflateGetHeader=function(S,b){var E;return S&&S.state&&2&(E=S.state).wrap?((E.head=b).done=!1,0):A},v.inflateSetDictionary=function(S,b){var E,R=b.length;return S&&S.state?(E=S.state).wrap!==0&&E.mode!==11?A:E.mode===11&&y(1,b,R,0)!==E.check?-3:C(S,b,R,R)?(E.mode=31,-4):(E.havedict=1,0):A},v.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(p,g,v){var f=p("../utils/common"),y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],m=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],w=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],_=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];g.exports=function(A,F,G,L,O,V,z,H){var T,M,x,C,S,b,E,R,I,k=H.bits,U=0,j=0,X=0,N=0,K=0,P=0,D=0,W=0,Y=0,ee=0,Q=null,J=0,ne=new f.Buf16(16),oe=new f.Buf16(16),Z=null,ie=0;for(U=0;U<=15;U++)ne[U]=0;for(j=0;j<L;j++)ne[F[G+j]]++;for(K=k,N=15;1<=N&&ne[N]===0;N--);if(N<K&&(K=N),N===0)return O[V++]=20971520,O[V++]=20971520,H.bits=1,0;for(X=1;X<N&&ne[X]===0;X++);for(K<X&&(K=X),U=W=1;U<=15;U++)if(W<<=1,(W-=ne[U])<0)return-1;if(0<W&&(A===0||N!==1))return-1;for(oe[1]=0,U=1;U<15;U++)oe[U+1]=oe[U]+ne[U];for(j=0;j<L;j++)F[G+j]!==0&&(z[oe[F[G+j]]++]=j);if(b=A===0?(Q=Z=z,19):A===1?(Q=y,J-=257,Z=m,ie-=257,256):(Q=w,Z=_,-1),U=X,S=V,D=j=ee=0,x=-1,C=(Y=1<<(P=K))-1,A===1&&852<Y||A===2&&592<Y)return 1;for(;;){for(E=U-D,I=z[j]<b?(R=0,z[j]):z[j]>b?(R=Z[ie+z[j]],Q[J+z[j]]):(R=96,0),T=1<<U-D,X=M=1<<P;O[S+(ee>>D)+(M-=T)]=E<<24|R<<16|I|0,M!==0;);for(T=1<<U-1;ee&T;)T>>=1;if(T!==0?(ee&=T-1,ee+=T):ee=0,j++,--ne[U]==0){if(U===N)break;U=F[G+z[j]]}if(K<U&&(ee&C)!==x){for(D===0&&(D=K),S+=X,W=1<<(P=U-D);P+D<N&&!((W-=ne[P+D])<=0);)P++,W<<=1;if(Y+=1<<P,A===1&&852<Y||A===2&&592<Y)return 1;O[x=ee&C]=K<<24|P<<16|S-V|0}}return ee!==0&&(O[S+ee]=U-D<<24|64<<16|0),H.bits=K,0}},{"../utils/common":41}],51:[function(p,g,v){g.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(p,g,v){var f=p("../utils/common");function y(Z){for(var ie=Z.length;0<=--ie;)Z[ie]=0}var m=256,w=286,_=30,A=15,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],G=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],V=new Array(576);y(V);var z=new Array(60);y(z);var H=new Array(512);y(H);var T=new Array(256);y(T);var M=new Array(29);y(M);var x,C,S,b=new Array(_);function E(Z,ie,se,ce,ue){this.static_tree=Z,this.extra_bits=ie,this.extra_base=se,this.elems=ce,this.max_length=ue,this.has_stree=Z&&Z.length}function R(Z,ie){this.dyn_tree=Z,this.max_code=0,this.stat_desc=ie}function I(Z){return Z<256?H[Z]:H[256+(Z>>>7)]}function k(Z,ie){Z.pending_buf[Z.pending++]=255&ie,Z.pending_buf[Z.pending++]=ie>>>8&255}function U(Z,ie,se){Z.bi_valid>16-se?(Z.bi_buf|=ie<<Z.bi_valid&65535,k(Z,Z.bi_buf),Z.bi_buf=ie>>16-Z.bi_valid,Z.bi_valid+=se-16):(Z.bi_buf|=ie<<Z.bi_valid&65535,Z.bi_valid+=se)}function j(Z,ie,se){U(Z,se[2*ie],se[2*ie+1])}function X(Z,ie){for(var se=0;se|=1&Z,Z>>>=1,se<<=1,0<--ie;);return se>>>1}function N(Z,ie,se){var ce,ue,de=new Array(16),fe=0;for(ce=1;ce<=A;ce++)de[ce]=fe=fe+se[ce-1]<<1;for(ue=0;ue<=ie;ue++){var ge=Z[2*ue+1];ge!==0&&(Z[2*ue]=X(de[ge]++,ge))}}function K(Z){var ie;for(ie=0;ie<w;ie++)Z.dyn_ltree[2*ie]=0;for(ie=0;ie<_;ie++)Z.dyn_dtree[2*ie]=0;for(ie=0;ie<19;ie++)Z.bl_tree[2*ie]=0;Z.dyn_ltree[512]=1,Z.opt_len=Z.static_len=0,Z.last_lit=Z.matches=0}function P(Z){8<Z.bi_valid?k(Z,Z.bi_buf):0<Z.bi_valid&&(Z.pending_buf[Z.pending++]=Z.bi_buf),Z.bi_buf=0,Z.bi_valid=0}function D(Z,ie,se,ce){var ue=2*ie,de=2*se;return Z[ue]<Z[de]||Z[ue]===Z[de]&&ce[ie]<=ce[se]}function W(Z,ie,se){for(var ce=Z.heap[se],ue=se<<1;ue<=Z.heap_len&&(ue<Z.heap_len&&D(ie,Z.heap[ue+1],Z.heap[ue],Z.depth)&&ue++,!D(ie,ce,Z.heap[ue],Z.depth));)Z.heap[se]=Z.heap[ue],se=ue,ue<<=1;Z.heap[se]=ce}function Y(Z,ie,se){var ce,ue,de,fe,ge=0;if(Z.last_lit!==0)for(;ce=Z.pending_buf[Z.d_buf+2*ge]<<8|Z.pending_buf[Z.d_buf+2*ge+1],ue=Z.pending_buf[Z.l_buf+ge],ge++,ce===0?j(Z,ue,ie):(j(Z,(de=T[ue])+m+1,ie),(fe=F[de])!==0&&U(Z,ue-=M[de],fe),j(Z,de=I(--ce),se),(fe=G[de])!==0&&U(Z,ce-=b[de],fe)),ge<Z.last_lit;);j(Z,256,ie)}function ee(Z,ie){var se,ce,ue,de=ie.dyn_tree,fe=ie.stat_desc.static_tree,ge=ie.stat_desc.has_stree,be=ie.stat_desc.elems,_e=-1;for(Z.heap_len=0,Z.heap_max=573,se=0;se<be;se++)de[2*se]!==0?(Z.heap[++Z.heap_len]=_e=se,Z.depth[se]=0):de[2*se+1]=0;for(;Z.heap_len<2;)de[2*(ue=Z.heap[++Z.heap_len]=_e<2?++_e:0)]=1,Z.depth[ue]=0,Z.opt_len--,ge&&(Z.static_len-=fe[2*ue+1]);for(ie.max_code=_e,se=Z.heap_len>>1;1<=se;se--)W(Z,de,se);for(ue=be;se=Z.heap[1],Z.heap[1]=Z.heap[Z.heap_len--],W(Z,de,1),ce=Z.heap[1],Z.heap[--Z.heap_max]=se,Z.heap[--Z.heap_max]=ce,de[2*ue]=de[2*se]+de[2*ce],Z.depth[ue]=(Z.depth[se]>=Z.depth[ce]?Z.depth[se]:Z.depth[ce])+1,de[2*se+1]=de[2*ce+1]=ue,Z.heap[1]=ue++,W(Z,de,1),2<=Z.heap_len;);Z.heap[--Z.heap_max]=Z.heap[1],function(Te,Me){var Ke,je,$e,Ye,Le,Ae,Ne=Me.dyn_tree,ze=Me.max_code,Ge=Me.stat_desc.static_tree,St=Me.stat_desc.has_stree,Nt=Me.stat_desc.extra_bits,Xe=Me.stat_desc.extra_base,Dt=Me.stat_desc.max_length,wt=0;for(Ye=0;Ye<=A;Ye++)Te.bl_count[Ye]=0;for(Ne[2*Te.heap[Te.heap_max]+1]=0,Ke=Te.heap_max+1;Ke<573;Ke++)Dt<(Ye=Ne[2*Ne[2*(je=Te.heap[Ke])+1]+1]+1)&&(Ye=Dt,wt++),Ne[2*je+1]=Ye,ze<je||(Te.bl_count[Ye]++,Le=0,Xe<=je&&(Le=Nt[je-Xe]),Ae=Ne[2*je],Te.opt_len+=Ae*(Ye+Le),St&&(Te.static_len+=Ae*(Ge[2*je+1]+Le)));if(wt!==0){do{for(Ye=Dt-1;Te.bl_count[Ye]===0;)Ye--;Te.bl_count[Ye]--,Te.bl_count[Ye+1]+=2,Te.bl_count[Dt]--,wt-=2}while(0<wt);for(Ye=Dt;Ye!==0;Ye--)for(je=Te.bl_count[Ye];je!==0;)ze<($e=Te.heap[--Ke])||(Ne[2*$e+1]!==Ye&&(Te.opt_len+=(Ye-Ne[2*$e+1])*Ne[2*$e],Ne[2*$e+1]=Ye),je--)}}(Z,ie),N(de,_e,Z.bl_count)}function Q(Z,ie,se){var ce,ue,de=-1,fe=ie[1],ge=0,be=7,_e=4;for(fe===0&&(be=138,_e=3),ie[2*(se+1)+1]=65535,ce=0;ce<=se;ce++)ue=fe,fe=ie[2*(ce+1)+1],++ge<be&&ue===fe||(ge<_e?Z.bl_tree[2*ue]+=ge:ue!==0?(ue!==de&&Z.bl_tree[2*ue]++,Z.bl_tree[32]++):ge<=10?Z.bl_tree[34]++:Z.bl_tree[36]++,de=ue,_e=(ge=0)===fe?(be=138,3):ue===fe?(be=6,3):(be=7,4))}function J(Z,ie,se){var ce,ue,de=-1,fe=ie[1],ge=0,be=7,_e=4;for(fe===0&&(be=138,_e=3),ce=0;ce<=se;ce++)if(ue=fe,fe=ie[2*(ce+1)+1],!(++ge<be&&ue===fe)){if(ge<_e)for(;j(Z,ue,Z.bl_tree),--ge!=0;);else ue!==0?(ue!==de&&(j(Z,ue,Z.bl_tree),ge--),j(Z,16,Z.bl_tree),U(Z,ge-3,2)):ge<=10?(j(Z,17,Z.bl_tree),U(Z,ge-3,3)):(j(Z,18,Z.bl_tree),U(Z,ge-11,7));de=ue,_e=(ge=0)===fe?(be=138,3):ue===fe?(be=6,3):(be=7,4)}}y(b);var ne=!1;function oe(Z,ie,se,ce){U(Z,0+(ce?1:0),3),function(ue,de,fe,ge){P(ue),k(ue,fe),k(ue,~fe),f.arraySet(ue.pending_buf,ue.window,de,fe,ue.pending),ue.pending+=fe}(Z,ie,se)}v._tr_init=function(Z){ne||(function(){var ie,se,ce,ue,de,fe=new Array(16);for(ue=ce=0;ue<28;ue++)for(M[ue]=ce,ie=0;ie<1<<F[ue];ie++)T[ce++]=ue;for(T[ce-1]=ue,ue=de=0;ue<16;ue++)for(b[ue]=de,ie=0;ie<1<<G[ue];ie++)H[de++]=ue;for(de>>=7;ue<_;ue++)for(b[ue]=de<<7,ie=0;ie<1<<G[ue]-7;ie++)H[256+de++]=ue;for(se=0;se<=A;se++)fe[se]=0;for(ie=0;ie<=143;)V[2*ie+1]=8,ie++,fe[8]++;for(;ie<=255;)V[2*ie+1]=9,ie++,fe[9]++;for(;ie<=279;)V[2*ie+1]=7,ie++,fe[7]++;for(;ie<=287;)V[2*ie+1]=8,ie++,fe[8]++;for(N(V,287,fe),ie=0;ie<_;ie++)z[2*ie+1]=5,z[2*ie]=X(ie,5);x=new E(V,F,257,w,A),C=new E(z,G,0,_,A),S=new E(new Array(0),L,0,19,7)}(),ne=!0),Z.l_desc=new R(Z.dyn_ltree,x),Z.d_desc=new R(Z.dyn_dtree,C),Z.bl_desc=new R(Z.bl_tree,S),Z.bi_buf=0,Z.bi_valid=0,K(Z)},v._tr_stored_block=oe,v._tr_flush_block=function(Z,ie,se,ce){var ue,de,fe=0;0<Z.level?(Z.strm.data_type===2&&(Z.strm.data_type=function(ge){var be,_e=4093624447;for(be=0;be<=31;be++,_e>>>=1)if(1&_e&&ge.dyn_ltree[2*be]!==0)return 0;if(ge.dyn_ltree[18]!==0||ge.dyn_ltree[20]!==0||ge.dyn_ltree[26]!==0)return 1;for(be=32;be<m;be++)if(ge.dyn_ltree[2*be]!==0)return 1;return 0}(Z)),ee(Z,Z.l_desc),ee(Z,Z.d_desc),fe=function(ge){var be;for(Q(ge,ge.dyn_ltree,ge.l_desc.max_code),Q(ge,ge.dyn_dtree,ge.d_desc.max_code),ee(ge,ge.bl_desc),be=18;3<=be&&ge.bl_tree[2*O[be]+1]===0;be--);return ge.opt_len+=3*(be+1)+5+5+4,be}(Z),ue=Z.opt_len+3+7>>>3,(de=Z.static_len+3+7>>>3)<=ue&&(ue=de)):ue=de=se+5,se+4<=ue&&ie!==-1?oe(Z,ie,se,ce):Z.strategy===4||de===ue?(U(Z,2+(ce?1:0),3),Y(Z,V,z)):(U(Z,4+(ce?1:0),3),function(ge,be,_e,Te){var Me;for(U(ge,be-257,5),U(ge,_e-1,5),U(ge,Te-4,4),Me=0;Me<Te;Me++)U(ge,ge.bl_tree[2*O[Me]+1],3);J(ge,ge.dyn_ltree,be-1),J(ge,ge.dyn_dtree,_e-1)}(Z,Z.l_desc.max_code+1,Z.d_desc.max_code+1,fe+1),Y(Z,Z.dyn_ltree,Z.dyn_dtree)),K(Z),ce&&P(Z)},v._tr_tally=function(Z,ie,se){return Z.pending_buf[Z.d_buf+2*Z.last_lit]=ie>>>8&255,Z.pending_buf[Z.d_buf+2*Z.last_lit+1]=255&ie,Z.pending_buf[Z.l_buf+Z.last_lit]=255&se,Z.last_lit++,ie===0?Z.dyn_ltree[2*se]++:(Z.matches++,ie--,Z.dyn_ltree[2*(T[se]+m+1)]++,Z.dyn_dtree[2*I(ie)]++),Z.last_lit===Z.lit_bufsize-1},v._tr_align=function(Z){U(Z,2,3),j(Z,256,V),function(ie){ie.bi_valid===16?(k(ie,ie.bi_buf),ie.bi_buf=0,ie.bi_valid=0):8<=ie.bi_valid&&(ie.pending_buf[ie.pending++]=255&ie.bi_buf,ie.bi_buf>>=8,ie.bi_valid-=8)}(Z)}},{"../utils/common":41}],53:[function(p,g,v){g.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(p,g,v){(function(f){(function(y,m){if(!y.setImmediate){var w,_,A,F,G=1,L={},O=!1,V=y.document,z=Object.getPrototypeOf&&Object.getPrototypeOf(y);z=z&&z.setTimeout?z:y,w={}.toString.call(y.process)==="[object process]"?function(x){n.nextTick(function(){T(x)})}:function(){if(y.postMessage&&!y.importScripts){var x=!0,C=y.onmessage;return y.onmessage=function(){x=!1},y.postMessage("","*"),y.onmessage=C,x}}()?(F="setImmediate$"+Math.random()+"$",y.addEventListener?y.addEventListener("message",M,!1):y.attachEvent("onmessage",M),function(x){y.postMessage(F+x,"*")}):y.MessageChannel?((A=new MessageChannel).port1.onmessage=function(x){T(x.data)},function(x){A.port2.postMessage(x)}):V&&"onreadystatechange"in V.createElement("script")?(_=V.documentElement,function(x){var C=V.createElement("script");C.onreadystatechange=function(){T(x),C.onreadystatechange=null,_.removeChild(C),C=null},_.appendChild(C)}):function(x){setTimeout(T,0,x)},z.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var C=new Array(arguments.length-1),S=0;S<C.length;S++)C[S]=arguments[S+1];var b={callback:x,args:C};return L[G]=b,w(G),G++},z.clearImmediate=H}function H(x){delete L[x]}function T(x){if(O)setTimeout(T,0,x);else{var C=L[x];if(C){O=!0;try{(function(S){var b=S.callback,E=S.args;switch(E.length){case 0:b();break;case 1:b(E[0]);break;case 2:b(E[0],E[1]);break;case 3:b(E[0],E[1],E[2]);break;default:b.apply(void 0,E)}})(C)}finally{H(x),O=!1}}}}function M(x){x.source===y&&typeof x.data=="string"&&x.data.indexOf(F)===0&&T(+x.data.slice(F.length))}})(typeof self>"u"?f===void 0?this:f:self)}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,r("_process"),typeof _t<"u"?_t:typeof self<"u"?self:typeof window<"u"?window:{},r("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],r("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(r,i,s){(function(n){(function(){var o=/[\\^$.*+?()[\]{}|]/g,a=RegExp(o.source),u=typeof n=="object"&&n&&n.Object===Object&&n,l=typeof self=="object"&&self&&self.Object===Object&&self,c=u||l||Function("return this")(),h=Object.prototype.toString,d=c.Symbol,p=d?d.prototype:void 0,g=p?p.toString:void 0;function v(f){if(typeof f=="string")return f;if(function(m){return typeof m=="symbol"||function(w){return!!w&&typeof w=="object"}(m)&&h.call(m)=="[object Symbol]"}(f))return g?g.call(f):"";var y=f+"";return y=="0"&&1/f==-1/0?"-0":y}i.exports=function(f){var y;return(f=(y=f)==null?"":v(y))&&a.test(f)?f.replace(o,"\\$&"):f}}).call(this)}).call(this,typeof _t<"u"?_t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(r,i,s){(function(n){(function(){var o="[object Arguments]",a="[object Map]",u="[object Object]",l="[object Set]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h=/^\w*$/,d=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,v=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,y={};y["[object Float32Array]"]=y["[object Float64Array]"]=y["[object Int8Array]"]=y["[object Int16Array]"]=y["[object Int32Array]"]=y["[object Uint8Array]"]=y["[object Uint8ClampedArray]"]=y["[object Uint16Array]"]=y["[object Uint32Array]"]=!0,y[o]=y["[object Array]"]=y["[object ArrayBuffer]"]=y["[object Boolean]"]=y["[object DataView]"]=y["[object Date]"]=y["[object Error]"]=y["[object Function]"]=y[a]=y["[object Number]"]=y[u]=y["[object RegExp]"]=y[l]=y["[object String]"]=y["[object WeakMap]"]=!1;var m=typeof n=="object"&&n&&n.Object===Object&&n,w=typeof self=="object"&&self&&self.Object===Object&&self,_=m||w||Function("return this")(),A=typeof s=="object"&&s&&!s.nodeType&&s,F=A&&typeof i=="object"&&i&&!i.nodeType&&i,G=F&&F.exports===A&&m.process,L=function(){try{return G&&G.binding("util")}catch{}}(),O=L&&L.isTypedArray;function V(re,pe,Ce,Se){for(var He=-1,De=re?re.length:0;++He<De;){var Fe=re[He];pe(Se,Fe,Ce(Fe),re)}return Se}function z(re,pe){for(var Ce=-1,Se=re?re.length:0;++Ce<Se;)if(pe(re[Ce],Ce,re))return!0;return!1}function H(re){var pe=!1;if(re!=null&&typeof re.toString!="function")try{pe=!!(re+"")}catch{}return pe}function T(re){var pe=-1,Ce=Array(re.size);return re.forEach(function(Se,He){Ce[++pe]=[He,Se]}),Ce}function M(re){var pe=-1,Ce=Array(re.size);return re.forEach(function(Se){Ce[++pe]=Se}),Ce}var x,C,S,b=Array.prototype,E=Function.prototype,R=Object.prototype,I=_["__core-js_shared__"],k=(x=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+x:"",U=E.toString,j=R.hasOwnProperty,X=R.toString,N=RegExp("^"+U.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=_.Symbol,P=_.Uint8Array,D=R.propertyIsEnumerable,W=b.splice,Y=(C=Object.keys,S=Object,function(re){return C(S(re))}),ee=rt(_,"DataView"),Q=rt(_,"Map"),J=rt(_,"Promise"),ne=rt(_,"Set"),oe=rt(_,"WeakMap"),Z=rt(Object,"create"),ie=he(ee),se=he(Q),ce=he(J),ue=he(ne),de=he(oe),fe=K?K.prototype:void 0,ge=fe?fe.valueOf:void 0,be=fe?fe.toString:void 0;function _e(re){var pe=-1,Ce=re?re.length:0;for(this.clear();++pe<Ce;){var Se=re[pe];this.set(Se[0],Se[1])}}function Te(re){var pe=-1,Ce=re?re.length:0;for(this.clear();++pe<Ce;){var Se=re[pe];this.set(Se[0],Se[1])}}function Me(re){var pe=-1,Ce=re?re.length:0;for(this.clear();++pe<Ce;){var Se=re[pe];this.set(Se[0],Se[1])}}function Ke(re){var pe=-1,Ce=re?re.length:0;for(this.__data__=new Me;++pe<Ce;)this.add(re[pe])}function je(re){this.__data__=new Te(re)}function $e(re,pe){var Ce=Je(re)||nt(re)?function(Fe,xt){for(var pt=-1,vt=Array(Fe);++pt<Fe;)vt[pt]=xt(pt);return vt}(re.length,String):[],Se=Ce.length,He=!!Se;for(var De in re)!j.call(re,De)||He&&(De=="length"||zt(De,Se))||Ce.push(De);return Ce}function Ye(re,pe){for(var Ce=re.length;Ce--;)if(Ie(re[Ce][0],pe))return Ce;return-1}function Le(re,pe,Ce,Se){return Ne(re,function(He,De,Fe){pe(Se,He,Ce(He),Fe)}),Se}_e.prototype.clear=function(){this.__data__=Z?Z(null):{}},_e.prototype.delete=function(re){return this.has(re)&&delete this.__data__[re]},_e.prototype.get=function(re){var pe=this.__data__;if(Z){var Ce=pe[re];return Ce==="__lodash_hash_undefined__"?void 0:Ce}return j.call(pe,re)?pe[re]:void 0},_e.prototype.has=function(re){var pe=this.__data__;return Z?pe[re]!==void 0:j.call(pe,re)},_e.prototype.set=function(re,pe){return this.__data__[re]=Z&&pe===void 0?"__lodash_hash_undefined__":pe,this},Te.prototype.clear=function(){this.__data__=[]},Te.prototype.delete=function(re){var pe=this.__data__,Ce=Ye(pe,re);return!(Ce<0)&&(Ce==pe.length-1?pe.pop():W.call(pe,Ce,1),!0)},Te.prototype.get=function(re){var pe=this.__data__,Ce=Ye(pe,re);return Ce<0?void 0:pe[Ce][1]},Te.prototype.has=function(re){return Ye(this.__data__,re)>-1},Te.prototype.set=function(re,pe){var Ce=this.__data__,Se=Ye(Ce,re);return Se<0?Ce.push([re,pe]):Ce[Se][1]=pe,this},Me.prototype.clear=function(){this.__data__={hash:new _e,map:new(Q||Te),string:new _e}},Me.prototype.delete=function(re){return Mt(this,re).delete(re)},Me.prototype.get=function(re){return Mt(this,re).get(re)},Me.prototype.has=function(re){return Mt(this,re).has(re)},Me.prototype.set=function(re,pe){return Mt(this,re).set(re,pe),this},Ke.prototype.add=Ke.prototype.push=function(re){return this.__data__.set(re,"__lodash_hash_undefined__"),this},Ke.prototype.has=function(re){return this.__data__.has(re)},je.prototype.clear=function(){this.__data__=new Te},je.prototype.delete=function(re){return this.__data__.delete(re)},je.prototype.get=function(re){return this.__data__.get(re)},je.prototype.has=function(re){return this.__data__.has(re)},je.prototype.set=function(re,pe){var Ce=this.__data__;if(Ce instanceof Te){var Se=Ce.__data__;if(!Q||Se.length<199)return Se.push([re,pe]),this;Ce=this.__data__=new Me(Se)}return Ce.set(re,pe),this};var Ae,Ne=(Ae=function(re,pe){return re&&ze(re,pe,Rr)},function(re,pe){if(re==null)return re;if(!qe(re))return Ae(re,pe);for(var Ce=re.length,Se=-1,He=Object(re);++Se<Ce&&pe(He[Se],Se,He)!==!1;);return re}),ze=function(re){return function(pe,Ce,Se){for(var He=-1,De=Object(pe),Fe=Se(pe),xt=Fe.length;xt--;){var pt=Fe[++He];if(Ce(De[pt],pt,De)===!1)break}return pe}}();function Ge(re,pe){for(var Ce=0,Se=(pe=st(pe,re)?[pe]:lt(pe)).length;re!=null&&Ce<Se;)re=re[le(pe[Ce++])];return Ce&&Ce==Se?re:void 0}function St(re,pe){return re!=null&&pe in Object(re)}function Nt(re,pe,Ce,Se,He){return re===pe||(re==null||pe==null||!mt(re)&&!fr(pe)?re!=re&&pe!=pe:function(De,Fe,xt,pt,vt,et){var Gt=Je(De),Vt=Je(Fe),jt="[object Array]",cr="[object Array]";Gt||(jt=(jt=Rt(De))==o?u:jt),Vt||(cr=(cr=Rt(Fe))==o?u:cr);var Fr=jt==u&&!H(De),Jr=cr==u&&!H(Fe),ds=jt==cr;if(ds&&!Fr)return et||(et=new je),Gt||_r(De)?Kt(De,Fe,xt,pt,vt,et):function(Bt,At,vn,uo,Ic,Fi,$s){switch(vn){case"[object DataView]":if(Bt.byteLength!=At.byteLength||Bt.byteOffset!=At.byteOffset)return!1;Bt=Bt.buffer,At=At.buffer;case"[object ArrayBuffer]":return!(Bt.byteLength!=At.byteLength||!uo(new P(Bt),new P(At)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ie(+Bt,+At);case"[object Error]":return Bt.name==At.name&&Bt.message==At.message;case"[object RegExp]":case"[object String]":return Bt==At+"";case a:var yn=T;case l:var kl=2&Fi;if(yn||(yn=M),Bt.size!=At.size&&!kl)return!1;var kc=$s.get(Bt);if(kc)return kc==At;Fi|=1,$s.set(Bt,At);var ga=Kt(yn(Bt),yn(At),uo,Ic,Fi,$s);return $s.delete(Bt),ga;case"[object Symbol]":if(ge)return ge.call(Bt)==ge.call(At)}return!1}(De,Fe,jt,xt,pt,vt,et);if(!(2&vt)){var lo=Fr&&j.call(De,"__wrapped__"),ha=Jr&&j.call(Fe,"__wrapped__");if(lo||ha){var pa=lo?De.value():De,fa=ha?Fe.value():Fe;return et||(et=new je),xt(pa,fa,pt,vt,et)}}return ds?(et||(et=new je),function(Bt,At,vn,uo,Ic,Fi){var $s=2&Ic,yn=Rr(Bt),kl=yn.length,kc=Rr(At).length;if(kl!=kc&&!$s)return!1;for(var ga=kl;ga--;){var Cn=yn[ga];if(!($s?Cn in At:j.call(At,Cn)))return!1}var z0=Fi.get(Bt);if(z0&&Fi.get(At))return z0==At;var Lc=!0;Fi.set(Bt,At),Fi.set(At,Bt);for(var Up=$s;++ga<kl;){Cn=yn[ga];var Nc=Bt[Cn],Oc=At[Cn];if(uo)var U0=$s?uo(Oc,Nc,Cn,At,Bt,Fi):uo(Nc,Oc,Cn,Bt,At,Fi);if(!(U0===void 0?Nc===Oc||vn(Nc,Oc,uo,Ic,Fi):U0)){Lc=!1;break}Up||(Up=Cn=="constructor")}if(Lc&&!Up){var Gc=Bt.constructor,Vc=At.constructor;Gc==Vc||!("constructor"in Bt)||!("constructor"in At)||typeof Gc=="function"&&Gc instanceof Gc&&typeof Vc=="function"&&Vc instanceof Vc||(Lc=!1)}return Fi.delete(Bt),Fi.delete(At),Lc}(De,Fe,xt,pt,vt,et)):!1}(re,pe,Nt,Ce,Se,He))}function Xe(re){return!(!mt(re)||function(pe){return!!k&&k in pe}(re))&&(ut(re)||H(re)?N:v).test(he(re))}function Dt(re){return typeof re=="function"?re:re==null?gi:typeof re=="object"?Je(re)?function(Se,He){return st(Se)&&kt(He)?Ut(le(Se),He):function(De){var Fe=function(xt,pt,vt){var et=xt==null?void 0:Ge(xt,pt);return et===void 0?vt:et}(De,Se);return Fe===void 0&&Fe===He?function(xt,pt){return xt!=null&&function(vt,et,Gt){et=st(et,vt)?[et]:lt(et);for(var Vt,jt=-1,cr=et.length;++jt<cr;){var Fr=le(et[jt]);if(!(Vt=vt!=null&&Gt(vt,Fr)))break;vt=vt[Fr]}return Vt||!!(cr=vt?vt.length:0)&&at(cr)&&zt(Fr,cr)&&(Je(vt)||nt(vt))}(xt,pt,St)}(De,Se):Nt(He,Fe,void 0,3)}}(re[0],re[1]):function(Se){var He=function(De){for(var Fe=Rr(De),xt=Fe.length;xt--;){var pt=Fe[xt],vt=De[pt];Fe[xt]=[pt,vt,kt(vt)]}return Fe}(Se);return He.length==1&&He[0][2]?Ut(He[0][0],He[0][1]):function(De){return De===Se||function(Fe,xt,pt,vt){var et=pt.length,Gt=et;if(Fe==null)return!Gt;for(Fe=Object(Fe);et--;){var Vt=pt[et];if(Vt[2]?Vt[1]!==Fe[Vt[0]]:!(Vt[0]in Fe))return!1}for(;++et<Gt;){var jt=(Vt=pt[et])[0],cr=Fe[jt],Fr=Vt[1];if(Vt[2]){if(cr===void 0&&!(jt in Fe))return!1}else{var Jr=new je,ds;if(!(ds===void 0?Nt(Fr,cr,vt,3,Jr):ds))return!1}}return!0}(De,Se,He)}}(re):st(pe=re)?(Ce=le(pe),function(Se){return Se==null?void 0:Se[Ce]}):function(Se){return function(He){return Ge(He,Se)}}(pe);var pe,Ce}function wt(re){if(Ce=(pe=re)&&pe.constructor,Se=typeof Ce=="function"&&Ce.prototype||R,pe!==Se)return Y(re);var pe,Ce,Se,He=[];for(var De in Object(re))j.call(re,De)&&De!="constructor"&&He.push(De);return He}function lt(re){return Je(re)?re:ct(re)}function Kt(re,pe,Ce,Se,He,De){var Fe=2&He,xt=re.length,pt=pe.length;if(xt!=pt&&!(Fe&&pt>xt))return!1;var vt=De.get(re);if(vt&&De.get(pe))return vt==pe;var et=-1,Gt=!0,Vt=1&He?new Ke:void 0;for(De.set(re,pe),De.set(pe,re);++et<xt;){var jt=re[et],cr=pe[et];if(Se)var Fr=Fe?Se(cr,jt,et,pe,re,De):Se(jt,cr,et,re,pe,De);if(Fr!==void 0){if(Fr)continue;Gt=!1;break}if(Vt){if(!z(pe,function(Jr,ds){if(!Vt.has(ds)&&(jt===Jr||Ce(jt,Jr,Se,He,De)))return Vt.add(ds)})){Gt=!1;break}}else if(jt!==cr&&!Ce(jt,cr,Se,He,De)){Gt=!1;break}}return De.delete(re),De.delete(pe),Gt}function Mt(re,pe){var Ce,Se,He=re.__data__;return((Se=typeof(Ce=pe))=="string"||Se=="number"||Se=="symbol"||Se=="boolean"?Ce!=="__proto__":Ce===null)?He[typeof pe=="string"?"string":"hash"]:He.map}function rt(re,pe){var Ce=function(Se,He){return Se==null?void 0:Se[He]}(re,pe);return Xe(Ce)?Ce:void 0}var Rt=function(re){return X.call(re)};function zt(re,pe){return!!(pe=pe??9007199254740991)&&(typeof re=="number"||f.test(re))&&re>-1&&re%1==0&&re<pe}function st(re,pe){if(Je(re))return!1;var Ce=typeof re;return!(Ce!="number"&&Ce!="symbol"&&Ce!="boolean"&&re!=null&&!Yt(re))||h.test(re)||!c.test(re)||pe!=null&&re in Object(pe)}function kt(re){return re==re&&!mt(re)}function Ut(re,pe){return function(Ce){return Ce!=null&&Ce[re]===pe&&(pe!==void 0||re in Object(Ce))}}(ee&&Rt(new ee(new ArrayBuffer(1)))!="[object DataView]"||Q&&Rt(new Q)!=a||J&&Rt(J.resolve())!="[object Promise]"||ne&&Rt(new ne)!=l||oe&&Rt(new oe)!="[object WeakMap]")&&(Rt=function(re){var pe=X.call(re),Ce=pe==u?re.constructor:void 0,Se=Ce?he(Ce):void 0;if(Se)switch(Se){case ie:return"[object DataView]";case se:return a;case ce:return"[object Promise]";case ue:return l;case de:return"[object WeakMap]"}return pe});var ct=Ze(function(re){var pe;re=(pe=re)==null?"":function(Se){if(typeof Se=="string")return Se;if(Yt(Se))return be?be.call(Se):"";var He=Se+"";return He=="0"&&1/Se==-1/0?"-0":He}(pe);var Ce=[];return d.test(re)&&Ce.push(""),re.replace(p,function(Se,He,De,Fe){Ce.push(De?Fe.replace(g,"$1"):He||Se)}),Ce});function le(re){if(typeof re=="string"||Yt(re))return re;var pe=re+"";return pe=="0"&&1/re==-1/0?"-0":pe}function he(re){if(re!=null){try{return U.call(re)}catch{}try{return re+""}catch{}}return""}var me,Pe=(me=function(re,pe,Ce){j.call(re,Ce)?re[Ce].push(pe):re[Ce]=[pe]},function(re,pe){var Ce=Je(re)?V:Le,Se={};return Ce(re,me,Dt(pe),Se)});function Ze(re,pe){if(typeof re!="function"||pe&&typeof pe!="function")throw new TypeError("Expected a function");var Ce=function(){var Se=arguments,He=pe?pe.apply(this,Se):Se[0],De=Ce.cache;if(De.has(He))return De.get(He);var Fe=re.apply(this,Se);return Ce.cache=De.set(He,Fe),Fe};return Ce.cache=new(Ze.Cache||Me),Ce}function Ie(re,pe){return re===pe||re!=re&&pe!=pe}function nt(re){return function(pe){return fr(pe)&&qe(pe)}(re)&&j.call(re,"callee")&&(!D.call(re,"callee")||X.call(re)==o)}Ze.Cache=Me;var Je=Array.isArray;function qe(re){return re!=null&&at(re.length)&&!ut(re)}function ut(re){var pe=mt(re)?X.call(re):"";return pe=="[object Function]"||pe=="[object GeneratorFunction]"}function at(re){return typeof re=="number"&&re>-1&&re%1==0&&re<=9007199254740991}function mt(re){var pe=typeof re;return!!re&&(pe=="object"||pe=="function")}function fr(re){return!!re&&typeof re=="object"}function Yt(re){return typeof re=="symbol"||fr(re)&&X.call(re)=="[object Symbol]"}var _r=O?function(re){return function(pe){return re(pe)}}(O):function(re){return fr(re)&&at(re.length)&&!!y[X.call(re)]};function Rr(re){return qe(re)?$e(re):wt(re)}function gi(re){return re}i.exports=Pe}).call(this)}).call(this,typeof _t<"u"?_t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(r,i,s){var n=Object.prototype.toString;i.exports=function(o){return o===!0||o===!1||function(a){return!!a&&typeof a=="object"}(o)&&n.call(o)=="[object Boolean]"}},{}],445:[function(r,i,s){(function(n){(function(){var o="[object Arguments]",a="[object Map]",u="[object Object]",l="[object Set]",c=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d[o]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d["[object Function]"]=d[a]=d["[object Number]"]=d[u]=d["[object RegExp]"]=d[l]=d["[object String]"]=d["[object WeakMap]"]=!1;var p=typeof n=="object"&&n&&n.Object===Object&&n,g=typeof self=="object"&&self&&self.Object===Object&&self,v=p||g||Function("return this")(),f=typeof s=="object"&&s&&!s.nodeType&&s,y=f&&typeof i=="object"&&i&&!i.nodeType&&i,m=y&&y.exports===f,w=m&&p.process,_=function(){try{return w&&w.binding&&w.binding("util")}catch{}}(),A=_&&_.isTypedArray;function F(le,he){for(var me=-1,Pe=le==null?0:le.length;++me<Pe;)if(he(le[me],me,le))return!0;return!1}function G(le){var he=-1,me=Array(le.size);return le.forEach(function(Pe,Ze){me[++he]=[Ze,Pe]}),me}function L(le){var he=-1,me=Array(le.size);return le.forEach(function(Pe){me[++he]=Pe}),me}var O,V,z,H=Array.prototype,T=Function.prototype,M=Object.prototype,x=v["__core-js_shared__"],C=T.toString,S=M.hasOwnProperty,b=(O=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||""))?"Symbol(src)_1."+O:"",E=M.toString,R=RegExp("^"+C.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=m?v.Buffer:void 0,k=v.Symbol,U=v.Uint8Array,j=M.propertyIsEnumerable,X=H.splice,N=k?k.toStringTag:void 0,K=Object.getOwnPropertySymbols,P=I?I.isBuffer:void 0,D=(V=Object.keys,z=Object,function(le){return V(z(le))}),W=St(v,"DataView"),Y=St(v,"Map"),ee=St(v,"Promise"),Q=St(v,"Set"),J=St(v,"WeakMap"),ne=St(Object,"create"),oe=wt(W),Z=wt(Y),ie=wt(ee),se=wt(Q),ce=wt(J),ue=k?k.prototype:void 0,de=ue?ue.valueOf:void 0;function fe(le){var he=-1,me=le==null?0:le.length;for(this.clear();++he<me;){var Pe=le[he];this.set(Pe[0],Pe[1])}}function ge(le){var he=-1,me=le==null?0:le.length;for(this.clear();++he<me;){var Pe=le[he];this.set(Pe[0],Pe[1])}}function be(le){var he=-1,me=le==null?0:le.length;for(this.clear();++he<me;){var Pe=le[he];this.set(Pe[0],Pe[1])}}function _e(le){var he=-1,me=le==null?0:le.length;for(this.__data__=new be;++he<me;)this.add(le[he])}function Te(le){var he=this.__data__=new ge(le);this.size=he.size}function Me(le,he){var me=Mt(le),Pe=!me&&Kt(le),Ze=!me&&!Pe&&rt(le),Ie=!me&&!Pe&&!Ze&&Ut(le),nt=me||Pe||Ze||Ie,Je=nt?function(at,mt){for(var fr=-1,Yt=Array(at);++fr<at;)Yt[fr]=mt(fr);return Yt}(le.length,String):[],qe=Je.length;for(var ut in le)!S.call(le,ut)||nt&&(ut=="length"||Ze&&(ut=="offset"||ut=="parent")||Ie&&(ut=="buffer"||ut=="byteLength"||ut=="byteOffset")||Dt(ut,qe))||Je.push(ut);return Je}function Ke(le,he){for(var me=le.length;me--;)if(lt(le[me][0],he))return me;return-1}function je(le){return le==null?le===void 0?"[object Undefined]":"[object Null]":N&&N in Object(le)?function(he){var me=S.call(he,N),Pe=he[N];try{he[N]=void 0;var Ze=!0}catch{}var Ie=E.call(he);return Ze&&(me?he[N]=Pe:delete he[N]),Ie}(le):function(he){return E.call(he)}(le)}function $e(le){return kt(le)&&je(le)==o}function Ye(le,he,me,Pe,Ze){return le===he||(le==null||he==null||!kt(le)&&!kt(he)?le!=le&&he!=he:function(Ie,nt,Je,qe,ut,at){var mt=Mt(Ie),fr=Mt(nt),Yt=mt?"[object Array]":Xe(Ie),_r=fr?"[object Array]":Xe(nt),Rr=(Yt=Yt==o?u:Yt)==u,gi=(_r=_r==o?u:_r)==u,re=Yt==_r;if(re&&rt(Ie)){if(!rt(nt))return!1;mt=!0,Rr=!1}if(re&&!Rr)return at||(at=new Te),mt||Ut(Ie)?Ne(Ie,nt,Je,qe,ut,at):function(De,Fe,xt,pt,vt,et,Gt){switch(xt){case"[object DataView]":if(De.byteLength!=Fe.byteLength||De.byteOffset!=Fe.byteOffset)return!1;De=De.buffer,Fe=Fe.buffer;case"[object ArrayBuffer]":return!(De.byteLength!=Fe.byteLength||!et(new U(De),new U(Fe)));case"[object Boolean]":case"[object Date]":case"[object Number]":return lt(+De,+Fe);case"[object Error]":return De.name==Fe.name&&De.message==Fe.message;case"[object RegExp]":case"[object String]":return De==Fe+"";case a:var Vt=G;case l:var jt=1&pt;if(Vt||(Vt=L),De.size!=Fe.size&&!jt)return!1;var cr=Gt.get(De);if(cr)return cr==Fe;pt|=2,Gt.set(De,Fe);var Fr=Ne(Vt(De),Vt(Fe),pt,vt,et,Gt);return Gt.delete(De),Fr;case"[object Symbol]":if(de)return de.call(De)==de.call(Fe)}return!1}(Ie,nt,Yt,Je,qe,ut,at);if(!(1&Je)){var pe=Rr&&S.call(Ie,"__wrapped__"),Ce=gi&&S.call(nt,"__wrapped__");if(pe||Ce){var Se=pe?Ie.value():Ie,He=Ce?nt.value():nt;return at||(at=new Te),ut(Se,He,Je,qe,at)}}return re?(at||(at=new Te),function(De,Fe,xt,pt,vt,et){var Gt=1&xt,Vt=ze(De),jt=Vt.length,cr=ze(Fe).length;if(jt!=cr&&!Gt)return!1;for(var Fr=jt;Fr--;){var Jr=Vt[Fr];if(!(Gt?Jr in Fe:S.call(Fe,Jr)))return!1}var ds=et.get(De);if(ds&&et.get(Fe))return ds==Fe;var lo=!0;et.set(De,Fe),et.set(Fe,De);for(var ha=Gt;++Fr<jt;){Jr=Vt[Fr];var pa=De[Jr],fa=Fe[Jr];if(pt)var Bt=Gt?pt(fa,pa,Jr,Fe,De,et):pt(pa,fa,Jr,De,Fe,et);if(!(Bt===void 0?pa===fa||vt(pa,fa,xt,pt,et):Bt)){lo=!1;break}ha||(ha=Jr=="constructor")}if(lo&&!ha){var At=De.constructor,vn=Fe.constructor;At==vn||!("constructor"in De)||!("constructor"in Fe)||typeof At=="function"&&At instanceof At&&typeof vn=="function"&&vn instanceof vn||(lo=!1)}return et.delete(De),et.delete(Fe),lo}(Ie,nt,Je,qe,ut,at)):!1}(le,he,me,Pe,Ye,Ze))}function Le(le){return!(!st(le)||function(he){return!!b&&b in he}(le))&&(Rt(le)?R:c).test(wt(le))}function Ae(le){if(me=(he=le)&&he.constructor,Pe=typeof me=="function"&&me.prototype||M,he!==Pe)return D(le);var he,me,Pe,Ze=[];for(var Ie in Object(le))S.call(le,Ie)&&Ie!="constructor"&&Ze.push(Ie);return Ze}function Ne(le,he,me,Pe,Ze,Ie){var nt=1&me,Je=le.length,qe=he.length;if(Je!=qe&&!(nt&&qe>Je))return!1;var ut=Ie.get(le);if(ut&&Ie.get(he))return ut==he;var at=-1,mt=!0,fr=2&me?new _e:void 0;for(Ie.set(le,he),Ie.set(he,le);++at<Je;){var Yt=le[at],_r=he[at];if(Pe)var Rr=nt?Pe(_r,Yt,at,he,le,Ie):Pe(Yt,_r,at,le,he,Ie);if(Rr!==void 0){if(Rr)continue;mt=!1;break}if(fr){if(!F(he,function(gi,re){if(pe=re,!fr.has(pe)&&(Yt===gi||Ze(Yt,gi,me,Pe,Ie)))return fr.push(re);var pe})){mt=!1;break}}else if(Yt!==_r&&!Ze(Yt,_r,me,Pe,Ie)){mt=!1;break}}return Ie.delete(le),Ie.delete(he),mt}function ze(le){return function(he,me,Pe){var Ze=me(he);return Mt(he)?Ze:function(Ie,nt){for(var Je=-1,qe=nt.length,ut=Ie.length;++Je<qe;)Ie[ut+Je]=nt[Je];return Ie}(Ze,Pe(he))}(le,ct,Nt)}function Ge(le,he){var me,Pe,Ze=le.__data__;return((Pe=typeof(me=he))=="string"||Pe=="number"||Pe=="symbol"||Pe=="boolean"?me!=="__proto__":me===null)?Ze[typeof he=="string"?"string":"hash"]:Ze.map}function St(le,he){var me=function(Pe,Ze){return Pe==null?void 0:Pe[Ze]}(le,he);return Le(me)?me:void 0}fe.prototype.clear=function(){this.__data__=ne?ne(null):{},this.size=0},fe.prototype.delete=function(le){var he=this.has(le)&&delete this.__data__[le];return this.size-=he?1:0,he},fe.prototype.get=function(le){var he=this.__data__;if(ne){var me=he[le];return me==="__lodash_hash_undefined__"?void 0:me}return S.call(he,le)?he[le]:void 0},fe.prototype.has=function(le){var he=this.__data__;return ne?he[le]!==void 0:S.call(he,le)},fe.prototype.set=function(le,he){var me=this.__data__;return this.size+=this.has(le)?0:1,me[le]=ne&&he===void 0?"__lodash_hash_undefined__":he,this},ge.prototype.clear=function(){this.__data__=[],this.size=0},ge.prototype.delete=function(le){var he=this.__data__,me=Ke(he,le);return!(me<0)&&(me==he.length-1?he.pop():X.call(he,me,1),--this.size,!0)},ge.prototype.get=function(le){var he=this.__data__,me=Ke(he,le);return me<0?void 0:he[me][1]},ge.prototype.has=function(le){return Ke(this.__data__,le)>-1},ge.prototype.set=function(le,he){var me=this.__data__,Pe=Ke(me,le);return Pe<0?(++this.size,me.push([le,he])):me[Pe][1]=he,this},be.prototype.clear=function(){this.size=0,this.__data__={hash:new fe,map:new(Y||ge),string:new fe}},be.prototype.delete=function(le){var he=Ge(this,le).delete(le);return this.size-=he?1:0,he},be.prototype.get=function(le){return Ge(this,le).get(le)},be.prototype.has=function(le){return Ge(this,le).has(le)},be.prototype.set=function(le,he){var me=Ge(this,le),Pe=me.size;return me.set(le,he),this.size+=me.size==Pe?0:1,this},_e.prototype.add=_e.prototype.push=function(le){return this.__data__.set(le,"__lodash_hash_undefined__"),this},_e.prototype.has=function(le){return this.__data__.has(le)},Te.prototype.clear=function(){this.__data__=new ge,this.size=0},Te.prototype.delete=function(le){var he=this.__data__,me=he.delete(le);return this.size=he.size,me},Te.prototype.get=function(le){return this.__data__.get(le)},Te.prototype.has=function(le){return this.__data__.has(le)},Te.prototype.set=function(le,he){var me=this.__data__;if(me instanceof ge){var Pe=me.__data__;if(!Y||Pe.length<199)return Pe.push([le,he]),this.size=++me.size,this;me=this.__data__=new be(Pe)}return me.set(le,he),this.size=me.size,this};var Nt=K?function(le){return le==null?[]:(le=Object(le),function(he,me){for(var Pe=-1,Ze=he==null?0:he.length,Ie=0,nt=[];++Pe<Ze;){var Je=he[Pe];me(Je,Pe,he)&&(nt[Ie++]=Je)}return nt}(K(le),function(he){return j.call(le,he)}))}:function(){return[]},Xe=je;function Dt(le,he){return!!(he=he??9007199254740991)&&(typeof le=="number"||h.test(le))&&le>-1&&le%1==0&&le<he}function wt(le){if(le!=null){try{return C.call(le)}catch{}try{return le+""}catch{}}return""}function lt(le,he){return le===he||le!=le&&he!=he}(W&&Xe(new W(new ArrayBuffer(1)))!="[object DataView]"||Y&&Xe(new Y)!=a||ee&&Xe(ee.resolve())!="[object Promise]"||Q&&Xe(new Q)!=l||J&&Xe(new J)!="[object WeakMap]")&&(Xe=function(le){var he=je(le),me=he==u?le.constructor:void 0,Pe=me?wt(me):"";if(Pe)switch(Pe){case oe:return"[object DataView]";case Z:return a;case ie:return"[object Promise]";case se:return l;case ce:return"[object WeakMap]"}return he});var Kt=$e(function(){return arguments}())?$e:function(le){return kt(le)&&S.call(le,"callee")&&!j.call(le,"callee")},Mt=Array.isArray,rt=P||function(){return!1};function Rt(le){if(!st(le))return!1;var he=je(le);return he=="[object Function]"||he=="[object GeneratorFunction]"||he=="[object AsyncFunction]"||he=="[object Proxy]"}function zt(le){return typeof le=="number"&&le>-1&&le%1==0&&le<=9007199254740991}function st(le){var he=typeof le;return le!=null&&(he=="object"||he=="function")}function kt(le){return le!=null&&typeof le=="object"}var Ut=A?function(le){return function(he){return le(he)}}(A):function(le){return kt(le)&&zt(le.length)&&!!d[je(le)]};function ct(le){return(he=le)!=null&&zt(he.length)&&!Rt(he)?Me(le):Ae(le);var he}i.exports=function(le,he){return Ye(le,he)}}).call(this)}).call(this,typeof _t<"u"?_t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(r,i,s){(function(n){(function(){var o=typeof n=="object"&&n&&n.Object===Object&&n,a=typeof self=="object"&&self&&self.Object===Object&&self,u=o||a||Function("return this")(),l=Object.prototype,c=l.hasOwnProperty,h=l.toString,d=u.Symbol,p=d?d.toStringTag:void 0;function g(v){return v==null?v===void 0?"[object Undefined]":"[object Null]":p&&p in Object(v)?function(f){var y=c.call(f,p),m=f[p];try{f[p]=void 0;var w=!0}catch{}var _=h.call(f);return w&&(y?f[p]=m:delete f[p]),_}(v):function(f){return h.call(f)}(v)}i.exports=function(v){if(!function(y){var m=typeof y;return y!=null&&(m=="object"||m=="function")}(v))return!1;var f=g(v);return f=="[object Function]"||f=="[object GeneratorFunction]"||f=="[object AsyncFunction]"||f=="[object Proxy]"}}).call(this)}).call(this,typeof _t<"u"?_t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(r,i,s){i.exports=function(n){return n==null}},{}],448:[function(r,i,s){i.exports=function(n){return n===void 0}},{}],449:[function(r,i,s){(function(n){(function(){var o=/^\[object .+?Constructor\]$/,a=typeof n=="object"&&n&&n.Object===Object&&n,u=typeof self=="object"&&self&&self.Object===Object&&self,l=a||u||Function("return this")();function c(k,U){return!!(k&&k.length)&&function(j,X,N){if(X!=X)return function(D,W,Y,ee){for(var Q=D.length,J=Y+-1;++J<Q;)if(W(D[J],J,D))return J;return-1}(j,h,N);for(var K=N-1,P=j.length;++K<P;)if(j[K]===X)return K;return-1}(k,U,0)>-1}function h(k){return k!=k}function d(k,U){return k.has(U)}function p(k){var U=-1,j=Array(k.size);return k.forEach(function(X){j[++U]=X}),j}var g,v=Array.prototype,f=Function.prototype,y=Object.prototype,m=l["__core-js_shared__"],w=(g=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",_=f.toString,A=y.hasOwnProperty,F=y.toString,G=RegExp("^"+_.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=v.splice,O=R(l,"Map"),V=R(l,"Set"),z=R(Object,"create");function H(k){var U=-1,j=k?k.length:0;for(this.clear();++U<j;){var X=k[U];this.set(X[0],X[1])}}function T(k){var U=-1,j=k?k.length:0;for(this.clear();++U<j;){var X=k[U];this.set(X[0],X[1])}}function M(k){var U=-1,j=k?k.length:0;for(this.clear();++U<j;){var X=k[U];this.set(X[0],X[1])}}function x(k){var U=-1,j=k?k.length:0;for(this.__data__=new M;++U<j;)this.add(k[U])}function C(k,U){for(var j,X,N=k.length;N--;)if((j=k[N][0])===(X=U)||j!=j&&X!=X)return N;return-1}function S(k){return!(!I(k)||(U=k,w&&w in U))&&(function(j){var X=I(j)?F.call(j):"";return X=="[object Function]"||X=="[object GeneratorFunction]"}(k)||function(j){var X=!1;if(j!=null&&typeof j.toString!="function")try{X=!!(j+"")}catch{}return X}(k)?G:o).test(function(j){if(j!=null){try{return _.call(j)}catch{}try{return j+""}catch{}}return""}(k));var U}H.prototype.clear=function(){this.__data__=z?z(null):{}},H.prototype.delete=function(k){return this.has(k)&&delete this.__data__[k]},H.prototype.get=function(k){var U=this.__data__;if(z){var j=U[k];return j==="__lodash_hash_undefined__"?void 0:j}return A.call(U,k)?U[k]:void 0},H.prototype.has=function(k){var U=this.__data__;return z?U[k]!==void 0:A.call(U,k)},H.prototype.set=function(k,U){return this.__data__[k]=z&&U===void 0?"__lodash_hash_undefined__":U,this},T.prototype.clear=function(){this.__data__=[]},T.prototype.delete=function(k){var U=this.__data__,j=C(U,k);return!(j<0)&&(j==U.length-1?U.pop():L.call(U,j,1),!0)},T.prototype.get=function(k){var U=this.__data__,j=C(U,k);return j<0?void 0:U[j][1]},T.prototype.has=function(k){return C(this.__data__,k)>-1},T.prototype.set=function(k,U){var j=this.__data__,X=C(j,k);return X<0?j.push([k,U]):j[X][1]=U,this},M.prototype.clear=function(){this.__data__={hash:new H,map:new(O||T),string:new H}},M.prototype.delete=function(k){return E(this,k).delete(k)},M.prototype.get=function(k){return E(this,k).get(k)},M.prototype.has=function(k){return E(this,k).has(k)},M.prototype.set=function(k,U){return E(this,k).set(k,U),this},x.prototype.add=x.prototype.push=function(k){return this.__data__.set(k,"__lodash_hash_undefined__"),this},x.prototype.has=function(k){return this.__data__.has(k)};var b=V&&1/p(new V([,-0]))[1]==1/0?function(k){return new V(k)}:function(){};function E(k,U){var j,X,N=k.__data__;return((X=typeof(j=U))=="string"||X=="number"||X=="symbol"||X=="boolean"?j!=="__proto__":j===null)?N[typeof U=="string"?"string":"hash"]:N.map}function R(k,U){var j=function(X,N){return X==null?void 0:X[N]}(k,U);return S(j)?j:void 0}function I(k){var U=typeof k;return!!k&&(U=="object"||U=="function")}i.exports=function(k){return k&&k.length?function(U,j,X){var N=-1,K=c,P=U.length,D=!0,W=[],Y=W;if(P>=200){var ee=b(U);if(ee)return p(ee);D=!1,K=d,Y=new x}else Y=W;e:for(;++N<P;){var Q=U[N],J=Q;if(Q=Q!==0?Q:0,D&&J==J){for(var ne=Y.length;ne--;)if(Y[ne]===J)continue e;W.push(Q)}else K(Y,J,X)||(Y!==W&&Y.push(J),W.push(Q))}return W}(k):[]}}).call(this)}).call(this,typeof _t<"u"?_t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(r,i,s){var n=r("inherits"),o=r("hash-base"),a=r("safe-buffer").Buffer,u=new Array(16);function l(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(v,f){return v<<f|v>>>32-f}function h(v,f,y,m,w,_,A){return c(v+(f&y|~f&m)+w+_|0,A)+f|0}function d(v,f,y,m,w,_,A){return c(v+(f&m|y&~m)+w+_|0,A)+f|0}function p(v,f,y,m,w,_,A){return c(v+(f^y^m)+w+_|0,A)+f|0}function g(v,f,y,m,w,_,A){return c(v+(y^(f|~m))+w+_|0,A)+f|0}n(l,o),l.prototype._update=function(){for(var v=u,f=0;f<16;++f)v[f]=this._block.readInt32LE(4*f);var y=this._a,m=this._b,w=this._c,_=this._d;y=h(y,m,w,_,v[0],3614090360,7),_=h(_,y,m,w,v[1],3905402710,12),w=h(w,_,y,m,v[2],606105819,17),m=h(m,w,_,y,v[3],3250441966,22),y=h(y,m,w,_,v[4],4118548399,7),_=h(_,y,m,w,v[5],1200080426,12),w=h(w,_,y,m,v[6],2821735955,17),m=h(m,w,_,y,v[7],4249261313,22),y=h(y,m,w,_,v[8],1770035416,7),_=h(_,y,m,w,v[9],2336552879,12),w=h(w,_,y,m,v[10],4294925233,17),m=h(m,w,_,y,v[11],2304563134,22),y=h(y,m,w,_,v[12],1804603682,7),_=h(_,y,m,w,v[13],4254626195,12),w=h(w,_,y,m,v[14],2792965006,17),y=d(y,m=h(m,w,_,y,v[15],1236535329,22),w,_,v[1],4129170786,5),_=d(_,y,m,w,v[6],3225465664,9),w=d(w,_,y,m,v[11],643717713,14),m=d(m,w,_,y,v[0],3921069994,20),y=d(y,m,w,_,v[5],3593408605,5),_=d(_,y,m,w,v[10],38016083,9),w=d(w,_,y,m,v[15],3634488961,14),m=d(m,w,_,y,v[4],3889429448,20),y=d(y,m,w,_,v[9],568446438,5),_=d(_,y,m,w,v[14],3275163606,9),w=d(w,_,y,m,v[3],4107603335,14),m=d(m,w,_,y,v[8],1163531501,20),y=d(y,m,w,_,v[13],2850285829,5),_=d(_,y,m,w,v[2],4243563512,9),w=d(w,_,y,m,v[7],1735328473,14),y=p(y,m=d(m,w,_,y,v[12],2368359562,20),w,_,v[5],4294588738,4),_=p(_,y,m,w,v[8],2272392833,11),w=p(w,_,y,m,v[11],1839030562,16),m=p(m,w,_,y,v[14],4259657740,23),y=p(y,m,w,_,v[1],2763975236,4),_=p(_,y,m,w,v[4],1272893353,11),w=p(w,_,y,m,v[7],4139469664,16),m=p(m,w,_,y,v[10],3200236656,23),y=p(y,m,w,_,v[13],681279174,4),_=p(_,y,m,w,v[0],3936430074,11),w=p(w,_,y,m,v[3],3572445317,16),m=p(m,w,_,y,v[6],76029189,23),y=p(y,m,w,_,v[9],3654602809,4),_=p(_,y,m,w,v[12],3873151461,11),w=p(w,_,y,m,v[15],530742520,16),y=g(y,m=p(m,w,_,y,v[2],3299628645,23),w,_,v[0],4096336452,6),_=g(_,y,m,w,v[7],1126891415,10),w=g(w,_,y,m,v[14],2878612391,15),m=g(m,w,_,y,v[5],4237533241,21),y=g(y,m,w,_,v[12],1700485571,6),_=g(_,y,m,w,v[3],2399980690,10),w=g(w,_,y,m,v[10],4293915773,15),m=g(m,w,_,y,v[1],2240044497,21),y=g(y,m,w,_,v[8],1873313359,6),_=g(_,y,m,w,v[15],4264355552,10),w=g(w,_,y,m,v[6],2734768916,15),m=g(m,w,_,y,v[13],1309151649,21),y=g(y,m,w,_,v[4],4149444226,6),_=g(_,y,m,w,v[11],3174756917,10),w=g(w,_,y,m,v[2],718787259,15),m=g(m,w,_,y,v[9],3951481745,21),this._a=this._a+y|0,this._b=this._b+m|0,this._c=this._c+w|0,this._d=this._d+_|0},l.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var v=a.allocUnsafe(16);return v.writeInt32LE(this._a,0),v.writeInt32LE(this._b,4),v.writeInt32LE(this._c,8),v.writeInt32LE(this._d,12),v},i.exports=l},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(r,i,s){var n=r("bn.js"),o=r("brorand");function a(u){this.rand=u||new o.Rand}i.exports=a,a.create=function(u){return new a(u)},a.prototype._randbelow=function(u){var l=u.bitLength(),c=Math.ceil(l/8);do var h=new n(this.rand.generate(c));while(h.cmp(u)>=0);return h},a.prototype._randrange=function(u,l){var c=l.sub(u);return u.add(this._randbelow(c))},a.prototype.test=function(u,l,c){var h=u.bitLength(),d=n.mont(u),p=new n(1).toRed(d);l||(l=Math.max(1,h/48|0));for(var g=u.subn(1),v=0;!g.testn(v);v++);for(var f=u.shrn(v),y=g.toRed(d);l>0;l--){var m=this._randrange(new n(2),g);c&&c(m);var w=m.toRed(d).redPow(f);if(w.cmp(p)!==0&&w.cmp(y)!==0){for(var _=1;_<v;_++){if((w=w.redSqr()).cmp(p)===0)return!1;if(w.cmp(y)===0)break}if(_===v)return!1}}return!0},a.prototype.getDivisor=function(u,l){var c=u.bitLength(),h=n.mont(u),d=new n(1).toRed(h);l||(l=Math.max(1,c/48|0));for(var p=u.subn(1),g=0;!p.testn(g);g++);for(var v=u.shrn(g),f=p.toRed(h);l>0;l--){var y=this._randrange(new n(2),p),m=u.gcd(y);if(m.cmpn(1)!==0)return m;var w=y.toRed(h).redPow(v);if(w.cmp(d)!==0&&w.cmp(f)!==0){for(var _=1;_<g;_++){if((w=w.redSqr()).cmp(d)===0)return w.fromRed().subn(1).gcd(u);if(w.cmp(f)===0)break}if(_===g)return(w=w.redSqr()).fromRed().subn(1).gcd(u)}}return!1}},{"bn.js":452,brorand:187}],452:[function(r,i,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],453:[function(r,i,s){function n(o,a){if(!o)throw new Error(a||"Assertion failed")}i.exports=n,n.equal=function(o,a,u){if(o!=a)throw new Error(u||"Assertion failed: "+o+" != "+a)}},{}],454:[function(r,i,s){var n=s;function o(u){return u.length===1?"0"+u:u}function a(u){for(var l="",c=0;c<u.length;c++)l+=o(u[c].toString(16));return l}n.toArray=function(u,l){if(Array.isArray(u))return u.slice();if(!u)return[];var c=[];if(typeof u!="string"){for(var h=0;h<u.length;h++)c[h]=0|u[h];return c}if(l==="hex")for((u=u.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(u="0"+u),h=0;h<u.length;h+=2)c.push(parseInt(u[h]+u[h+1],16));else for(h=0;h<u.length;h++){var d=u.charCodeAt(h),p=d>>8,g=255&d;p?c.push(p,g):c.push(g)}return c},n.zero2=o,n.toHex=a,n.encode=function(u,l){return l==="hex"?a(u):u}},{}],455:[function(r,i,s){i.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(r,i,s){var n=r("asn1.js");s.certificate=r("./certificate");var o=n.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});s.RSAPrivateKey=o;var a=n.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});s.RSAPublicKey=a;var u=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())});s.PublicKey=u;var l=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=n.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(l),this.key("subjectPrivateKey").octstr())});s.PrivateKey=c;var h=n.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});s.EncryptedPrivateKey=h;var d=n.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});s.DSAPrivateKey=d,s.DSAparam=n.define("DSAparam",function(){this.int()});var p=n.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(g),this.key("publicKey").optional().explicit(1).bitstr())});s.ECPrivateKey=p;var g=n.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});s.signature=n.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(r,i,s){var n=r("asn1.js"),o=n.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),a=n.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),u=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),l=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(u),this.key("subjectPublicKey").bitstr())}),c=n.define("RelativeDistinguishedName",function(){this.setof(a)}),h=n.define("RDNSequence",function(){this.seqof(c)}),d=n.define("Name",function(){this.choice({rdnSequence:this.use(h)})}),p=n.define("Validity",function(){this.seq().obj(this.key("notBefore").use(o),this.key("notAfter").use(o))}),g=n.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),v=n.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(u),this.key("issuer").use(d),this.key("validity").use(p),this.key("subject").use(d),this.key("subjectPublicKeyInfo").use(l),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(g).optional())}),f=n.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(v),this.key("signatureAlgorithm").use(u),this.key("signatureValue").bitstr())});i.exports=f},{"asn1.js":170}],458:[function(r,i,s){var n=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,u=r("evp_bytestokey"),l=r("browserify-aes"),c=r("safe-buffer").Buffer;i.exports=function(h,d){var p,g=h.toString(),v=g.match(n);if(v){var f="aes"+v[1],y=c.from(v[2],"hex"),m=c.from(v[3].replace(/[\r\n]/g,""),"base64"),w=u(d,y.slice(0,8),parseInt(v[1],10)).key,_=[],A=l.createDecipheriv(f,w,y);_.push(A.update(m)),_.push(A.final()),p=c.concat(_)}else{var F=g.match(a);p=c.from(F[2].replace(/[\r\n]/g,""),"base64")}return{tag:g.match(o)[1],data:p}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(r,i,s){var n=r("./asn1"),o=r("./aesid.json"),a=r("./fixProc"),u=r("browserify-aes"),l=r("pbkdf2"),c=r("safe-buffer").Buffer;function h(d){var p;typeof d!="object"||c.isBuffer(d)||(p=d.passphrase,d=d.key),typeof d=="string"&&(d=c.from(d));var g,v,f=a(d,p),y=f.tag,m=f.data;switch(y){case"CERTIFICATE":v=n.certificate.decode(m,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(v||(v=n.PublicKey.decode(m,"der")),g=v.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPublicKey.decode(v.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return v.subjectPrivateKey=v.subjectPublicKey,{type:"ec",data:v};case"1.2.840.10040.4.1":return v.algorithm.params.pub_key=n.DSAparam.decode(v.subjectPublicKey.data,"der"),{type:"dsa",data:v.algorithm.params};default:throw new Error("unknown key id "+g)}case"ENCRYPTED PRIVATE KEY":m=function(w,_){var A=w.algorithm.decrypt.kde.kdeparams.salt,F=parseInt(w.algorithm.decrypt.kde.kdeparams.iters.toString(),10),G=o[w.algorithm.decrypt.cipher.algo.join(".")],L=w.algorithm.decrypt.cipher.iv,O=w.subjectPrivateKey,V=parseInt(G.split("-")[1],10)/8,z=l.pbkdf2Sync(_,A,F,V,"sha1"),H=u.createDecipheriv(G,z,L),T=[];return T.push(H.update(O)),T.push(H.final()),c.concat(T)}(m=n.EncryptedPrivateKey.decode(m,"der"),p);case"PRIVATE KEY":switch(g=(v=n.PrivateKey.decode(m,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return n.RSAPrivateKey.decode(v.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:v.algorithm.curve,privateKey:n.ECPrivateKey.decode(v.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return v.algorithm.params.priv_key=n.DSAparam.decode(v.subjectPrivateKey,"der"),{type:"dsa",params:v.algorithm.params};default:throw new Error("unknown key id "+g)}case"RSA PUBLIC KEY":return n.RSAPublicKey.decode(m,"der");case"RSA PRIVATE KEY":return n.RSAPrivateKey.decode(m,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:n.DSAPrivateKey.decode(m,"der")};case"EC PRIVATE KEY":return{curve:(m=n.ECPrivateKey.decode(m,"der")).parameters.value,privateKey:m.privateKey};default:throw new Error("unknown key type "+y)}}i.exports=h,h.signature=n.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(r,i,s){s.pbkdf2=r("./lib/async"),s.pbkdf2Sync=r("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(r,i,s){(function(n){(function(){var o,a,u=r("safe-buffer").Buffer,l=r("./precondition"),c=r("./default-encoding"),h=r("./sync"),d=r("./to-buffer"),p=n.crypto&&n.crypto.subtle,g={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},v=[];function f(){return a||(a=n.process&&n.process.nextTick?n.process.nextTick:n.queueMicrotask?n.queueMicrotask:n.setImmediate?n.setImmediate:n.setTimeout)}function y(m,w,_,A,F){return p.importKey("raw",m,{name:"PBKDF2"},!1,["deriveBits"]).then(function(G){return p.deriveBits({name:"PBKDF2",salt:w,iterations:_,hash:{name:F}},G,A<<3)}).then(function(G){return u.from(G)})}i.exports=function(m,w,_,A,F,G){typeof F=="function"&&(G=F,F=void 0);var L=g[(F=F||"sha1").toLowerCase()];if(L&&typeof n.Promise=="function"){if(l(_,A),m=d(m,c,"Password"),w=d(w,c,"Salt"),typeof G!="function")throw new Error("No callback provided to pbkdf2");(function(O,V){O.then(function(z){f()(function(){V(null,z)})},function(z){f()(function(){V(z)})})})(function(O){if(n.process&&!n.process.browser||!p||!p.importKey||!p.deriveBits)return Promise.resolve(!1);if(v[O]!==void 0)return v[O];var V=y(o=o||u.alloc(8),o,10,128,O).then(function(){return!0}).catch(function(){return!1});return v[O]=V,V}(L).then(function(O){return O?y(m,w,_,A,L):h(m,w,_,A,F)}),G)}else f()(function(){var O;try{O=h(m,w,_,A,F)}catch(V){return G(V)}G(null,O)})}}).call(this)}).call(this,typeof _t<"u"?_t:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(r,i,s){(function(n,o){(function(){var a;o.process&&o.process.browser?a="utf-8":o.process&&o.process.version?a=parseInt(n.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":a="utf-8",i.exports=a}).call(this)}).call(this,r("_process"),typeof _t<"u"?_t:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(r,i,s){var n=Math.pow(2,30)-1;i.exports=function(o,a){if(typeof o!="number")throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if(typeof a!="number")throw new TypeError("Key length not a number");if(a<0||a>n||a!=a)throw new TypeError("Bad key length")}},{}],464:[function(r,i,s){var n=r("create-hash/md5"),o=r("ripemd160"),a=r("sha.js"),u=r("safe-buffer").Buffer,l=r("./precondition"),c=r("./default-encoding"),h=r("./to-buffer"),d=u.alloc(128),p={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function g(v,f,y){var m=function(L){function O(V){return a(L).update(V).digest()}return L==="rmd160"||L==="ripemd160"?function(V){return new o().update(V).digest()}:L==="md5"?n:O}(v),w=v==="sha512"||v==="sha384"?128:64;f.length>w?f=m(f):f.length<w&&(f=u.concat([f,d],w));for(var _=u.allocUnsafe(w+p[v]),A=u.allocUnsafe(w+p[v]),F=0;F<w;F++)_[F]=54^f[F],A[F]=92^f[F];var G=u.allocUnsafe(w+y+4);_.copy(G,0,0,w),this.ipad1=G,this.ipad2=_,this.opad=A,this.alg=v,this.blocksize=w,this.hash=m,this.size=p[v]}g.prototype.run=function(v,f){return v.copy(f,this.blocksize),this.hash(f).copy(this.opad,this.blocksize),this.hash(this.opad)},i.exports=function(v,f,y,m,w){l(y,m);var _=new g(w=w||"sha1",v=h(v,c,"Password"),(f=h(f,c,"Salt")).length),A=u.allocUnsafe(m),F=u.allocUnsafe(f.length+4);f.copy(F,0,0,f.length);for(var G=0,L=p[w],O=Math.ceil(m/L),V=1;V<=O;V++){F.writeUInt32BE(V,f.length);for(var z=_.run(F,_.ipad1),H=z,T=1;T<y;T++){H=_.run(H,_.ipad2);for(var M=0;M<L;M++)z[M]^=H[M]}z.copy(A,G),G+=L}return A}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(r,i,s){var n=r("safe-buffer").Buffer;i.exports=function(o,a,u){if(n.isBuffer(o))return o;if(typeof o=="string")return n.from(o,a);if(ArrayBuffer.isView(o))return n.from(o.buffer);throw new TypeError(u+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(r,i,s){(function(n){(function(){n===void 0||!n.version||n.version.indexOf("v0.")===0||n.version.indexOf("v1.")===0&&n.version.indexOf("v1.8.")!==0?i.exports={nextTick:function(o,a,u,l){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var c,h,d=arguments.length;switch(d){case 0:case 1:return n.nextTick(o);case 2:return n.nextTick(function(){o.call(null,a)});case 3:return n.nextTick(function(){o.call(null,a,u)});case 4:return n.nextTick(function(){o.call(null,a,u,l)});default:for(c=new Array(d-1),h=0;h<c.length;)c[h++]=arguments[h];return n.nextTick(function(){o.apply(null,c)})}}}:i.exports=n}).call(this)}).call(this,r("_process"))},{_process:467}],467:[function(r,i,s){var n,o,a=i.exports={};function u(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function c(w){if(n===setTimeout)return setTimeout(w,0);if((n===u||!n)&&setTimeout)return n=setTimeout,setTimeout(w,0);try{return n(w,0)}catch{try{return n.call(null,w,0)}catch{return n.call(this,w,0)}}}(function(){try{n=typeof setTimeout=="function"?setTimeout:u}catch{n=u}try{o=typeof clearTimeout=="function"?clearTimeout:l}catch{o=l}})();var h,d=[],p=!1,g=-1;function v(){p&&h&&(p=!1,h.length?d=h.concat(d):g=-1,d.length&&f())}function f(){if(!p){var w=c(v);p=!0;for(var _=d.length;_;){for(h=d,d=[];++g<_;)h&&h[g].run();g=-1,_=d.length}h=null,p=!1,function(A){if(o===clearTimeout)return clearTimeout(A);if((o===l||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(A);try{o(A)}catch{try{return o.call(null,A)}catch{return o.call(this,A)}}}(w)}}function y(w,_){this.fun=w,this.array=_}function m(){}a.nextTick=function(w){var _=new Array(arguments.length-1);if(arguments.length>1)for(var A=1;A<arguments.length;A++)_[A-1]=arguments[A];d.push(new y(w,_)),d.length!==1||p||c(f)},y.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(w){return[]},a.binding=function(w){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(w){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],468:[function(r,i,s){s.publicEncrypt=r("./publicEncrypt"),s.privateDecrypt=r("./privateDecrypt"),s.privateEncrypt=function(n,o){return s.publicEncrypt(n,o,!0)},s.publicDecrypt=function(n,o){return s.privateDecrypt(n,o,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(r,i,s){var n=r("create-hash"),o=r("safe-buffer").Buffer;function a(u){var l=o.allocUnsafe(4);return l.writeUInt32BE(u,0),l}i.exports=function(u,l){for(var c,h=o.alloc(0),d=0;h.length<l;)c=a(d++),h=o.concat([h,n("sha1").update(u).update(c).digest()]);return h.slice(0,l)}},{"create-hash":386,"safe-buffer":494}],470:[function(r,i,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],471:[function(r,i,s){var n=r("parse-asn1"),o=r("./mgf"),a=r("./xor"),u=r("bn.js"),l=r("browserify-rsa"),c=r("create-hash"),h=r("./withPublic"),d=r("safe-buffer").Buffer;i.exports=function(p,g,v){var f;f=p.padding?p.padding:v?1:4;var y,m=n(p),w=m.modulus.byteLength();if(g.length>w||new u(g).cmp(m.modulus)>=0)throw new Error("decryption error");y=v?h(new u(g),m):l(g,m);var _=d.alloc(w-y.length);if(y=d.concat([_,y],w),f===4)return function(A,F){var G=A.modulus.byteLength(),L=c("sha1").update(d.alloc(0)).digest(),O=L.length;if(F[0]!==0)throw new Error("decryption error");var V=F.slice(1,O+1),z=F.slice(O+1),H=a(V,o(z,O)),T=a(z,o(H,G-O-1));if(function(x,C){x=d.from(x),C=d.from(C);var S=0,b=x.length;x.length!==C.length&&(S++,b=Math.min(x.length,C.length));for(var E=-1;++E<b;)S+=x[E]^C[E];return S}(L,T.slice(0,O)))throw new Error("decryption error");for(var M=O;T[M]===0;)M++;if(T[M++]!==1)throw new Error("decryption error");return T.slice(M)}(m,y);if(f===1)return function(A,F,G){for(var L=F.slice(0,2),O=2,V=0;F[O++]!==0;)if(O>=F.length){V++;break}var z=F.slice(2,O-1);if((L.toString("hex")!=="0002"&&!G||L.toString("hex")!=="0001"&&G)&&V++,z.length<8&&V++,V)throw new Error("decryption error");return F.slice(O)}(0,y,v);if(f===3)return y;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(r,i,s){var n=r("parse-asn1"),o=r("randombytes"),a=r("create-hash"),u=r("./mgf"),l=r("./xor"),c=r("bn.js"),h=r("./withPublic"),d=r("browserify-rsa"),p=r("safe-buffer").Buffer;i.exports=function(g,v,f){var y;y=g.padding?g.padding:f?1:4;var m,w=n(g);if(y===4)m=function(_,A){var F=_.modulus.byteLength(),G=A.length,L=a("sha1").update(p.alloc(0)).digest(),O=L.length,V=2*O;if(G>F-V-2)throw new Error("message too long");var z=p.alloc(F-G-V-2),H=F-O-1,T=o(O),M=l(p.concat([L,z,p.alloc(1,1),A],H),u(T,H)),x=l(T,u(M,O));return new c(p.concat([p.alloc(1),x,M],F))}(w,v);else if(y===1)m=function(_,A,F){var G,L=A.length,O=_.modulus.byteLength();if(L>O-11)throw new Error("message too long");return G=F?p.alloc(O-L-3,255):function(V){for(var z,H=p.allocUnsafe(V),T=0,M=o(2*V),x=0;T<V;)x===M.length&&(M=o(2*V),x=0),(z=M[x++])&&(H[T++]=z);return H}(O-L-3),new c(p.concat([p.from([0,F?1:2]),G,p.alloc(1),A],O))}(w,v,f);else{if(y!==3)throw new Error("unknown padding");if((m=new c(v)).cmp(w.modulus)>=0)throw new Error("data too long for modulus")}return f?d(m,w):h(m,w)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(r,i,s){var n=r("bn.js"),o=r("safe-buffer").Buffer;i.exports=function(a,u){return o.from(a.toRed(n.mont(u.modulus)).redPow(new n(u.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(r,i,s){i.exports=function(n,o){for(var a=n.length,u=-1;++u<a;)n[u]^=o[u];return n}},{}],475:[function(r,i,s){(function(n,o){(function(){var a=r("safe-buffer").Buffer,u=o.crypto||o.msCrypto;u&&u.getRandomValues?i.exports=function(l,c){if(l>4294967295)throw new RangeError("requested too many random bytes");var h=a.allocUnsafe(l);if(l>0)if(l>65536)for(var d=0;d<l;d+=65536)u.getRandomValues(h.slice(d,d+65536));else u.getRandomValues(h);return typeof c=="function"?n.nextTick(function(){c(null,h)}):h}:i.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,r("_process"),typeof _t<"u"?_t:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(r,i,s){(function(n,o){(function(){function a(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var u=r("safe-buffer"),l=r("randombytes"),c=u.Buffer,h=u.kMaxLength,d=o.crypto||o.msCrypto,p=Math.pow(2,32)-1;function g(y,m){if(typeof y!="number"||y!=y)throw new TypeError("offset must be a number");if(y>p||y<0)throw new TypeError("offset must be a uint32");if(y>h||y>m)throw new RangeError("offset out of range")}function v(y,m,w){if(typeof y!="number"||y!=y)throw new TypeError("size must be a number");if(y>p||y<0)throw new TypeError("size must be a uint32");if(y+m>w||y>h)throw new RangeError("buffer too small")}function f(y,m,w,_){if(n.browser){var A=y.buffer,F=new Uint8Array(A,m,w);return d.getRandomValues(F),_?void n.nextTick(function(){_(null,y)}):y}if(!_)return l(w).copy(y,m),y;l(w,function(G,L){if(G)return _(G);L.copy(y,m),_(null,y)})}d&&d.getRandomValues||!n.browser?(s.randomFill=function(y,m,w,_){if(!(c.isBuffer(y)||y instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof m=="function")_=m,m=0,w=y.length;else if(typeof w=="function")_=w,w=y.length-m;else if(typeof _!="function")throw new TypeError('"cb" argument must be a function');return g(m,y.length),v(w,m,y.length),f(y,m,w,_)},s.randomFillSync=function(y,m,w){if(m===void 0&&(m=0),!(c.isBuffer(y)||y instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return g(m,y.length),w===void 0&&(w=y.length-m),v(w,m,y.length),f(y,m,w)}):(s.randomFill=a,s.randomFillSync=a)}).call(this)}).call(this,r("_process"),typeof _t<"u"?_t:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(r,i,s){var n={};function o(u,l,c){c||(c=Error);var h=function(d){var p,g;function v(f,y,m){return d.call(this,function(w,_,A){return typeof l=="string"?l:l(w,_,A)}(f,y,m))||this}return g=d,(p=v).prototype=Object.create(g.prototype),p.prototype.constructor=p,p.__proto__=g,v}(c);h.prototype.name=c.name,h.prototype.code=u,n[u]=h}function a(u,l){if(Array.isArray(u)){var c=u.length;return u=u.map(function(h){return String(h)}),c>2?"one of ".concat(l," ").concat(u.slice(0,c-1).join(", "),", or ")+u[c-1]:c===2?"one of ".concat(l," ").concat(u[0]," or ").concat(u[1]):"of ".concat(l," ").concat(u[0])}return"of ".concat(l," ").concat(String(u))}o("ERR_INVALID_OPT_VALUE",function(u,l){return'The value "'+l+'" is invalid for option "'+u+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(u,l,c){var h,d,p;if(typeof l=="string"&&(d="not ",l.substr(0,d.length)===d)?(h="must not be",l=l.replace(/^not /,"")):h="must be",function(v,f,y){return(y===void 0||y>v.length)&&(y=v.length),v.substring(y-f.length,y)===f}(u," argument"))p="The ".concat(u," ").concat(h," ").concat(a(l,"type"));else{var g=function(v,f,y){return typeof y!="number"&&(y=0),!(y+f.length>v.length)&&v.indexOf(f,y)!==-1}(u,".")?"property":"argument";p='The "'.concat(u,'" ').concat(g," ").concat(h," ").concat(a(l,"type"))}return p+=". Received type ".concat(typeof c)},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(u){return"The "+u+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(u){return"Cannot call "+u+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(u){return"Unknown encoding: "+u},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),i.exports.codes=n},{}],478:[function(r,i,s){(function(n){(function(){var o=Object.keys||function(v){var f=[];for(var y in v)f.push(y);return f};i.exports=d;var a=r("./_stream_readable"),u=r("./_stream_writable");r("inherits")(d,a);for(var l=o(u.prototype),c=0;c<l.length;c++){var h=l[c];d.prototype[h]||(d.prototype[h]=u.prototype[h])}function d(v){if(!(this instanceof d))return new d(v);a.call(this,v),u.call(this,v),this.allowHalfOpen=!0,v&&(v.readable===!1&&(this.readable=!1),v.writable===!1&&(this.writable=!1),v.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",p)))}function p(){this._writableState.ended||n.nextTick(g,this)}function g(v){v.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(v){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=v,this._writableState.destroyed=v)}})}).call(this)}).call(this,r("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(r,i,s){i.exports=o;var n=r("./_stream_transform");function o(a){if(!(this instanceof o))return new o(a);n.call(this,a)}r("inherits")(o,n),o.prototype._transform=function(a,u,l){l(null,a)}},{"./_stream_transform":481,inherits:440}],480:[function(r,i,s){(function(n,o){(function(){var a;i.exports=H,H.ReadableState=z,r("events").EventEmitter;var u=function(P,D){return P.listeners(D).length},l=r("./internal/streams/stream"),c=r("buffer").Buffer,h=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,p=r("util");d=p&&p.debuglog?p.debuglog("stream"):function(){};var g,v,f,y=r("./internal/streams/buffer_list"),m=r("./internal/streams/destroy"),w=r("./internal/streams/state").getHighWaterMark,_=r("../errors").codes,A=_.ERR_INVALID_ARG_TYPE,F=_.ERR_STREAM_PUSH_AFTER_EOF,G=_.ERR_METHOD_NOT_IMPLEMENTED,L=_.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r("inherits")(H,l);var O=m.errorOrDestroy,V=["error","close","destroy","pause","resume"];function z(P,D,W){a=a||r("./_stream_duplex"),P=P||{},typeof W!="boolean"&&(W=D instanceof a),this.objectMode=!!P.objectMode,W&&(this.objectMode=this.objectMode||!!P.readableObjectMode),this.highWaterMark=w(this,P,"readableHighWaterMark",W),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=P.emitClose!==!1,this.autoDestroy=!!P.autoDestroy,this.destroyed=!1,this.defaultEncoding=P.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,P.encoding&&(g||(g=r("string_decoder/").StringDecoder),this.decoder=new g(P.encoding),this.encoding=P.encoding)}function H(P){if(a=a||r("./_stream_duplex"),!(this instanceof H))return new H(P);var D=this instanceof a;this._readableState=new z(P,this,D),this.readable=!0,P&&(typeof P.read=="function"&&(this._read=P.read),typeof P.destroy=="function"&&(this._destroy=P.destroy)),l.call(this)}function T(P,D,W,Y,ee){d("readableAddChunk",D);var Q,J=P._readableState;if(D===null)J.reading=!1,function(ne,oe){if(d("onEofChunk"),!oe.ended){if(oe.decoder){var Z=oe.decoder.end();Z&&Z.length&&(oe.buffer.push(Z),oe.length+=oe.objectMode?1:Z.length)}oe.ended=!0,oe.sync?C(ne):(oe.needReadable=!1,oe.emittedReadable||(oe.emittedReadable=!0,S(ne)))}}(P,J);else if(ee||(Q=function(ne,oe){var Z;ie=oe,c.isBuffer(ie)||ie instanceof h||typeof oe=="string"||oe===void 0||ne.objectMode||(Z=new A("chunk",["string","Buffer","Uint8Array"],oe));var ie;return Z}(J,D)),Q)O(P,Q);else if(J.objectMode||D&&D.length>0)if(typeof D=="string"||J.objectMode||Object.getPrototypeOf(D)===c.prototype||(D=function(ne){return c.from(ne)}(D)),Y)J.endEmitted?O(P,new L):M(P,J,D,!0);else if(J.ended)O(P,new F);else{if(J.destroyed)return!1;J.reading=!1,J.decoder&&!W?(D=J.decoder.write(D),J.objectMode||D.length!==0?M(P,J,D,!1):b(P,J)):M(P,J,D,!1)}else Y||(J.reading=!1,b(P,J));return!J.ended&&(J.length<J.highWaterMark||J.length===0)}function M(P,D,W,Y){D.flowing&&D.length===0&&!D.sync?(D.awaitDrain=0,P.emit("data",W)):(D.length+=D.objectMode?1:W.length,Y?D.buffer.unshift(W):D.buffer.push(W),D.needReadable&&C(P)),b(P,D)}Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(P){this._readableState&&(this._readableState.destroyed=P)}}),H.prototype.destroy=m.destroy,H.prototype._undestroy=m.undestroy,H.prototype._destroy=function(P,D){D(P)},H.prototype.push=function(P,D){var W,Y=this._readableState;return Y.objectMode?W=!0:typeof P=="string"&&((D=D||Y.defaultEncoding)!==Y.encoding&&(P=c.from(P,D),D=""),W=!0),T(this,P,D,!1,W)},H.prototype.unshift=function(P){return T(this,P,null,!0,!1)},H.prototype.isPaused=function(){return this._readableState.flowing===!1},H.prototype.setEncoding=function(P){g||(g=r("string_decoder/").StringDecoder);var D=new g(P);this._readableState.decoder=D,this._readableState.encoding=this._readableState.decoder.encoding;for(var W=this._readableState.buffer.head,Y="";W!==null;)Y+=D.write(W.data),W=W.next;return this._readableState.buffer.clear(),Y!==""&&this._readableState.buffer.push(Y),this._readableState.length=Y.length,this};function x(P,D){return P<=0||D.length===0&&D.ended?0:D.objectMode?1:P!=P?D.flowing&&D.length?D.buffer.head.data.length:D.length:(P>D.highWaterMark&&(D.highWaterMark=function(W){return W>=1073741824?W=1073741824:(W--,W|=W>>>1,W|=W>>>2,W|=W>>>4,W|=W>>>8,W|=W>>>16,W++),W}(P)),P<=D.length?P:D.ended?D.length:(D.needReadable=!0,0))}function C(P){var D=P._readableState;d("emitReadable",D.needReadable,D.emittedReadable),D.needReadable=!1,D.emittedReadable||(d("emitReadable",D.flowing),D.emittedReadable=!0,n.nextTick(S,P))}function S(P){var D=P._readableState;d("emitReadable_",D.destroyed,D.length,D.ended),D.destroyed||!D.length&&!D.ended||(P.emit("readable"),D.emittedReadable=!1),D.needReadable=!D.flowing&&!D.ended&&D.length<=D.highWaterMark,U(P)}function b(P,D){D.readingMore||(D.readingMore=!0,n.nextTick(E,P,D))}function E(P,D){for(;!D.reading&&!D.ended&&(D.length<D.highWaterMark||D.flowing&&D.length===0);){var W=D.length;if(d("maybeReadMore read 0"),P.read(0),W===D.length)break}D.readingMore=!1}function R(P){var D=P._readableState;D.readableListening=P.listenerCount("readable")>0,D.resumeScheduled&&!D.paused?D.flowing=!0:P.listenerCount("data")>0&&P.resume()}function I(P){d("readable nexttick read 0"),P.read(0)}function k(P,D){d("resume",D.reading),D.reading||P.read(0),D.resumeScheduled=!1,P.emit("resume"),U(P),D.flowing&&!D.reading&&P.read(0)}function U(P){var D=P._readableState;for(d("flow",D.flowing);D.flowing&&P.read()!==null;);}function j(P,D){return D.length===0?null:(D.objectMode?W=D.buffer.shift():!P||P>=D.length?(W=D.decoder?D.buffer.join(""):D.buffer.length===1?D.buffer.first():D.buffer.concat(D.length),D.buffer.clear()):W=D.buffer.consume(P,D.decoder),W);var W}function X(P){var D=P._readableState;d("endReadable",D.endEmitted),D.endEmitted||(D.ended=!0,n.nextTick(N,D,P))}function N(P,D){if(d("endReadableNT",P.endEmitted,P.length),!P.endEmitted&&P.length===0&&(P.endEmitted=!0,D.readable=!1,D.emit("end"),P.autoDestroy)){var W=D._writableState;(!W||W.autoDestroy&&W.finished)&&D.destroy()}}function K(P,D){for(var W=0,Y=P.length;W<Y;W++)if(P[W]===D)return W;return-1}H.prototype.read=function(P){d("read",P),P=parseInt(P,10);var D=this._readableState,W=P;if(P!==0&&(D.emittedReadable=!1),P===0&&D.needReadable&&((D.highWaterMark!==0?D.length>=D.highWaterMark:D.length>0)||D.ended))return d("read: emitReadable",D.length,D.ended),D.length===0&&D.ended?X(this):C(this),null;if((P=x(P,D))===0&&D.ended)return D.length===0&&X(this),null;var Y,ee=D.needReadable;return d("need readable",ee),(D.length===0||D.length-P<D.highWaterMark)&&d("length less than watermark",ee=!0),D.ended||D.reading?d("reading or ended",ee=!1):ee&&(d("do read"),D.reading=!0,D.sync=!0,D.length===0&&(D.needReadable=!0),this._read(D.highWaterMark),D.sync=!1,D.reading||(P=x(W,D))),(Y=P>0?j(P,D):null)===null?(D.needReadable=D.length<=D.highWaterMark,P=0):(D.length-=P,D.awaitDrain=0),D.length===0&&(D.ended||(D.needReadable=!0),W!==P&&D.ended&&X(this)),Y!==null&&this.emit("data",Y),Y},H.prototype._read=function(P){O(this,new G("_read()"))},H.prototype.pipe=function(P,D){var W=this,Y=this._readableState;switch(Y.pipesCount){case 0:Y.pipes=P;break;case 1:Y.pipes=[Y.pipes,P];break;default:Y.pipes.push(P)}Y.pipesCount+=1,d("pipe count=%d opts=%j",Y.pipesCount,D);var ee=(!D||D.end!==!1)&&P!==n.stdout&&P!==n.stderr?J:ue;function Q(de,fe){d("onunpipe"),de===W&&fe&&fe.hasUnpiped===!1&&(fe.hasUnpiped=!0,d("cleanup"),P.removeListener("close",se),P.removeListener("finish",ce),P.removeListener("drain",ne),P.removeListener("error",ie),P.removeListener("unpipe",Q),W.removeListener("end",J),W.removeListener("end",ue),W.removeListener("data",Z),oe=!0,!Y.awaitDrain||P._writableState&&!P._writableState.needDrain||ne())}function J(){d("onend"),P.end()}Y.endEmitted?n.nextTick(ee):W.once("end",ee),P.on("unpipe",Q);var ne=function(de){return function(){var fe=de._readableState;d("pipeOnDrain",fe.awaitDrain),fe.awaitDrain&&fe.awaitDrain--,fe.awaitDrain===0&&u(de,"data")&&(fe.flowing=!0,U(de))}}(W);P.on("drain",ne);var oe=!1;function Z(de){d("ondata");var fe=P.write(de);d("dest.write",fe),fe===!1&&((Y.pipesCount===1&&Y.pipes===P||Y.pipesCount>1&&K(Y.pipes,P)!==-1)&&!oe&&(d("false write response, pause",Y.awaitDrain),Y.awaitDrain++),W.pause())}function ie(de){d("onerror",de),ue(),P.removeListener("error",ie),u(P,"error")===0&&O(P,de)}function se(){P.removeListener("finish",ce),ue()}function ce(){d("onfinish"),P.removeListener("close",se),ue()}function ue(){d("unpipe"),W.unpipe(P)}return W.on("data",Z),function(de,fe,ge){if(typeof de.prependListener=="function")return de.prependListener(fe,ge);de._events&&de._events[fe]?Array.isArray(de._events[fe])?de._events[fe].unshift(ge):de._events[fe]=[ge,de._events[fe]]:de.on(fe,ge)}(P,"error",ie),P.once("close",se),P.once("finish",ce),P.emit("pipe",W),Y.flowing||(d("pipe resume"),W.resume()),P},H.prototype.unpipe=function(P){var D=this._readableState,W={hasUnpiped:!1};if(D.pipesCount===0)return this;if(D.pipesCount===1)return P&&P!==D.pipes||(P||(P=D.pipes),D.pipes=null,D.pipesCount=0,D.flowing=!1,P&&P.emit("unpipe",this,W)),this;if(!P){var Y=D.pipes,ee=D.pipesCount;D.pipes=null,D.pipesCount=0,D.flowing=!1;for(var Q=0;Q<ee;Q++)Y[Q].emit("unpipe",this,{hasUnpiped:!1});return this}var J=K(D.pipes,P);return J===-1||(D.pipes.splice(J,1),D.pipesCount-=1,D.pipesCount===1&&(D.pipes=D.pipes[0]),P.emit("unpipe",this,W)),this},H.prototype.on=function(P,D){var W=l.prototype.on.call(this,P,D),Y=this._readableState;return P==="data"?(Y.readableListening=this.listenerCount("readable")>0,Y.flowing!==!1&&this.resume()):P==="readable"&&(Y.endEmitted||Y.readableListening||(Y.readableListening=Y.needReadable=!0,Y.flowing=!1,Y.emittedReadable=!1,d("on readable",Y.length,Y.reading),Y.length?C(this):Y.reading||n.nextTick(I,this))),W},H.prototype.addListener=H.prototype.on,H.prototype.removeListener=function(P,D){var W=l.prototype.removeListener.call(this,P,D);return P==="readable"&&n.nextTick(R,this),W},H.prototype.removeAllListeners=function(P){var D=l.prototype.removeAllListeners.apply(this,arguments);return P!=="readable"&&P!==void 0||n.nextTick(R,this),D},H.prototype.resume=function(){var P=this._readableState;return P.flowing||(d("resume"),P.flowing=!P.readableListening,function(D,W){W.resumeScheduled||(W.resumeScheduled=!0,n.nextTick(k,D,W))}(this,P)),P.paused=!1,this},H.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},H.prototype.wrap=function(P){var D=this,W=this._readableState,Y=!1;for(var ee in P.on("end",function(){if(d("wrapped end"),W.decoder&&!W.ended){var J=W.decoder.end();J&&J.length&&D.push(J)}D.push(null)}),P.on("data",function(J){d("wrapped data"),W.decoder&&(J=W.decoder.write(J)),W.objectMode&&J==null||(W.objectMode||J&&J.length)&&(D.push(J)||(Y=!0,P.pause()))}),P)this[ee]===void 0&&typeof P[ee]=="function"&&(this[ee]=function(J){return function(){return P[J].apply(P,arguments)}}(ee));for(var Q=0;Q<V.length;Q++)P.on(V[Q],this.emit.bind(this,V[Q]));return this._read=function(J){d("wrapped _read",J),Y&&(Y=!1,P.resume())},this},typeof Symbol=="function"&&(H.prototype[Symbol.asyncIterator]=function(){return v===void 0&&(v=r("./internal/streams/async_iterator")),v(this)}),Object.defineProperty(H.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(H.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(H.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(P){this._readableState&&(this._readableState.flowing=P)}}),H._fromList=j,Object.defineProperty(H.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(H.from=function(P,D){return f===void 0&&(f=r("./internal/streams/from")),f(H,P,D)})}).call(this)}).call(this,r("_process"),typeof _t<"u"?_t:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(r,i,s){i.exports=d;var n=r("../errors").codes,o=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,u=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,l=n.ERR_TRANSFORM_WITH_LENGTH_0,c=r("./_stream_duplex");function h(v,f){var y=this._transformState;y.transforming=!1;var m=y.writecb;if(m===null)return this.emit("error",new a);y.writechunk=null,y.writecb=null,f!=null&&this.push(f),m(v);var w=this._readableState;w.reading=!1,(w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}function d(v){if(!(this instanceof d))return new d(v);c.call(this,v),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,v&&(typeof v.transform=="function"&&(this._transform=v.transform),typeof v.flush=="function"&&(this._flush=v.flush)),this.on("prefinish",p)}function p(){var v=this;typeof this._flush!="function"||this._readableState.destroyed?g(this,null,null):this._flush(function(f,y){g(v,f,y)})}function g(v,f,y){if(f)return v.emit("error",f);if(y!=null&&v.push(y),v._writableState.length)throw new l;if(v._transformState.transforming)throw new u;return v.push(null)}r("inherits")(d,c),d.prototype.push=function(v,f){return this._transformState.needTransform=!1,c.prototype.push.call(this,v,f)},d.prototype._transform=function(v,f,y){y(new o("_transform()"))},d.prototype._write=function(v,f,y){var m=this._transformState;if(m.writecb=y,m.writechunk=v,m.writeencoding=f,!m.transforming){var w=this._readableState;(m.needTransform||w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}},d.prototype._read=function(v){var f=this._transformState;f.writechunk===null||f.transforming?f.needTransform=!0:(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform))},d.prototype._destroy=function(v,f){c.prototype._destroy.call(this,v,function(y){f(y)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(r,i,s){(function(n,o){(function(){function a(E){var R=this;this.next=null,this.entry=null,this.finish=function(){(function(I,k,U){var j=I.entry;for(I.entry=null;j;){var X=j.callback;k.pendingcb--,X(U),j=j.next}k.corkedRequestsFree.next=I})(R,E)}}var u;i.exports=H,H.WritableState=z;var l={deprecate:r("util-deprecate")},c=r("./internal/streams/stream"),h=r("buffer").Buffer,d=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},p,g=r("./internal/streams/destroy"),v=r("./internal/streams/state").getHighWaterMark,f=r("../errors").codes,y=f.ERR_INVALID_ARG_TYPE,m=f.ERR_METHOD_NOT_IMPLEMENTED,w=f.ERR_MULTIPLE_CALLBACK,_=f.ERR_STREAM_CANNOT_PIPE,A=f.ERR_STREAM_DESTROYED,F=f.ERR_STREAM_NULL_VALUES,G=f.ERR_STREAM_WRITE_AFTER_END,L=f.ERR_UNKNOWN_ENCODING,O=g.errorOrDestroy;function V(){}function z(E,R,I){u=u||r("./_stream_duplex"),E=E||{},typeof I!="boolean"&&(I=R instanceof u),this.objectMode=!!E.objectMode,I&&(this.objectMode=this.objectMode||!!E.writableObjectMode),this.highWaterMark=v(this,E,"writableHighWaterMark",I),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var k=E.decodeStrings===!1;this.decodeStrings=!k,this.defaultEncoding=E.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(U){(function(j,X){var N=j._writableState,K=N.sync,P=N.writecb;if(typeof P!="function")throw new w;if(function(W){W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0}(N),X)(function(W,Y,ee,Q,J){--Y.pendingcb,ee?(n.nextTick(J,Q),n.nextTick(b,W,Y),W._writableState.errorEmitted=!0,O(W,Q)):(J(Q),W._writableState.errorEmitted=!0,O(W,Q),b(W,Y))})(j,N,K,X,P);else{var D=C(N)||j.destroyed;D||N.corked||N.bufferProcessing||!N.bufferedRequest||x(j,N),K?n.nextTick(M,j,N,D,P):M(j,N,D,P)}})(R,U)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=E.emitClose!==!1,this.autoDestroy=!!E.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function H(E){var R=this instanceof(u=u||r("./_stream_duplex"));if(!R&&!p.call(H,this))return new H(E);this._writableState=new z(E,this,R),this.writable=!0,E&&(typeof E.write=="function"&&(this._write=E.write),typeof E.writev=="function"&&(this._writev=E.writev),typeof E.destroy=="function"&&(this._destroy=E.destroy),typeof E.final=="function"&&(this._final=E.final)),c.call(this)}function T(E,R,I,k,U,j,X){R.writelen=k,R.writecb=X,R.writing=!0,R.sync=!0,R.destroyed?R.onwrite(new A("write")):I?E._writev(U,R.onwrite):E._write(U,j,R.onwrite),R.sync=!1}function M(E,R,I,k){I||function(U,j){j.length===0&&j.needDrain&&(j.needDrain=!1,U.emit("drain"))}(E,R),R.pendingcb--,k(),b(E,R)}function x(E,R){R.bufferProcessing=!0;var I=R.bufferedRequest;if(E._writev&&I&&I.next){var k=R.bufferedRequestCount,U=new Array(k),j=R.corkedRequestsFree;j.entry=I;for(var X=0,N=!0;I;)U[X]=I,I.isBuf||(N=!1),I=I.next,X+=1;U.allBuffers=N,T(E,R,!0,R.length,U,"",j.finish),R.pendingcb++,R.lastBufferedRequest=null,j.next?(R.corkedRequestsFree=j.next,j.next=null):R.corkedRequestsFree=new a(R),R.bufferedRequestCount=0}else{for(;I;){var K=I.chunk,P=I.encoding,D=I.callback;if(T(E,R,!1,R.objectMode?1:K.length,K,P,D),I=I.next,R.bufferedRequestCount--,R.writing)break}I===null&&(R.lastBufferedRequest=null)}R.bufferedRequest=I,R.bufferProcessing=!1}function C(E){return E.ending&&E.length===0&&E.bufferedRequest===null&&!E.finished&&!E.writing}function S(E,R){E._final(function(I){R.pendingcb--,I&&O(E,I),R.prefinished=!0,E.emit("prefinish"),b(E,R)})}function b(E,R){var I=C(R);if(I&&(function(U,j){j.prefinished||j.finalCalled||(typeof U._final!="function"||j.destroyed?(j.prefinished=!0,U.emit("prefinish")):(j.pendingcb++,j.finalCalled=!0,n.nextTick(S,U,j)))}(E,R),R.pendingcb===0&&(R.finished=!0,E.emit("finish"),R.autoDestroy))){var k=E._readableState;(!k||k.autoDestroy&&k.endEmitted)&&E.destroy()}return I}r("inherits")(H,c),z.prototype.getBuffer=function(){for(var E=this.bufferedRequest,R=[];E;)R.push(E),E=E.next;return R},function(){try{Object.defineProperty(z.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(E){return!!p.call(this,E)||this===H&&E&&E._writableState instanceof z}})):p=function(E){return E instanceof this},H.prototype.pipe=function(){O(this,new _)},H.prototype.write=function(E,R,I){var k,U=this._writableState,j=!1,X=!U.objectMode&&(k=E,h.isBuffer(k)||k instanceof d);return X&&!h.isBuffer(E)&&(E=function(N){return h.from(N)}(E)),typeof R=="function"&&(I=R,R=null),X?R="buffer":R||(R=U.defaultEncoding),typeof I!="function"&&(I=V),U.ending?function(N,K){var P=new G;O(N,P),n.nextTick(K,P)}(this,I):(X||function(N,K,P,D){var W;return P===null?W=new F:typeof P=="string"||K.objectMode||(W=new y("chunk",["string","Buffer"],P)),!W||(O(N,W),n.nextTick(D,W),!1)}(this,U,E,I))&&(U.pendingcb++,j=function(N,K,P,D,W,Y){if(!P){var ee=function(oe,Z,ie){return oe.objectMode||oe.decodeStrings===!1||typeof Z!="string"||(Z=h.from(Z,ie)),Z}(K,D,W);D!==ee&&(P=!0,W="buffer",D=ee)}var Q=K.objectMode?1:D.length;K.length+=Q;var J=K.length<K.highWaterMark;if(J||(K.needDrain=!0),K.writing||K.corked){var ne=K.lastBufferedRequest;K.lastBufferedRequest={chunk:D,encoding:W,isBuf:P,callback:Y,next:null},ne?ne.next=K.lastBufferedRequest:K.bufferedRequest=K.lastBufferedRequest,K.bufferedRequestCount+=1}else T(N,K,!1,Q,D,W,Y);return J}(this,U,X,E,R,I)),j},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var E=this._writableState;E.corked&&(E.corked--,E.writing||E.corked||E.bufferProcessing||!E.bufferedRequest||x(this,E))},H.prototype.setDefaultEncoding=function(E){if(typeof E=="string"&&(E=E.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((E+"").toLowerCase())>-1))throw new L(E);return this._writableState.defaultEncoding=E,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),H.prototype._write=function(E,R,I){I(new m("_write()"))},H.prototype._writev=null,H.prototype.end=function(E,R,I){var k=this._writableState;return typeof E=="function"?(I=E,E=null,R=null):typeof R=="function"&&(I=R,R=null),E!=null&&this.write(E,R),k.corked&&(k.corked=1,this.uncork()),k.ending||function(U,j,X){j.ending=!0,b(U,j),X&&(j.finished?n.nextTick(X):U.once("finish",X)),j.ended=!0,U.writable=!1}(this,k,I),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(E){this._writableState&&(this._writableState.destroyed=E)}}),H.prototype.destroy=g.destroy,H.prototype._undestroy=g.undestroy,H.prototype._destroy=function(E,R){R(E)}}).call(this)}).call(this,r("_process"),typeof _t<"u"?_t:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(r,i,s){(function(n){(function(){var o;function a(A,F,G){return(F=function(L){var O=function(V,z){if(typeof V!="object"||V===null)return V;var H=V[Symbol.toPrimitive];if(H!==void 0){var T=H.call(V,z||"default");if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(z==="string"?String:Number)(V)}(L,"string");return typeof O=="symbol"?O:String(O)}(F))in A?Object.defineProperty(A,F,{value:G,enumerable:!0,configurable:!0,writable:!0}):A[F]=G,A}var u=r("./end-of-stream"),l=Symbol("lastResolve"),c=Symbol("lastReject"),h=Symbol("error"),d=Symbol("ended"),p=Symbol("lastPromise"),g=Symbol("handlePromise"),v=Symbol("stream");function f(A,F){return{value:A,done:F}}function y(A){var F=A[l];if(F!==null){var G=A[v].read();G!==null&&(A[p]=null,A[l]=null,A[c]=null,F(f(G,!1)))}}function m(A){n.nextTick(y,A)}var w=Object.getPrototypeOf(function(){}),_=Object.setPrototypeOf((a(o={get stream(){return this[v]},next:function(){var A=this,F=this[h];if(F!==null)return Promise.reject(F);if(this[d])return Promise.resolve(f(void 0,!0));if(this[v].destroyed)return new Promise(function(V,z){n.nextTick(function(){A[h]?z(A[h]):V(f(void 0,!0))})});var G,L=this[p];if(L)G=new Promise(function(V,z){return function(H,T){V.then(function(){z[d]?H(f(void 0,!0)):z[g](H,T)},T)}}(L,this));else{var O=this[v].read();if(O!==null)return Promise.resolve(f(O,!1));G=new Promise(this[g])}return this[p]=G,G}},Symbol.asyncIterator,function(){return this}),a(o,"return",function(){var A=this;return new Promise(function(F,G){A[v].destroy(null,function(L){L?G(L):F(f(void 0,!0))})})}),o),w);i.exports=function(A){var F,G=Object.create(_,(a(F={},v,{value:A,writable:!0}),a(F,l,{value:null,writable:!0}),a(F,c,{value:null,writable:!0}),a(F,h,{value:null,writable:!0}),a(F,d,{value:A._readableState.endEmitted,writable:!0}),a(F,g,{value:function(L,O){var V=G[v].read();V?(G[p]=null,G[l]=null,G[c]=null,L(f(V,!1))):(G[l]=L,G[c]=O)},writable:!0}),F));return G[p]=null,u(A,function(L){if(L&&L.code!=="ERR_STREAM_PREMATURE_CLOSE"){var O=G[c];return O!==null&&(G[p]=null,G[l]=null,G[c]=null,O(L)),void(G[h]=L)}var V=G[l];V!==null&&(G[p]=null,G[l]=null,G[c]=null,V(f(void 0,!0))),G[d]=!0}),A.on("readable",m.bind(null,G)),G}}).call(this)}).call(this,r("_process"))},{"./end-of-stream":486,_process:467}],484:[function(r,i,s){function n(p,g){var v=Object.keys(p);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(p);g&&(f=f.filter(function(y){return Object.getOwnPropertyDescriptor(p,y).enumerable})),v.push.apply(v,f)}return v}function o(p){for(var g=1;g<arguments.length;g++){var v=arguments[g]!=null?arguments[g]:{};g%2?n(Object(v),!0).forEach(function(f){a(p,f,v[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(v)):n(Object(v)).forEach(function(f){Object.defineProperty(p,f,Object.getOwnPropertyDescriptor(v,f))})}return p}function a(p,g,v){return(g=l(g))in p?Object.defineProperty(p,g,{value:v,enumerable:!0,configurable:!0,writable:!0}):p[g]=v,p}function u(p,g){for(var v=0;v<g.length;v++){var f=g[v];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(p,l(f.key),f)}}function l(p){var g=function(v,f){if(typeof v!="object"||v===null)return v;var y=v[Symbol.toPrimitive];if(y!==void 0){var m=y.call(v,f||"default");if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(v)}(p,"string");return typeof g=="symbol"?g:String(g)}var c=r("buffer").Buffer,h=r("util").inspect,d=h&&h.custom||"inspect";i.exports=function(){function p(){(function(f,y){if(!(f instanceof y))throw new TypeError("Cannot call a class as a function")})(this,p),this.head=null,this.tail=null,this.length=0}var g,v;return g=p,(v=[{key:"push",value:function(f){var y={data:f,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(f){var y={data:f,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var f=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,f}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(f){if(this.length===0)return"";for(var y=this.head,m=""+y.data;y=y.next;)m+=f+y.data;return m}},{key:"concat",value:function(f){if(this.length===0)return c.alloc(0);for(var y,m,w,_=c.allocUnsafe(f>>>0),A=this.head,F=0;A;)y=A.data,m=_,w=F,c.prototype.copy.call(y,m,w),F+=A.data.length,A=A.next;return _}},{key:"consume",value:function(f,y){var m;return f<this.head.data.length?(m=this.head.data.slice(0,f),this.head.data=this.head.data.slice(f)):m=f===this.head.data.length?this.shift():y?this._getString(f):this._getBuffer(f),m}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(f){var y=this.head,m=1,w=y.data;for(f-=w.length;y=y.next;){var _=y.data,A=f>_.length?_.length:f;if(A===_.length?w+=_:w+=_.slice(0,f),(f-=A)==0){A===_.length?(++m,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=_.slice(A));break}++m}return this.length-=m,w}},{key:"_getBuffer",value:function(f){var y=c.allocUnsafe(f),m=this.head,w=1;for(m.data.copy(y),f-=m.data.length;m=m.next;){var _=m.data,A=f>_.length?_.length:f;if(_.copy(y,y.length-f,0,A),(f-=A)==0){A===_.length?(++w,m.next?this.head=m.next:this.head=this.tail=null):(this.head=m,m.data=_.slice(A));break}++w}return this.length-=w,y}},{key:d,value:function(f,y){return h(this,o(o({},y),{},{depth:0,customInspect:!1}))}}])&&u(g.prototype,v),Object.defineProperty(g,"prototype",{writable:!1}),p}()},{buffer:220,util:188}],485:[function(r,i,s){(function(n){(function(){function o(l,c){u(l,c),a(l)}function a(l){l._writableState&&!l._writableState.emitClose||l._readableState&&!l._readableState.emitClose||l.emit("close")}function u(l,c){l.emit("error",c)}i.exports={destroy:function(l,c){var h=this,d=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return d||p?(c?c(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(u,this,l)):n.nextTick(u,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(g){!c&&g?h._writableState?h._writableState.errorEmitted?n.nextTick(a,h):(h._writableState.errorEmitted=!0,n.nextTick(o,h,g)):n.nextTick(o,h,g):c?(n.nextTick(a,h),c(g)):n.nextTick(a,h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(l,c){var h=l._readableState,d=l._writableState;h&&h.autoDestroy||d&&d.autoDestroy?l.destroy(c):l.emit("error",c)}}}).call(this)}).call(this,r("_process"))},{_process:467}],486:[function(r,i,s){var n=r("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}i.exports=function a(u,l,c){if(typeof l=="function")return a(u,null,l);l||(l={}),c=function(A){var F=!1;return function(){if(!F){F=!0;for(var G=arguments.length,L=new Array(G),O=0;O<G;O++)L[O]=arguments[O];A.apply(this,L)}}}(c||o);var h=l.readable||l.readable!==!1&&u.readable,d=l.writable||l.writable!==!1&&u.writable,p=function(){u.writable||v()},g=u._writableState&&u._writableState.finished,v=function(){d=!1,g=!0,h||c.call(u)},f=u._readableState&&u._readableState.endEmitted,y=function(){h=!1,f=!0,d||c.call(u)},m=function(A){c.call(u,A)},w=function(){var A;return h&&!f?(u._readableState&&u._readableState.ended||(A=new n),c.call(u,A)):d&&!g?(u._writableState&&u._writableState.ended||(A=new n),c.call(u,A)):void 0},_=function(){u.req.on("finish",v)};return function(A){return A.setHeader&&typeof A.abort=="function"}(u)?(u.on("complete",v),u.on("abort",w),u.req?_():u.on("request",_)):d&&!u._writableState&&(u.on("end",p),u.on("close",p)),u.on("end",y),u.on("finish",v),l.error!==!1&&u.on("error",m),u.on("close",w),function(){u.removeListener("complete",v),u.removeListener("abort",w),u.removeListener("request",_),u.req&&u.req.removeListener("finish",v),u.removeListener("end",p),u.removeListener("close",p),u.removeListener("finish",v),u.removeListener("end",y),u.removeListener("error",m),u.removeListener("close",w)}}},{"../../../errors":477}],487:[function(r,i,s){i.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(r,i,s){var n,o=r("../../../errors").codes,a=o.ERR_MISSING_ARGS,u=o.ERR_STREAM_DESTROYED;function l(g){if(g)throw g}function c(g,v,f,y){y=function(_){var A=!1;return function(){A||(A=!0,_.apply(void 0,arguments))}}(y);var m=!1;g.on("close",function(){m=!0}),n===void 0&&(n=r("./end-of-stream")),n(g,{readable:v,writable:f},function(_){if(_)return y(_);m=!0,y()});var w=!1;return function(_){if(!m&&!w)return w=!0,function(A){return A.setHeader&&typeof A.abort=="function"}(g)?g.abort():typeof g.destroy=="function"?g.destroy():void y(_||new u("pipe"))}}function h(g){g()}function d(g,v){return g.pipe(v)}function p(g){return g.length?typeof g[g.length-1]!="function"?l:g.pop():l}i.exports=function(){for(var g=arguments.length,v=new Array(g),f=0;f<g;f++)v[f]=arguments[f];var y,m=p(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new a("streams");var w=v.map(function(_,A){var F=A<v.length-1;return c(_,F,A>0,function(G){y||(y=G),G&&w.forEach(h),F||(w.forEach(h),m(y))})});return v.reduce(d)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(r,i,s){var n=r("../../../errors").codes.ERR_INVALID_OPT_VALUE;i.exports={getHighWaterMark:function(o,a,u,l){var c=function(h,d,p){return h.highWaterMark!=null?h.highWaterMark:d?h[p]:null}(a,l,u);if(c!=null){if(!isFinite(c)||Math.floor(c)!==c||c<0)throw new n(l?u:"highWaterMark",c);return Math.floor(c)}return o.objectMode?16:16384}}},{"../../../errors":477}],490:[function(r,i,s){i.exports=r("events").EventEmitter},{events:422}],491:[function(r,i,s){(s=i.exports=r("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=r("./lib/_stream_writable.js"),s.Duplex=r("./lib/_stream_duplex.js"),s.Transform=r("./lib/_stream_transform.js"),s.PassThrough=r("./lib/_stream_passthrough.js"),s.finished=r("./lib/internal/streams/end-of-stream.js"),s.pipeline=r("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(r,i,s){var n=function(o){var a=Object.prototype,u=a.hasOwnProperty,l=Object.defineProperty||function(b,E,R){b[E]=R.value},c=typeof Symbol=="function"?Symbol:{},h=c.iterator||"@@iterator",d=c.asyncIterator||"@@asyncIterator",p=c.toStringTag||"@@toStringTag";function g(b,E,R){return Object.defineProperty(b,E,{value:R,enumerable:!0,configurable:!0,writable:!0}),b[E]}try{g({},"")}catch{g=function(E,R,I){return E[R]=I}}function v(b,E,R,I){var k=E&&E.prototype instanceof m?E:m,U=Object.create(k.prototype),j=new x(I||[]);return l(U,"_invoke",{value:z(b,R,j)}),U}function f(b,E,R){try{return{type:"normal",arg:b.call(E,R)}}catch(I){return{type:"throw",arg:I}}}o.wrap=v;var y={};function m(){}function w(){}function _(){}var A={};g(A,h,function(){return this});var F=Object.getPrototypeOf,G=F&&F(F(C([])));G&&G!==a&&u.call(G,h)&&(A=G);var L=_.prototype=m.prototype=Object.create(A);function O(b){["next","throw","return"].forEach(function(E){g(b,E,function(R){return this._invoke(E,R)})})}function V(b,E){var R;l(this,"_invoke",{value:function(I,k){function U(){return new E(function(j,X){(function N(K,P,D,W){var Y=f(b[K],b,P);if(Y.type!=="throw"){var ee=Y.arg,Q=ee.value;return Q&&typeof Q=="object"&&u.call(Q,"__await")?E.resolve(Q.__await).then(function(J){N("next",J,D,W)},function(J){N("throw",J,D,W)}):E.resolve(Q).then(function(J){ee.value=J,D(ee)},function(J){return N("throw",J,D,W)})}W(Y.arg)})(I,k,j,X)})}return R=R?R.then(U,U):U()}})}function z(b,E,R){var I="suspendedStart";return function(k,U){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(k==="throw")throw U;return S()}for(R.method=k,R.arg=U;;){var j=R.delegate;if(j){var X=H(j,R);if(X){if(X===y)continue;return X}}if(R.method==="next")R.sent=R._sent=R.arg;else if(R.method==="throw"){if(I==="suspendedStart")throw I="completed",R.arg;R.dispatchException(R.arg)}else R.method==="return"&&R.abrupt("return",R.arg);I="executing";var N=f(b,E,R);if(N.type==="normal"){if(I=R.done?"completed":"suspendedYield",N.arg===y)continue;return{value:N.arg,done:R.done}}N.type==="throw"&&(I="completed",R.method="throw",R.arg=N.arg)}}}function H(b,E){var R=E.method,I=b.iterator[R];if(I===void 0)return E.delegate=null,R==="throw"&&b.iterator.return&&(E.method="return",E.arg=void 0,H(b,E),E.method==="throw")||R!=="return"&&(E.method="throw",E.arg=new TypeError("The iterator does not provide a '"+R+"' method")),y;var k=f(I,b.iterator,E.arg);if(k.type==="throw")return E.method="throw",E.arg=k.arg,E.delegate=null,y;var U=k.arg;return U?U.done?(E[b.resultName]=U.value,E.next=b.nextLoc,E.method!=="return"&&(E.method="next",E.arg=void 0),E.delegate=null,y):U:(E.method="throw",E.arg=new TypeError("iterator result is not an object"),E.delegate=null,y)}function T(b){var E={tryLoc:b[0]};1 in b&&(E.catchLoc=b[1]),2 in b&&(E.finallyLoc=b[2],E.afterLoc=b[3]),this.tryEntries.push(E)}function M(b){var E=b.completion||{};E.type="normal",delete E.arg,b.completion=E}function x(b){this.tryEntries=[{tryLoc:"root"}],b.forEach(T,this),this.reset(!0)}function C(b){if(b){var E=b[h];if(E)return E.call(b);if(typeof b.next=="function")return b;if(!isNaN(b.length)){var R=-1,I=function k(){for(;++R<b.length;)if(u.call(b,R))return k.value=b[R],k.done=!1,k;return k.value=void 0,k.done=!0,k};return I.next=I}}return{next:S}}function S(){return{value:void 0,done:!0}}return w.prototype=_,l(L,"constructor",{value:_,configurable:!0}),l(_,"constructor",{value:w,configurable:!0}),w.displayName=g(_,p,"GeneratorFunction"),o.isGeneratorFunction=function(b){var E=typeof b=="function"&&b.constructor;return!!E&&(E===w||(E.displayName||E.name)==="GeneratorFunction")},o.mark=function(b){return Object.setPrototypeOf?Object.setPrototypeOf(b,_):(b.__proto__=_,g(b,p,"GeneratorFunction")),b.prototype=Object.create(L),b},o.awrap=function(b){return{__await:b}},O(V.prototype),g(V.prototype,d,function(){return this}),o.AsyncIterator=V,o.async=function(b,E,R,I,k){k===void 0&&(k=Promise);var U=new V(v(b,E,R,I),k);return o.isGeneratorFunction(E)?U:U.next().then(function(j){return j.done?j.value:U.next()})},O(L),g(L,p,"Generator"),g(L,h,function(){return this}),g(L,"toString",function(){return"[object Generator]"}),o.keys=function(b){var E=Object(b),R=[];for(var I in E)R.push(I);return R.reverse(),function k(){for(;R.length;){var U=R.pop();if(U in E)return k.value=U,k.done=!1,k}return k.done=!0,k}},o.values=C,x.prototype={constructor:x,reset:function(b){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!b)for(var E in this)E.charAt(0)==="t"&&u.call(this,E)&&!isNaN(+E.slice(1))&&(this[E]=void 0)},stop:function(){this.done=!0;var b=this.tryEntries[0].completion;if(b.type==="throw")throw b.arg;return this.rval},dispatchException:function(b){if(this.done)throw b;var E=this;function R(N,K){return U.type="throw",U.arg=b,E.next=N,K&&(E.method="next",E.arg=void 0),!!K}for(var I=this.tryEntries.length-1;I>=0;--I){var k=this.tryEntries[I],U=k.completion;if(k.tryLoc==="root")return R("end");if(k.tryLoc<=this.prev){var j=u.call(k,"catchLoc"),X=u.call(k,"finallyLoc");if(j&&X){if(this.prev<k.catchLoc)return R(k.catchLoc,!0);if(this.prev<k.finallyLoc)return R(k.finallyLoc)}else if(j){if(this.prev<k.catchLoc)return R(k.catchLoc,!0)}else{if(!X)throw new Error("try statement without catch or finally");if(this.prev<k.finallyLoc)return R(k.finallyLoc)}}}},abrupt:function(b,E){for(var R=this.tryEntries.length-1;R>=0;--R){var I=this.tryEntries[R];if(I.tryLoc<=this.prev&&u.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var k=I;break}}k&&(b==="break"||b==="continue")&&k.tryLoc<=E&&E<=k.finallyLoc&&(k=null);var U=k?k.completion:{};return U.type=b,U.arg=E,k?(this.method="next",this.next=k.finallyLoc,y):this.complete(U)},complete:function(b,E){if(b.type==="throw")throw b.arg;return b.type==="break"||b.type==="continue"?this.next=b.arg:b.type==="return"?(this.rval=this.arg=b.arg,this.method="return",this.next="end"):b.type==="normal"&&E&&(this.next=E),y},finish:function(b){for(var E=this.tryEntries.length-1;E>=0;--E){var R=this.tryEntries[E];if(R.finallyLoc===b)return this.complete(R.completion,R.afterLoc),M(R),y}},catch:function(b){for(var E=this.tryEntries.length-1;E>=0;--E){var R=this.tryEntries[E];if(R.tryLoc===b){var I=R.completion;if(I.type==="throw"){var k=I.arg;M(R)}return k}}throw new Error("illegal catch attempt")},delegateYield:function(b,E,R){return this.delegate={iterator:C(b),resultName:E,nextLoc:R},this.method==="next"&&(this.arg=void 0),y}},o}(typeof i=="object"?i.exports:{});try{regeneratorRuntime=n}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},{}],493:[function(r,i,s){var n=r("buffer").Buffer,o=r("inherits"),a=r("hash-base"),u=new Array(16),l=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],p=[0,1518500249,1859775393,2400959708,2840853838],g=[1352829926,1548603684,1836072691,2053994217,0];function v(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function f(F,G){return F<<G|F>>>32-G}function y(F,G,L,O,V,z,H,T){return f(F+(G^L^O)+z+H|0,T)+V|0}function m(F,G,L,O,V,z,H,T){return f(F+(G&L|~G&O)+z+H|0,T)+V|0}function w(F,G,L,O,V,z,H,T){return f(F+((G|~L)^O)+z+H|0,T)+V|0}function _(F,G,L,O,V,z,H,T){return f(F+(G&O|L&~O)+z+H|0,T)+V|0}function A(F,G,L,O,V,z,H,T){return f(F+(G^(L|~O))+z+H|0,T)+V|0}o(v,a),v.prototype._update=function(){for(var F=u,G=0;G<16;++G)F[G]=this._block.readInt32LE(4*G);for(var L=0|this._a,O=0|this._b,V=0|this._c,z=0|this._d,H=0|this._e,T=0|this._a,M=0|this._b,x=0|this._c,C=0|this._d,S=0|this._e,b=0;b<80;b+=1){var E,R;b<16?(E=y(L,O,V,z,H,F[l[b]],p[0],h[b]),R=A(T,M,x,C,S,F[c[b]],g[0],d[b])):b<32?(E=m(L,O,V,z,H,F[l[b]],p[1],h[b]),R=_(T,M,x,C,S,F[c[b]],g[1],d[b])):b<48?(E=w(L,O,V,z,H,F[l[b]],p[2],h[b]),R=w(T,M,x,C,S,F[c[b]],g[2],d[b])):b<64?(E=_(L,O,V,z,H,F[l[b]],p[3],h[b]),R=m(T,M,x,C,S,F[c[b]],g[3],d[b])):(E=A(L,O,V,z,H,F[l[b]],p[4],h[b]),R=y(T,M,x,C,S,F[c[b]],g[4],d[b])),L=H,H=z,z=f(V,10),V=O,O=E,T=S,S=C,C=f(x,10),x=M,M=R}var I=this._b+V+C|0;this._b=this._c+z+S|0,this._c=this._d+H+T|0,this._d=this._e+L+M|0,this._e=this._a+O+x|0,this._a=I},v.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var F=n.alloc?n.alloc(20):new n(20);return F.writeInt32LE(this._a,0),F.writeInt32LE(this._b,4),F.writeInt32LE(this._c,8),F.writeInt32LE(this._d,12),F.writeInt32LE(this._e,16),F},i.exports=v},{buffer:220,"hash-base":425,inherits:440}],494:[function(r,i,s){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var n=r("buffer"),o=n.Buffer;function a(l,c){for(var h in l)c[h]=l[h]}function u(l,c,h){return o(l,c,h)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?i.exports=n:(a(n,s),s.Buffer=u),u.prototype=Object.create(o.prototype),a(o,u),u.from=function(l,c,h){if(typeof l=="number")throw new TypeError("Argument must not be a number");return o(l,c,h)},u.alloc=function(l,c,h){if(typeof l!="number")throw new TypeError("Argument must be a number");var d=o(l);return c!==void 0?typeof h=="string"?d.fill(c,h):d.fill(c):d.fill(0),d},u.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return o(l)},u.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(l)}},{buffer:220}],495:[function(r,i,s){(function(n){(function(){var o,a=r("buffer"),u=a.Buffer,l={};for(o in a)a.hasOwnProperty(o)&&o!=="SlowBuffer"&&o!=="Buffer"&&(l[o]=a[o]);var c=l.Buffer={};for(o in u)u.hasOwnProperty(o)&&o!=="allocUnsafe"&&o!=="allocUnsafeSlow"&&(c[o]=u[o]);if(l.Buffer.prototype=u.prototype,c.from&&c.from!==Uint8Array.from||(c.from=function(h,d,p){if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof h);if(h&&h.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);return u(h,d,p)}),c.alloc||(c.alloc=function(h,d,p){if(typeof h!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof h);if(h<0||h>=2*(1<<30))throw new RangeError('The value "'+h+'" is invalid for option "size"');var g=u(h);return d&&d.length!==0?typeof p=="string"?g.fill(d,p):g.fill(d):g.fill(0),g}),!l.kStringMaxLength)try{l.kStringMaxLength=n.binding("buffer").kStringMaxLength}catch{}l.constants||(l.constants={MAX_LENGTH:l.kMaxLength},l.kStringMaxLength&&(l.constants.MAX_STRING_LENGTH=l.kStringMaxLength)),i.exports=l}).call(this)}).call(this,r("_process"))},{_process:467,buffer:220}],496:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0});const n=r("xmlchars/xml/1.0/ed5"),o=r("xmlchars/xml/1.1/ed2"),a=r("xmlchars/xmlns/1.0/ed3");var u=n.isS,l=n.isChar,c=n.isNameStartChar,h=n.isNameChar,d=n.S_LIST,p=n.NAME_RE,g=o.isChar,v=a.isNCNameStartChar,f=a.isNCNameChar,y=a.NC_NAME_RE;const m="http://www.w3.org/XML/1998/namespace",w="http://www.w3.org/2000/xmlns/",_={__proto__:null,xml:m,xmlns:w},A={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},F=C=>C===34||C===39,G=[34,39],L=[...G,91,62],O=[...G,60,93],V=[61,63,...d],z=[...d,62,38,60];function H(C,S,b){switch(S){case"xml":b!==m&&C.fail(`xml prefix must be bound to ${m}.`);break;case"xmlns":b!==w&&C.fail(`xmlns prefix must be bound to ${w}.`)}switch(b){case w:C.fail(S===""?`the default namespace may not be set to ${b}.`:`may not assign a prefix (even "xmlns") to the URI ${w}.`);break;case m:switch(S){case"xml":break;case"":C.fail(`the default namespace may not be set to ${b}.`);break;default:C.fail("may not assign the xml namespace to another prefix.")}}}const T=C=>y.test(C),M=C=>p.test(C);s.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const x={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};s.SaxesParser=class{constructor(C){this.opt=C??{},this.fragmentOpt=!!this.opt.fragment;const S=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,S){this.nameStartCheck=v,this.nameCheck=f,this.isName=T,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},_);const b=this.opt.additionalNamespaces;b!=null&&(function(E,R){for(const I of Object.keys(R))H(E,I,R[I])}(this,b),Object.assign(this.ns,b))}else this.nameStartCheck=c,this.nameCheck=h,this.isName=M,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var C;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:S}=this;this.state=S?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=S,this.xmlDeclPossible=!S,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:b}=this.opt;if(b===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");b="1.0"}this.setXMLVersion(b),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(A),(C=this.readyHandler)===null||C===void 0||C.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(C,S){this[x[C]]=S}off(C){this[x[C]]=void 0}makeError(C){var S;let b=(S=this.fileName)!==null&&S!==void 0?S:"";return this.trackPosition&&(b.length>0&&(b+=":"),b+=`${this.line}:${this.column}`),b.length>0&&(b+=": "),new Error(b+C)}fail(C){const S=this.makeError(C),b=this.errorHandler;if(b===void 0)throw S;return b(S),this}write(C){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let S=!1;C===null?(S=!0,C=""):typeof C=="object"&&(C=C.toString()),this.carriedFromPrevious!==void 0&&(C=`${this.carriedFromPrevious}${C}`,this.carriedFromPrevious=void 0);let b=C.length;const E=C.charCodeAt(b-1);!S&&(E===13||E>=55296&&E<=56319)&&(this.carriedFromPrevious=C[b-1],b--,C=C.slice(0,b));const{stateTable:R}=this;for(this.chunk=C,this.i=0;this.i<b;)R[this.state].call(this);return this.chunkPosition+=b,S?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:C,i:S}=this;if(this.prevI=S,this.i=S+1,S>=C.length)return-1;const b=C.charCodeAt(S);if(this.column++,b<55296){if(b>=32||b===9)return b;switch(b){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return C.charCodeAt(S+1)===10&&(this.i=S+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),b}}if(b>56319)return b>=57344&&b<=65533||this.fail("disallowed character."),b;const E=65536+1024*(b-55296)+(C.charCodeAt(S+1)-56320);return this.i=S+2,E>1114111&&this.fail("disallowed character."),E}getCode11(){const{chunk:C,i:S}=this;if(this.prevI=S,this.i=S+1,S>=C.length)return-1;const b=C.charCodeAt(S);if(this.column++,b<55296){if(b>31&&b<127||b>159&&b!==8232||b===9)return b;switch(b){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const R=C.charCodeAt(S+1);R!==10&&R!==133||(this.i=S+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),b}}if(b>56319)return b>=57344&&b<=65533||this.fail("disallowed character."),b;const E=65536+1024*(b-55296)+(C.charCodeAt(S+1)-56320);return this.i=S+2,E>1114111&&this.fail("disallowed character."),E}getCodeNorm(){const C=this.getCode();return C===-2?10:C}unget(){this.i=this.prevI,this.column--}captureTo(C){let{i:S}=this;const{chunk:b}=this;for(;;){const E=this.getCode(),R=E===-2,I=R?10:E;if(I===-1||C.includes(I))return this.text+=b.slice(S,this.prevI),I;R&&(this.text+=b.slice(S,this.prevI)+`
`,S=this.i)}}captureToChar(C){let{i:S}=this;const{chunk:b}=this;for(;;){let E=this.getCode();switch(E){case-2:this.text+=b.slice(S,this.prevI)+`
`,S=this.i,E=10;break;case-1:return this.text+=b.slice(S),!1}if(E===C)return this.text+=b.slice(S,this.prevI),!0}}captureNameChars(){const{chunk:C,i:S}=this;for(;;){const b=this.getCode();if(b===-1)return this.name+=C.slice(S),-1;if(!h(b))return this.name+=C.slice(S,this.prevI),b===-2?10:b}}skipSpaces(){for(;;){const C=this.getCodeNorm();if(C===-1||!u(C))return C}}setXMLVersion(C){this.currentXMLVersion=C,C==="1.0"?(this.isChar=l,this.getCode=this.getCode10):(this.isChar=g,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const C=this.i,S=this.skipSpaces();switch(this.prevI!==C&&(this.xmlDeclPossible=!1),S){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var C;const S=this.captureTo(L);switch(S){case 62:(C=this.doctypeHandler)===null||C===void 0||C.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(S),S===91?this.state=4:F(S)&&(this.state=3,this.q=S)}}sDoctypeQuote(){const C=this.q;this.captureToChar(C)&&(this.text+=String.fromCodePoint(C),this.q=null,this.state=2)}sDTD(){const C=this.captureTo(O);C!==-1&&(this.text+=String.fromCodePoint(C),C===93?this.state=2:C===60?this.state=6:F(C)&&(this.state=5,this.q=C))}sDTDQuoted(){const C=this.q;this.captureToChar(C)&&(this.text+=String.fromCodePoint(C),this.state=4,this.q=null)}sDTDOpenWaka(){const C=this.getCodeNorm();switch(this.text+=String.fromCodePoint(C),C){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const C=String.fromCodePoint(this.getCodeNorm()),S=this.openWakaBang+=C;this.text+=C,S!=="-"&&(this.state=S==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const C=this.getCodeNorm();this.text+=String.fromCodePoint(C),this.state=C===45?10:8}sDTDCommentEnded(){const C=this.getCodeNorm();this.text+=String.fromCodePoint(C),C===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const C=this.getCodeNorm();this.text+=String.fromCodePoint(C),C===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:C}=this;const{chunk:S}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=S.slice(C,this.prevI)+`
`,C=this.i;break;case 59:{const{entityReturnState:b}=this,E=this.entity+S.slice(C,this.prevI);let R;this.state=b,E===""?(this.fail("empty entity name."),R="&;"):(R=this.parseEntity(E),this.entity=""),b===13&&this.textHandler===void 0||(this.text+=R);break e}case-1:this.entity+=S.slice(C);break e}}sOpenWaka(){const C=this.getCode();if(c(C))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(C){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var C;const S=this.getCodeNorm();S===45?(this.state=19,(C=this.commentHandler)===null||C===void 0||C.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(S),this.state=17)}sCommentEnded(){const C=this.getCodeNorm();C!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(C),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const C=this.getCodeNorm();C===93?this.state=22:(this.text+="]"+String.fromCodePoint(C),this.state=20)}sCDataEnding2(){var C;const S=this.getCodeNorm();switch(S){case 62:(C=this.cdataHandler)===null||C===void 0||C.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(S),this.state=20}}sPIFirstChar(){const C=this.getCodeNorm();this.nameStartCheck(C)?(this.piTarget+=String.fromCodePoint(C),this.state=24):C===63||u(C)?(this.fail("processing instruction without a target."),this.state=C===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(C),this.state=24)}sPIRest(){const{chunk:C,i:S}=this;for(;;){const b=this.getCodeNorm();if(b===-1)return void(this.piTarget+=C.slice(S));if(!this.nameCheck(b)){this.piTarget+=C.slice(S,this.prevI);const E=b===63;E||u(b)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=E?33:27):this.state=E?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(b));break}}}sPIBody(){if(this.text.length===0){const C=this.getCodeNorm();C===63?this.state=26:u(C)||(this.text=String.fromCodePoint(C))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var C;const S=this.getCodeNorm();if(S===62){const{piTarget:b}=this;b.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(C=this.piHandler)===null||C===void 0||C.call(this,{target:b,body:this.text}),this.piTarget=this.text="",this.state=13}else S===63?this.text+="?":(this.text+="?"+String.fromCodePoint(S),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const C=this.skipSpaces();C!==63?C!==-1&&(this.state=28,this.name=String.fromCodePoint(C)):this.state=33}sXMLDeclName(){const C=this.captureTo(V);if(C===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(u(C)||C===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=C===61?30:29}}sXMLDeclEq(){const C=this.getCodeNorm();if(C===63)return this.state=33,void this.fail("XML declaration is incomplete.");u(C)||(C!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const C=this.getCodeNorm();if(C===63)return this.state=33,void this.fail("XML declaration is incomplete.");u(C)||(F(C)?this.q=C:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const C=this.captureTo([this.q,63]);if(C===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(C===-1)return;const S=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const b=S;this.xmlDecl.version=b,/^1\.[0-9]+$/.test(b)?this.opt.forceXMLVersion||this.setXMLVersion(b):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(S)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=S;break;case"standalone":S!=="yes"&&S!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=S}this.name="",this.state=32}sXMLDeclSeparator(){const C=this.getCodeNorm();C!==63?(u(C)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var C;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(C=this.xmldeclHandler)===null||C===void 0||C.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var C;const S=this.captureNameChars();if(S===-1)return;const b=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=b.ns=Object.create(null)),(C=this.openTagStartHandler)===null||C===void 0||C.call(this,b),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),S){case 62:this.openTag();break;case 47:this.state=35;break;default:u(S)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const C=this.skipSpaces();C!==-1&&(c(C)?(this.unget(),this.state=37):C===62?this.openTag():C===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const C=this.captureNameChars();C===61?this.state=39:u(C)?this.state=38:C===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):C!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const C=this.skipSpaces();switch(C){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",C===62?this.openTag():c(C)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const C=this.getCodeNorm();F(C)?(this.q=C,this.state=40):u(C)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:C,chunk:S}=this;let{i:b}=this;for(;;)switch(this.getCode()){case C:return this.pushAttrib(this.name,this.text+S.slice(b,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=S.slice(b,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=S.slice(b,this.prevI)+" ",b=this.i;break;case 60:return this.text+=S.slice(b,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=S.slice(b))}}sAttribValueClosed(){const C=this.getCodeNorm();u(C)?this.state=36:C===62?this.openTag():C===47?this.state=35:c(C)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const C=this.captureTo(z);switch(C){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",C===62?this.openTag():this.state=36}}sCloseTag(){const C=this.captureNameChars();C===62?this.closeTag():u(C)?this.state=44:C!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:C,forbiddenState:S}=this;const{chunk:b,textHandler:E}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,E!==void 0){const{text:R}=this,I=b.slice(C,this.prevI);R.length!==0?(E(R+I),this.text=""):I.length!==0&&E(I)}S=0;break e;case 38:this.state=14,this.entityReturnState=13,E!==void 0&&(this.text+=b.slice(C,this.prevI)),S=0;break e;case 93:switch(S){case 0:S=1;break;case 1:S=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:S===2&&this.fail('the string "]]>" is disallowed in char data.'),S=0;break;case-2:E!==void 0&&(this.text+=b.slice(C,this.prevI)+`
`),C=this.i,S=0;break;case-1:E!==void 0&&(this.text+=b.slice(C));break e;default:S=0}this.forbiddenState=S}handleTextOutsideRoot(){let{i:C}=this;const{chunk:S,textHandler:b}=this;let E=!1;e:for(;;){const R=this.getCode();switch(R){case 60:if(this.state=15,b!==void 0){const{text:I}=this,k=S.slice(C,this.prevI);I.length!==0?(b(I+k),this.text=""):k.length!==0&&b(k)}break e;case 38:this.state=14,this.entityReturnState=13,b!==void 0&&(this.text+=S.slice(C,this.prevI)),E=!0;break e;case-2:b!==void 0&&(this.text+=S.slice(C,this.prevI)+`
`),C=this.i;break;case-1:b!==void 0&&(this.text+=S.slice(C));break e;default:u(R)||(E=!0)}}E&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(C,S){var b;const{prefix:E,local:R}=this.qname(C),I={name:C,prefix:E,local:R,value:S};if(this.attribList.push(I),(b=this.attributeHandler)===null||b===void 0||b.call(this,I),E==="xmlns"){const k=S.trim();this.currentXMLVersion==="1.0"&&k===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[R]=k,H(this,R,k)}else if(C==="xmlns"){const k=S.trim();this.topNS[""]=k,H(this,"",k)}}pushAttribPlain(C,S){var b;const E={name:C,value:S};this.attribList.push(E),(b=this.attributeHandler)===null||b===void 0||b.call(this,E)}end(){var C,S;this.sawRoot||this.fail("document must contain a root element.");const{tags:b}=this;for(;b.length>0;){const R=b.pop();this.fail("unclosed tag: "+R.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:E}=this;return E.length!==0&&((C=this.textHandler)===null||C===void 0||C.call(this,E),this.text=""),this._closed=!0,(S=this.endHandler)===null||S===void 0||S.call(this),this._init(),this}resolve(C){var S,b;let E=this.topNS[C];if(E!==void 0)return E;const{tags:R}=this;for(let I=R.length-1;I>=0;I--)if(E=R[I].ns[C],E!==void 0)return E;return E=this.ns[C],E!==void 0?E:(b=(S=this.opt).resolvePrefix)===null||b===void 0?void 0:b.call(S,C)}qname(C){const S=C.indexOf(":");if(S===-1)return{prefix:"",local:C};const b=C.slice(S+1),E=C.slice(0,S);return(E===""||b===""||b.includes(":"))&&this.fail(`malformed name: ${C}.`),{prefix:E,local:b}}processAttribsNS(){var C;const{attribList:S}=this,b=this.tag;{const{prefix:I,local:k}=this.qname(b.name);b.prefix=I,b.local=k;const U=b.uri=(C=this.resolve(I))!==null&&C!==void 0?C:"";I!==""&&(I==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),U===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(I)}.`),b.uri=I))}if(S.length===0)return;const{attributes:E}=b,R=new Set;for(const I of S){const{name:k,prefix:U,local:j}=I;let X,N;U===""?(X=k==="xmlns"?w:"",N=k):(X=this.resolve(U),X===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(U)}.`),X=U),N=`{${X}}${j}`),R.has(N)&&this.fail(`duplicate attribute: ${N}.`),R.add(N),I.uri=X,E[k]=I}this.attribList=[]}processAttribsPlain(){const{attribList:C}=this,S=this.tag.attributes;for(const{name:b,value:E}of C)S[b]!==void 0&&this.fail(`duplicate attribute: ${b}.`),S[b]=E;this.attribList=[]}openTag(){var C;this.processAttribs();const{tags:S}=this,b=this.tag;b.isSelfClosing=!1,(C=this.openTagHandler)===null||C===void 0||C.call(this,b),S.push(b),this.state=13,this.name=""}openSelfClosingTag(){var C,S,b;this.processAttribs();const{tags:E}=this,R=this.tag;R.isSelfClosing=!0,(C=this.openTagHandler)===null||C===void 0||C.call(this,R),(S=this.closeTagHandler)===null||S===void 0||S.call(this,R),(this.tag=(b=E[E.length-1])!==null&&b!==void 0?b:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:C,name:S}=this;if(this.state=13,this.name="",S==="")return this.fail("weird empty close tag."),void(this.text+="</>");const b=this.closeTagHandler;let E=C.length;for(;E-- >0;){const R=this.tag=C.pop();if(this.topNS=R.ns,b==null||b(R),R.name===S)break;this.fail("unexpected close tag.")}E===0?this.closedRoot=!0:E<0&&(this.fail(`unmatched closing tag: ${S}.`),this.text+=`</${S}>`)}parseEntity(C){if(C[0]!=="#"){const b=this.ENTITIES[C];return b!==void 0?b:(this.fail(this.isName(C)?"undefined entity.":"disallowed character in entity name."),`&${C};`)}let S=NaN;return C[1]==="x"&&/^#x[0-9a-f]+$/i.test(C)?S=parseInt(C.slice(2),16):/^#[0-9]+$/.test(C)&&(S=parseInt(C.slice(1),10)),this.isChar(S)?String.fromCodePoint(S):(this.fail("malformed character entity."),`&${C};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(r,i,s){var n=r("safe-buffer").Buffer;function o(a,u){this._block=n.alloc(a),this._finalSize=u,this._blockSize=a,this._len=0}o.prototype.update=function(a,u){typeof a=="string"&&(u=u||"utf8",a=n.from(a,u));for(var l=this._block,c=this._blockSize,h=a.length,d=this._len,p=0;p<h;){for(var g=d%c,v=Math.min(h-p,c-g),f=0;f<v;f++)l[g+f]=a[p+f];p+=v,(d+=v)%c==0&&this._update(l)}return this._len+=h,this},o.prototype.digest=function(a){var u=this._len%this._blockSize;this._block[u]=128,this._block.fill(0,u+1),u>=this._finalSize&&(this._update(this._block),this._block.fill(0));var l=8*this._len;if(l<=4294967295)this._block.writeUInt32BE(l,this._blockSize-4);else{var c=(4294967295&l)>>>0,h=(l-c)/4294967296;this._block.writeUInt32BE(h,this._blockSize-8),this._block.writeUInt32BE(c,this._blockSize-4)}this._update(this._block);var d=this._hash();return a?d.toString(a):d},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},i.exports=o},{"safe-buffer":494}],498:[function(r,i,s){var n=i.exports=function(o){o=o.toLowerCase();var a=n[o];if(!a)throw new Error(o+" is not supported (we accept pull requests)");return new a};n.sha=r("./sha"),n.sha1=r("./sha1"),n.sha224=r("./sha224"),n.sha256=r("./sha256"),n.sha384=r("./sha384"),n.sha512=r("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(r,i,s){var n=r("inherits"),o=r("./hash"),a=r("safe-buffer").Buffer,u=[1518500249,1859775393,-1894007588,-899497514],l=new Array(80);function c(){this.init(),this._w=l,o.call(this,64,56)}function h(p){return p<<30|p>>>2}function d(p,g,v,f){return p===0?g&v|~g&f:p===2?g&v|g&f|v&f:g^v^f}n(c,o),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(p){for(var g,v=this._w,f=0|this._a,y=0|this._b,m=0|this._c,w=0|this._d,_=0|this._e,A=0;A<16;++A)v[A]=p.readInt32BE(4*A);for(;A<80;++A)v[A]=v[A-3]^v[A-8]^v[A-14]^v[A-16];for(var F=0;F<80;++F){var G=~~(F/20),L=0|((g=f)<<5|g>>>27)+d(G,y,m,w)+_+v[F]+u[G];_=w,w=m,m=h(y),y=f,f=L}this._a=f+this._a|0,this._b=y+this._b|0,this._c=m+this._c|0,this._d=w+this._d|0,this._e=_+this._e|0},c.prototype._hash=function(){var p=a.allocUnsafe(20);return p.writeInt32BE(0|this._a,0),p.writeInt32BE(0|this._b,4),p.writeInt32BE(0|this._c,8),p.writeInt32BE(0|this._d,12),p.writeInt32BE(0|this._e,16),p},i.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(r,i,s){var n=r("inherits"),o=r("./hash"),a=r("safe-buffer").Buffer,u=[1518500249,1859775393,-1894007588,-899497514],l=new Array(80);function c(){this.init(),this._w=l,o.call(this,64,56)}function h(g){return g<<5|g>>>27}function d(g){return g<<30|g>>>2}function p(g,v,f,y){return g===0?v&f|~v&y:g===2?v&f|v&y|f&y:v^f^y}n(c,o),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(g){for(var v,f=this._w,y=0|this._a,m=0|this._b,w=0|this._c,_=0|this._d,A=0|this._e,F=0;F<16;++F)f[F]=g.readInt32BE(4*F);for(;F<80;++F)f[F]=(v=f[F-3]^f[F-8]^f[F-14]^f[F-16])<<1|v>>>31;for(var G=0;G<80;++G){var L=~~(G/20),O=h(y)+p(L,m,w,_)+A+f[G]+u[L]|0;A=_,_=w,w=d(m),m=y,y=O}this._a=y+this._a|0,this._b=m+this._b|0,this._c=w+this._c|0,this._d=_+this._d|0,this._e=A+this._e|0},c.prototype._hash=function(){var g=a.allocUnsafe(20);return g.writeInt32BE(0|this._a,0),g.writeInt32BE(0|this._b,4),g.writeInt32BE(0|this._c,8),g.writeInt32BE(0|this._d,12),g.writeInt32BE(0|this._e,16),g},i.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(r,i,s){var n=r("inherits"),o=r("./sha256"),a=r("./hash"),u=r("safe-buffer").Buffer,l=new Array(64);function c(){this.init(),this._w=l,a.call(this,64,56)}n(c,o),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var h=u.allocUnsafe(28);return h.writeInt32BE(this._a,0),h.writeInt32BE(this._b,4),h.writeInt32BE(this._c,8),h.writeInt32BE(this._d,12),h.writeInt32BE(this._e,16),h.writeInt32BE(this._f,20),h.writeInt32BE(this._g,24),h},i.exports=c},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(r,i,s){var n=r("inherits"),o=r("./hash"),a=r("safe-buffer").Buffer,u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],l=new Array(64);function c(){this.init(),this._w=l,o.call(this,64,56)}function h(f,y,m){return m^f&(y^m)}function d(f,y,m){return f&y|m&(f|y)}function p(f){return(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10)}function g(f){return(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7)}function v(f){return(f>>>7|f<<25)^(f>>>18|f<<14)^f>>>3}n(c,o),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(f){for(var y,m=this._w,w=0|this._a,_=0|this._b,A=0|this._c,F=0|this._d,G=0|this._e,L=0|this._f,O=0|this._g,V=0|this._h,z=0;z<16;++z)m[z]=f.readInt32BE(4*z);for(;z<64;++z)m[z]=0|(((y=m[z-2])>>>17|y<<15)^(y>>>19|y<<13)^y>>>10)+m[z-7]+v(m[z-15])+m[z-16];for(var H=0;H<64;++H){var T=V+g(G)+h(G,L,O)+u[H]+m[H]|0,M=p(w)+d(w,_,A)|0;V=O,O=L,L=G,G=F+T|0,F=A,A=_,_=w,w=T+M|0}this._a=w+this._a|0,this._b=_+this._b|0,this._c=A+this._c|0,this._d=F+this._d|0,this._e=G+this._e|0,this._f=L+this._f|0,this._g=O+this._g|0,this._h=V+this._h|0},c.prototype._hash=function(){var f=a.allocUnsafe(32);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f.writeInt32BE(this._h,28),f},i.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(r,i,s){var n=r("inherits"),o=r("./sha512"),a=r("./hash"),u=r("safe-buffer").Buffer,l=new Array(160);function c(){this.init(),this._w=l,a.call(this,128,112)}n(c,o),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var h=u.allocUnsafe(48);function d(p,g,v){h.writeInt32BE(p,v),h.writeInt32BE(g,v+4)}return d(this._ah,this._al,0),d(this._bh,this._bl,8),d(this._ch,this._cl,16),d(this._dh,this._dl,24),d(this._eh,this._el,32),d(this._fh,this._fl,40),h},i.exports=c},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(r,i,s){var n=r("inherits"),o=r("./hash"),a=r("safe-buffer").Buffer,u=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],l=new Array(160);function c(){this.init(),this._w=l,o.call(this,128,112)}function h(_,A,F){return F^_&(A^F)}function d(_,A,F){return _&A|F&(_|A)}function p(_,A){return(_>>>28|A<<4)^(A>>>2|_<<30)^(A>>>7|_<<25)}function g(_,A){return(_>>>14|A<<18)^(_>>>18|A<<14)^(A>>>9|_<<23)}function v(_,A){return(_>>>1|A<<31)^(_>>>8|A<<24)^_>>>7}function f(_,A){return(_>>>1|A<<31)^(_>>>8|A<<24)^(_>>>7|A<<25)}function y(_,A){return(_>>>19|A<<13)^(A>>>29|_<<3)^_>>>6}function m(_,A){return(_>>>19|A<<13)^(A>>>29|_<<3)^(_>>>6|A<<26)}function w(_,A){return _>>>0<A>>>0?1:0}n(c,o),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(_){for(var A=this._w,F=0|this._ah,G=0|this._bh,L=0|this._ch,O=0|this._dh,V=0|this._eh,z=0|this._fh,H=0|this._gh,T=0|this._hh,M=0|this._al,x=0|this._bl,C=0|this._cl,S=0|this._dl,b=0|this._el,E=0|this._fl,R=0|this._gl,I=0|this._hl,k=0;k<32;k+=2)A[k]=_.readInt32BE(4*k),A[k+1]=_.readInt32BE(4*k+4);for(;k<160;k+=2){var U=A[k-30],j=A[k-30+1],X=v(U,j),N=f(j,U),K=y(U=A[k-4],j=A[k-4+1]),P=m(j,U),D=A[k-14],W=A[k-14+1],Y=A[k-32],ee=A[k-32+1],Q=N+W|0,J=X+D+w(Q,N)|0;J=(J=J+K+w(Q=Q+P|0,P)|0)+Y+w(Q=Q+ee|0,ee)|0,A[k]=J,A[k+1]=Q}for(var ne=0;ne<160;ne+=2){J=A[ne],Q=A[ne+1];var oe=d(F,G,L),Z=d(M,x,C),ie=p(F,M),se=p(M,F),ce=g(V,b),ue=g(b,V),de=u[ne],fe=u[ne+1],ge=h(V,z,H),be=h(b,E,R),_e=I+ue|0,Te=T+ce+w(_e,I)|0;Te=(Te=(Te=Te+ge+w(_e=_e+be|0,be)|0)+de+w(_e=_e+fe|0,fe)|0)+J+w(_e=_e+Q|0,Q)|0;var Me=se+Z|0,Ke=ie+oe+w(Me,se)|0;T=H,I=R,H=z,R=E,z=V,E=b,V=O+Te+w(b=S+_e|0,S)|0,O=L,S=C,L=G,C=x,G=F,x=M,F=Te+Ke+w(M=_e+Me|0,_e)|0}this._al=this._al+M|0,this._bl=this._bl+x|0,this._cl=this._cl+C|0,this._dl=this._dl+S|0,this._el=this._el+b|0,this._fl=this._fl+E|0,this._gl=this._gl+R|0,this._hl=this._hl+I|0,this._ah=this._ah+F+w(this._al,M)|0,this._bh=this._bh+G+w(this._bl,x)|0,this._ch=this._ch+L+w(this._cl,C)|0,this._dh=this._dh+O+w(this._dl,S)|0,this._eh=this._eh+V+w(this._el,b)|0,this._fh=this._fh+z+w(this._fl,E)|0,this._gh=this._gh+H+w(this._gl,R)|0,this._hh=this._hh+T+w(this._hl,I)|0},c.prototype._hash=function(){var _=a.allocUnsafe(64);function A(F,G,L){_.writeInt32BE(F,L),_.writeInt32BE(G,L+4)}return A(this._ah,this._al,0),A(this._bh,this._bl,8),A(this._ch,this._cl,16),A(this._dh,this._dl,24),A(this._eh,this._el,32),A(this._fh,this._fl,40),A(this._gh,this._gl,48),A(this._hh,this._hl,56),_},i.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(r,i,s){i.exports=o;var n=r("events").EventEmitter;function o(){n.call(this)}r("inherits")(o,n),o.Readable=r("readable-stream/readable.js"),o.Writable=r("readable-stream/writable.js"),o.Duplex=r("readable-stream/duplex.js"),o.Transform=r("readable-stream/transform.js"),o.PassThrough=r("readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(a,u){var l=this;function c(y){a.writable&&a.write(y)===!1&&l.pause&&l.pause()}function h(){l.readable&&l.resume&&l.resume()}l.on("data",c),a.on("drain",h),a._isStdio||u&&u.end===!1||(l.on("end",p),l.on("close",g));var d=!1;function p(){d||(d=!0,a.end())}function g(){d||(d=!0,typeof a.destroy=="function"&&a.destroy())}function v(y){if(f(),n.listenerCount(this,"error")===0)throw y}function f(){l.removeListener("data",c),a.removeListener("drain",h),l.removeListener("end",p),l.removeListener("close",g),l.removeListener("error",v),a.removeListener("error",v),l.removeListener("end",f),l.removeListener("close",f),a.removeListener("close",f)}return l.on("error",v),a.on("error",v),l.on("end",f),l.on("close",f),a.on("close",f),a.emit("pipe",l),a}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(r,i,s){var n={}.toString;i.exports=Array.isArray||function(o){return n.call(o)=="[object Array]"}},{}],507:[function(r,i,s){i.exports=r("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(r,i,s){var n=r("process-nextick-args"),o=Object.keys||function(f){var y=[];for(var m in f)y.push(m);return y};i.exports=p;var a=Object.create(r("core-util-is"));a.inherits=r("inherits");var u=r("./_stream_readable"),l=r("./_stream_writable");a.inherits(p,u);for(var c=o(l.prototype),h=0;h<c.length;h++){var d=c[h];p.prototype[d]||(p.prototype[d]=l.prototype[d])}function p(f){if(!(this instanceof p))return new p(f);u.call(this,f),l.call(this,f),f&&f.readable===!1&&(this.readable=!1),f&&f.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,f&&f.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",g)}function g(){this.allowHalfOpen||this._writableState.ended||n.nextTick(v,this)}function v(f){f.end()}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),p.prototype._destroy=function(f,y){this.push(null),this.end(),n.nextTick(y,f)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(r,i,s){i.exports=a;var n=r("./_stream_transform"),o=Object.create(r("core-util-is"));function a(u){if(!(this instanceof a))return new a(u);n.call(this,u)}o.inherits=r("inherits"),o.inherits(a,n),a.prototype._transform=function(u,l,c){c(null,u)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(r,i,s){(function(n,o){(function(){var a=r("process-nextick-args");i.exports=F;var u,l=r("isarray");F.ReadableState=A,r("events").EventEmitter;var c=function(I,k){return I.listeners(k).length},h=r("./internal/streams/stream"),d=r("safe-buffer").Buffer,p=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g=Object.create(r("core-util-is"));g.inherits=r("inherits");var v=r("util"),f=void 0;f=v&&v.debuglog?v.debuglog("stream"):function(){};var y,m=r("./internal/streams/BufferList"),w=r("./internal/streams/destroy");g.inherits(F,h);var _=["error","close","destroy","pause","resume"];function A(I,k){I=I||{};var U=k instanceof(u=u||r("./_stream_duplex"));this.objectMode=!!I.objectMode,U&&(this.objectMode=this.objectMode||!!I.readableObjectMode);var j=I.highWaterMark,X=I.readableHighWaterMark,N=this.objectMode?16:16384;this.highWaterMark=j||j===0?j:U&&(X||X===0)?X:N,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(y||(y=r("string_decoder/").StringDecoder),this.decoder=new y(I.encoding),this.encoding=I.encoding)}function F(I){if(u=u||r("./_stream_duplex"),!(this instanceof F))return new F(I);this._readableState=new A(I,this),this.readable=!0,I&&(typeof I.read=="function"&&(this._read=I.read),typeof I.destroy=="function"&&(this._destroy=I.destroy)),h.call(this)}function G(I,k,U,j,X){var N,K=I._readableState;return k===null?(K.reading=!1,function(P,D){if(!D.ended){if(D.decoder){var W=D.decoder.end();W&&W.length&&(D.buffer.push(W),D.length+=D.objectMode?1:W.length)}D.ended=!0,V(P)}}(I,K)):(X||(N=function(P,D){var W;Y=D,d.isBuffer(Y)||Y instanceof p||typeof D=="string"||D===void 0||P.objectMode||(W=new TypeError("Invalid non-string/buffer chunk"));var Y;return W}(K,k)),N?I.emit("error",N):K.objectMode||k&&k.length>0?(typeof k=="string"||K.objectMode||Object.getPrototypeOf(k)===d.prototype||(k=function(P){return d.from(P)}(k)),j?K.endEmitted?I.emit("error",new Error("stream.unshift() after end event")):L(I,K,k,!0):K.ended?I.emit("error",new Error("stream.push() after EOF")):(K.reading=!1,K.decoder&&!U?(k=K.decoder.write(k),K.objectMode||k.length!==0?L(I,K,k,!1):H(I,K)):L(I,K,k,!1))):j||(K.reading=!1)),function(P){return!P.ended&&(P.needReadable||P.length<P.highWaterMark||P.length===0)}(K)}function L(I,k,U,j){k.flowing&&k.length===0&&!k.sync?(I.emit("data",U),I.read(0)):(k.length+=k.objectMode?1:U.length,j?k.buffer.unshift(U):k.buffer.push(U),k.needReadable&&V(I)),H(I,k)}Object.defineProperty(F.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(I){this._readableState&&(this._readableState.destroyed=I)}}),F.prototype.destroy=w.destroy,F.prototype._undestroy=w.undestroy,F.prototype._destroy=function(I,k){this.push(null),k(I)},F.prototype.push=function(I,k){var U,j=this._readableState;return j.objectMode?U=!0:typeof I=="string"&&((k=k||j.defaultEncoding)!==j.encoding&&(I=d.from(I,k),k=""),U=!0),G(this,I,k,!1,U)},F.prototype.unshift=function(I){return G(this,I,null,!0,!1)},F.prototype.isPaused=function(){return this._readableState.flowing===!1},F.prototype.setEncoding=function(I){return y||(y=r("string_decoder/").StringDecoder),this._readableState.decoder=new y(I),this._readableState.encoding=I,this};function O(I,k){return I<=0||k.length===0&&k.ended?0:k.objectMode?1:I!=I?k.flowing&&k.length?k.buffer.head.data.length:k.length:(I>k.highWaterMark&&(k.highWaterMark=function(U){return U>=8388608?U=8388608:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}(I)),I<=k.length?I:k.ended?k.length:(k.needReadable=!0,0))}function V(I){var k=I._readableState;k.needReadable=!1,k.emittedReadable||(f("emitReadable",k.flowing),k.emittedReadable=!0,k.sync?a.nextTick(z,I):z(I))}function z(I){f("emit readable"),I.emit("readable"),C(I)}function H(I,k){k.readingMore||(k.readingMore=!0,a.nextTick(T,I,k))}function T(I,k){for(var U=k.length;!k.reading&&!k.flowing&&!k.ended&&k.length<k.highWaterMark&&(f("maybeReadMore read 0"),I.read(0),U!==k.length);)U=k.length;k.readingMore=!1}function M(I){f("readable nexttick read 0"),I.read(0)}function x(I,k){k.reading||(f("resume read 0"),I.read(0)),k.resumeScheduled=!1,k.awaitDrain=0,I.emit("resume"),C(I),k.flowing&&!k.reading&&I.read(0)}function C(I){var k=I._readableState;for(f("flow",k.flowing);k.flowing&&I.read()!==null;);}function S(I,k){return k.length===0?null:(k.objectMode?U=k.buffer.shift():!I||I>=k.length?(U=k.decoder?k.buffer.join(""):k.buffer.length===1?k.buffer.head.data:k.buffer.concat(k.length),k.buffer.clear()):U=function(j,X,N){var K;return j<X.head.data.length?(K=X.head.data.slice(0,j),X.head.data=X.head.data.slice(j)):K=j===X.head.data.length?X.shift():N?function(P,D){var W=D.head,Y=1,ee=W.data;for(P-=ee.length;W=W.next;){var Q=W.data,J=P>Q.length?Q.length:P;if(J===Q.length?ee+=Q:ee+=Q.slice(0,P),(P-=J)===0){J===Q.length?(++Y,W.next?D.head=W.next:D.head=D.tail=null):(D.head=W,W.data=Q.slice(J));break}++Y}return D.length-=Y,ee}(j,X):function(P,D){var W=d.allocUnsafe(P),Y=D.head,ee=1;for(Y.data.copy(W),P-=Y.data.length;Y=Y.next;){var Q=Y.data,J=P>Q.length?Q.length:P;if(Q.copy(W,W.length-P,0,J),(P-=J)===0){J===Q.length?(++ee,Y.next?D.head=Y.next:D.head=D.tail=null):(D.head=Y,Y.data=Q.slice(J));break}++ee}return D.length-=ee,W}(j,X),K}(I,k.buffer,k.decoder),U);var U}function b(I){var k=I._readableState;if(k.length>0)throw new Error('"endReadable()" called on non-empty stream');k.endEmitted||(k.ended=!0,a.nextTick(E,k,I))}function E(I,k){I.endEmitted||I.length!==0||(I.endEmitted=!0,k.readable=!1,k.emit("end"))}function R(I,k){for(var U=0,j=I.length;U<j;U++)if(I[U]===k)return U;return-1}F.prototype.read=function(I){f("read",I),I=parseInt(I,10);var k=this._readableState,U=I;if(I!==0&&(k.emittedReadable=!1),I===0&&k.needReadable&&(k.length>=k.highWaterMark||k.ended))return f("read: emitReadable",k.length,k.ended),k.length===0&&k.ended?b(this):V(this),null;if((I=O(I,k))===0&&k.ended)return k.length===0&&b(this),null;var j,X=k.needReadable;return f("need readable",X),(k.length===0||k.length-I<k.highWaterMark)&&f("length less than watermark",X=!0),k.ended||k.reading?f("reading or ended",X=!1):X&&(f("do read"),k.reading=!0,k.sync=!0,k.length===0&&(k.needReadable=!0),this._read(k.highWaterMark),k.sync=!1,k.reading||(I=O(U,k))),(j=I>0?S(I,k):null)===null?(k.needReadable=!0,I=0):k.length-=I,k.length===0&&(k.ended||(k.needReadable=!0),U!==I&&k.ended&&b(this)),j!==null&&this.emit("data",j),j},F.prototype._read=function(I){this.emit("error",new Error("_read() is not implemented"))},F.prototype.pipe=function(I,k){var U=this,j=this._readableState;switch(j.pipesCount){case 0:j.pipes=I;break;case 1:j.pipes=[j.pipes,I];break;default:j.pipes.push(I)}j.pipesCount+=1,f("pipe count=%d opts=%j",j.pipesCount,k);var X=(!k||k.end!==!1)&&I!==n.stdout&&I!==n.stderr?K:ne;function N(oe,Z){f("onunpipe"),oe===U&&Z&&Z.hasUnpiped===!1&&(Z.hasUnpiped=!0,f("cleanup"),I.removeListener("close",Q),I.removeListener("finish",J),I.removeListener("drain",P),I.removeListener("error",ee),I.removeListener("unpipe",N),U.removeListener("end",K),U.removeListener("end",ne),U.removeListener("data",Y),D=!0,!j.awaitDrain||I._writableState&&!I._writableState.needDrain||P())}function K(){f("onend"),I.end()}j.endEmitted?a.nextTick(X):U.once("end",X),I.on("unpipe",N);var P=function(oe){return function(){var Z=oe._readableState;f("pipeOnDrain",Z.awaitDrain),Z.awaitDrain&&Z.awaitDrain--,Z.awaitDrain===0&&c(oe,"data")&&(Z.flowing=!0,C(oe))}}(U);I.on("drain",P);var D=!1,W=!1;function Y(oe){f("ondata"),W=!1,I.write(oe)!==!1||W||((j.pipesCount===1&&j.pipes===I||j.pipesCount>1&&R(j.pipes,I)!==-1)&&!D&&(f("false write response, pause",j.awaitDrain),j.awaitDrain++,W=!0),U.pause())}function ee(oe){f("onerror",oe),ne(),I.removeListener("error",ee),c(I,"error")===0&&I.emit("error",oe)}function Q(){I.removeListener("finish",J),ne()}function J(){f("onfinish"),I.removeListener("close",Q),ne()}function ne(){f("unpipe"),U.unpipe(I)}return U.on("data",Y),function(oe,Z,ie){if(typeof oe.prependListener=="function")return oe.prependListener(Z,ie);oe._events&&oe._events[Z]?l(oe._events[Z])?oe._events[Z].unshift(ie):oe._events[Z]=[ie,oe._events[Z]]:oe.on(Z,ie)}(I,"error",ee),I.once("close",Q),I.once("finish",J),I.emit("pipe",U),j.flowing||(f("pipe resume"),U.resume()),I},F.prototype.unpipe=function(I){var k=this._readableState,U={hasUnpiped:!1};if(k.pipesCount===0)return this;if(k.pipesCount===1)return I&&I!==k.pipes||(I||(I=k.pipes),k.pipes=null,k.pipesCount=0,k.flowing=!1,I&&I.emit("unpipe",this,U)),this;if(!I){var j=k.pipes,X=k.pipesCount;k.pipes=null,k.pipesCount=0,k.flowing=!1;for(var N=0;N<X;N++)j[N].emit("unpipe",this,{hasUnpiped:!1});return this}var K=R(k.pipes,I);return K===-1||(k.pipes.splice(K,1),k.pipesCount-=1,k.pipesCount===1&&(k.pipes=k.pipes[0]),I.emit("unpipe",this,U)),this},F.prototype.on=function(I,k){var U=h.prototype.on.call(this,I,k);if(I==="data")this._readableState.flowing!==!1&&this.resume();else if(I==="readable"){var j=this._readableState;j.endEmitted||j.readableListening||(j.readableListening=j.needReadable=!0,j.emittedReadable=!1,j.reading?j.length&&V(this):a.nextTick(M,this))}return U},F.prototype.addListener=F.prototype.on,F.prototype.resume=function(){var I=this._readableState;return I.flowing||(f("resume"),I.flowing=!0,function(k,U){U.resumeScheduled||(U.resumeScheduled=!0,a.nextTick(x,k,U))}(this,I)),this},F.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},F.prototype.wrap=function(I){var k=this,U=this._readableState,j=!1;for(var X in I.on("end",function(){if(f("wrapped end"),U.decoder&&!U.ended){var K=U.decoder.end();K&&K.length&&k.push(K)}k.push(null)}),I.on("data",function(K){f("wrapped data"),U.decoder&&(K=U.decoder.write(K)),U.objectMode&&K==null||(U.objectMode||K&&K.length)&&(k.push(K)||(j=!0,I.pause()))}),I)this[X]===void 0&&typeof I[X]=="function"&&(this[X]=function(K){return function(){return I[K].apply(I,arguments)}}(X));for(var N=0;N<_.length;N++)I.on(_[N],this.emit.bind(this,_[N]));return this._read=function(K){f("wrapped _read",K),j&&(j=!1,I.resume())},this},Object.defineProperty(F.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),F._fromList=S}).call(this)}).call(this,r("_process"),typeof _t<"u"?_t:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(r,i,s){i.exports=u;var n=r("./_stream_duplex"),o=Object.create(r("core-util-is"));function a(h,d){var p=this._transformState;p.transforming=!1;var g=p.writecb;if(!g)return this.emit("error",new Error("write callback called multiple times"));p.writechunk=null,p.writecb=null,d!=null&&this.push(d),g(h);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function u(h){if(!(this instanceof u))return new u(h);n.call(this,h),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",l)}function l(){var h=this;typeof this._flush=="function"?this._flush(function(d,p){c(h,d,p)}):c(this,null,null)}function c(h,d,p){if(d)return h.emit("error",d);if(p!=null&&h.push(p),h._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(h._transformState.transforming)throw new Error("Calling transform done when still transforming");return h.push(null)}o.inherits=r("inherits"),o.inherits(u,n),u.prototype.push=function(h,d){return this._transformState.needTransform=!1,n.prototype.push.call(this,h,d)},u.prototype._transform=function(h,d,p){throw new Error("_transform() is not implemented")},u.prototype._write=function(h,d,p){var g=this._transformState;if(g.writecb=p,g.writechunk=h,g.writeencoding=d,!g.transforming){var v=this._readableState;(g.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},u.prototype._read=function(h){var d=this._transformState;d.writechunk!==null&&d.writecb&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},u.prototype._destroy=function(h,d){var p=this;n.prototype._destroy.call(this,h,function(g){d(g),p.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(r,i,s){(function(n,o,a){(function(){var u=r("process-nextick-args");function l(H){var T=this;this.next=null,this.entry=null,this.finish=function(){(function(M,x,C){var S=M.entry;for(M.entry=null;S;){var b=S.callback;x.pendingcb--,b(C),S=S.next}x.corkedRequestsFree.next=M})(T,H)}}i.exports=A;var c,h=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?a:u.nextTick;A.WritableState=_;var d=Object.create(r("core-util-is"));d.inherits=r("inherits");var p={deprecate:r("util-deprecate")},g=r("./internal/streams/stream"),v=r("safe-buffer").Buffer,f=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},y,m=r("./internal/streams/destroy");function w(){}function _(H,T){c=c||r("./_stream_duplex"),H=H||{};var M=T instanceof c;this.objectMode=!!H.objectMode,M&&(this.objectMode=this.objectMode||!!H.writableObjectMode);var x=H.highWaterMark,C=H.writableHighWaterMark,S=this.objectMode?16:16384;this.highWaterMark=x||x===0?x:M&&(C||C===0)?C:S,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var b=H.decodeStrings===!1;this.decodeStrings=!b,this.defaultEncoding=H.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(E){(function(R,I){var k=R._writableState,U=k.sync,j=k.writecb;if(function(N){N.writing=!1,N.writecb=null,N.length-=N.writelen,N.writelen=0}(k),I)(function(N,K,P,D,W){--K.pendingcb,P?(u.nextTick(W,D),u.nextTick(z,N,K),N._writableState.errorEmitted=!0,N.emit("error",D)):(W(D),N._writableState.errorEmitted=!0,N.emit("error",D),z(N,K))})(R,k,U,I,j);else{var X=O(k);X||k.corked||k.bufferProcessing||!k.bufferedRequest||L(R,k),U?h(G,R,k,X,j):G(R,k,X,j)}})(T,E)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new l(this)}function A(H){if(c=c||r("./_stream_duplex"),!(y.call(A,this)||this instanceof c))return new A(H);this._writableState=new _(H,this),this.writable=!0,H&&(typeof H.write=="function"&&(this._write=H.write),typeof H.writev=="function"&&(this._writev=H.writev),typeof H.destroy=="function"&&(this._destroy=H.destroy),typeof H.final=="function"&&(this._final=H.final)),g.call(this)}function F(H,T,M,x,C,S,b){T.writelen=x,T.writecb=b,T.writing=!0,T.sync=!0,M?H._writev(C,T.onwrite):H._write(C,S,T.onwrite),T.sync=!1}function G(H,T,M,x){M||function(C,S){S.length===0&&S.needDrain&&(S.needDrain=!1,C.emit("drain"))}(H,T),T.pendingcb--,x(),z(H,T)}function L(H,T){T.bufferProcessing=!0;var M=T.bufferedRequest;if(H._writev&&M&&M.next){var x=T.bufferedRequestCount,C=new Array(x),S=T.corkedRequestsFree;S.entry=M;for(var b=0,E=!0;M;)C[b]=M,M.isBuf||(E=!1),M=M.next,b+=1;C.allBuffers=E,F(H,T,!0,T.length,C,"",S.finish),T.pendingcb++,T.lastBufferedRequest=null,S.next?(T.corkedRequestsFree=S.next,S.next=null):T.corkedRequestsFree=new l(T),T.bufferedRequestCount=0}else{for(;M;){var R=M.chunk,I=M.encoding,k=M.callback;if(F(H,T,!1,T.objectMode?1:R.length,R,I,k),M=M.next,T.bufferedRequestCount--,T.writing)break}M===null&&(T.lastBufferedRequest=null)}T.bufferedRequest=M,T.bufferProcessing=!1}function O(H){return H.ending&&H.length===0&&H.bufferedRequest===null&&!H.finished&&!H.writing}function V(H,T){H._final(function(M){T.pendingcb--,M&&H.emit("error",M),T.prefinished=!0,H.emit("prefinish"),z(H,T)})}function z(H,T){var M=O(T);return M&&(function(x,C){C.prefinished||C.finalCalled||(typeof x._final=="function"?(C.pendingcb++,C.finalCalled=!0,u.nextTick(V,x,C)):(C.prefinished=!0,x.emit("prefinish")))}(H,T),T.pendingcb===0&&(T.finished=!0,H.emit("finish"))),M}d.inherits(A,g),_.prototype.getBuffer=function(){for(var H=this.bufferedRequest,T=[];H;)T.push(H),H=H.next;return T},function(){try{Object.defineProperty(_.prototype,"buffer",{get:p.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(y=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(H){return!!y.call(this,H)||this===A&&H&&H._writableState instanceof _}})):y=function(H){return H instanceof this},A.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},A.prototype.write=function(H,T,M){var x,C=this._writableState,S=!1,b=!C.objectMode&&(x=H,v.isBuffer(x)||x instanceof f);return b&&!v.isBuffer(H)&&(H=function(E){return v.from(E)}(H)),typeof T=="function"&&(M=T,T=null),b?T="buffer":T||(T=C.defaultEncoding),typeof M!="function"&&(M=w),C.ended?function(E,R){var I=new Error("write after end");E.emit("error",I),u.nextTick(R,I)}(this,M):(b||function(E,R,I,k){var U=!0,j=!1;return I===null?j=new TypeError("May not write null values to stream"):typeof I=="string"||I===void 0||R.objectMode||(j=new TypeError("Invalid non-string/buffer chunk")),j&&(E.emit("error",j),u.nextTick(k,j),U=!1),U}(this,C,H,M))&&(C.pendingcb++,S=function(E,R,I,k,U,j){if(!I){var X=function(D,W,Y){return D.objectMode||D.decodeStrings===!1||typeof W!="string"||(W=v.from(W,Y)),W}(R,k,U);k!==X&&(I=!0,U="buffer",k=X)}var N=R.objectMode?1:k.length;R.length+=N;var K=R.length<R.highWaterMark;if(K||(R.needDrain=!0),R.writing||R.corked){var P=R.lastBufferedRequest;R.lastBufferedRequest={chunk:k,encoding:U,isBuf:I,callback:j,next:null},P?P.next=R.lastBufferedRequest:R.bufferedRequest=R.lastBufferedRequest,R.bufferedRequestCount+=1}else F(E,R,!1,N,k,U,j);return K}(this,C,b,H,T,M)),S},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var H=this._writableState;H.corked&&(H.corked--,H.writing||H.corked||H.bufferProcessing||!H.bufferedRequest||L(this,H))},A.prototype.setDefaultEncoding=function(H){if(typeof H=="string"&&(H=H.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((H+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+H);return this._writableState.defaultEncoding=H,this},Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(H,T,M){M(new Error("_write() is not implemented"))},A.prototype._writev=null,A.prototype.end=function(H,T,M){var x=this._writableState;typeof H=="function"?(M=H,H=null,T=null):typeof T=="function"&&(M=T,T=null),H!=null&&this.write(H,T),x.corked&&(x.corked=1,this.uncork()),x.ending||function(C,S,b){S.ending=!0,z(C,S),b&&(S.finished?u.nextTick(b):C.once("finish",b)),S.ended=!0,C.writable=!1}(this,x,M)},Object.defineProperty(A.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(H){this._writableState&&(this._writableState.destroyed=H)}}),A.prototype.destroy=m.destroy,A.prototype._undestroy=m.undestroy,A.prototype._destroy=function(H,T){this.end(),T(H)}}).call(this)}).call(this,r("_process"),typeof _t<"u"?_t:typeof self<"u"?self:typeof window<"u"?window:{},r("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(r,i,s){var n=r("safe-buffer").Buffer,o=r("util");i.exports=function(){function a(){(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,a),this.head=null,this.tail=null,this.length=0}return a.prototype.push=function(u){var l={data:u,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length},a.prototype.unshift=function(u){var l={data:u,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length},a.prototype.shift=function(){if(this.length!==0){var u=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,u}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(u){if(this.length===0)return"";for(var l=this.head,c=""+l.data;l=l.next;)c+=u+l.data;return c},a.prototype.concat=function(u){if(this.length===0)return n.alloc(0);for(var l,c,h,d=n.allocUnsafe(u>>>0),p=this.head,g=0;p;)l=p.data,c=d,h=g,l.copy(c,h),g+=p.data.length,p=p.next;return d},a}(),o&&o.inspect&&o.inspect.custom&&(i.exports.prototype[o.inspect.custom]=function(){var a=o.inspect({length:this.length});return this.constructor.name+" "+a})},{"safe-buffer":520,util:188}],514:[function(r,i,s){var n=r("process-nextick-args");function o(a,u){a.emit("error",u)}i.exports={destroy:function(a,u){var l=this,c=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return c||h?(u?u(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(o,this,a)):n.nextTick(o,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(d){!u&&d?l._writableState?l._writableState.errorEmitted||(l._writableState.errorEmitted=!0,n.nextTick(o,l,d)):n.nextTick(o,l,d):u&&u(d)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(r,i,s){arguments[4][490][0].apply(s,arguments)},{dup:490,events:422}],516:[function(r,i,s){i.exports=r("./readable").PassThrough},{"./readable":517}],517:[function(r,i,s){(s=i.exports=r("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=r("./lib/_stream_writable.js"),s.Duplex=r("./lib/_stream_duplex.js"),s.Transform=r("./lib/_stream_transform.js"),s.PassThrough=r("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(r,i,s){i.exports=r("./readable").Transform},{"./readable":517}],519:[function(r,i,s){i.exports=r("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(r,i,s){arguments[4][217][0].apply(s,arguments)},{buffer:220,dup:217}],521:[function(r,i,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":520}],522:[function(r,i,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":494}],523:[function(r,i,s){(function(n,o){(function(){var a=r("process/browser.js").nextTick,u=Function.prototype.apply,l=Array.prototype.slice,c={},h=0;function d(p,g){this._id=p,this._clearFn=g}s.setTimeout=function(){return new d(u.call(setTimeout,window,arguments),clearTimeout)},s.setInterval=function(){return new d(u.call(setInterval,window,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(p){p.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(window,this._id)},s.enroll=function(p,g){clearTimeout(p._idleTimeoutId),p._idleTimeout=g},s.unenroll=function(p){clearTimeout(p._idleTimeoutId),p._idleTimeout=-1},s._unrefActive=s.active=function(p){clearTimeout(p._idleTimeoutId);var g=p._idleTimeout;g>=0&&(p._idleTimeoutId=setTimeout(function(){p._onTimeout&&p._onTimeout()},g))},s.setImmediate=typeof n=="function"?n:function(p){var g=h++,v=!(arguments.length<2)&&l.call(arguments,1);return c[g]=!0,a(function(){c[g]&&(v?p.apply(null,v):p.call(null),s.clearImmediate(g))}),g},s.clearImmediate=typeof o=="function"?o:function(p){delete c[p]}}).call(this)}).call(this,r("timers").setImmediate,r("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(r,i,s){(function(n){(function(){function o(a){try{if(!n.localStorage)return!1}catch{return!1}var u=n.localStorage[a];return u!=null&&String(u).toLowerCase()==="true"}i.exports=function(a,u){if(o("noDeprecation"))return a;var l=!1;return function(){if(!l){if(o("throwDeprecation"))throw new Error(u);o("traceDeprecation")?console.trace(u):console.warn(u),l=!0}return a.apply(this,arguments)}}}).call(this)}).call(this,typeof _t<"u"?_t:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(r,i,s){typeof Object.create=="function"?i.exports=function(n,o){n.super_=o,n.prototype=Object.create(o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}})}:i.exports=function(n,o){n.super_=o;var a=function(){};a.prototype=o.prototype,n.prototype=new a,n.prototype.constructor=n}},{}],526:[function(r,i,s){i.exports=function(n){return n&&typeof n=="object"&&typeof n.copy=="function"&&typeof n.fill=="function"&&typeof n.readUInt8=="function"}},{}],527:[function(r,i,s){(function(n,o){(function(){var a=/%[sdj%]/g;s.format=function(C){if(!_(C)){for(var S=[],b=0;b<arguments.length;b++)S.push(c(arguments[b]));return S.join(" ")}b=1;for(var E=arguments,R=E.length,I=String(C).replace(a,function(U){if(U==="%%")return"%";if(b>=R)return U;switch(U){case"%s":return String(E[b++]);case"%d":return Number(E[b++]);case"%j":try{return JSON.stringify(E[b++])}catch{return"[Circular]"}default:return U}}),k=E[b];b<R;k=E[++b])m(k)||!G(k)?I+=" "+k:I+=" "+c(k);return I},s.deprecate=function(C,S){if(A(o.process))return function(){return s.deprecate(C,S).apply(this,arguments)};if(n.noDeprecation===!0)return C;var b=!1;return function(){if(!b){if(n.throwDeprecation)throw new Error(S);n.traceDeprecation?console.trace(S):console.error(S),b=!0}return C.apply(this,arguments)}};var u,l={};function c(C,S){var b={seen:[],stylize:d};return arguments.length>=3&&(b.depth=arguments[2]),arguments.length>=4&&(b.colors=arguments[3]),y(S)?b.showHidden=S:S&&s._extend(b,S),A(b.showHidden)&&(b.showHidden=!1),A(b.depth)&&(b.depth=2),A(b.colors)&&(b.colors=!1),A(b.customInspect)&&(b.customInspect=!0),b.colors&&(b.stylize=h),p(b,C,b.depth)}function h(C,S){var b=c.styles[S];return b?"\x1B["+c.colors[b][0]+"m"+C+"\x1B["+c.colors[b][1]+"m":C}function d(C,S){return C}function p(C,S,b){if(C.customInspect&&S&&V(S.inspect)&&S.inspect!==s.inspect&&(!S.constructor||S.constructor.prototype!==S)){var E=S.inspect(b,C);return _(E)||(E=p(C,E,b)),E}var R=function(P,D){if(A(D))return P.stylize("undefined","undefined");if(_(D)){var W="'"+JSON.stringify(D).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return P.stylize(W,"string")}if(w(D))return P.stylize(""+D,"number");if(y(D))return P.stylize(""+D,"boolean");if(m(D))return P.stylize("null","null")}(C,S);if(R)return R;var I=Object.keys(S),k=function(P){var D={};return P.forEach(function(W,Y){D[W]=!0}),D}(I);if(C.showHidden&&(I=Object.getOwnPropertyNames(S)),O(S)&&(I.indexOf("message")>=0||I.indexOf("description")>=0))return g(S);if(I.length===0){if(V(S)){var U=S.name?": "+S.name:"";return C.stylize("[Function"+U+"]","special")}if(F(S))return C.stylize(RegExp.prototype.toString.call(S),"regexp");if(L(S))return C.stylize(Date.prototype.toString.call(S),"date");if(O(S))return g(S)}var j,X="",N=!1,K=["{","}"];return f(S)&&(N=!0,K=["[","]"]),V(S)&&(X=" [Function"+(S.name?": "+S.name:"")+"]"),F(S)&&(X=" "+RegExp.prototype.toString.call(S)),L(S)&&(X=" "+Date.prototype.toUTCString.call(S)),O(S)&&(X=" "+g(S)),I.length!==0||N&&S.length!=0?b<0?F(S)?C.stylize(RegExp.prototype.toString.call(S),"regexp"):C.stylize("[Object]","special"):(C.seen.push(S),j=N?function(P,D,W,Y,ee){for(var Q=[],J=0,ne=D.length;J<ne;++J)x(D,String(J))?Q.push(v(P,D,W,Y,String(J),!0)):Q.push("");return ee.forEach(function(oe){oe.match(/^\d+$/)||Q.push(v(P,D,W,Y,oe,!0))}),Q}(C,S,b,k,I):I.map(function(P){return v(C,S,b,k,P,N)}),C.seen.pop(),function(P,D,W){return P.reduce(function(Y,ee){return ee.indexOf(`
`)>=0,Y+ee.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?W[0]+(D===""?"":D+`
 `)+" "+P.join(`,
  `)+" "+W[1]:W[0]+D+" "+P.join(", ")+" "+W[1]}(j,X,K)):K[0]+X+K[1]}function g(C){return"["+Error.prototype.toString.call(C)+"]"}function v(C,S,b,E,R,I){var k,U,j;if((j=Object.getOwnPropertyDescriptor(S,R)||{value:S[R]}).get?U=j.set?C.stylize("[Getter/Setter]","special"):C.stylize("[Getter]","special"):j.set&&(U=C.stylize("[Setter]","special")),x(E,R)||(k="["+R+"]"),U||(C.seen.indexOf(j.value)<0?(U=m(b)?p(C,j.value,null):p(C,j.value,b-1)).indexOf(`
`)>-1&&(U=I?U.split(`
`).map(function(X){return"  "+X}).join(`
`).substr(2):`
`+U.split(`
`).map(function(X){return"   "+X}).join(`
`)):U=C.stylize("[Circular]","special")),A(k)){if(I&&R.match(/^\d+$/))return U;(k=JSON.stringify(""+R)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(k=k.substr(1,k.length-2),k=C.stylize(k,"name")):(k=k.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),k=C.stylize(k,"string"))}return k+": "+U}function f(C){return Array.isArray(C)}function y(C){return typeof C=="boolean"}function m(C){return C===null}function w(C){return typeof C=="number"}function _(C){return typeof C=="string"}function A(C){return C===void 0}function F(C){return G(C)&&z(C)==="[object RegExp]"}function G(C){return typeof C=="object"&&C!==null}function L(C){return G(C)&&z(C)==="[object Date]"}function O(C){return G(C)&&(z(C)==="[object Error]"||C instanceof Error)}function V(C){return typeof C=="function"}function z(C){return Object.prototype.toString.call(C)}function H(C){return C<10?"0"+C.toString(10):C.toString(10)}s.debuglog=function(C){if(A(u)&&(u=n.env.NODE_DEBUG||""),C=C.toUpperCase(),!l[C])if(new RegExp("\\b"+C+"\\b","i").test(u)){var S=n.pid;l[C]=function(){var b=s.format.apply(s,arguments);console.error("%s %d: %s",C,S,b)}}else l[C]=function(){};return l[C]},s.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},s.isArray=f,s.isBoolean=y,s.isNull=m,s.isNullOrUndefined=function(C){return C==null},s.isNumber=w,s.isString=_,s.isSymbol=function(C){return typeof C=="symbol"},s.isUndefined=A,s.isRegExp=F,s.isObject=G,s.isDate=L,s.isError=O,s.isFunction=V,s.isPrimitive=function(C){return C===null||typeof C=="boolean"||typeof C=="number"||typeof C=="string"||typeof C=="symbol"||C===void 0},s.isBuffer=r("./support/isBuffer");var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var C=new Date,S=[H(C.getHours()),H(C.getMinutes()),H(C.getSeconds())].join(":");return[C.getDate(),T[C.getMonth()],S].join(" ")}function x(C,S){return Object.prototype.hasOwnProperty.call(C,S)}s.log=function(){console.log("%s - %s",M(),s.format.apply(s,arguments))},s.inherits=r("inherits"),s._extend=function(C,S){if(!S||!G(S))return C;for(var b=Object.keys(S),E=b.length;E--;)C[b[E]]=S[b[E]];return C}}).call(this)}).call(this,r("_process"),typeof _t<"u"?_t:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(s,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(s,"v4",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(s,"v5",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(s,"NIL",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(s,"version",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(s,"validate",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(s,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return p.default}});var n=g(r("./v1.js")),o=g(r("./v3.js")),a=g(r("./v4.js")),u=g(r("./v5.js")),l=g(r("./nil.js")),c=g(r("./version.js")),h=g(r("./validate.js")),d=g(r("./stringify.js")),p=g(r("./parse.js"));function g(v){return v&&v.__esModule?v:{default:v}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(r,i,s){function n(p){return 14+(p+64>>>9<<4)+1}function o(p,g){const v=(65535&p)+(65535&g);return(p>>16)+(g>>16)+(v>>16)<<16|65535&v}function a(p,g,v,f,y,m){return o((w=o(o(g,p),o(f,m)))<<(_=y)|w>>>32-_,v);var w,_}function u(p,g,v,f,y,m,w){return a(g&v|~g&f,p,g,y,m,w)}function l(p,g,v,f,y,m,w){return a(g&f|v&~f,p,g,y,m,w)}function c(p,g,v,f,y,m,w){return a(g^v^f,p,g,y,m,w)}function h(p,g,v,f,y,m,w){return a(v^(g|~f),p,g,y,m,w)}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var d=function(p){if(typeof p=="string"){const g=unescape(encodeURIComponent(p));p=new Uint8Array(g.length);for(let v=0;v<g.length;++v)p[v]=g.charCodeAt(v)}return function(g){const v=[],f=32*g.length;for(let y=0;y<f;y+=8){const m=g[y>>5]>>>y%32&255,w=parseInt("0123456789abcdef".charAt(m>>>4&15)+"0123456789abcdef".charAt(15&m),16);v.push(w)}return v}(function(g,v){g[v>>5]|=128<<v%32,g[n(v)-1]=v;let f=1732584193,y=-271733879,m=-1732584194,w=271733878;for(let _=0;_<g.length;_+=16){const A=f,F=y,G=m,L=w;f=u(f,y,m,w,g[_],7,-680876936),w=u(w,f,y,m,g[_+1],12,-389564586),m=u(m,w,f,y,g[_+2],17,606105819),y=u(y,m,w,f,g[_+3],22,-1044525330),f=u(f,y,m,w,g[_+4],7,-176418897),w=u(w,f,y,m,g[_+5],12,1200080426),m=u(m,w,f,y,g[_+6],17,-1473231341),y=u(y,m,w,f,g[_+7],22,-45705983),f=u(f,y,m,w,g[_+8],7,1770035416),w=u(w,f,y,m,g[_+9],12,-1958414417),m=u(m,w,f,y,g[_+10],17,-42063),y=u(y,m,w,f,g[_+11],22,-1990404162),f=u(f,y,m,w,g[_+12],7,1804603682),w=u(w,f,y,m,g[_+13],12,-40341101),m=u(m,w,f,y,g[_+14],17,-1502002290),y=u(y,m,w,f,g[_+15],22,1236535329),f=l(f,y,m,w,g[_+1],5,-165796510),w=l(w,f,y,m,g[_+6],9,-1069501632),m=l(m,w,f,y,g[_+11],14,643717713),y=l(y,m,w,f,g[_],20,-373897302),f=l(f,y,m,w,g[_+5],5,-701558691),w=l(w,f,y,m,g[_+10],9,38016083),m=l(m,w,f,y,g[_+15],14,-660478335),y=l(y,m,w,f,g[_+4],20,-405537848),f=l(f,y,m,w,g[_+9],5,568446438),w=l(w,f,y,m,g[_+14],9,-1019803690),m=l(m,w,f,y,g[_+3],14,-187363961),y=l(y,m,w,f,g[_+8],20,1163531501),f=l(f,y,m,w,g[_+13],5,-1444681467),w=l(w,f,y,m,g[_+2],9,-51403784),m=l(m,w,f,y,g[_+7],14,1735328473),y=l(y,m,w,f,g[_+12],20,-1926607734),f=c(f,y,m,w,g[_+5],4,-378558),w=c(w,f,y,m,g[_+8],11,-2022574463),m=c(m,w,f,y,g[_+11],16,1839030562),y=c(y,m,w,f,g[_+14],23,-35309556),f=c(f,y,m,w,g[_+1],4,-1530992060),w=c(w,f,y,m,g[_+4],11,1272893353),m=c(m,w,f,y,g[_+7],16,-155497632),y=c(y,m,w,f,g[_+10],23,-1094730640),f=c(f,y,m,w,g[_+13],4,681279174),w=c(w,f,y,m,g[_],11,-358537222),m=c(m,w,f,y,g[_+3],16,-722521979),y=c(y,m,w,f,g[_+6],23,76029189),f=c(f,y,m,w,g[_+9],4,-640364487),w=c(w,f,y,m,g[_+12],11,-421815835),m=c(m,w,f,y,g[_+15],16,530742520),y=c(y,m,w,f,g[_+2],23,-995338651),f=h(f,y,m,w,g[_],6,-198630844),w=h(w,f,y,m,g[_+7],10,1126891415),m=h(m,w,f,y,g[_+14],15,-1416354905),y=h(y,m,w,f,g[_+5],21,-57434055),f=h(f,y,m,w,g[_+12],6,1700485571),w=h(w,f,y,m,g[_+3],10,-1894986606),m=h(m,w,f,y,g[_+10],15,-1051523),y=h(y,m,w,f,g[_+1],21,-2054922799),f=h(f,y,m,w,g[_+8],6,1873313359),w=h(w,f,y,m,g[_+15],10,-30611744),m=h(m,w,f,y,g[_+6],15,-1560198380),y=h(y,m,w,f,g[_+13],21,1309151649),f=h(f,y,m,w,g[_+4],6,-145523070),w=h(w,f,y,m,g[_+11],10,-1120210379),m=h(m,w,f,y,g[_+2],15,718787259),y=h(y,m,w,f,g[_+9],21,-343485551),f=o(f,A),y=o(y,F),m=o(m,G),w=o(w,L)}return[f,y,m,w]}(function(g){if(g.length===0)return[];const v=8*g.length,f=new Uint32Array(n(v));for(let y=0;y<v;y+=8)f[y>>5]|=(255&g[y/8])<<y%32;return f}(p),8*p.length))};s.default=d},{}],530:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,o=(n=r("./validate.js"))&&n.__esModule?n:{default:n},a=function(u){if(!(0,o.default)(u))throw TypeError("Invalid UUID");let l;const c=new Uint8Array(16);return c[0]=(l=parseInt(u.slice(0,8),16))>>>24,c[1]=l>>>16&255,c[2]=l>>>8&255,c[3]=255&l,c[4]=(l=parseInt(u.slice(9,13),16))>>>8,c[5]=255&l,c[6]=(l=parseInt(u.slice(14,18),16))>>>8,c[7]=255&l,c[8]=(l=parseInt(u.slice(19,23),16))>>>8,c[9]=255&l,c[10]=(l=parseInt(u.slice(24,36),16))/1099511627776&255,c[11]=l/4294967296&255,c[12]=l>>>24&255,c[13]=l>>>16&255,c[14]=l>>>8&255,c[15]=255&l,c};s.default=a},{"./validate.js":541}],532:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(r,i,s){let n;Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(){if(!n&&(n=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)};const o=new Uint8Array(16)},{}],534:[function(r,i,s){function n(u,l,c,h){switch(u){case 0:return l&c^~l&h;case 1:return l^c^h;case 2:return l&c^l&h^c&h;case 3:return l^c^h}}function o(u,l){return u<<l|u>>>32-l}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=function(u){const l=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof u=="string"){const g=unescape(encodeURIComponent(u));u=[];for(let v=0;v<g.length;++v)u.push(g.charCodeAt(v))}else Array.isArray(u)||(u=Array.prototype.slice.call(u));u.push(128);const h=u.length/4+2,d=Math.ceil(h/16),p=new Array(d);for(let g=0;g<d;++g){const v=new Uint32Array(16);for(let f=0;f<16;++f)v[f]=u[64*g+4*f]<<24|u[64*g+4*f+1]<<16|u[64*g+4*f+2]<<8|u[64*g+4*f+3];p[g]=v}p[d-1][14]=8*(u.length-1)/Math.pow(2,32),p[d-1][14]=Math.floor(p[d-1][14]),p[d-1][15]=8*(u.length-1)&4294967295;for(let g=0;g<d;++g){const v=new Uint32Array(80);for(let A=0;A<16;++A)v[A]=p[g][A];for(let A=16;A<80;++A)v[A]=o(v[A-3]^v[A-8]^v[A-14]^v[A-16],1);let f=c[0],y=c[1],m=c[2],w=c[3],_=c[4];for(let A=0;A<80;++A){const F=Math.floor(A/20),G=o(f,5)+n(F,y,m,w)+_+l[F]+v[A]>>>0;_=w,w=m,m=o(y,30)>>>0,y=f,f=G}c[0]=c[0]+f>>>0,c[1]=c[1]+y>>>0,c[2]=c[2]+m>>>0,c[3]=c[3]+w>>>0,c[4]=c[4]+_>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,255&c[0],c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,255&c[1],c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,255&c[2],c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,255&c[3],c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,255&c[4]]};s.default=a},{}],535:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,o=(n=r("./validate.js"))&&n.__esModule?n:{default:n};const a=[];for(let l=0;l<256;++l)a.push((l+256).toString(16).substr(1));var u=function(l){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const h=(a[l[c+0]]+a[l[c+1]]+a[l[c+2]]+a[l[c+3]]+"-"+a[l[c+4]]+a[l[c+5]]+"-"+a[l[c+6]]+a[l[c+7]]+"-"+a[l[c+8]]+a[l[c+9]]+"-"+a[l[c+10]]+a[l[c+11]]+a[l[c+12]]+a[l[c+13]]+a[l[c+14]]+a[l[c+15]]).toLowerCase();if(!(0,o.default)(h))throw TypeError("Stringified UUID is invalid");return h};s.default=u},{"./validate.js":541}],536:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=a(r("./rng.js")),o=a(r("./stringify.js"));function a(p){return p&&p.__esModule?p:{default:p}}let u,l,c=0,h=0;var d=function(p,g,v){let f=g&&v||0;const y=g||new Array(16);let m=(p=p||{}).node||u,w=p.clockseq!==void 0?p.clockseq:l;if(m==null||w==null){const O=p.random||(p.rng||n.default)();m==null&&(m=u=[1|O[0],O[1],O[2],O[3],O[4],O[5]]),w==null&&(w=l=16383&(O[6]<<8|O[7]))}let _=p.msecs!==void 0?p.msecs:Date.now(),A=p.nsecs!==void 0?p.nsecs:h+1;const F=_-c+(A-h)/1e4;if(F<0&&p.clockseq===void 0&&(w=w+1&16383),(F<0||_>c)&&p.nsecs===void 0&&(A=0),A>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=_,h=A,l=w,_+=122192928e5;const G=(1e4*(268435455&_)+A)%4294967296;y[f++]=G>>>24&255,y[f++]=G>>>16&255,y[f++]=G>>>8&255,y[f++]=255&G;const L=_/4294967296*1e4&268435455;y[f++]=L>>>8&255,y[f++]=255&L,y[f++]=L>>>24&15|16,y[f++]=L>>>16&255,y[f++]=w>>>8|128,y[f++]=255&w;for(let O=0;O<6;++O)y[f+O]=m[O];return g||(0,o.default)(y)};s.default=d},{"./rng.js":533,"./stringify.js":535}],537:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=a(r("./v35.js")),o=a(r("./md5.js"));function a(l){return l&&l.__esModule?l:{default:l}}var u=(0,n.default)("v3",48,o.default);s.default=u},{"./md5.js":529,"./v35.js":538}],538:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(c,h,d){function p(g,v,f,y){if(typeof g=="string"&&(g=function(w){w=unescape(encodeURIComponent(w));const _=[];for(let A=0;A<w.length;++A)_.push(w.charCodeAt(A));return _}(g)),typeof v=="string"&&(v=(0,o.default)(v)),v.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let m=new Uint8Array(16+g.length);if(m.set(v),m.set(g,v.length),m=d(m),m[6]=15&m[6]|h,m[8]=63&m[8]|128,f){y=y||0;for(let w=0;w<16;++w)f[y+w]=m[w];return f}return(0,n.default)(m)}try{p.name=c}catch{}return p.DNS=u,p.URL=l,p},s.URL=s.DNS=void 0;var n=a(r("./stringify.js")),o=a(r("./parse.js"));function a(c){return c&&c.__esModule?c:{default:c}}const u="6ba7b810-9dad-11d1-80b4-00c04fd430c8";s.DNS=u;const l="6ba7b811-9dad-11d1-80b4-00c04fd430c8";s.URL=l},{"./parse.js":531,"./stringify.js":535}],539:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=a(r("./rng.js")),o=a(r("./stringify.js"));function a(l){return l&&l.__esModule?l:{default:l}}var u=function(l,c,h){const d=(l=l||{}).random||(l.rng||n.default)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,c){h=h||0;for(let p=0;p<16;++p)c[h+p]=d[p];return c}return(0,o.default)(d)};s.default=u},{"./rng.js":533,"./stringify.js":535}],540:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n=a(r("./v35.js")),o=a(r("./sha1.js"));function a(l){return l&&l.__esModule?l:{default:l}}var u=(0,n.default)("v5",80,o.default);s.default=u},{"./sha1.js":534,"./v35.js":538}],541:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,o=(n=r("./regex.js"))&&n.__esModule?n:{default:n},a=function(u){return typeof u=="string"&&o.default.test(u)};s.default=a},{"./regex.js":532}],542:[function(r,i,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n,o=(n=r("./validate.js"))&&n.__esModule?n:{default:n},a=function(u){if(!(0,o.default)(u))throw TypeError("Invalid UUID");return parseInt(u.substr(14,1),16)};s.default=a},{"./validate.js":541}],543:[function(r,i,s){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR=`	
\r ---`,s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function n(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(o){return o>=32&&o<=55295||o===10||o===13||o===9||o>=57344&&o<=65533||o>=65536&&o<=1114111},s.isS=function(o){return o===32||o===10||o===13||o===9},s.isNameStartChar=n,s.isNameChar=function(o){return n(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],544:[function(r,i,s){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR="---",s.RESTRICTED_CHAR="-\b\v\f---",s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.RESTRICTED_CHAR_RE=new RegExp("^["+s.RESTRICTED_CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function n(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(o){return o>=1&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},s.isRestrictedChar=function(o){return o>=1&&o<=8||o===11||o===12||o>=14&&o<=31||o>=127&&o<=132||o>=134&&o<=159},s.isCharAndNotRestricted=function(o){return o===9||o===10||o===13||o>31&&o<127||o===133||o>159&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},s.isS=function(o){return o===32||o===10||o===13||o===9},s.isNameStartChar=n,s.isNameChar=function(o){return n(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],545:[function(r,i,s){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function n(o){return o>=65&&o<=90||o===95||o>=97&&o<=122||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}Object.defineProperty(s,"__esModule",{value:!0}),s.NC_NAME_START_CHAR="A-Z_a-z------------",s.NC_NAME_CHAR="-"+s.NC_NAME_START_CHAR+".0-9--",s.NC_NAME_START_CHAR_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]$","u"),s.NC_NAME_CHAR_RE=new RegExp("^["+s.NC_NAME_CHAR+"]$","u"),s.NC_NAME_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]["+s.NC_NAME_CHAR+"]*$","u"),s.isNCNameStartChar=n,s.isNCNameChar=function(o){return n(o)||o===45||o===46||o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}]},{},[15])(15)})})(A1);var BR=A1.exports;const HR=Em(BR);var yv=Object.defineProperty,WR=Object.defineProperties,zR=Object.getOwnPropertyDescriptor,UR=Object.getOwnPropertyDescriptors,dh=Object.getOwnPropertySymbols,D1=Object.prototype.hasOwnProperty,M1=Object.prototype.propertyIsEnumerable,eC=(e,t,r)=>t in e?yv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Be=(e,t)=>{for(var r in t||(t={}))D1.call(t,r)&&eC(e,r,t[r]);if(dh)for(var r of dh(t))M1.call(t,r)&&eC(e,r,t[r]);return e},er=(e,t)=>WR(e,UR(t)),jR=(e,t)=>{var r={};for(var i in e)D1.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&dh)for(var i of dh(e))t.indexOf(i)<0&&M1.call(e,i)&&(r[i]=e[i]);return r},Or=(e,t)=>{for(var r in t)yv(e,r,{get:t[r],enumerable:!0})},B=(e,t,r,i)=>{for(var s=i>1?void 0:i?zR(t,r):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(s=(i?o(t,r,s):o(s))||s);return i&&s&&yv(t,r,s),s},ys=(e,t)=>(r,i)=>t(r,i,e),P1={};Or(P1,{attrToBoolean:()=>hh,attrToNumber:()=>Hn,attrToString:()=>$R,defaultComparator:()=>KR,exists:()=>ve,jsonEquals:()=>Vg,makeNull:()=>Vs,missing:()=>tt,missingOrEmpty:()=>Zi,toStringOrNull:()=>Iu,values:()=>Do});function Vs(e){return e==null||e===""?null:e}function ve(e,t=!1){return e!=null&&(e!==""||t)}function tt(e){return!ve(e)}function Zi(e){return e==null||e.length===0}function Iu(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function Hn(e){if(e===void 0)return;if(e===null||e==="")return null;if(typeof e=="number")return isNaN(e)?void 0:e;const t=parseInt(e,10);return isNaN(t)?void 0:t}function hh(e){if(e!==void 0)return e===null||e===""?!1:typeof e=="boolean"?e:/true/i.test(e)}function $R(e){if(!(e==null||e===""))return e}function Vg(e,t){const r=e?JSON.stringify(e):null,i=t?JSON.stringify(t):null;return r===i}function KR(e,t,r=!1){const i=e==null,s=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&s)return 0;if(i)return-1;if(s)return 1;function n(o,a){return o>a?1:o<a?-1:0}if(typeof e!="string"||!r)return n(e,t);try{return e.localeCompare(t)}catch{return n(e,t)}}function Do(e){if(e instanceof Set||e instanceof Map){const t=[];return e.forEach(r=>t.push(r)),t}return Object.values(e)}var qR=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=Iu(e);let r=0;for(;;){let i;if(e?(i=e,r!==0&&(i+="_"+r)):t?(i=t,r!==0&&(i+="_"+r)):i=r,!this.existingKeys[i])return this.existingKeys[i]=!0,String(i);r++}}},F1={};Or(F1,{cloneObject:()=>Cv,deepCloneDefinition:()=>ph,getAllValuesInObject:()=>Un,getValueUsingField:()=>Wa,isNonNullObject:()=>fh,iterateObject:()=>qr,mergeDeep:()=>bi,removeAllReferences:()=>I1});function qr(e,t){if(e!=null){if(Array.isArray(e)){for(let r=0;r<e.length;r++)t(r.toString(),e[r]);return}for(const[r,i]of Object.entries(e))t(r,i)}}function Cv(e){const t={},r=Object.keys(e);for(let i=0;i<r.length;i++){const s=r[i],n=e[s];t[s]=n}return t}function ph(e,t){if(!e)return;const r=e,i={};return Object.keys(r).forEach(s=>{if(t&&t.indexOf(s)>=0)return;const n=r[s];fh(n)&&n.constructor===Object?i[s]=ph(n):i[s]=n}),i}function Un(e){if(!e)return[];const t=Object;if(typeof t.values=="function")return t.values(e);const r=[];for(const i in e)e.hasOwnProperty(i)&&e.propertyIsEnumerable(i)&&r.push(e[i]);return r}function bi(e,t,r=!0,i=!1){ve(t)&&qr(t,(s,n)=>{let o=e[s];o!==n&&(i&&o==null&&n!=null&&typeof n=="object"&&n.constructor===Object&&(o={},e[s]=o),fh(n)&&fh(o)&&!Array.isArray(o)?bi(o,n,r,i):(r||n!==void 0)&&(e[s]=n))})}function Wa(e,t,r){if(!t||!e)return;if(!r)return e[t];const i=t.split(".");let s=e;for(let n=0;n<i.length;n++){if(s==null)return;s=s[i[n]]}return s}function I1(e,t=[],r){Object.keys(e).forEach(o=>{typeof e[o]=="object"&&!t.includes(o)&&(e[o]=void 0)});const i=Object.getPrototypeOf(e),s={},n=o=>`AG Grid: Grid API function ${o}() cannot be called as the grid has been destroyed.
    It is recommended to remove local references to the grid api. Alternatively, check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
    To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${r}`;Object.getOwnPropertyNames(i).forEach(o=>{if(typeof i[o]=="function"&&!t.includes(o)){const u=()=>{console.warn(n(o))};s[o]={value:u,writable:!0}}}),Object.defineProperties(e,s)}function fh(e){return typeof e=="object"&&e!==null}var k1={};Or(k1,{compose:()=>YR,debounce:()=>ri,doOnce:()=>Za,errorOnce:()=>Eo,executeAfter:()=>N1,executeInAWhile:()=>L1,executeNextVMTurn:()=>Bg,getFunctionName:()=>np,isFunction:()=>op,noop:()=>XR,throttle:()=>Hg,waitUntil:()=>wv,warnOnce:()=>We});var tC={};function Za(e,t){tC[t]||(e(),tC[t]=!0)}function We(e){Za(()=>console.warn("AG Grid: "+e),e)}function Eo(e){Za(()=>console.error("AG Grid: "+e),e)}function np(e){if(e.name)return e.name;const t=/function\s+([^\(]+)/.exec(e.toString());return t&&t.length===2?t[1].trim():null}function op(e){return!!(e&&e.constructor&&e.call&&e.apply)}function L1(e){N1(e,400)}var yf=[],Cf=!1;function Bg(e){yf.push(e),!Cf&&(Cf=!0,window.setTimeout(()=>{const t=yf.slice();yf.length=0,Cf=!1,t.forEach(r=>r())},0))}function N1(e,t=0){e.length>0&&window.setTimeout(()=>e.forEach(r=>r()),t)}function ri(e,t){let r;return function(...i){const s=this;window.clearTimeout(r),r=window.setTimeout(function(){e.apply(s,i)},t)}}function Hg(e,t){let r=0;return function(...i){const s=this,n=new Date().getTime();n-r<t||(r=n,e.apply(s,i))}}function wv(e,t,r=100,i){const s=new Date().getTime();let n=null,o=!1;const a=()=>{const u=new Date().getTime()-s>r;(e()||u)&&(t(),o=!0,n!=null&&(window.clearInterval(n),n=null),u&&i&&console.warn(i))};a(),o||(n=window.setInterval(a,10))}function YR(...e){return t=>e.reduce((r,i)=>i(r),t)}var XR=()=>{},O1=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(O1||{}),ap=class Ot{static register(t){Ot.__register(t,!0,void 0)}static registerModules(t){Ot.__registerModules(t,!0,void 0)}static __register(t,r,i){Ot.runVersionChecks(t),i!==void 0?(Ot.areGridScopedModules=!0,Ot.gridModulesMap[i]===void 0&&(Ot.gridModulesMap[i]={}),Ot.gridModulesMap[i][t.moduleName]=t):Ot.globalModulesMap[t.moduleName]=t,Ot.setModuleBased(r)}static __unRegisterGridModules(t){delete Ot.gridModulesMap[t]}static __registerModules(t,r,i){Ot.setModuleBased(r),t&&t.forEach(s=>Ot.__register(s,r,i))}static isValidModuleVersion(t){const[r,i]=t.version.split(".")||[],[s,n]=Ot.currentModuleVersion.split(".")||[];return r===s&&i===n}static runVersionChecks(t){if(Ot.currentModuleVersion||(Ot.currentModuleVersion=t.version),t.version?Ot.isValidModuleVersion(t)||console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${t.moduleName}' is version ${t.version} but the other modules are version ${this.currentModuleVersion}. Please update all modules to the same version.`):console.error(`AG Grid: You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. '${t.moduleName}' is incompatible. Please update all modules to the same version.`),t.validate){const r=t.validate();r.isValid||console.error(`AG Grid: ${r.message}`)}}static setModuleBased(t){Ot.moduleBased===void 0?Ot.moduleBased=t:Ot.moduleBased!==t&&Za(()=>{console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information.")},"ModulePackageCheck")}static __setIsBundled(){Ot.isBundled=!0}static __assertRegistered(t,r,i){var s;if(this.__isRegistered(t,i))return!0;const n=r+t;let o;if(Ot.isBundled)o=`AG Grid: unable to use ${r} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(Ot.moduleBased||Ot.moduleBased===void 0){let a=(s=Object.entries(O1).find(([u,l])=>l===t))==null?void 0:s[0];o=`AG Grid: unable to use ${r} as the ${a} is not registered${Ot.areGridScopedModules?` for gridId: ${i}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${a} } from '${t}';
    
    ModuleRegistry.registerModules([ ${a} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else o=`AG Grid: unable to use ${r} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';`;return Za(()=>{console.warn(o)},n),!1}static __isRegistered(t,r){var i;return!!Ot.globalModulesMap[t]||!!((i=Ot.gridModulesMap[r])!=null&&i[t])}static __getRegisteredModules(t){return[...Do(Ot.globalModulesMap),...Do(Ot.gridModulesMap[t]||{})]}static __getGridRegisteredModules(t){var r;return Do((r=Ot.gridModulesMap[t])!=null?r:{})||[]}static __isPackageBased(){return!Ot.moduleBased}};ap.globalModulesMap={};ap.gridModulesMap={};ap.areGridScopedModules=!1;var Pt=ap,QR=class{constructor(e,t){if(this.beanWrappers={},this.destroyed=!1,!e||!e.beanClasses)return;this.contextParams=e,this.logger=t,this.logger.log(">> creating ag-Application Context"),this.createBeans();const r=this.getBeanInstances();this.wireBeans(r),this.logger.log(">> ag-Application Context ready - component is alive")}getBeanInstances(){return Do(this.beanWrappers).map(e=>e.beanInstance)}createBean(e,t){if(!e)throw Error("Can't wire to bean since it is null");return this.wireBeans([e],t),e}wireBeans(e,t){this.autoWireBeans(e),this.methodWireBeans(e),this.callLifeCycleMethods(e,"preConstructMethods"),ve(t)&&e.forEach(t),this.callLifeCycleMethods(e,"postConstructMethods")}createBeans(){this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),qr(this.beanWrappers,(t,r)=>{let i;r.bean.__agBeanMetaData&&r.bean.__agBeanMetaData.autowireMethods&&r.bean.__agBeanMetaData.autowireMethods.agConstructor&&(i=r.bean.__agBeanMetaData.autowireMethods.agConstructor);const s=this.getBeansForParameters(i,r.bean.name),n=new(r.bean.bind.apply(r.bean,[null,...s]));r.beanInstance=n});const e=Object.keys(this.beanWrappers).join(", ");this.logger.log(`created beans: ${e}`)}createBeanWrapper(e){const t=e.__agBeanMetaData;if(!t){let i;e.prototype.constructor?i=np(e.prototype.constructor):i=""+e,console.error(`Context item ${i} is not a bean`);return}const r={bean:e,beanInstance:null,beanName:t.beanName};this.beanWrappers[t.beanName]=r}autoWireBeans(e){e.forEach(t=>{this.forEachMetaDataInHierarchy(t,(r,i)=>{const s=r.agClassAttributes;s&&s.forEach(n=>{const o=this.lookupBeanInstance(i,n.beanName,n.optional);t[n.attributeName]=o})})})}methodWireBeans(e){e.forEach(t=>{this.forEachMetaDataInHierarchy(t,(r,i)=>{qr(r.autowireMethods,(s,n)=>{if(s==="agConstructor")return;const o=this.getBeansForParameters(n,i);t[s].apply(t,o)})})})}forEachMetaDataInHierarchy(e,t){let r=Object.getPrototypeOf(e);for(;r!=null;){const i=r.constructor;if(i.hasOwnProperty("__agBeanMetaData")){const s=i.__agBeanMetaData,n=this.getBeanName(i);t(s,n)}r=Object.getPrototypeOf(r)}}getBeanName(e){if(e.__agBeanMetaData&&e.__agBeanMetaData.beanName)return e.__agBeanMetaData.beanName;const t=e.toString();return t.substring(9,t.indexOf("("))}getBeansForParameters(e,t){const r=[];return e&&qr(e,(i,s)=>{const n=this.lookupBeanInstance(t,s);r[Number(i)]=n}),r}lookupBeanInstance(e,t,r=!1){if(this.destroyed)return this.logger.log(`AG Grid: bean reference ${t} is used after the grid is destroyed!`),null;if(t==="context")return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(t))return this.contextParams.providedBeanInstances[t];const i=this.beanWrappers[t];return i?i.beanInstance:(r||console.error(`AG Grid: unable to find bean reference ${t} while initialising ${e}`),null)}callLifeCycleMethods(e,t){e.forEach(r=>this.callLifeCycleMethodsOnBean(r,t))}callLifeCycleMethodsOnBean(e,t,r){const i={};this.forEachMetaDataInHierarchy(e,n=>{const o=n[t];o&&o.forEach(a=>{a!=r&&(i[a]=!0)})}),Object.keys(i).forEach(n=>e[n]())}getBean(e){return this.lookupBeanInstance("getBean",e,!0)}destroy(){if(this.destroyed)return;this.destroyed=!0,this.logger.log(">> Shutting down ag-Application Context");const e=this.getBeanInstances();this.destroyBeans(e),this.contextParams.providedBeanInstances=null,Pt.__unRegisterGridModules(this.contextParams.gridId),this.logger.log(">> ag-Application Context shut down - component is dead")}destroyBean(e){e&&this.destroyBeans([e])}destroyBeans(e){return e?(e.forEach(t=>{this.callLifeCycleMethodsOnBean(t,"preDestroyMethods","destroy");const r=t;typeof r.destroy=="function"&&r.destroy()}),[]):[]}isDestroyed(){return this.destroyed}getGridId(){return this.contextParams.gridId}};function G1(e,t,r){const i=Ho(e.constructor);i.preConstructMethods||(i.preConstructMethods=[]),i.preConstructMethods.push(t)}function we(e,t,r){const i=Ho(e.constructor);i.postConstructMethods||(i.postConstructMethods=[]),i.postConstructMethods.push(t)}function ui(e,t,r){const i=Ho(e.constructor);i.preDestroyMethods||(i.preDestroyMethods=[]),i.preDestroyMethods.push(t)}function ke(e){return t=>{const r=Ho(t);r.beanName=e}}function q(e){return(t,r,i)=>{V1(t,e,!1,t,r)}}function Lt(e){return(t,r,i)=>{V1(t,e,!0,t,r)}}function V1(e,t,r,i,s,n){if(t===null){console.error("AG Grid: Autowired name should not be null");return}const o=Ho(e.constructor);o.agClassAttributes||(o.agClassAttributes=[]),o.agClassAttributes.push({attributeName:s,beanName:t,optional:r})}function es(e){return(t,r,i)=>{const s=typeof t=="function"?t:t.constructor;let n;if(typeof i=="number"){let o;r?(n=Ho(s),o=r):(n=Ho(s),o="agConstructor"),n.autowireMethods||(n.autowireMethods={}),n.autowireMethods[o]||(n.autowireMethods[o]={}),n.autowireMethods[o][i]=e}}}function Ho(e){return e.hasOwnProperty("__agBeanMetaData")||(e.__agBeanMetaData={}),e.__agBeanMetaData}var _s=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setBeans(e,t,r=null,i=null){if(this.frameworkOverrides=t,this.gos=e,r){const s=e.useAsyncEvents();this.addGlobalListener(r,s)}i&&this.addGlobalListener(i,!1)}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,r){const i=t?this.allAsyncListeners:this.allSyncListeners;let s=i.get(e);return!s&&r&&(s=new Set,i.set(e,s)),s}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,r=!1){this.getListeners(e,r,!0).add(t)}removeEventListener(e,t,r=!1){const i=this.getListeners(e,r,!1);i&&(i.delete(t),i.size===0&&(r?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){let t=e;this.gos&&this.gos.addGridCommonParams(t),this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){var r;const i=e.type;if(t&&"event"in e){const u=e.event;u instanceof Event&&(e.eventPath=u.composedPath())}const s=(u,l)=>u.forEach(c=>{if(!l.has(c))return;const h=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>c(e)):()=>c(e);t?this.dispatchAsync(h):h()}),n=(r=this.getListeners(i,t,!1))!=null?r:new Set,o=new Set(n);o.size>0&&s(o,n),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(u=>{const l=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>u(i,e)):()=>u(i,e);t?this.dispatchAsync(l):l()})}dispatchAsync(e){this.asyncFunctionsQueue.push(e),this.scheduled||(this.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)}),this.scheduled=!0)}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};B([ys(0,es("gridOptionsService")),ys(1,es("frameworkOverrides")),ys(2,es("globalEventListener")),ys(3,es("globalSyncEventListener"))],_s.prototype,"setBeans",1);_s=B([ke("eventService")],_s);var bv=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=r=>{this.frameworkOverrides.wrapOutgoing(()=>e(r))},this.wrappedListeners.set(e,t)),t}wrapGlobal(e){let t=e;return this.frameworkOverrides.shouldWrapOutgoing&&(t=(r,i)=>{this.frameworkOverrides.wrapOutgoing(()=>e(r,i))},this.wrappedGlobalListeners.set(e,t)),t}unwrap(e){var t;return(t=this.wrappedListeners.get(e))!=null?t:e}unwrapGlobal(e){var t;return(t=this.wrappedGlobalListeners.get(e))!=null?t:e}},ZR={resizable:!0,sortable:!0},JR=0;function B1(){return JR++}var br=class H1{constructor(t,r,i,s){this.instanceId=B1(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.eventService=new _s,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=t,this.userProvidedColDef=r,this.colId=i,this.primary=s,this.setState(t)}getInstanceId(){return this.instanceId}setState(t){t.sort!==void 0?(t.sort==="asc"||t.sort==="desc")&&(this.sort=t.sort):(t.initialSort==="asc"||t.initialSort==="desc")&&(this.sort=t.initialSort);const r=t.sortIndex,i=t.initialSortIndex;r!==void 0?r!==null&&(this.sortIndex=r):i!==null&&(this.sortIndex=i);const s=t.hide,n=t.initialHide;s!==void 0?this.visible=!s:this.visible=!n,t.pinned!==void 0?this.setPinned(t.pinned):this.setPinned(t.initialPinned);const o=t.flex,a=t.initialFlex;o!==void 0?this.flex=o:a!==void 0&&(this.flex=a)}setColDef(t,r,i){this.colDef=t,this.userProvidedColDef=r,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.eventService.dispatchEvent(this.createColumnEvent("colDefChanged",i))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(t){this.parent=t}getParent(){return this.parent}setOriginalParent(t){this.originalParent=t}getOriginalParent(){return this.originalParent}initialise(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const t=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=ve(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!t,this.tooltipFieldContainsDots=ve(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!t}initMinAndMaxWidths(){var t,r;const i=this.colDef;this.minWidth=(t=i.minWidth)!=null?t:this.environment.getMinColWidth(),this.maxWidth=(r=i.maxWidth)!=null?r:Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=ve(this.colDef.tooltipField)||ve(this.colDef.tooltipValueGetter)||ve(this.colDef.tooltipComponent)}resetActualWidth(t){const r=this.calculateColInitialWidth(this.colDef);this.setActualWidth(r,t,!0)}calculateColInitialWidth(t){var r,i;const s=(r=t.minWidth)!=null?r:this.environment.getMinColWidth(),n=(i=t.maxWidth)!=null?i:Number.MAX_SAFE_INTEGER;let o;const a=Hn(t.width),u=Hn(t.initialWidth);return a!=null?o=a:u!=null?o=u:o=200,Math.max(Math.min(o,n),s)}isEmptyGroup(){return!1}isRowGroupDisplayed(t){if(tt(this.colDef)||tt(this.colDef.showRowGroup))return!1;const r=this.colDef.showRowGroup===!0,i=this.colDef.showRowGroup===t;return r||i}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}addEventListener(t,r){var i,s;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new bv(this.frameworkOverrides));const n=(s=(i=this.frameworkEventListenerService)==null?void 0:i.wrap(r))!=null?s:r;this.eventService.addEventListener(t,n)}removeEventListener(t,r){var i,s;const n=(s=(i=this.frameworkEventListenerService)==null?void 0:i.unwrap(r))!=null?s:r;this.eventService.removeEventListener(t,n)}createColumnFunctionCallbackParams(t){return this.gos.addGridCommonParams({node:t,data:t.data,column:this,colDef:this.colDef})}isSuppressNavigable(t){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const r=this.createColumnFunctionCallbackParams(t),i=this.colDef.suppressNavigable;return i(r)}return!1}isCellEditable(t){return t.group&&!this.gos.get("enableGroupEdit")?!1:this.isColumnFunc(t,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(t){return this.isColumnFunc(t,this.colDef.rowDrag)}isDndSource(t){return this.isColumnFunc(t,this.colDef.dndSource)}isCellCheckboxSelection(t){return this.isColumnFunc(t,this.colDef.checkboxSelection)}isSuppressPaste(t){return this.isColumnFunc(t,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(t){var r;return(r=this.colDef[t])!=null?r:ZR[t]}isColumnFunc(t,r){if(typeof r=="boolean")return r;if(typeof r=="function"){const i=this.createColumnFunctionCallbackParams(t);return r(i)}return!1}setMoving(t,r){this.moving=t,this.eventService.dispatchEvent(this.createColumnEvent("movingChanged",r))}createColumnEvent(t,r){return this.gos.addGridCommonParams({type:t,column:this,columns:[this],source:r})}isMoving(){return this.moving}getSort(){return this.sort}setSort(t,r){this.sort!==t&&(this.sort=t,this.eventService.dispatchEvent(this.createColumnEvent("sortChanged",r))),this.dispatchStateUpdatedEvent("sort")}setMenuVisible(t,r){this.menuVisible!==t&&(this.menuVisible=t,this.eventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",r)))}isMenuVisible(){return this.menuVisible}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return tt(this.sort)}isSorting(){return ve(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(t){this.sortIndex=t,this.dispatchStateUpdatedEvent("sortIndex")}setAggFunc(t){this.aggFunc=t,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(t,r){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.eventService.dispatchEvent(this.createColumnEvent("leftChanged",r)))}isFilterActive(){return this.filterActive}setFilterActive(t,r,i){this.filterActive!==t&&(this.filterActive=t,this.eventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",r)));const s=this.createColumnEvent("filterChanged",r);i&&bi(s,i),this.eventService.dispatchEvent(s)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(t){t===!0||t==="left"?this.pinned="left":t==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(t,r){this.firstRightPinned!==t&&(this.firstRightPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",r)))}setLastLeftPinned(t,r){this.lastLeftPinned!==t&&(this.lastLeftPinned=t,this.eventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",r)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(t,r){const i=t===!0;this.visible!==i&&(this.visible=i,this.eventService.dispatchEvent(this.createColumnEvent("visibleChanged",r))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){const t=this.getColDef();return!t.suppressSpanHeaderHeight&&!t.autoHeaderHeight}getColumnGroupPaddingInfo(){let t=this.getParent();if(!t||!t.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const r=t.getPaddingLevel()+1;let i=!0;for(;t;){if(!t.isPadding()){i=!1;break}t=t.getParent()}return{numberOfParents:r,isSpanningTotal:i}}getColDef(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getDefinition(){return this.colDef}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(t){const r=t!==this.autoHeaderHeight;return this.autoHeaderHeight=t,r}createBaseColDefParams(t){return this.gos.addGridCommonParams({node:t,data:t.data,colDef:this.colDef,column:this})}getColSpan(t){if(tt(this.colDef.colSpan))return 1;const r=this.createBaseColDefParams(t),i=this.colDef.colSpan(r);return Math.max(i,1)}getRowSpan(t){if(tt(this.colDef.rowSpan))return 1;const r=this.createBaseColDefParams(t),i=this.colDef.rowSpan(r);return Math.max(i,1)}setActualWidth(t,r,i=!1){this.minWidth!=null&&(t=Math.max(t,this.minWidth)),this.maxWidth!=null&&(t=Math.min(t,this.maxWidth)),this.actualWidth!==t&&(this.actualWidth=t,this.flex&&r!=="flex"&&r!=="gridInitializing"&&(this.flex=null),i||this.fireColumnWidthChangedEvent(r)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(t){this.eventService.dispatchEvent(this.createColumnEvent("widthChanged",t))}isGreaterThanMax(t){return this.maxWidth!=null?t>this.maxWidth:!1}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(t){this.flex!==t&&(this.flex=t),this.dispatchStateUpdatedEvent("flex")}setMinimum(t){ve(this.minWidth)&&this.setActualWidth(this.minWidth,t)}setRowGroupActive(t,r){this.rowGroupActive!==t&&(this.rowGroupActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",r))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(t,r){this.pivotActive!==t&&(this.pivotActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",r))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(t,r){this.aggregationActive!==t&&(this.aggregationActive=t,this.eventService.dispatchEvent(this.createColumnEvent("columnValueChanged",r)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}getMenuTabs(t){We("As of v31.1, 'getMenuTabs' is deprecated. Use 'getColDef().menuTabs ?? defaultValues' instead.");let r=this.getColDef().menuTabs;return r==null&&(r=t),r}dispatchStateUpdatedEvent(t){this.eventService.dispatchEvent({type:H1.EVENT_STATE_UPDATED,key:t})}};br.EVENT_MOVING_CHANGED="movingChanged";br.EVENT_LEFT_CHANGED="leftChanged";br.EVENT_WIDTH_CHANGED="widthChanged";br.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged";br.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged";br.EVENT_VISIBLE_CHANGED="visibleChanged";br.EVENT_FILTER_CHANGED="filterChanged";br.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged";br.EVENT_SORT_CHANGED="sortChanged";br.EVENT_COL_DEF_CHANGED="colDefChanged";br.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged";br.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged";br.EVENT_PIVOT_CHANGED="columnPivotChanged";br.EVENT_VALUE_CHANGED="columnValueChanged";br.EVENT_STATE_UPDATED="columnStateUpdated";B([q("gridOptionsService")],br.prototype,"gos",2);B([q("environment")],br.prototype,"environment",2);B([q("columnHoverService")],br.prototype,"columnHoverService",2);B([q("frameworkOverrides")],br.prototype,"frameworkOverrides",2);B([we],br.prototype,"initialise",1);var Wt=br,lp=class ql{constructor(t,r,i,s){this.localEventService=new _s,this.expandable=!1,this.instanceId=B1(),this.expandableListenerRemoveCallback=null,this.colGroupDef=t,this.groupId=r,this.expanded=!!t&&!!t.openByDefault,this.padding=i,this.level=s}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0)}reset(t,r){this.colGroupDef=t,this.level=r,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(t){this.originalParent=t}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(t=>t.isVisible()):!1}isPadding(){return this.padding}setExpanded(t){this.expanded=t===void 0?!1:t;const r={type:ql.EVENT_EXPANDED_CHANGED};this.localEventService.dispatchEvent(r)}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(t){this.children=t}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const t=[];return this.addLeafColumns(t),t}addLeafColumns(t){this.children&&this.children.forEach(r=>{r instanceof Wt?t.push(r):r instanceof ql&&r.addLeafColumns(t)})}getColumnGroupShow(){const t=this.colGroupDef;if(t)return t.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const t=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(r=>r.addEventListener("visibleChanged",t)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(r=>r.removeEventListener("visibleChanged",t)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let t=!1,r=!1,i=!1;const s=this.findChildrenRemovingPadding();for(let o=0,a=s.length;o<a;o++){const u=s[o];if(!u.isVisible())continue;const l=u.getColumnGroupShow();l==="open"?(t=!0,i=!0):l==="closed"?(r=!0,i=!0):(t=!0,r=!0)}const n=t&&r&&i;if(this.expandable!==n){this.expandable=n;const o={type:ql.EVENT_EXPANDABLE_CHANGED};this.localEventService.dispatchEvent(o)}}findChildrenRemovingPadding(){const t=[],r=i=>{i.forEach(s=>{s instanceof ql&&s.isPadding()?r(s.children):t.push(s)})};return r(this.children),t}onColumnVisibilityChanged(){this.setExpandable()}addEventListener(t,r){this.localEventService.addEventListener(t,r)}removeEventListener(t,r){this.localEventService.removeEventListener(t,r)}};lp.EVENT_EXPANDED_CHANGED="expandedChanged";lp.EVENT_EXPANDABLE_CHANGED="expandableChanged";B([ui],lp.prototype,"destroy",1);var vr=lp,eT={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},W1={};Or(W1,{addSafePassiveEventListener:()=>Z1,createEventPath:()=>X1,getCtrlForEventTarget:()=>gh,getEventPath:()=>Q1,isElementInEventPath:()=>mh,isEventSupported:()=>Ev,isStopPropagationForAgGrid:()=>Es,stopPropagationForAgGrid:()=>Rs});var z1={};Or(z1,{areEqual:()=>Ns,existsAndNotEmpty:()=>U1,flatten:()=>q1,forEachReverse:()=>sT,includes:()=>Wi,insertArrayIntoArray:()=>Wg,insertIntoArray:()=>ku,last:()=>Tt,moveInArray:()=>zg,pushAll:()=>Ug,removeAllFromArray:()=>K1,removeAllFromUnorderedArray:()=>$1,removeFromArray:()=>yi,removeFromUnorderedArray:()=>Sv,removeRepeatsFromArray:()=>rT,shallowCompare:()=>tT,sortNumerically:()=>j1,toStrings:()=>iT});function U1(e){return e!=null&&e.length>0}function Tt(e){if(!(!e||!e.length))return e[e.length-1]}function Ns(e,t,r){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((i,s)=>r?r(i,t[s]):t[s]===i)}function tT(e,t){return Ns(e,t)}function j1(e){return e.sort((t,r)=>t-r)}function rT(e,t){if(e)for(let r=e.length-2;r>=0;r--){const i=e[r]===t,s=e[r+1]===t;i&&s&&e.splice(r+1,1)}}function Sv(e,t){const r=e.indexOf(t);r>=0&&(e[r]=e[e.length-1],e.pop())}function yi(e,t){const r=e.indexOf(t);r>=0&&e.splice(r,1)}function $1(e,t){for(let r=0;r<t.length;r++)Sv(e,t[r])}function K1(e,t){for(let r=0;r<t.length;r++)yi(e,t[r])}function ku(e,t,r){e.splice(r,0,t)}function Wg(e,t,r){if(!(e==null||t==null))for(let i=t.length-1;i>=0;i--){const s=t[i];ku(e,s,r)}}function zg(e,t,r){K1(e,t),t.slice().reverse().forEach(i=>ku(e,i,r))}function Wi(e,t){return e.indexOf(t)>-1}function q1(e){return[].concat.apply([],e)}function Ug(e,t){t==null||e==null||t.forEach(r=>e.push(r))}function iT(e){return e.map(Iu)}function sT(e,t){if(e!=null)for(let r=e.length-1;r>=0;r--)t(e[r],r)}var Y1="__ag_Grid_Stop_Propagation",nT=["touchstart","touchend","touchmove","touchcancel","scroll"],wf={};function Rs(e){e[Y1]=!0}function Es(e){return e[Y1]===!0}var Ev=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r=>{if(typeof wf[r]=="boolean")return wf[r];const i=document.createElement(e[r]||"div");return r="on"+r,wf[r]=r in i}})();function gh(e,t,r){let i=t;for(;i;){const s=e.getDomData(i,r);if(s)return s;i=i.parentElement}return null}function mh(e,t){return!t||!e?!1:Q1(t).indexOf(e)>=0}function X1(e){const t=[];let r=e.target;for(;r;)t.push(r),r=r.parentElement;return t}function Q1(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():X1(t)}function Z1(e,t,r,i){const n=Wi(nT,r)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(t,r,i,n)}var dn=class J1{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.lastChangeSetIdLookup={},this.propertyListenerId=0,this.isAlive=()=>!this.destroyed}getFrameworkOverrides(){return this.frameworkOverrides}getContext(){return this.context}destroy(){for(let t=0;t<this.destroyFunctions.length;t++)this.destroyFunctions[t]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:J1.EVENT_DESTROYED})}addEventListener(t,r){this.localEventService||(this.localEventService=new _s),this.localEventService.addEventListener(t,r)}removeEventListener(t,r){this.localEventService&&this.localEventService.removeEventListener(t,r)}dispatchEvent(t){this.localEventService&&this.localEventService.dispatchEvent(t)}addManagedListener(t,r,i){if(this.destroyed)return;t instanceof HTMLElement?Z1(this.getFrameworkOverrides(),t,r,i):t.addEventListener(r,i);const s=()=>(t.removeEventListener(r,i),null);return this.destroyFunctions.push(s),()=>(s(),this.destroyFunctions=this.destroyFunctions.filter(n=>n!==s),null)}setupGridOptionListener(t,r){this.gos.addEventListener(t,r);const i=()=>(this.gos.removeEventListener(t,r),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(s=>s!==i),null)}addManagedPropertyListener(t,r){return this.destroyed?()=>null:this.setupGridOptionListener(t,r)}addManagedPropertyListeners(t,r){if(this.destroyed)return;const i=t.join("-")+this.propertyListenerId++,s=n=>{if(n.changeSet){if(n.changeSet&&n.changeSet.id===this.lastChangeSetIdLookup[i])return;this.lastChangeSetIdLookup[i]=n.changeSet.id}const o={type:"gridPropertyChanged",changeSet:n.changeSet,source:n.source};r(o)};t.forEach(n=>this.setupGridOptionListener(n,s))}addDestroyFunc(t){this.isAlive()?this.destroyFunctions.push(t):t()}createManagedBean(t,r){const i=this.createBean(t,r);return this.addDestroyFunc(this.destroyBean.bind(this,t,r)),i}createBean(t,r,i){return(r||this.getContext()).createBean(t,i)}destroyBean(t,r){return(r||this.getContext()).destroyBean(t)}destroyBeans(t,r){if(t)for(let i=0;i<t.length;i++)this.destroyBean(t[i],r);return[]}};dn.EVENT_DESTROYED="destroyed";B([q("frameworkOverrides")],dn.prototype,"frameworkOverrides",2);B([q("context")],dn.prototype,"context",2);B([q("eventService")],dn.prototype,"eventService",2);B([q("gridOptionsService")],dn.prototype,"gos",2);B([q("localeService")],dn.prototype,"localeService",2);B([q("environment")],dn.prototype,"environment",2);B([ui],dn.prototype,"destroy",1);var ye=dn,Lu=class extends ye{setBeans(e){this.logger=e.create("ColumnFactory")}createColumnTree(e,t,r,i){const s=new qR,{existingCols:n,existingGroups:o,existingColKeys:a}=this.extractExistingTreeData(r);s.addExistingKeys(a);const u=this.recursivelyCreateColumns(e,0,t,n,s,o,i),l=this.findMaxDept(u,0);this.logger.log("Number of levels for grouped columns is "+l);const c=this.balanceColumnTree(u,0,l,s);return Xs(null,c,(d,p)=>{d instanceof vr&&d.setupExpandable(),d.setOriginalParent(p)}),{columnTree:c,treeDept:l}}extractExistingTreeData(e){const t=[],r=[],i=[];return e&&Xs(null,e,s=>{if(s instanceof vr){const n=s;r.push(n)}else{const n=s;i.push(n.getId()),t.push(n)}}),{existingCols:t,existingGroups:r,existingColKeys:i}}createForAutoGroups(e,t){return e.map(r=>this.createAutoGroupTreeItem(t,r))}createAutoGroupTreeItem(e,t){const r=this.findDepth(e);let i=t;for(let s=r-1;s>=0;s--){const n=new vr(null,`FAKE_PATH_${t.getId()}}_${s}`,!0,s);this.createBean(n),n.setChildren([i]),i.setOriginalParent(n),i=n}return r===0&&t.setOriginalParent(null),i}findDepth(e){let t=0,r=e;for(;r&&r[0]&&r[0]instanceof vr;)t++,r=r[0].getChildren();return t}balanceColumnTree(e,t,r,i){const s=[];for(let n=0;n<e.length;n++){const o=e[n];if(o instanceof vr){const a=o,u=this.balanceColumnTree(a.getChildren(),t+1,r,i);a.setChildren(u),s.push(a)}else{let a,u;for(let l=r-1;l>=t;l--){const c=i.getUniqueKey(null,null),h=this.createMergedColGroupDef(null),d=new vr(h,c,!0,t);this.createBean(d),u&&u.setChildren([d]),u=d,a||(a=u)}if(a&&u)if(s.push(a),e.some(c=>c instanceof vr)){u.setChildren([o]);continue}else{u.setChildren(e);break}s.push(o)}}return s}findMaxDept(e,t){let r=t;for(let i=0;i<e.length;i++){const s=e[i];if(s instanceof vr){const n=s,o=this.findMaxDept(n.getChildren(),t+1);r<o&&(r=o)}}return r}recursivelyCreateColumns(e,t,r,i,s,n,o){if(!e)return[];const a=new Array(e.length);for(let u=0;u<a.length;u++){const l=e[u];this.isColumnGroup(l)?a[u]=this.createColumnGroup(r,l,t,i,s,n,o):a[u]=this.createColumn(r,l,i,s,o)}return a}createColumnGroup(e,t,r,i,s,n,o){const a=this.createMergedColGroupDef(t),u=s.getUniqueKey(a.groupId||null,null),l=new vr(a,u,!1,r);this.createBean(l);const c=this.findExistingGroup(t,n);c&&n.splice(c.idx,1);let h=c==null?void 0:c.group;h&&l.setExpanded(h.isExpanded());const d=this.recursivelyCreateColumns(a.children,r+1,e,i,s,n,o);return l.setChildren(d),l}createMergedColGroupDef(e){const t={};return Object.assign(t,this.gos.get("defaultColGroupDef")),Object.assign(t,e),t}createColumn(e,t,r,i,s){const n=this.findExistingColumn(t,r);n&&(r==null||r.splice(n.idx,1));let o=n==null?void 0:n.column;if(o){const a=this.addColumnDefaultAndTypes(t,o.getColId());o.setColDef(a,t,s),this.applyColumnState(o,a,s)}else{const a=i.getUniqueKey(t.colId,t.field),u=this.addColumnDefaultAndTypes(t,a);o=new Wt(u,t,a,e),this.context.createBean(o)}return this.dataTypeService.addColumnListeners(o),o}applyColumnState(e,t,r){const i=Hn(t.flex);if(i!==void 0&&e.setFlex(i),e.getFlex()<=0){const a=Hn(t.width);if(a!=null)e.setActualWidth(a,r);else{const u=e.getActualWidth();e.setActualWidth(u,r)}}t.sort!==void 0&&(t.sort=="asc"||t.sort=="desc"?e.setSort(t.sort,r):e.setSort(void 0,r));const n=Hn(t.sortIndex);n!==void 0&&e.setSortIndex(n);const o=hh(t.hide);o!==void 0&&e.setVisible(!o,r),t.pinned!==void 0&&e.setPinned(t.pinned)}findExistingColumn(e,t){if(t)for(let r=0;r<t.length;r++){const i=t[r].getUserProvidedColDef();if(!i)continue;if(e.colId!=null){if(t[r].getId()===e.colId)return{idx:r,column:t[r]};continue}if(e.field!=null){if(i.field===e.field)return{idx:r,column:t[r]};continue}if(i===e)return{idx:r,column:t[r]}}}findExistingGroup(e,t){if(e.groupId!=null)for(let i=0;i<t.length;i++){const s=t[i];if(s.getColGroupDef()&&s.getId()===e.groupId)return{idx:i,group:s}}}addColumnDefaultAndTypes(e,t){const r={},i=this.gos.get("defaultColDef");bi(r,i,!1,!0);const s=this.dataTypeService.updateColDefAndGetColumnType(r,e,t);s&&this.assignColumnTypes(s,r),bi(r,e,!1,!0);const n=this.gos.get("autoGroupColumnDef"),o=this.gos.isColumnsSortingCoupledToGroup();return e.rowGroup&&n&&o&&bi(r,{sort:n.sort,initialSort:n.initialSort},!1,!0),this.dataTypeService.validateColDef(r),r}assignColumnTypes(e,t){if(!e.length)return;const r=Object.assign({},eT),i=this.gos.get("columnTypes")||{};qr(i,(s,n)=>{s in r?console.warn(`AG Grid: the column type '${s}' is a default column type and cannot be overridden.`):(n.type&&We("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),r[s]=n)}),e.forEach(s=>{const n=r[s.trim()];n?bi(t,n,!1,!0):console.warn("AG Grid: colDef.type '"+s+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};B([q("dataTypeService")],Lu.prototype,"dataTypeService",2);B([ys(0,es("loggerFactory"))],Lu.prototype,"setBeans",1);Lu=B([ke("columnFactory")],Lu);function Xs(e,t,r){if(t)for(let i=0;i<t.length;i++){const s=t[i];s instanceof vr&&Xs(s,s.getChildren(),r),r(s,e)}}var up=class Ds{constructor(t,r,i,s){this.displayedChildren=[],this.localEventService=new _s,this.groupId=r,this.partId=i,this.providedColumnGroup=t,this.pinned=s}static createUniqueId(t,r){return t+"_"+r}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(t){this.parent=t}getUniqueId(){return Ds.createUniqueId(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const t=this.getProvidedColumnGroup().getLeafColumns();return!t||t.length===0?!1:t.every(r=>r.isMoving())}checkLeft(){if(this.displayedChildren.forEach(t=>{t instanceof Ds&&t.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const r=Tt(this.displayedChildren).getLeft();this.setLeft(r)}else{const t=this.displayedChildren[0].getLeft();this.setLeft(t)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(t){this.oldLeft=this.left,this.left!==t&&(this.left=t,this.localEventService.dispatchEvent(this.createAgEvent(Ds.EVENT_LEFT_CHANGED)))}getPinned(){return this.pinned}createAgEvent(t){return{type:t}}addEventListener(t,r){this.localEventService.addEventListener(t,r)}removeEventListener(t,r){this.localEventService.removeEventListener(t,r)}getGroupId(){return this.groupId}getPartId(){return this.partId}isChildInThisGroupDeepSearch(t){let r=!1;return this.children.forEach(i=>{t===i&&(r=!0),i instanceof Ds&&i.isChildInThisGroupDeepSearch(t)&&(r=!0)}),r}getActualWidth(){let t=0;return this.displayedChildren&&this.displayedChildren.forEach(r=>{t+=r.getActualWidth()}),t}isResizable(){if(!this.displayedChildren)return!1;let t=!1;return this.displayedChildren.forEach(r=>{r.isResizable()&&(t=!0)}),t}getMinWidth(){let t=0;return this.displayedChildren.forEach(r=>{t+=r.getMinWidth()||0}),t}addChild(t){this.children||(this.children=[]),this.children.push(t)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const t=[];return this.addLeafColumns(t),t}getDisplayedLeafColumns(){const t=[];return this.addDisplayedLeafColumns(t),t}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(t){this.providedColumnGroup.setExpanded(t)}addDisplayedLeafColumns(t){this.displayedChildren.forEach(r=>{r instanceof Wt?t.push(r):r instanceof Ds&&r.addDisplayedLeafColumns(t)})}addLeafColumns(t){this.children.forEach(r=>{r instanceof Wt?t.push(r):r instanceof Ds&&r.addLeafColumns(t)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const t=this.getParent();return!this.isPadding()||!t||!t.isPadding()?0:1+t.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let t=this;for(;t!=null&&t.isPadding();)t=t.getParent();if(!(t?t.providedColumnGroup.isExpandable():!1)){this.displayedChildren=this.children,this.localEventService.dispatchEvent(this.createAgEvent(Ds.EVENT_DISPLAYED_CHILDREN_CHANGED));return}this.children.forEach(i=>{if(i instanceof Ds&&(!i.displayedChildren||!i.displayedChildren.length))return;switch(i.getColumnGroupShow()){case"open":t.providedColumnGroup.isExpanded()&&this.displayedChildren.push(i);break;case"closed":t.providedColumnGroup.isExpanded()||this.displayedChildren.push(i);break;default:this.displayedChildren.push(i);break}}),this.localEventService.dispatchEvent(this.createAgEvent(Ds.EVENT_DISPLAYED_CHILDREN_CHANGED))}};up.EVENT_LEFT_CHANGED="leftChanged";up.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged";B([q("gridOptionsService")],up.prototype,"gos",2);var Mr=up,$=class{};$.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged";$.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded";$.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged";$.EVENT_PIVOT_MAX_COLUMNS_EXCEEDED="pivotMaxColumnsExceeded";$.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged";$.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll";$.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged";$.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged";$.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged";$.EVENT_COLUMN_MOVED="columnMoved";$.EVENT_COLUMN_VISIBLE="columnVisible";$.EVENT_COLUMN_PINNED="columnPinned";$.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened";$.EVENT_COLUMN_RESIZED="columnResized";$.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged";$.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED="suppressMovableColumns";$.EVENT_SUPPRESS_MENU_HIDE_CHANGED="suppressMenuHide";$.EVENT_SUPPRESS_FIELD_DOT_NOTATION="suppressFieldDotNotation";$.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged";$.EVENT_COLUMN_HEADER_MOUSE_OVER="columnHeaderMouseOver";$.EVENT_COLUMN_HEADER_MOUSE_LEAVE="columnHeaderMouseLeave";$.EVENT_COLUMN_HEADER_CLICKED="columnHeaderClicked";$.EVENT_COLUMN_HEADER_CONTEXT_MENU="columnHeaderContextMenu";$.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed";$.EVENT_ROW_GROUP_OPENED="rowGroupOpened";$.EVENT_ROW_DATA_UPDATED="rowDataUpdated";$.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged";$.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged";$.EVENT_CHART_CREATED="chartCreated";$.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged";$.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged";$.EVENT_CHART_DESTROYED="chartDestroyed";$.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged";$.EVENT_TOOL_PANEL_SIZE_CHANGED="toolPanelSizeChanged";$.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart";$.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd";$.EVENT_MODEL_UPDATED="modelUpdated";$.EVENT_CUT_START="cutStart";$.EVENT_CUT_END="cutEnd";$.EVENT_PASTE_START="pasteStart";$.EVENT_PASTE_END="pasteEnd";$.EVENT_FILL_START="fillStart";$.EVENT_FILL_END="fillEnd";$.EVENT_RANGE_DELETE_START="rangeDeleteStart";$.EVENT_RANGE_DELETE_END="rangeDeleteEnd";$.EVENT_UNDO_STARTED="undoStarted";$.EVENT_UNDO_ENDED="undoEnded";$.EVENT_REDO_STARTED="redoStarted";$.EVENT_REDO_ENDED="redoEnded";$.EVENT_KEY_SHORTCUT_CHANGED_CELL_START="keyShortcutChangedCellStart";$.EVENT_KEY_SHORTCUT_CHANGED_CELL_END="keyShortcutChangedCellEnd";$.EVENT_CELL_CLICKED="cellClicked";$.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked";$.EVENT_CELL_MOUSE_DOWN="cellMouseDown";$.EVENT_CELL_CONTEXT_MENU="cellContextMenu";$.EVENT_CELL_VALUE_CHANGED="cellValueChanged";$.EVENT_CELL_EDIT_REQUEST="cellEditRequest";$.EVENT_ROW_VALUE_CHANGED="rowValueChanged";$.EVENT_CELL_FOCUSED="cellFocused";$.EVENT_CELL_FOCUS_CLEARED="cellFocusCleared";$.EVENT_FULL_WIDTH_ROW_FOCUSED="fullWidthRowFocused";$.EVENT_ROW_SELECTED="rowSelected";$.EVENT_SELECTION_CHANGED="selectionChanged";$.EVENT_TOOLTIP_SHOW="tooltipShow";$.EVENT_TOOLTIP_HIDE="tooltipHide";$.EVENT_CELL_KEY_DOWN="cellKeyDown";$.EVENT_CELL_MOUSE_OVER="cellMouseOver";$.EVENT_CELL_MOUSE_OUT="cellMouseOut";$.EVENT_FILTER_CHANGED="filterChanged";$.EVENT_FILTER_MODIFIED="filterModified";$.EVENT_FILTER_OPENED="filterOpened";$.EVENT_ADVANCED_FILTER_BUILDER_VISIBLE_CHANGED="advancedFilterBuilderVisibleChanged";$.EVENT_SORT_CHANGED="sortChanged";$.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved";$.EVENT_ROW_CLICKED="rowClicked";$.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked";$.EVENT_GRID_READY="gridReady";$.EVENT_GRID_PRE_DESTROYED="gridPreDestroyed";$.EVENT_GRID_SIZE_CHANGED="gridSizeChanged";$.EVENT_VIEWPORT_CHANGED="viewportChanged";$.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged";$.EVENT_FIRST_DATA_RENDERED="firstDataRendered";$.EVENT_DRAG_STARTED="dragStarted";$.EVENT_DRAG_STOPPED="dragStopped";$.EVENT_CHECKBOX_CHANGED="checkboxChanged";$.EVENT_ROW_EDITING_STARTED="rowEditingStarted";$.EVENT_ROW_EDITING_STOPPED="rowEditingStopped";$.EVENT_CELL_EDITING_STARTED="cellEditingStarted";$.EVENT_CELL_EDITING_STOPPED="cellEditingStopped";$.EVENT_BODY_SCROLL="bodyScroll";$.EVENT_BODY_SCROLL_END="bodyScrollEnd";$.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged";$.EVENT_PAGINATION_CHANGED="paginationChanged";$.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged";$.EVENT_STORE_REFRESHED="storeRefreshed";$.EVENT_STATE_UPDATED="stateUpdated";$.EVENT_COLUMN_MENU_VISIBLE_CHANGED="columnMenuVisibleChanged";$.EVENT_CONTEXT_MENU_VISIBLE_CHANGED="contextMenuVisibleChanged";$.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged";$.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED="columnContainerWidthChanged";$.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged";$.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged";$.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged";$.EVENT_FLASH_CELLS="flashCells";$.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged";$.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged";$.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged";$.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged";$.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged";$.EVENT_HEADER_HEIGHT_CHANGED="headerHeightChanged";$.EVENT_COLUMN_HEADER_HEIGHT_CHANGED="columnHeaderHeightChanged";$.EVENT_ROW_DRAG_ENTER="rowDragEnter";$.EVENT_ROW_DRAG_MOVE="rowDragMove";$.EVENT_ROW_DRAG_LEAVE="rowDragLeave";$.EVENT_ROW_DRAG_END="rowDragEnd";$.EVENT_GRID_STYLES_CHANGED="gridStylesChanged";$.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest";$.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest";$.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest";$.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest";$.EVENT_STORE_UPDATED="storeUpdated";$.EVENT_FILTER_DESTROYED="filterDestroyed";$.EVENT_ROW_DATA_UPDATE_STARTED="rowDataUpdateStarted";$.EVENT_ROW_COUNT_READY="rowCountReady";$.EVENT_ADVANCED_FILTER_ENABLED_CHANGED="advancedFilterEnabledChanged";$.EVENT_DATA_TYPES_INFERRED="dataTypesInferred";$.EVENT_FIELD_VALUE_CHANGED="fieldValueChanged";$.EVENT_FIELD_PICKER_VALUE_SELECTED="fieldPickerValueSelected";$.EVENT_SIDE_BAR_UPDATED="sideBarUpdated";var Ed=new Set([$.EVENT_GRID_PRE_DESTROYED,$.EVENT_FILL_START]),eS=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let r;return typeof t!="number"?r=0:r=t+1,this.existingIds[e]=r,r}},Ja="ag-Grid-AutoColumn",Nu=class extends ye{createAutoGroupColumns(e){const t=[],r=this.gos.get("treeData");let i=this.gos.isGroupMultiAutoColumn();return r&&i&&(console.warn('AG Grid: you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data'),i=!1),i?e.forEach((s,n)=>{t.push(this.createOneAutoGroupColumn(s,n))}):t.push(this.createOneAutoGroupColumn()),t}updateAutoGroupColumns(e,t){e.forEach((r,i)=>this.updateOneAutoGroupColumn(r,i,t))}createOneAutoGroupColumn(e,t){let r;e?r=`${Ja}-${e.getId()}`:r=Ja;const i=this.createAutoGroupColDef(r,e,t);i.colId=r;const s=new Wt(i,null,r,!0);return this.context.createBean(s),s}updateOneAutoGroupColumn(e,t,r){const i=e.getColDef(),s=typeof i.showRowGroup=="string"?i.showRowGroup:void 0,n=s!=null?this.columnModel.getPrimaryColumn(s):void 0,o=this.createAutoGroupColDef(e.getId(),n??void 0,t);e.setColDef(o,null,r),this.columnFactory.applyColumnState(e,o,r)}createAutoGroupColDef(e,t,r){let i=this.createBaseColDef(t);const s=this.gos.get("autoGroupColumnDef");bi(i,s),i=this.columnFactory.addColumnDefaultAndTypes(i,e),this.gos.get("treeData")||tt(i.field)&&tt(i.valueGetter)&&tt(i.filterValueGetter)&&i.filter!=="agGroupColumnFilter"&&(i.filter=!1),r&&r>0&&(i.headerCheckboxSelection=!1);const n=this.gos.isColumnsSortingCoupledToGroup(),o=i.valueGetter||i.field!=null;return n&&!o&&(i.sortIndex=void 0,i.initialSort=void 0),i}createBaseColDef(e){const t=this.gos.get("autoGroupColumnDef"),i={headerName:this.localeService.getLocaleTextFunc()("group","Group")};if(t&&(t.cellRenderer||t.cellRendererSelector)||(i.cellRenderer="agGroupCellRenderer"),e){const n=e.getColDef();Object.assign(i,{headerName:this.columnModel.getDisplayNameForColumn(e,"header"),headerValueGetter:n.headerValueGetter}),n.cellRenderer&&Object.assign(i,{cellRendererParams:{innerRenderer:n.cellRenderer,innerRendererParams:n.cellRendererParams}}),i.showRowGroup=e.getColId()}else i.showRowGroup=!0;return i}};B([q("columnModel")],Nu.prototype,"columnModel",2);B([q("columnFactory")],Nu.prototype,"columnFactory",2);Nu=B([ke("autoGroupColService")],Nu);var tS={};Or(tS,{camelCaseToHumanText:()=>rS,camelCaseToHyphenated:()=>iS,capitalise:()=>uT,escapeString:()=>Cr,utf8_encode:()=>lT});var oT=/[&<>"']/g,aT={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function lT(e){const t=String.fromCharCode;function r(h){const d=[];if(!h)return[];const p=h.length;let g=0,v,f;for(;g<p;)v=h.charCodeAt(g++),v>=55296&&v<=56319&&g<p?(f=h.charCodeAt(g++),(f&64512)==56320?d.push(((v&1023)<<10)+(f&1023)+65536):(d.push(v),g--)):d.push(v);return d}function i(h){if(h>=55296&&h<=57343)throw Error("Lone surrogate U+"+h.toString(16).toUpperCase()+" is not a scalar value")}function s(h,d){return t(h>>d&63|128)}function n(h){if(h>=0&&h<=31&&h!==10)return`_x${h.toString(16).toUpperCase().padStart(4,"0")}_`;if(!(h&4294967168))return t(h);let d="";return h&4294965248?h&4294901760?h&4292870144||(d=t(h>>18&7|240),d+=s(h,12),d+=s(h,6)):(i(h),d=t(h>>12&15|224),d+=s(h,6)):d=t(h>>6&31|192),d+=t(h&63|128),d}const o=r(e),a=o.length;let u=-1,l,c="";for(;++u<a;)l=o[u],c+=n(l);return c}function uT(e){return e[0].toUpperCase()+e.substring(1).toLowerCase()}function Cr(e,t){if(e==null)return null;const r=e.toString().toString();return t?r:r.replace(oT,i=>aT[i])}function rS(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,r=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(r,"$1 $2$3").replace(/\./g," ").split(" ").map(s=>s.substring(0,1).toUpperCase()+(s.length>1?s.substring(1,s.length):"")).join(" ")}function iS(e){return e.replace(/[A-Z]/g,t=>`-${t.toLocaleLowerCase()}`)}var sS={};Or(sS,{convertToMap:()=>An,keys:()=>dT,mapById:()=>cT});function An(e){const t=new Map;return e.forEach(r=>t.set(r[0],r[1])),t}function cT(e,t){const r=new Map;return e.forEach(i=>r.set(t(i),i)),r}function dT(e){const t=[];return e.forEach((r,i)=>t.push(i)),t}var Nr=class extends ye{constructor(){super(...arguments),this.primaryHeaderRowCount=0,this.secondaryHeaderRowCount=0,this.gridHeaderRowCount=0,this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.displayedColumnsAndGroupsMap={},this.viewportColumns=[],this.viewportColumnsHash="",this.headerViewportColumns=[],this.viewportColumnsCenter=[],this.headerViewportColumnsCenter=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.autoHeightActiveAtLeastOnce=!1,this.rowGroupColumns=[],this.valueColumns=[],this.pivotColumns=[],this.ready=!1,this.changeEventsDispatching=!1,this.autoGroupsNeedBuilding=!1,this.forceRecreateAutoGroups=!1,this.pivotMode=!1,this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}init(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation");const e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],t=>this.buildAutoGroupColumns(ka(t.source))),this.addManagedPropertyListener("autoGroupColumnDef",t=>this.onAutoGroupColumnDefChanged(ka(t.source))),this.addManagedPropertyListeners(["defaultColDef","columnTypes","suppressFieldDotNotation"],t=>this.onSharedColDefChanged(ka(t.source))),this.addManagedPropertyListener("pivotMode",t=>this.setPivotMode(this.gos.get("pivotMode"),ka(t.source))),this.addManagedListener(this.eventService,$.EVENT_FIRST_DATA_RENDERED,()=>this.onFirstDataRendered())}buildAutoGroupColumns(e){this.columnDefs&&(this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns(e))}onAutoGroupColumnDefChanged(e){this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e)}onSharedColDefChanged(e){this.gridColumns&&(this.groupAutoColumns&&this.autoGroupColService.updateAutoGroupColumns(this.groupAutoColumns,e),this.createColumnsFromColumnDefs(!0,e))}setColumnDefs(e,t){const r=!!this.columnDefs;this.columnDefs=e,this.createColumnsFromColumnDefs(r,t)}recreateColumnDefs(e){this.onSharedColDefChanged(e)}destroyOldColumns(e,t){const r={};if(!e)return;Xs(null,e,s=>{r[s.getInstanceId()]=s}),t&&Xs(null,t,s=>{r[s.getInstanceId()]=null});const i=Object.values(r).filter(s=>s!=null);this.destroyBeans(i)}destroyColumns(){this.destroyOldColumns(this.primaryColumnTree),this.destroyOldColumns(this.secondaryBalancedTree),this.destroyOldColumns(this.groupAutoColsBalancedTree)}createColumnsFromColumnDefs(e,t){const r=e?this.compareColumnStatesAndDispatchEvents(t):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;const i=this.primaryColumns,s=this.primaryColumnTree,n=this.columnFactory.createColumnTree(this.columnDefs,!0,s,t);this.destroyOldColumns(this.primaryColumnTree,n.columnTree),this.primaryColumnTree=n.columnTree,this.primaryHeaderRowCount=n.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(u=>this.primaryColumnsMap[u.getId()]=u),this.extractRowGroupColumns(t,i),this.extractPivotColumns(t,i),this.extractValueColumns(t,i),this.ready=!0;const o=this.gridColsArePrimary===void 0;(this.gridColsArePrimary||o||this.autoGroupsNeedBuilding)&&(this.updateGridColumns(),e&&this.gridColsArePrimary&&!this.gos.get("maintainColumnOrder")&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(t),this.checkViewportColumns()),this.dispatchEverythingChanged(t),this.changeEventsDispatching=!0,r&&r(),this.changeEventsDispatching=!1,this.dispatchNewColumnsLoaded(t)}shouldRowModelIgnoreRefresh(){return this.changeEventsDispatching}dispatchNewColumnsLoaded(e){const t={type:$.EVENT_NEW_COLUMNS_LOADED,source:e};this.eventService.dispatchEvent(t),e==="gridInitializing"&&this.onColumnsReady()}dispatchEverythingChanged(e){const t={type:$.EVENT_COLUMN_EVERYTHING_CHANGED,source:e};this.eventService.dispatchEvent(t)}orderGridColumnsLikePrimary(){const e=this.primaryColumns;if(!e)return;const t=e.filter(i=>this.gridColumns.indexOf(i)>=0),r=this.gridColumns.filter(i=>t.indexOf(i)<0);this.gridColumns=[...r,...t],this.gridColumns=this.placeLockedColumns(this.gridColumns)}getAllDisplayedAutoHeightCols(){return this.displayedAutoHeightCols}setViewport(){this.gos.get("enableRtl")?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)}checkViewportColumns(e=!1){if(this.displayedColumnsCenter==null||!this.extractViewport())return;const r={type:$.EVENT_VIRTUAL_COLUMNS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(r)}setViewportPosition(e,t,r=!1){(e!==this.scrollWidth||t!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=e,this.scrollPosition=t,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns(r))}isPivotMode(){return this.pivotMode}isPivotSettingAllowed(e){return e&&this.gos.get("treeData")?(We("Pivot mode not available with treeData."),!1):!0}setPivotMode(e,t){if(e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,!this.gridColumns))return;this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(t);const r={type:$.EVENT_COLUMN_PIVOT_MODE_CHANGED};this.eventService.dispatchEvent(r)}getSecondaryPivotColumn(e,t){if(tt(this.secondaryColumns))return null;const r=this.getPrimaryColumn(t);let i=null;return this.secondaryColumns.forEach(s=>{const n=s.getColDef().pivotKeys,o=s.getColDef().pivotValueColumn;Ns(n,e)&&o===r&&(i=s)}),i}setBeans(e){this.logger=e.create("columnModel")}setFirstRightAndLastLeftPinned(e){let t,r;this.gos.get("enableRtl")?(t=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,r=this.displayedColumnsRight?Tt(this.displayedColumnsRight):null):(t=this.displayedColumnsLeft?Tt(this.displayedColumnsLeft):null,r=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(i=>{i.setLastLeftPinned(i===t,e),i.setFirstRightPinned(i===r,e)})}autoSizeColumns(e){if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.autoSizeColumns(e));return}const{columns:t,skipHeader:r,skipHeaderGroups:i,stopAtGroup:s,source:n="api"}=e;this.animationFrameService.flushAllFrames();const o=[];let a=-1;const u=r??this.gos.get("skipHeaderOnAutoSize"),l=i??u;for(;a!==0;)a=0,this.actionOnGridColumns(t,c=>{if(o.indexOf(c)>=0)return!1;const h=this.autoWidthCalculator.getPreferredWidthForColumn(c,u);if(h>0){const d=this.normaliseColumnWidth(c,h);c.setActualWidth(d,n),o.push(c),a++}return!0},n);l||this.autoSizeColumnGroupsByColumns(t,n,s),this.dispatchColumnResizedEvent(o,!0,"autosizeColumns")}dispatchColumnResizedEvent(e,t,r,i=null){if(e&&e.length){const s={type:$.EVENT_COLUMN_RESIZED,columns:e,column:e.length===1?e[0]:null,flexColumns:i,finished:t,source:r};this.eventService.dispatchEvent(s)}}dispatchColumnChangedEvent(e,t,r){const i={type:e,columns:t,column:t&&t.length==1?t[0]:null,source:r};this.eventService.dispatchEvent(i)}dispatchColumnMovedEvent(e){const{movedColumns:t,source:r,toIndex:i,finished:s}=e,n={type:$.EVENT_COLUMN_MOVED,columns:t,column:t&&t.length===1?t[0]:null,toIndex:i,finished:s,source:r};this.eventService.dispatchEvent(n)}dispatchColumnPinnedEvent(e,t){if(!e.length)return;const r=e.length===1?e[0]:null,i=this.getCommonValue(e,n=>n.getPinned()),s={type:$.EVENT_COLUMN_PINNED,pinned:i??null,columns:e,column:r,source:t};this.eventService.dispatchEvent(s)}dispatchColumnVisibleEvent(e,t){if(!e.length)return;const r=e.length===1?e[0]:null,i=this.getCommonValue(e,n=>n.isVisible()),s={type:$.EVENT_COLUMN_VISIBLE,visible:i,columns:e,column:r,source:t};this.eventService.dispatchEvent(s)}autoSizeColumn(e,t,r){e&&this.autoSizeColumns({columns:[e],skipHeader:r,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,r){const i=new Set;this.getGridColumns(e).forEach(a=>{let u=a.getParent();for(;u&&u!=r;)u.isPadding()||i.add(u),u=u.getParent()});let n;const o=[];for(const a of i){for(const u of this.ctrlsService.getHeaderRowContainerCtrls())if(n=u.getHeaderCtrlForColumn(a),n)break;n&&n.resizeLeafColumnsToFit(t)}return o}autoSizeAllColumns(e,t){if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.autoSizeAllColumns(e,t));return}const r=this.getAllDisplayedColumns();this.autoSizeColumns({columns:r,skipHeader:t,source:e})}getColumnsFromTree(e){const t=[],r=i=>{for(let s=0;s<i.length;s++){const n=i[s];n instanceof Wt?t.push(n):n instanceof vr&&r(n.getChildren())}};return r(e),t}getAllDisplayedTrees(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null}getPrimaryColumnTree(){return this.primaryColumnTree}getHeaderRowCount(){return this.gridHeaderRowCount}getDisplayedTreeLeft(){return this.displayedTreeLeft}getDisplayedTreeRight(){return this.displayedTreeRight}getDisplayedTreeCentre(){return this.displayedTreeCentre}isColumnDisplayed(e){return this.getAllDisplayedColumns().indexOf(e)>=0}getAllDisplayedColumns(){return this.displayedColumns}getViewportColumns(){return this.viewportColumns}getDisplayedLeftColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsLeft):this.displayedColumnsLeft}getDisplayedRightColumnsForRow(e){return this.colSpanActive?this.getDisplayedColumnsForRow(e,this.displayedColumnsRight):this.displayedColumnsRight}isColSpanActive(){return this.colSpanActive}getDisplayedColumnsForRow(e,t,r,i){const s=[];let n=null;for(let o=0;o<t.length;o++){const a=t[o],u=t.length-o,l=Math.min(a.getColSpan(e),u),c=[a];if(l>1){const d=l-1;for(let p=1;p<=d;p++)c.push(t[o+p]);o+=d}let h;r?(h=!1,c.forEach(d=>{r(d)&&(h=!0)})):h=!0,h&&(s.length===0&&n&&(i&&i(a))&&s.push(n),s.push(a)),n=a}return s}getViewportCenterColumnsForRow(e){if(!this.colSpanActive)return this.viewportColumnsCenter;const t=i=>{const s=i.getLeft();return ve(s)&&s>this.viewportLeft},r=this.isColumnVirtualisationSuppressed()?null:this.isColumnInRowViewport.bind(this);return this.getDisplayedColumnsForRow(e,this.displayedColumnsCenter,r,t)}isColumnAtEdge(e,t){const r=this.getAllDisplayedColumns();if(!r.length)return!1;const i=t==="first";let s;if(e instanceof Mr){const n=e.getDisplayedLeafColumns();if(!n.length)return!1;s=i?n[0]:Tt(n)}else s=e;return(i?r[0]:Tt(r))===s}getAriaColumnIndex(e){let t;return e instanceof Mr?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,r=t+e.getActualWidth(),i=this.viewportLeft-200,s=this.viewportRight+200,n=t<i&&r<i,o=t>s&&r>s;return!n&&!o}getDisplayedColumnsLeftWidth(){return this.getWidthOfColsInList(this.displayedColumnsLeft)}getDisplayedColumnsRightWidth(){return this.getWidthOfColsInList(this.displayedColumnsRight)}updatePrimaryColumnList(e,t,r,i,s,n){if(!e||Zi(e))return;let o=!1;if(e.forEach(u=>{if(!u)return;const l=this.getPrimaryColumn(u);if(l){if(r){if(t.indexOf(l)>=0)return;t.push(l)}else{if(t.indexOf(l)<0)return;yi(t,l)}i(l),o=!0}}),!o)return;this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(n);const a={type:s,columns:t,column:t.length===1?t[0]:null,source:n};this.eventService.dispatchEvent(a)}setRowGroupColumns(e,t){this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(e,this.rowGroupColumns,$.EVENT_COLUMN_ROW_GROUP_CHANGED,!0,this.setRowGroupActive.bind(this),t)}setRowGroupActive(e,t,r){e!==t.isRowGroupActive()&&(t.setRowGroupActive(e,r),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.setColumnsVisible([t],!1,r),!e&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.setColumnsVisible([t],!0,r))}addRowGroupColumns(e,t){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),$.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}removeRowGroupColumns(e,t){this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(e,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),$.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}addPivotColumns(e,t){this.updatePrimaryColumnList(e,this.pivotColumns,!0,r=>r.setPivotActive(!0,t),$.EVENT_COLUMN_PIVOT_CHANGED,t)}setPivotColumns(e,t){this.setPrimaryColumnList(e,this.pivotColumns,$.EVENT_COLUMN_PIVOT_CHANGED,!0,(r,i)=>{i.setPivotActive(r,t)},t)}removePivotColumns(e,t){this.updatePrimaryColumnList(e,this.pivotColumns,!1,r=>r.setPivotActive(!1,t),$.EVENT_COLUMN_PIVOT_CHANGED,t)}setPrimaryColumnList(e,t,r,i,s,n){if(!this.gridColumns)return;const o=new Map;t.forEach((a,u)=>o.set(a,u)),t.length=0,ve(e)&&e.forEach(a=>{const u=this.getPrimaryColumn(a);u&&t.push(u)}),t.forEach((a,u)=>{const l=o.get(a);if(l===void 0){o.set(a,0);return}i&&l!==u||o.delete(a)}),(this.primaryColumns||[]).forEach(a=>{const u=t.indexOf(a)>=0;s(u,a)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(n),this.dispatchColumnChangedEvent(r,[...o.keys()],n)}setValueColumns(e,t){this.setPrimaryColumnList(e,this.valueColumns,$.EVENT_COLUMN_VALUE_CHANGED,!1,this.setValueActive.bind(this),t)}setValueActive(e,t,r){if(e!==t.isValueActive()&&(t.setValueActive(e,r),e&&!t.getAggFunc()&&this.aggFuncService)){const i=this.aggFuncService.getDefaultAggFunc(t);t.setAggFunc(i)}}addValueColumns(e,t){this.updatePrimaryColumnList(e,this.valueColumns,!0,this.setValueActive.bind(this,!0),$.EVENT_COLUMN_VALUE_CHANGED,t)}removeValueColumns(e,t){this.updatePrimaryColumnList(e,this.valueColumns,!1,this.setValueActive.bind(this,!1),$.EVENT_COLUMN_VALUE_CHANGED,t)}normaliseColumnWidth(e,t){const r=e.getMinWidth();ve(r)&&t<r&&(t=r);const i=e.getMaxWidth();return ve(i)&&e.isGreaterThanMax(t)&&(t=i),t}getPrimaryOrGridColumn(e){return this.getPrimaryColumn(e)||this.getGridColumn(e)}setColumnWidths(e,t,r,i){const s=[];e.forEach(n=>{const o=this.getPrimaryOrGridColumn(n.key);if(!o)return;if(s.push({width:n.newWidth,ratios:[1],columns:[o]}),this.gos.get("colResizeDefault")==="shift"&&(t=!t),t){const u=this.getDisplayedColAfter(o);if(!u)return;const l=o.getActualWidth()-n.newWidth,c=u.getActualWidth()+l;s.push({width:c,ratios:[1],columns:[u]})}}),s.length!==0&&this.resizeColumnSets({resizeSets:s,finished:r,source:i})}checkMinAndMaxWidthsForSet(e){const{columns:t,width:r}=e;let i=0,s=0,n=!0;t.forEach(u=>{const l=u.getMinWidth();i+=l||0;const c=u.getMaxWidth();ve(c)&&c>0?s+=c:n=!1});const o=r>=i,a=!n||r<=s;return o&&a}resizeColumnSets(e){const{resizeSets:t,finished:r,source:i}=e;if(!(!t||t.every(c=>this.checkMinAndMaxWidthsForSet(c)))){if(r){const c=t&&t.length>0?t[0].columns:null;this.dispatchColumnResizedEvent(c,r,i)}return}const n=[],o=[];t.forEach(c=>{const{width:h,columns:d,ratios:p}=c,g={},v={};d.forEach(m=>o.push(m));let f=!0,y=0;for(;f;){if(y++,y>1e3){console.error("AG Grid: infinite loop in resizeColumnSets");break}f=!1;const m=[];let w=0,_=h;d.forEach((F,G)=>{if(v[F.getId()])_-=g[F.getId()];else{m.push(F);const O=p[G];w+=O}});const A=1/w;m.forEach((F,G)=>{const L=G===m.length-1;let O;L?O=_:(O=Math.round(p[G]*h*A),_-=O);const V=F.getMinWidth(),z=F.getMaxWidth();ve(V)&&O<V?(O=V,v[F.getId()]=!0,f=!0):ve(z)&&z>0&&O>z&&(O=z,v[F.getId()]=!0,f=!0),g[F.getId()]=O})}d.forEach(m=>{const w=g[m.getId()];m.getActualWidth()!==w&&(m.setActualWidth(w,i),n.push(m))})});const a=n.length>0;let u=[];a&&(u=this.refreshFlexedColumns({resizingCols:o,skipSetLeft:!0}),this.setLeftValues(i),this.updateBodyWidths(),this.checkViewportColumns());const l=o.concat(u);(a||r)&&this.dispatchColumnResizedEvent(l,r,i,u)}setColumnAggFunc(e,t,r){if(!e)return;const i=this.getPrimaryColumn(e);i&&(i.setAggFunc(t),this.dispatchColumnChangedEvent($.EVENT_COLUMN_VALUE_CHANGED,[i],r))}moveRowGroupColumn(e,t,r){if(this.isRowGroupEmpty())return;const i=this.rowGroupColumns[e],s=this.rowGroupColumns.slice(e,t);this.rowGroupColumns.splice(e,1),this.rowGroupColumns.splice(t,0,i);const n={type:$.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:s,column:s.length===1?s[0]:null,source:r};this.eventService.dispatchEvent(n)}moveColumns(e,t,r,i=!0){if(!this.gridColumns)return;if(this.columnAnimationService.start(),t>this.gridColumns.length-e.length){console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+t),console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");return}const s=this.getGridColumns(e);this.doesMovePassRules(s,t)&&(zg(this.gridColumns,s,t),this.updateDisplayedColumns(r),this.dispatchColumnMovedEvent({movedColumns:s,source:r,toIndex:t,finished:i}),this.columnAnimationService.finish())}doesMovePassRules(e,t){const r=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(r)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,t){const r=this.gridColumns.slice();return zg(r,e,t),r}sortColumnsLikeGridColumns(e){!e||e.length<=1||e.filter(r=>this.gridColumns.indexOf(r)<0).length>0||e.sort((r,i)=>{const s=this.gridColumns.indexOf(r),n=this.gridColumns.indexOf(i);return s-n})}doesMovePassLockedPositions(e){let t=0,r=!0;const i=s=>s?s===!0||s==="left"?0:2:1;return e.forEach(s=>{const n=i(s.getColDef().lockPosition);n<t&&(r=!1),t=n}),r}doesMovePassMarryChildren(e){let t=!0;return Xs(null,this.gridBalancedTree,r=>{if(!(r instanceof vr))return;const i=r,s=i.getColGroupDef();if(!(s&&s.marryChildren))return;const o=[];i.getLeafColumns().forEach(h=>{const d=e.indexOf(h);o.push(d)});const a=Math.max.apply(Math,o),u=Math.min.apply(Math,o),l=a-u,c=i.getLeafColumns().length-1;l>c&&(t=!1)}),t}moveColumnByIndex(e,t,r){if(!this.gridColumns)return;const i=this.gridColumns[e];this.moveColumns([i],t,r)}getColumnDefs(){if(!this.primaryColumns)return;const e=this.primaryColumns.slice();return this.gridColsArePrimary?e.sort((t,r)=>this.gridColumns.indexOf(t)-this.gridColumns.indexOf(r)):this.lastPrimaryOrder&&e.sort((t,r)=>this.lastPrimaryOrder.indexOf(t)-this.lastPrimaryOrder.indexOf(r)),this.columnDefFactory.buildColumnDefs(e,this.rowGroupColumns,this.pivotColumns)}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}updateBodyWidths(){const e=this.getWidthOfColsInList(this.displayedColumnsCenter),t=this.getWidthOfColsInList(this.displayedColumnsLeft),r=this.getWidthOfColsInList(this.displayedColumnsRight);if(this.bodyWidthDirty=this.bodyWidth!==e,this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==r){this.bodyWidth=e,this.leftWidth=t,this.rightWidth=r;const s={type:$.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED};this.eventService.dispatchEvent(s);const n={type:$.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED};this.eventService.dispatchEvent(n)}}getValueColumns(){return this.valueColumns?this.valueColumns:[]}getPivotColumns(){return this.pivotColumns?this.pivotColumns:[]}isPivotActive(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode}getRowGroupColumns(){return this.rowGroupColumns?this.rowGroupColumns:[]}getDisplayedCenterColumns(){return this.displayedColumnsCenter}getDisplayedLeftColumns(){return this.displayedColumnsLeft}getDisplayedRightColumns(){return this.displayedColumnsRight}getAllPrimaryColumns(){return this.primaryColumns?this.primaryColumns:null}getSecondaryColumns(){return this.secondaryColumns?this.secondaryColumns:null}getAllColumnsForQuickFilter(){return this.columnsForQuickFilter}getAllGridColumns(){var e;return(e=this.gridColumns)!=null?e:[]}isRowGroupEmpty(){return Zi(this.rowGroupColumns)}setColumnsVisible(e,t=!1,r){this.applyColumnState({state:e.map(i=>({colId:typeof i=="string"?i:i.getColId(),hide:!t}))},r)}setColumnsPinned(e,t,r){if(!this.gridColumns)return;if(this.gos.isDomLayout("print")){console.warn("AG Grid: Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let i;t===!0||t==="left"?i="left":t==="right"?i="right":i=null,this.actionOnGridColumns(e,s=>s.getPinned()!==i?(s.setPinned(i),!0):!1,r,()=>({type:$.EVENT_COLUMN_PINNED,pinned:i,column:null,columns:null,source:r})),this.columnAnimationService.finish()}actionOnGridColumns(e,t,r,i){if(Zi(e))return;const s=[];if(e.forEach(n=>{if(!n)return;const o=this.getGridColumn(n);if(!o)return;t(o)!==!1&&s.push(o)}),!!s.length&&(this.updateDisplayedColumns(r),ve(i)&&i)){const n=i();n.columns=s,n.column=s.length===1?s[0]:null,this.eventService.dispatchEvent(n)}}getDisplayedColBefore(e){const t=this.getAllDisplayedColumns(),r=t.indexOf(e);return r>0?t[r-1]:null}getDisplayedColAfter(e){const t=this.getAllDisplayedColumns(),r=t.indexOf(e);return r<t.length-1?t[r+1]:null}getDisplayedGroupAtDirection(e,t){const r=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),s=t==="After"?Tt(i):i[0],n=`getDisplayedCol${t}`;for(;;){const o=this[n](s);if(!o)return null;const a=this.getColumnGroupAtLevel(o,r);if(a!==e)return a}}getColumnGroupAtLevel(e,t){let r=e.getParent(),i,s;for(;i=r.getProvidedColumnGroup().getLevel(),s=r.getPaddingLevel(),!(i+s<=t);)r=r.getParent();return r}isPinningLeft(){return this.displayedColumnsLeft.length>0}isPinningRight(){return this.displayedColumnsRight.length>0}getPrimaryAndSecondaryAndAutoColumns(){return[].concat(this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[])}createStateItemFromColumn(e){const t=e.isRowGroupActive()?this.rowGroupColumns.indexOf(e):null,r=e.isPivotActive()?this.pivotColumns.indexOf(e):null,i=e.isValueActive()?e.getAggFunc():null,s=e.getSort()!=null?e.getSort():null,n=e.getSortIndex()!=null?e.getSortIndex():null,o=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:s,sortIndex:n,aggFunc:i,rowGroup:e.isRowGroupActive(),rowGroupIndex:t,pivot:e.isPivotActive(),pivotIndex:r,flex:o}}getColumnState(){if(tt(this.primaryColumns)||!this.isAlive())return[];const t=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(t),t}orderColumnStateList(e){const t=An(this.gridColumns.map((r,i)=>[r.getColId(),i]));e.sort((r,i)=>{const s=t.has(r.colId)?t.get(r.colId):-1,n=t.has(i.colId)?t.get(i.colId):-1;return s-n})}resetColumnState(e){if(Zi(this.primaryColumns))return;const t=this.getColumnsFromTree(this.primaryColumnTree),r=[];let i=1e3,s=1e3,n=[];this.groupAutoColumns&&(n=n.concat(this.groupAutoColumns)),t&&(n=n.concat(t)),n.forEach(o=>{const a=this.getColumnStateFromColDef(o);tt(a.rowGroupIndex)&&a.rowGroup&&(a.rowGroupIndex=i++),tt(a.pivotIndex)&&a.pivot&&(a.pivotIndex=s++),r.push(a)}),this.applyColumnState({state:r,applyOrder:!0},e)}getColumnStateFromColDef(e){const t=(g,v)=>g??v??null,r=e.getColDef(),i=t(r.sort,r.initialSort),s=t(r.sortIndex,r.initialSortIndex),n=t(r.hide,r.initialHide),o=t(r.pinned,r.initialPinned),a=t(r.width,r.initialWidth),u=t(r.flex,r.initialFlex);let l=t(r.rowGroupIndex,r.initialRowGroupIndex),c=t(r.rowGroup,r.initialRowGroup);l==null&&(c==null||c==!1)&&(l=null,c=null);let h=t(r.pivotIndex,r.initialPivotIndex),d=t(r.pivot,r.initialPivot);h==null&&(d==null||d==!1)&&(h=null,d=null);const p=t(r.aggFunc,r.initialAggFunc);return{colId:e.getColId(),sort:i,sortIndex:s,hide:n,pinned:o,width:a,flex:u,rowGroup:c,rowGroupIndex:l,pivot:d,pivotIndex:h,aggFunc:p}}applyColumnState(e,t){if(Zi(this.primaryColumns))return!1;if(e&&e.state&&!e.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const r=(n,o,a)=>{const u=this.compareColumnStatesAndDispatchEvents(t);this.autoGroupsNeedBuilding=!0;const l=o.slice(),c={},h={},d=[],p=[];let g=0;const v=this.rowGroupColumns.slice(),f=this.pivotColumns.slice();n.forEach(_=>{const A=_.colId||"";if(A.startsWith(Ja)){d.push(_),p.push(_);return}const G=a(A);G?(this.syncColumnWithStateItem(G,_,e.defaultState,c,h,!1,t),yi(l,G)):(p.push(_),g+=1)});const y=_=>this.syncColumnWithStateItem(_,null,e.defaultState,c,h,!1,t);l.forEach(y);const m=(_,A,F,G)=>{const L=_[F.getId()],O=_[G.getId()],V=L!=null,z=O!=null;if(V&&z)return L-O;if(V)return-1;if(z)return 1;const H=A.indexOf(F),T=A.indexOf(G),M=H>=0,x=T>=0;return M&&x?H-T:M?-1:1};this.rowGroupColumns.sort(m.bind(this,c,v)),this.pivotColumns.sort(m.bind(this,h,f)),this.updateGridColumns();const w=this.groupAutoColumns?this.groupAutoColumns.slice():[];return d.forEach(_=>{const A=this.getAutoColumn(_.colId);yi(w,A),this.syncColumnWithStateItem(A,_,e.defaultState,null,null,!0,t)}),w.forEach(y),this.applyOrderAfterApplyState(e),this.updateDisplayedColumns(t),this.dispatchEverythingChanged(t),u(),{unmatchedAndAutoStates:p,unmatchedCount:g}};this.columnAnimationService.start();let{unmatchedAndAutoStates:i,unmatchedCount:s}=r(e.state||[],this.primaryColumns||[],n=>this.getPrimaryColumn(n));return(i.length>0||ve(e.defaultState))&&(s=r(i,this.secondaryColumns||[],n=>this.getSecondaryColumn(n)).unmatchedCount),this.columnAnimationService.finish(),s===0}applyOrderAfterApplyState(e){if(!e.applyOrder||!e.state)return;let t=[];const r={};e.state.forEach(s=>{if(!s.colId||r[s.colId])return;const n=this.gridColumnsMap[s.colId];n&&(t.push(n),r[s.colId]=!0)});let i=0;if(this.gridColumns.forEach(s=>{const n=s.getColId();if(r[n]!=null)return;n.startsWith(Ja)?ku(t,s,i++):t.push(s)}),t=this.placeLockedColumns(t),!this.doesMovePassMarryChildren(t)){console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.gridColumns=t}compareColumnStatesAndDispatchEvents(e){const t={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},r=this.getColumnState(),i={};return r.forEach(s=>{i[s.colId]=s}),()=>{const s=this.getPrimaryAndSecondaryAndAutoColumns(),n=(v,f,y,m)=>{const w=f.map(m),_=y.map(m);if(Ns(w,_))return;const F=new Set(f);y.forEach(O=>{F.delete(O)||F.add(O)});const G=[...F],L={type:v,columns:G,column:G.length===1?G[0]:null,source:e};this.eventService.dispatchEvent(L)},o=v=>{const f=[];return s.forEach(y=>{const m=i[y.getColId()];m&&v(m,y)&&f.push(y)}),f},a=v=>v.getColId();n($.EVENT_COLUMN_ROW_GROUP_CHANGED,t.rowGroupColumns,this.rowGroupColumns,a),n($.EVENT_COLUMN_PIVOT_CHANGED,t.pivotColumns,this.pivotColumns,a);const l=o((v,f)=>{const y=v.aggFunc!=null,m=y!=f.isValueActive(),w=y&&v.aggFunc!=f.getAggFunc();return m||w});l.length>0&&this.dispatchColumnChangedEvent($.EVENT_COLUMN_VALUE_CHANGED,l,e);const c=(v,f)=>v.width!=f.getActualWidth();this.dispatchColumnResizedEvent(o(c),!0,e);const h=(v,f)=>v.pinned!=f.getPinned();this.dispatchColumnPinnedEvent(o(h),e);const d=(v,f)=>v.hide==f.isVisible();this.dispatchColumnVisibleEvent(o(d),e);const g=o((v,f)=>v.sort!=f.getSort()||v.sortIndex!=f.getSortIndex());g.length>0&&this.sortController.dispatchSortChangedEvents(e,g),this.normaliseColumnMovedEventForColumnState(r,e)}}getCommonValue(e,t){if(!e||e.length==0)return;const r=t(e[0]);for(let i=1;i<e.length;i++)if(r!==t(e[i]))return;return r}normaliseColumnMovedEventForColumnState(e,t){const r=this.getColumnState(),i={};r.forEach(u=>i[u.colId]=u);const s={};e.forEach(u=>{i[u.colId]&&(s[u.colId]=!0)});const n=e.filter(u=>s[u.colId]),o=r.filter(u=>s[u.colId]),a=[];o.forEach((u,l)=>{const c=n&&n[l];if(c&&c.colId!==u.colId){const h=this.getGridColumn(c.colId);h&&a.push(h)}}),a.length&&this.dispatchColumnMovedEvent({movedColumns:a,source:t,finished:!0})}syncColumnWithStateItem(e,t,r,i,s,n,o){var a;if(!e)return;const u=(_,A)=>{const F={value1:void 0,value2:void 0};let G=!1;return t&&(t[_]!==void 0&&(F.value1=t[_],G=!0),ve(A)&&t[A]!==void 0&&(F.value2=t[A],G=!0)),!G&&r&&(r[_]!==void 0&&(F.value1=r[_]),ve(A)&&r[A]!==void 0&&(F.value2=r[A])),F},l=u("hide").value1;l!==void 0&&e.setVisible(!l,o);const c=u("pinned").value1;c!==void 0&&e.setPinned(c);const h=(a=e.getColDef().minWidth)!=null?a:this.environment.getMinColWidth(),d=u("flex").value1;if(d!==void 0&&e.setFlex(d),d==null){const _=u("width").value1;_!=null&&h!=null&&_>=h&&e.setActualWidth(_,o)}const p=u("sort").value1;p!==void 0&&(p==="desc"||p==="asc"?e.setSort(p,o):e.setSort(void 0,o));const g=u("sortIndex").value1;if(g!==void 0&&e.setSortIndex(g),n||!e.isPrimary())return;const v=u("aggFunc").value1;v!==void 0&&(typeof v=="string"?(e.setAggFunc(v),e.isValueActive()||(e.setValueActive(!0,o),this.valueColumns.push(e))):(ve(v)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,o),yi(this.valueColumns,e))));const{value1:f,value2:y}=u("rowGroup","rowGroupIndex");(f!==void 0||y!==void 0)&&(typeof y=="number"||f?(e.isRowGroupActive()||(e.setRowGroupActive(!0,o),this.rowGroupColumns.push(e)),i&&typeof y=="number"&&(i[e.getId()]=y)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,o),yi(this.rowGroupColumns,e)));const{value1:m,value2:w}=u("pivot","pivotIndex");(m!==void 0||w!==void 0)&&(typeof w=="number"||m?(e.isPivotActive()||(e.setPivotActive(!0,o),this.pivotColumns.push(e)),s&&typeof w=="number"&&(s[e.getId()]=w)):e.isPivotActive()&&(e.setPivotActive(!1,o),yi(this.pivotColumns,e)))}getGridColumns(e){return this.getColumns(e,this.getGridColumn.bind(this))}getColumns(e,t){const r=[];return e&&e.forEach(i=>{const s=t(i);s&&r.push(s)}),r}getColumnWithValidation(e){if(e==null)return null;const t=this.getGridColumn(e);return t||console.warn("AG Grid: could not find column "+e),t}getPrimaryColumn(e){return this.primaryColumns?this.getColumn(e,this.primaryColumns,this.primaryColumnsMap):null}getGridColumn(e){return this.getColumn(e,this.gridColumns,this.gridColumnsMap)}lookupGridColumn(e){return this.gridColumnsMap[e]}getSecondaryColumn(e){return this.secondaryColumns?this.getColumn(e,this.secondaryColumns,this.secondaryColumnsMap):null}getColumn(e,t,r){if(!e||!r)return null;if(typeof e=="string"&&r[e])return r[e];for(let i=0;i<t.length;i++)if(this.columnsMatch(t[i],e))return t[i];return this.getAutoColumn(e)}getSourceColumnsForGroupColumn(e){const t=e.getColDef().showRowGroup;if(!t)return null;if(t===!0)return this.rowGroupColumns.slice(0);const r=this.getPrimaryColumn(t);return r?[r]:null}getAutoColumn(e){return!this.groupAutoColumns||!ve(this.groupAutoColumns)||tt(this.groupAutoColumns)?null:this.groupAutoColumns.find(t=>this.columnsMatch(t,e))||null}columnsMatch(e,t){const r=e===t,i=e.getColDef()===t,s=e.getColId()==t;return r||i||s}getDisplayNameForColumn(e,t,r=!1){if(!e)return null;const i=this.getHeaderName(e.getColDef(),e,null,null,t);return r?this.wrapHeaderNameWithAggFunc(e,i):i}getDisplayNameForProvidedColumnGroup(e,t,r){const i=t?t.getColGroupDef():null;return i?this.getHeaderName(i,null,e,t,r):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,r,i,s){const n=e.headerValueGetter;if(n){const o=this.gos.addGridCommonParams({colDef:e,column:t,columnGroup:r,providedColumnGroup:i,location:s});return typeof n=="function"?n(o):typeof n=="string"?this.expressionService.evaluate(n,o):(console.warn("AG Grid: headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return rS(e.field)}return""}wrapHeaderNameWithAggFunc(e,t){if(this.gos.get("suppressAggFuncInHeader"))return t;const r=e.getColDef().pivotValueColumn,i=ve(r);let s=null,n;if(i){const o=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&this.valueColumns.length===1,a=e.getColDef().pivotTotalColumnIds!==void 0;if(o&&!a)return t;s=r?r.getAggFunc():null,n=!0}else{const o=e.isValueActive(),a=this.pivotMode||!this.isRowGroupEmpty();o&&a?(s=e.getAggFunc(),n=!0):n=!1}if(n){const o=typeof s=="string"?s:"func";return`${this.localeService.getLocaleTextFunc()(o,o)}(${t})`}return t}getColumnGroup(e,t){if(!e)return null;if(e instanceof Mr)return e;const r=this.getAllDisplayedTrees(),i=typeof t=="number";let s=null;return po(r,!1,n=>{if(n instanceof Mr){const o=n;let a;i?a=e===o.getGroupId()&&t===o.getPartId():a=e===o.getGroupId(),a&&(s=o)}}),s}isReady(){return this.ready}extractValueColumns(e,t){this.valueColumns=this.extractColumns(t,this.valueColumns,(r,i)=>r.setValueActive(i,e),()=>{},()=>{},r=>{const i=r.aggFunc;if(i===null||i==="")return null;if(i!==void 0)return!!i},r=>r.initialAggFunc!=null&&r.initialAggFunc!=""),this.valueColumns.forEach(r=>{const i=r.getColDef();i.aggFunc!=null&&i.aggFunc!=""?r.setAggFunc(i.aggFunc):r.getAggFunc()||r.setAggFunc(i.initialAggFunc)})}extractRowGroupColumns(e,t){this.rowGroupColumns=this.extractColumns(t,this.rowGroupColumns,(r,i)=>r.setRowGroupActive(i,e),r=>r.rowGroupIndex,r=>r.initialRowGroupIndex,r=>r.rowGroup,r=>r.initialRowGroup)}extractColumns(e=[],t=[],r,i,s,n,o){const a=[],u=[];(this.primaryColumns||[]).forEach(h=>{const d=e.indexOf(h)<0,p=h.getColDef(),g=hh(n(p)),v=hh(o(p)),f=Hn(i(p)),y=Hn(s(p));let m;g!==void 0?m=g:f!==void 0?f===null?m=!1:m=f>=0:d?v!==void 0?m=v:y!==void 0?m=y!=null&&y>=0:m=!1:m=t.indexOf(h)>=0,m&&((d?f!=null||y!=null:f!=null)?a.push(h):u.push(h))});const l=h=>{const d=i(h.getColDef()),p=s(h.getColDef());return d??p};a.sort((h,d)=>{const p=l(h),g=l(d);return p===g?0:p<g?-1:1});const c=[].concat(a);return t.forEach(h=>{u.indexOf(h)>=0&&c.push(h)}),u.forEach(h=>{c.indexOf(h)<0&&c.push(h)}),t.forEach(h=>{c.indexOf(h)<0&&r(h,!1)}),c.forEach(h=>{t.indexOf(h)<0&&r(h,!0)}),c}extractPivotColumns(e,t){this.pivotColumns=this.extractColumns(t,this.pivotColumns,(r,i)=>r.setPivotActive(i,e),r=>r.pivotIndex,r=>r.initialPivotIndex,r=>r.pivot,r=>r.initialPivot)}resetColumnGroupState(e){if(!this.primaryColumnTree)return;const t=[];Xs(null,this.primaryColumnTree,r=>{if(r instanceof vr){const i=r.getColGroupDef(),s={groupId:r.getGroupId(),open:i?i.openByDefault:void 0};t.push(s)}}),this.setColumnGroupState(t,e)}getColumnGroupState(){const e=[];return Xs(null,this.gridBalancedTree,t=>{t instanceof vr&&e.push({groupId:t.getGroupId(),open:t.isExpanded()})}),e}setColumnGroupState(e,t){if(!this.gridBalancedTree)return;this.columnAnimationService.start();const r=[];if(e.forEach(i=>{const s=i.groupId,n=i.open,o=this.getProvidedColumnGroup(s);o&&o.isExpanded()!==n&&(this.logger.log("columnGroupOpened("+o.getGroupId()+","+n+")"),o.setExpanded(n),r.push(o))}),this.updateGroupsAndDisplayedColumns(t),this.setFirstRightAndLastLeftPinned(t),r.length){const i={type:$.EVENT_COLUMN_GROUP_OPENED,columnGroup:vr.length===1?r[0]:void 0,columnGroups:r};this.eventService.dispatchEvent(i)}this.columnAnimationService.finish()}setColumnGroupOpened(e,t,r){let i;e instanceof vr?i=e.getId():i=e||"",this.setColumnGroupState([{groupId:i,open:t}],r)}getProvidedColumnGroup(e){typeof e!="string"&&console.error("AG Grid: group key must be a string");let t=null;return Xs(null,this.gridBalancedTree,r=>{r instanceof vr&&r.getId()===e&&(t=r)}),t}calculateColumnsForDisplay(){let e;return this.pivotMode&&tt(this.secondaryColumns)?e=this.gridColumns.filter(t=>{const r=this.groupAutoColumns&&Wi(this.groupAutoColumns,t),i=this.valueColumns&&Wi(this.valueColumns,t);return r||i}):e=this.gridColumns.filter(t=>this.groupAutoColumns&&Wi(this.groupAutoColumns,t)||t.isVisible()),e}checkColSpanActiveInCols(e){let t=!1;return e.forEach(r=>{ve(r.getColDef().colSpan)&&(t=!0)}),t}calculateColumnsForGroupDisplay(){this.groupDisplayColumns=[],this.groupDisplayColumnsMap={};const e=t=>{const r=t.getColDef(),i=r.showRowGroup;r&&ve(i)&&(this.groupDisplayColumns.push(t),typeof i=="string"?this.groupDisplayColumnsMap[i]=t:i===!0&&this.getRowGroupColumns().forEach(s=>{this.groupDisplayColumnsMap[s.getId()]=t}))};this.gridColumns.forEach(e)}getGroupDisplayColumns(){return this.groupDisplayColumns}getGroupDisplayColumnForGroup(e){return this.groupDisplayColumnsMap[e]}updateDisplayedColumns(e){const t=this.calculateColumnsForDisplay();this.buildDisplayedTrees(t),this.updateGroupsAndDisplayedColumns(e),this.setFirstRightAndLastLeftPinned(e)}isSecondaryColumnsPresent(){return ve(this.secondaryColumns)}setSecondaryColumns(e,t){if(!this.gridColumns)return;const r=e;if(!(!r&&tt(this.secondaryColumns))){if(r){this.processSecondaryColumnDefinitions(e);const i=this.columnFactory.createColumnTree(e,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0,t);this.destroyOldColumns(this.secondaryBalancedTree,i.columnTree),this.secondaryBalancedTree=i.columnTree,this.secondaryHeaderRowCount=i.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(s=>this.secondaryColumnsMap[s.getId()]=s),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(t)}}processSecondaryColumnDefinitions(e){const t=this.gos.get("processPivotResultColDef"),r=this.gos.get("processPivotResultColGroupDef");if(!t&&!r)return;const i=s=>{s.forEach(n=>{if(ve(n.children)){const a=n;r&&r(a),i(a.children)}else t&&t(n)})};e&&i(e)}updateGridColumns(){const e=this.gridBalancedTree;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.createGroupAutoColumnsIfNeeded()){const i=An(this.groupAutoColumns.map(s=>[s,!0]));this.lastPrimaryOrder&&(this.lastPrimaryOrder=this.lastPrimaryOrder.filter(s=>!i.has(s)),this.lastPrimaryOrder=[...this.groupAutoColumns,...this.lastPrimaryOrder]),this.lastSecondaryOrder&&(this.lastSecondaryOrder=this.lastSecondaryOrder.filter(s=>!i.has(s)),this.lastSecondaryOrder=[...this.groupAutoColumns,...this.lastSecondaryOrder])}let r;if(this.secondaryColumns&&this.secondaryBalancedTree){const i=this.secondaryColumns.some(s=>this.gridColumnsMap[s.getColId()]!==void 0);this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,i&&(r=this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,r=this.lastPrimaryOrder);if(this.addAutoGroupToGridColumns(),this.orderGridColsLike(r),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.calculateColumnsForGroupDisplay(),this.refreshQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(i=>this.gridColumnsMap[i.getId()]=i),this.setAutoHeightActive(),!Ns(e,this.gridBalancedTree)){const i={type:$.EVENT_GRID_COLUMNS_CHANGED};this.eventService.dispatchEvent(i)}}setAutoHeightActive(){this.autoHeightActive=this.gridColumns.filter(e=>e.isAutoHeight()).length>0,this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,this.gos.isRowModelType("clientSide")||this.gos.isRowModelType("serverSide")||We("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}orderGridColsLike(e){if(tt(e))return;const t=An(e.map((u,l)=>[u,l]));let r=!0;if(this.gridColumns.forEach(u=>{t.has(u)&&(r=!1)}),r)return;const i=An(this.gridColumns.map(u=>[u,!0])),s=e.filter(u=>i.has(u)),n=An(s.map(u=>[u,!0])),o=this.gridColumns.filter(u=>!n.has(u)),a=s.slice();o.forEach(u=>{let l=u.getOriginalParent();if(!l){a.push(u);return}const c=[];for(;!c.length&&l;)l.getLeafColumns().forEach(g=>{const v=a.indexOf(g)>=0,f=c.indexOf(g)<0;v&&f&&c.push(g)}),l=l.getOriginalParent();if(!c.length){a.push(u);return}const h=c.map(p=>a.indexOf(p)),d=Math.max(...h);ku(a,u,d+1)}),this.gridColumns=a}isPrimaryColumnGroupsPresent(){return this.primaryHeaderRowCount>1}refreshQuickFilterColumns(){var e;let t=(e=this.isPivotMode()&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?this.secondaryColumns:this.primaryColumns)!=null?e:[];this.groupAutoColumns&&(t=t.concat(this.groupAutoColumns)),this.columnsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?t:t.filter(r=>r.isVisible()||r.isRowGroupActive())}placeLockedColumns(e){const t=[],r=[],i=[];return e.forEach(s=>{const n=s.getColDef().lockPosition;n==="right"?i.push(s):n==="left"||n===!0?t.push(s):r.push(s)}),[...t,...r,...i]}addAutoGroupToGridColumns(){if(tt(this.groupAutoColumns)){this.destroyOldColumns(this.groupAutoColsBalancedTree),this.groupAutoColsBalancedTree=null;return}this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;const e=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.destroyOldColumns(this.groupAutoColsBalancedTree,e),this.groupAutoColsBalancedTree=e,this.gridBalancedTree=e.concat(this.gridBalancedTree)}clearDisplayedAndViewportColumns(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.ariaOrderColumns=[],this.viewportColumns=[],this.headerViewportColumns=[],this.viewportColumnsHash=""}updateGroupsAndDisplayedColumns(e){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(e),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths();const t={type:$.EVENT_DISPLAYED_COLUMNS_CHANGED};this.eventService.dispatchEvent(t)}deriveDisplayedColumns(e){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinColumnsAriaOrder(),this.joinDisplayedColumns(),this.setLeftValues(e),this.displayedAutoHeightCols=this.displayedColumns.filter(t=>t.isAutoHeight())}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}joinColumnsAriaOrder(){const e=this.getAllGridColumns(),t=[],r=[],i=[];for(const s of e){const n=s.getPinned();n?n===!0||n==="left"?t.push(s):i.push(s):r.push(s)}this.ariaOrderColumns=t.concat(r).concat(i)}joinDisplayedColumns(){this.gos.get("enableRtl")?this.displayedColumns=this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumns=this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)}setLeftValues(e){this.setLeftValuesOfColumns(e),this.setLeftValuesOfGroups()}setLeftValuesOfColumns(e){if(!this.primaryColumns)return;const t=this.getPrimaryAndSecondaryAndAutoColumns().slice(0),r=this.gos.get("enableRtl");[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(i=>{if(r){let s=this.getWidthOfColsInList(i);i.forEach(n=>{s-=n.getActualWidth(),n.setLeft(s,e)})}else{let s=0;i.forEach(n=>{n.setLeft(s,e),s+=n.getActualWidth()})}$1(t,i)}),t.forEach(i=>{i.setLeft(null,e)})}setLeftValuesOfGroups(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(e=>{e.forEach(t=>{t instanceof Mr&&t.checkLeft()})})}derivedDisplayedColumnsFromDisplayedTree(e,t){t.length=0,po(e,!0,r=>{r instanceof Wt&&t.push(r)})}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}extractViewportColumns(){this.isColumnVirtualisationSuppressed()?(this.viewportColumnsCenter=this.displayedColumnsCenter,this.headerViewportColumnsCenter=this.displayedColumnsCenter):(this.viewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInRowViewport.bind(this)),this.headerViewportColumnsCenter=this.displayedColumnsCenter.filter(this.isColumnInHeaderViewport.bind(this))),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight),this.headerViewportColumns=this.headerViewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)}getVirtualHeaderGroupRow(e,t){let r;switch(e){case"left":r=this.viewportRowLeft[t];break;case"right":r=this.viewportRowRight[t];break;default:r=this.viewportRowCenter[t];break}return tt(r)&&(r=[]),r}calculateHeaderRows(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};const e={};this.headerViewportColumns.forEach(r=>e[r.getId()]=!0);const t=(r,i,s)=>{let n=!1;for(let o=0;o<r.length;o++){const a=r[o];let u=!1;if(a instanceof Wt)u=e[a.getId()]===!0;else{const c=a.getDisplayedChildren();c&&(u=t(c,i,s+1))}u&&(n=!0,i[s]||(i[s]=[]),i[s].push(a))}return n};t(this.displayedTreeLeft,this.viewportRowLeft,0),t(this.displayedTreeRight,this.viewportRowRight,0),t(this.displayedTreeCentre,this.viewportRowCenter,0)}extractViewport(){const e=i=>`${i.getId()}-${i.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.viewportColumns.map(e).join("#"),r=this.viewportColumnsHash!==t;return r&&(this.viewportColumnsHash=t,this.calculateHeaderRows()),r}refreshFlexedColumns(e={}){var t;const r=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];let i=-1;if(e.resizingCols){const d=new Set(e.resizingCols);let p=this.displayedColumnsCenter;for(let g=p.length-1;g>=0;g--)if(d.has(p[g])){i=g;break}}let s=0,n=[],o=0,a=0;for(let d=0;d<this.displayedColumnsCenter.length;d++)this.displayedColumnsCenter[d].getFlex()&&d>i?(n.push(this.displayedColumnsCenter[d]),a+=this.displayedColumnsCenter[d].getFlex(),o+=(t=this.displayedColumnsCenter[d].getMinWidth())!=null?t:0):s+=this.displayedColumnsCenter[d].getActualWidth();if(!n.length)return[];let u=[];s+o>this.flexViewportWidth&&(n.forEach(d=>{var p;return d.setActualWidth((p=d.getMinWidth())!=null?p:0,r)}),u=n,n=[]);const l=[];let c;e:for(;;){c=this.flexViewportWidth-s;const d=c/a;for(let p=0;p<n.length;p++){const g=n[p],v=d*g.getFlex();let f=0;const y=g.getMinWidth(),m=g.getMaxWidth();if(ve(y)&&v<y?f=y:ve(m)&&v>m&&(f=m),f){g.setActualWidth(f,r),Sv(n,g),a-=g.getFlex(),u.push(g),s+=g.getActualWidth();continue e}l[p]=Math.round(v)}break}let h=c;return n.forEach((d,p)=>{d.setActualWidth(Math.min(l[p],h),r),u.push(d),h-=l[p]}),e.skipSetLeft||this.setLeftValues(r),e.updateBodyWidths&&this.updateBodyWidths(),e.fireResizedEvent&&this.dispatchColumnResizedEvent(u,!0,r,n),n}sizeColumnsToFit(e,t="sizeColumnsToFit",r,i){var s,n,o,a,u;if(this.shouldQueueResizeOperations){this.resizeOperationQueue.push(()=>this.sizeColumnsToFit(e,t,r,i));return}const l={};i&&((s=i==null?void 0:i.columnLimits)==null||s.forEach(y=>{var m=y,{key:w}=m,_=jR(m,["key"]);l[typeof w=="string"?w:w.getColId()]=_}));const c=this.getAllDisplayedColumns(),h=e===this.getWidthOfColsInList(c);if(e<=0||!c.length||h)return;const d=[],p=[];c.forEach(y=>{y.getColDef().suppressSizeToFit===!0?p.push(y):d.push(y)});const g=d.slice(0);let v=!1;const f=y=>{yi(d,y),p.push(y)};for(d.forEach(y=>{var m,w;y.resetActualWidth(t);const _=l==null?void 0:l[y.getId()],A=(m=_==null?void 0:_.minWidth)!=null?m:i==null?void 0:i.defaultMinWidth,F=(w=_==null?void 0:_.maxWidth)!=null?w:i==null?void 0:i.defaultMaxWidth,G=y.getActualWidth();typeof A=="number"&&G<A?y.setActualWidth(A,t,!0):typeof F=="number"&&G>F&&y.setActualWidth(F,t,!0)});!v;){v=!0;const y=e-this.getWidthOfColsInList(p);if(y<=0)d.forEach(m=>{var w,_;const A=(_=(w=l==null?void 0:l[m.getId()])==null?void 0:w.minWidth)!=null?_:i==null?void 0:i.defaultMinWidth;if(typeof A=="number"){m.setActualWidth(A,t,!0);return}m.setMinimum(t)});else{const m=y/this.getWidthOfColsInList(d);let w=y;for(let _=d.length-1;_>=0;_--){const A=d[_],F=l==null?void 0:l[A.getId()],G=(n=F==null?void 0:F.minWidth)!=null?n:i==null?void 0:i.defaultMinWidth,L=(o=F==null?void 0:F.maxWidth)!=null?o:i==null?void 0:i.defaultMaxWidth,O=(a=A.getMinWidth())!=null?a:0,V=(u=A.getMaxWidth())!=null?u:Number.MAX_VALUE,z=typeof G=="number"&&G>O?G:A.getMinWidth(),H=typeof L=="number"&&L<V?L:A.getMaxWidth();let T=Math.round(A.getActualWidth()*m);ve(z)&&T<z?(T=z,f(A),v=!1):ve(H)&&T>H?(T=H,f(A),v=!1):_===0&&(T=w),A.setActualWidth(T,t,!0),w-=T}}}g.forEach(y=>{y.fireColumnWidthChangedEvent(t)}),this.setLeftValues(t),this.updateBodyWidths(),!r&&this.dispatchColumnResizedEvent(g,!0,t)}buildDisplayedTrees(e){const t=[],r=[],i=[];e.forEach(n=>{switch(n.getPinned()){case"left":t.push(n);break;case"right":r.push(n);break;default:i.push(n);break}});const s=new eS;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(t,s,"left",this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(r,s,"right",this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(i,s,null,this.displayedTreeCentre),this.updateDisplayedMap()}updateDisplayedMap(){this.displayedColumnsAndGroupsMap={};const e=t=>{this.displayedColumnsAndGroupsMap[t.getUniqueId()]=t};po(this.displayedTreeCentre,!1,e),po(this.displayedTreeLeft,!1,e),po(this.displayedTreeRight,!1,e)}isDisplayed(e){return this.displayedColumnsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){const e=this.getAllDisplayedTrees();po(e,!1,t=>{t instanceof Mr&&t.calculateDisplayedColumns()})}getGroupAutoColumns(){return this.groupAutoColumns}createGroupAutoColumnsIfNeeded(){const e=this.forceRecreateAutoGroups;if(this.forceRecreateAutoGroups=!1,!this.autoGroupsNeedBuilding)return!1;this.autoGroupsNeedBuilding=!1;const t=this.gos.isGroupUseEntireRow(this.pivotMode),r=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isGroupSuppressAutoColumn();if((this.rowGroupColumns.length>0||this.gos.get("treeData"))&&!r&&!t){const n=this.autoGroupColService.createAutoGroupColumns(this.rowGroupColumns);if(!this.autoColsEqual(n,this.groupAutoColumns)||e)return this.groupAutoColumns=n,!0}else this.groupAutoColumns=null;return!1}isGroupSuppressAutoColumn(){return this.gos.get("groupDisplayType")==="custom"?!0:this.gos.get("treeDataDisplayType")==="custom"}autoColsEqual(e,t){return Ns(e,t,(r,i)=>r.getColId()===i.getColId())}getWidthOfColsInList(e){return e.reduce((t,r)=>t+r.getActualWidth(),0)}getFirstDisplayedColumn(){const e=this.gos.get("enableRtl"),t=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];e&&t.reverse();for(let r=0;r<t.length;r++){const i=this[t[r]]();if(i.length)return e?Tt(i):i[0]}return null}setColumnHeaderHeight(e,t){if(e.setAutoHeaderHeight(t)){const i={type:$.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,column:e,columns:[e],source:"autosizeColumnHeaderHeight"};this.eventService.dispatchEvent(i)}}getColumnGroupHeaderRowHeight(){return this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight()}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),t=this.getAllDisplayedColumns().filter(r=>r.isAutoHeaderHeight()).map(r=>r.getAutoHeaderHeight()||0);return Math.max(e,...t)}getHeaderHeight(){var e;return(e=this.gos.get("headerHeight"))!=null?e:this.environment.getFromTheme(25,"headerHeight")}getFloatingFiltersHeight(){var e;return(e=this.gos.get("floatingFiltersHeight"))!=null?e:this.getHeaderHeight()}getGroupHeaderHeight(){var e;return(e=this.gos.get("groupHeaderHeight"))!=null?e:this.getHeaderHeight()}getPivotHeaderHeight(){var e;return(e=this.gos.get("pivotHeaderHeight"))!=null?e:this.getHeaderHeight()}getPivotGroupHeaderHeight(){var e;return(e=this.gos.get("pivotGroupHeaderHeight"))!=null?e:this.getGroupHeaderHeight()}queueResizeOperations(){this.shouldQueueResizeOperations=!0}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}resetColumnDefIntoColumn(e,t){const r=e.getUserProvidedColDef();if(!r)return!1;const i=this.columnFactory.addColumnDefaultAndTypes(r,e.getColId());return e.setColDef(i,r,t),!0}isColumnGroupingLocked(e){const t=this.gos.get("groupLockGroupColumns");if(!e.isRowGroupActive()||t===0)return!1;if(t===-1)return!0;const r=this.rowGroupColumns.findIndex(i=>i.getColId()===e.getColId());return t>r}generateColumnStateForRowGroupAndPivotIndexes(e,t){let r={};const i=(s,n,o,a,u,l)=>{if(!n.length||!this.primaryColumns)return[];const c=Object.keys(s),h=new Set(c),d=new Set(c),p=new Set(n.map(A=>{const F=A.getColId();return d.delete(F),F}).concat(c)),g=[],v={};let f=0;for(let A=0;A<this.primaryColumns.length;A++){const F=this.primaryColumns[A].getColId();p.has(F)&&(g.push(F),v[F]=f++)}let y=1e3,m=!1,w=0;const _=A=>{const F=v[A];for(let G=w;G<F;G++){const L=g[G];d.has(L)&&(s[L][u]=y++,d.delete(L))}w=F};n.forEach(A=>{const F=A.getColId();if(h.has(F))_(F),s[F][u]=y++;else{const G=A.getColDef();(G[u]===null||G[u]===void 0&&G[l]==null)&&(m||(G[o]||G[o]===void 0&&G[a]?_(F):(d.forEach(V=>{s[V][u]=y+v[V]}),y+=g.length,m=!0)),r[F]||(r[F]={colId:F}),r[F][u]=y++)}})};return i(e,this.rowGroupColumns,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),i(t,this.pivotColumns,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(r)}onColumnsReady(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:r,defaultMinWidth:i,defaultMaxWidth:s}=e,n=r==null?void 0:r.map(({colId:o,minWidth:a,maxWidth:u})=>({key:o,minWidth:a,maxWidth:u}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:i,defaultMaxWidth:s,columnLimits:n})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:t,skipHeader:r}=e;setTimeout(()=>{t?this.autoSizeColumns({columns:t,skipHeader:r,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",r)})}};B([q("expressionService")],Nr.prototype,"expressionService",2);B([q("columnFactory")],Nr.prototype,"columnFactory",2);B([q("displayedGroupCreator")],Nr.prototype,"displayedGroupCreator",2);B([q("ctrlsService")],Nr.prototype,"ctrlsService",2);B([q("autoWidthCalculator")],Nr.prototype,"autoWidthCalculator",2);B([q("columnAnimationService")],Nr.prototype,"columnAnimationService",2);B([q("autoGroupColService")],Nr.prototype,"autoGroupColService",2);B([q("valueCache")],Nr.prototype,"valueCache",2);B([q("animationFrameService")],Nr.prototype,"animationFrameService",2);B([q("sortController")],Nr.prototype,"sortController",2);B([q("columnDefFactory")],Nr.prototype,"columnDefFactory",2);B([Lt("aggFuncService")],Nr.prototype,"aggFuncService",2);B([we],Nr.prototype,"init",1);B([ui],Nr.prototype,"destroyColumns",1);B([ys(0,es("loggerFactory"))],Nr.prototype,"setBeans",1);Nr=B([ke("columnModel")],Nr);function ka(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function po(e,t,r){if(e)for(let i=0;i<e.length;i++){const s=e[i];if(s instanceof Mr){const n=t?s.getDisplayedChildren():s.getChildren();po(n,t,r)}r(s)}}var jg=class extends ye{createDisplayedGroups(e,t,r,i){const s=this.mapOldGroupsById(i),n=[];let o=e;for(;o.length;){const a=o;o=[];let u=0;const l=c=>{const h=u;u=c;const d=a[h],g=(d instanceof Mr?d.getProvidedColumnGroup():d).getOriginalParent();if(g==null){for(let f=h;f<c;f++)n.push(a[f]);return}const v=this.createColumnGroup(g,t,s,r);for(let f=h;f<c;f++)v.addChild(a[f]);o.push(v)};for(let c=1;c<a.length;c++){const h=a[c],p=(h instanceof Mr?h.getProvidedColumnGroup():h).getOriginalParent(),g=a[u],f=(g instanceof Mr?g.getProvidedColumnGroup():g).getOriginalParent();p!==f&&l(c)}u<a.length&&l(a.length)}return this.setupParentsIntoColumns(n,null),n}createColumnGroup(e,t,r,i){const s=e.getGroupId(),n=t.getInstanceIdForKey(s),o=Mr.createUniqueId(s,n);let a=r[o];return a&&a.getProvidedColumnGroup()!==e&&(a=null),ve(a)?a.reset():(a=new Mr(e,s,n,i),this.context.createBean(a)),a}mapOldGroupsById(e){const t={},r=i=>{i.forEach(s=>{if(s instanceof Mr){const n=s;t[s.getUniqueId()]=n,r(n.getChildren())}})};return e&&r(e),t}setupParentsIntoColumns(e,t){e.forEach(r=>{if(r.setParent(t),r instanceof Mr){const i=r;this.setupParentsIntoColumns(i.getChildren(),i)}})}};jg=B([ke("displayedGroupCreator")],jg);var hT={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,excludeHiddenColumnsFromQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,enableChartToolPanelsButton:!0,suppressChartToolPanelsButton:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressParentsInRowNodes:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,suppressAggAtRootLevel:!0,removePivotHeaderRowWhenSingleValueColumn:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,functionsPassive:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0},Er=class{};Er.STRING_PROPERTIES=["rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"];Er.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy"];Er.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];Er.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];Er.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","excludeHiddenColumnsFromQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterMovesDown","enterMovesDownAfterEdit","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","enableChartToolPanelsButton","suppressChartToolPanelsButton","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilterAllLevels","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval"];Er.OTHER_PROPERTIES=["suppressStickyTotalRow"];Er.FUNCTIONAL_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher"];Er.CALLBACK_PROPERTIES=["getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"];Er.FUNCTION_PROPERTIES=[...Er.FUNCTIONAL_PROPERTIES,...Er.CALLBACK_PROPERTIES];Er.ALL_PROPERTIES=[...Er.ARRAY_PROPERTIES,...Er.OBJECT_PROPERTIES,...Er.STRING_PROPERTIES,...Er.NUMBER_PROPERTIES,...Er.FUNCTION_PROPERTIES,...Er.BOOLEAN_PROPERTIES,...Er.OTHER_PROPERTIES];var Ou=Er,Hr=class xd{static getCallbackForEvent(t){return!t||t.length<2?t:"on"+t[0].toUpperCase()+t.substring(1)}static getGridOptionKeys(){return this.ALL_PROPERTIES_AND_CALLBACKS}static combineAttributesAndGridOptions(t,r){typeof t!="object"&&(t={});const i=Be({},t);return xd.getGridOptionKeys().forEach(n=>{const o=r[n];typeof o<"u"&&o!==xd.VUE_OMITTED_PROPERTY&&(i[n]=o)}),i}static processOnChange(t,r,i){if(!t)return;const s={};let n=!1;if(Object.keys(t).filter(a=>xd.ALL_PROPERTIES_AND_CALLBACKS_SET.has(a)).forEach(a=>{s[a]=t[a],n=!0}),!n)return;r.__internalUpdateGridOptions(s,!0);const o={type:$.EVENT_COMPONENT_STATE_CHANGED};qr(s,(a,u)=>{o[a]=u}),r.dispatchEvent(o)}};Hr.EVENTS=Do($);Hr.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";Hr.EXCLUDED_INTERNAL_EVENTS=[$.EVENT_SCROLLBAR_WIDTH_CHANGED,$.EVENT_CHECKBOX_CHANGED,$.EVENT_HEIGHT_SCALE_CHANGED,$.EVENT_BODY_HEIGHT_CHANGED,$.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,$.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,$.EVENT_SCROLL_VISIBILITY_CHANGED,$.EVENT_COLUMN_HOVER_CHANGED,$.EVENT_FLASH_CELLS,$.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,$.EVENT_DISPLAYED_ROWS_CHANGED,$.EVENT_LEFT_PINNED_WIDTH_CHANGED,$.EVENT_RIGHT_PINNED_WIDTH_CHANGED,$.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,$.EVENT_STORE_UPDATED,$.EVENT_COLUMN_PANEL_ITEM_DRAG_START,$.EVENT_COLUMN_PANEL_ITEM_DRAG_END,$.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,$.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,$.EVENT_FULL_WIDTH_ROW_FOCUSED,$.EVENT_HEADER_HEIGHT_CHANGED,$.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,$.EVENT_CELL_FOCUS_CLEARED,$.EVENT_GRID_STYLES_CHANGED,$.EVENT_FILTER_DESTROYED,$.EVENT_ROW_DATA_UPDATE_STARTED,$.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,$.EVENT_DATA_TYPES_INFERRED,$.EVENT_FIELD_VALUE_CHANGED,$.EVENT_FIELD_PICKER_VALUE_SELECTED,$.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,$.EVENT_SUPPRESS_MENU_HIDE_CHANGED,$.EVENT_SUPPRESS_FIELD_DOT_NOTATION,$.EVENT_ROW_COUNT_READY,$.EVENT_SIDE_BAR_UPDATED];Hr.PUBLIC_EVENTS=Hr.EVENTS.filter(e=>!Wi(Hr.EXCLUDED_INTERNAL_EVENTS,e));Hr.EVENT_CALLBACKS=Hr.EVENTS.map(e=>Hr.getCallbackForEvent(e));Hr.BOOLEAN_PROPERTIES=Ou.BOOLEAN_PROPERTIES;Hr.ALL_PROPERTIES=Ou.ALL_PROPERTIES;Hr.ALL_PROPERTIES_AND_CALLBACKS=[...Hr.ALL_PROPERTIES,...Hr.EVENT_CALLBACKS];Hr.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(Hr.ALL_PROPERTIES_AND_CALLBACKS);var vh=Hr,$g=class extends ye{constructor(){super(...arguments),this.componentsMappedByName={}}setupComponents(e){e&&e.forEach(t=>this.addComponent(t))}addComponent(e){const r=e.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[r]=e.componentClass}getComponentClass(e){return this.componentsMappedByName[e]}};$g=B([ke("agStackComponentsRegistry")],$g);var nS={};Or(nS,{getAriaCheckboxStateName:()=>hp,getAriaLabel:()=>uS,getAriaLevel:()=>pT,getAriaPosInSet:()=>lS,getAriaSortState:()=>aS,removeAriaExpanded:()=>pS,removeAriaSort:()=>CS,setAriaActiveDescendant:()=>Tv,setAriaAtomic:()=>cS,setAriaChecked:()=>gT,setAriaColCount:()=>mS,setAriaColIndex:()=>Dv,setAriaColSpan:()=>vS,setAriaControls:()=>Mv,setAriaDescribedBy:()=>fT,setAriaDisabled:()=>Rv,setAriaExpanded:()=>on,setAriaHidden:()=>fc,setAriaLabel:()=>Ui,setAriaLabelledBy:()=>el,setAriaLevel:()=>hS,setAriaLive:()=>_v,setAriaMultiSelectable:()=>fS,setAriaPosInSet:()=>dp,setAriaRelevant:()=>dS,setAriaRole:()=>ur,setAriaRowCount:()=>gS,setAriaRowIndex:()=>Av,setAriaSelected:()=>tl,setAriaSetSize:()=>cp,setAriaSort:()=>yS});function us(e,t,r){r==null||typeof r=="string"&&r==""?xv(e,t):cs(e,t,r)}function cs(e,t,r){e.setAttribute(oS(t),r.toString())}function xv(e,t){e.removeAttribute(oS(t))}function oS(e){return`aria-${e}`}function ur(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function aS(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function pT(e){return parseInt(e.getAttribute("aria-level"),10)}function lS(e){return parseInt(e.getAttribute("aria-posinset"),10)}function uS(e){return e.getAttribute("aria-label")}function Ui(e,t){us(e,"label",t)}function el(e,t){us(e,"labelledby",t)}function fT(e,t){us(e,"describedby",t)}function _v(e,t){us(e,"live",t)}function cS(e,t){us(e,"atomic",t)}function dS(e,t){us(e,"relevant",t)}function hS(e,t){us(e,"level",t)}function Rv(e,t){us(e,"disabled",t)}function fc(e,t){us(e,"hidden",t)}function Tv(e,t){us(e,"activedescendant",t)}function on(e,t){cs(e,"expanded",t)}function pS(e){xv(e,"expanded")}function cp(e,t){cs(e,"setsize",t)}function dp(e,t){cs(e,"posinset",t)}function fS(e,t){cs(e,"multiselectable",t)}function gS(e,t){cs(e,"rowcount",t)}function Av(e,t){cs(e,"rowindex",t)}function mS(e,t){cs(e,"colcount",t)}function Dv(e,t){cs(e,"colindex",t)}function vS(e,t){cs(e,"colspan",t)}function yS(e,t){cs(e,"sort",t)}function CS(e){xv(e,"sort")}function tl(e,t){us(e,"selected",t)}function gT(e,t){cs(e,"checked",t===void 0?"mixed":t)}function Mv(e,t){us(e,"controls",t.id),el(t,e.id)}function hp(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var wS={};Or(wS,{browserSupportsPreventScroll:()=>kv,getBodyHeight:()=>ES,getBodyWidth:()=>SS,getMaxDivHeight:()=>bS,getSafariVersion:()=>Pv,getScrollbarWidth:()=>xS,getTabIndex:()=>yh,isBrowserChrome:()=>pp,isBrowserFirefox:()=>Fv,isBrowserSafari:()=>Hs,isIOSUserAgent:()=>hn,isInvisibleScrollbar:()=>Lv,isMacOsUserAgent:()=>Iv});var bf,sd,Sf,Ef,xf,_f,Kg,qg;function Hs(){return bf===void 0&&(bf=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),bf}function Pv(){if(sd===void 0)if(Hs()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(sd=e[1]!=null?parseFloat(e[1]):0)}else sd=0;return sd}function pp(){if(Sf===void 0){const e=window;Sf=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return Sf}function Fv(){return Ef===void 0&&(Ef=/(firefox)/i.test(navigator.userAgent)),Ef}function Iv(){return xf===void 0&&(xf=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),xf}function hn(){return _f===void 0&&(_f=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),_f}function kv(){return!Hs()||Pv()>=15}function yh(e){if(!e)return null;const t=e.tabIndex,r=e.getAttribute("tabIndex");return t===-1&&(r===null||r===""&&!Fv())?null:t.toString()}function bS(){if(!document.body)return-1;let e=1e6;const t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,r=document.createElement("div");for(document.body.appendChild(r);;){const i=e*2;if(r.style.height=i+"px",i>t||r.clientHeight!==i)break;e=i}return document.body.removeChild(r),e}function SS(){var e,t,r;return(r=(e=document.body)==null?void 0:e.clientWidth)!=null?r:window.innerHeight||((t=document.documentElement)==null?void 0:t.clientWidth)||-1}function ES(){var e,t,r;return(r=(e=document.body)==null?void 0:e.clientHeight)!=null?r:window.innerHeight||((t=document.documentElement)==null?void 0:t.clientHeight)||-1}function xS(){return qg==null&&_S(),qg}function _S(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let r=t.offsetWidth-t.clientWidth;r===0&&t.clientWidth===0&&(r=null),t.parentNode&&t.parentNode.removeChild(t),r!=null&&(qg=r,Kg=r===0)}function Lv(){return Kg==null&&_S(),Kg}var RS={};Or(RS,{dateToFormattedString:()=>Ua,parseDateTimeFromString:()=>Si,serialiseDate:()=>is});var TS={};Or(TS,{cleanNumber:()=>mT,createArrayOfNumbers:()=>AS,decToHex:()=>vT,formatNumberCommas:()=>Nv,formatNumberTwoDecimalPlacesAndCommas:()=>yT,padStartWidthZeros:()=>za,sum:()=>CT});function za(e,t){return e.toString().padStart(t,"0")}function AS(e,t){const r=[];for(let i=e;i<=t;i++)r.push(i);return r}function mT(e){return typeof e=="string"&&(e=parseInt(e,10)),typeof e=="number"?Math.floor(e):null}function vT(e,t){let r="";for(let i=0;i<t;i++)r+=String.fromCharCode(e&255),e>>>=8;return r}function yT(e,t,r){return typeof e!="number"?"":Nv(Math.round(e*100)/100,t,r)}function Nv(e,t,r){return typeof e!="number"?"":e.toString().replace(".",r).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${t}`)}function CT(e){return e==null?null:e.reduce((t,r)=>t+r,0)}function is(e,t=!0,r="-"){if(!e)return null;let i=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(s=>za(s,2)).join(r);return t&&(i+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(s=>za(s,2)).join(":")),i}var Rf=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function Ua(e,t="YYYY-MM-DD"){const r=za(e.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n={YYYY:()=>r.slice(r.length-4,r.length),YY:()=>r.slice(r.length-2,r.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>i[e.getMonth()],MMM:()=>i[e.getMonth()].slice(0,3),MM:()=>za(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${Rf(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${Rf(e.getDate())}`,DD:()=>za(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>s[e.getDay()],ddd:()=>s[e.getDay()].slice(0,3),dd:()=>s[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${Rf(e.getDay())}`,d:()=>`${e.getDay()}`},o=new RegExp(Object.keys(n).join("|"),"g");return t.replace(o,a=>a in n?n[a]():a)}function Si(e){if(!e)return null;const[t,r]=e.split(" ");if(!t)return null;const i=t.split("-").map(h=>parseInt(h,10));if(i.filter(h=>!isNaN(h)).length!==3)return null;const[s,n,o]=i,a=new Date(s,n-1,o);if(a.getFullYear()!==s||a.getMonth()!==n-1||a.getDate()!==o)return null;if(!r||r==="00:00:00")return a;const[u,l,c]=r.split(":").map(h=>parseInt(h,10));return u>=0&&u<24&&a.setHours(u),l>=0&&l<60&&a.setMinutes(l),c>=0&&c<60&&a.setSeconds(c),a}var DS={};Or(DS,{FOCUSABLE_EXCLUDE:()=>Ov,FOCUSABLE_SELECTOR:()=>MS,addOrRemoveAttribute:()=>Bs,addStylesToElement:()=>Uv,bindCellRendererToHtmlElement:()=>$v,clearElement:()=>mr,copyNodeList:()=>LS,ensureDomOrder:()=>Wv,formatSize:()=>fp,getAbsoluteHeight:()=>Vv,getAbsoluteWidth:()=>Gu,getElementRectWithOffset:()=>Bv,getElementSize:()=>Jn,getInnerHeight:()=>gc,getInnerWidth:()=>ea,getScrollLeft:()=>Bu,insertWithDomOrder:()=>FS,isElementChildOfClass:()=>Mo,isFocusableFormField:()=>Gv,isHorizontalScrollShowing:()=>IS,isInDOM:()=>Hv,isNodeOrElement:()=>mc,isRtlNegativeScroll:()=>Vu,isVerticalScrollShowing:()=>kS,isVisible:()=>Ai,iterateNamedNodeMap:()=>NS,loadTemplate:()=>Ei,nodeListForEach:()=>jv,radioCssClass:()=>Yg,removeFromParent:()=>Cs,setDisabled:()=>rl,setDisplayed:()=>Ct,setDomChildOrder:()=>zv,setElementHeight:()=>wT,setElementWidth:()=>Wu,setFixedHeight:()=>Po,setFixedWidth:()=>ss,setScrollLeft:()=>Hu,setVisible:()=>PS});var nd;function Yg(e,t,r){const i=e.parentElement;let s=i&&i.firstChild;for(;s;)t&&s.classList.toggle(t,s===e),r&&s.classList.toggle(r,s!==e),s=s.nextSibling}var MS="[tabindex], input, select, button, textarea, [href]",Ov="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function Gv(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,i=t.call(e,"input, select, button, textarea"),s=t.call(e,Ov),n=Ai(e);return i&&!s&&n}function Ct(e,t,r={}){const{skipAriaHidden:i}=r;e.classList.toggle("ag-hidden",!t),i||fc(e,!t)}function PS(e,t,r={}){const{skipAriaHidden:i}=r;e.classList.toggle("ag-invisible",!t),i||fc(e,!t)}function rl(e,t){const r="disabled",i=t?s=>s.setAttribute(r,""):s=>s.removeAttribute(r);i(e),jv(e.querySelectorAll("input"),s=>i(s))}function Mo(e,t,r){let i=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof r=="number"){if(++i>r)break}else if(e===r)break}return!1}function Jn(e){const{height:t,width:r,borderTopWidth:i,borderRightWidth:s,borderBottomWidth:n,borderLeftWidth:o,paddingTop:a,paddingRight:u,paddingBottom:l,paddingLeft:c,marginTop:h,marginRight:d,marginBottom:p,marginLeft:g,boxSizing:v}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(r||"0"),borderTopWidth:parseFloat(i||"0"),borderRightWidth:parseFloat(s||"0"),borderBottomWidth:parseFloat(n||"0"),borderLeftWidth:parseFloat(o||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(u||"0"),paddingBottom:parseFloat(l||"0"),paddingLeft:parseFloat(c||"0"),marginTop:parseFloat(h||"0"),marginRight:parseFloat(d||"0"),marginBottom:parseFloat(p||"0"),marginLeft:parseFloat(g||"0"),boxSizing:v}}function gc(e){const t=Jn(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function ea(e){const t=Jn(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function Vv(e){const t=Jn(e),r=t.marginBottom+t.marginTop;return Math.ceil(e.offsetHeight+r)}function Gu(e){const t=Jn(e),r=t.marginLeft+t.marginRight;return Math.ceil(e.offsetWidth+r)}function Bv(e){const t=e.getBoundingClientRect(),{borderTopWidth:r,borderLeftWidth:i,borderRightWidth:s,borderBottomWidth:n}=Jn(e);return{top:t.top+(r||0),left:t.left+(i||0),right:t.right+(s||0),bottom:t.bottom+(n||0)}}function Vu(){if(typeof nd=="boolean")return nd;const e=document.createElement("div");return e.style.direction="rtl",e.style.width="1px",e.style.height="1px",e.style.position="fixed",e.style.top="0px",e.style.overflow="hidden",e.dir="rtl",e.innerHTML=`<div style="width: 2px">
            <span style="display: inline-block; width: 1px"></span>
            <span style="display: inline-block; width: 1px"></span>
        </div>`,document.body.appendChild(e),e.scrollLeft=1,nd=Math.floor(e.scrollLeft)===0,document.body.removeChild(e),nd}function Bu(e,t){let r=e.scrollLeft;return t&&(r=Math.abs(r),pp()&&!Vu()&&(r=e.scrollWidth-e.clientWidth-r)),r}function Hu(e,t,r){r&&(Vu()?t*=-1:(Hs()||pp())&&(t=e.scrollWidth-e.clientWidth-t)),e.scrollLeft=t}function mr(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Cs(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Hv(e){return!!e.offsetParent}function Ai(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!Hv(e)||window.getComputedStyle(e).visibility!=="visible")}function Ei(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function Wv(e,t,r){r&&r.nextSibling===t||(r?r.nextSibling?e.insertBefore(t,r.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t))}function zv(e,t){for(let r=0;r<t.length;r++){const i=t[r],s=e.children[r];s!==i&&e.insertBefore(i,s)}}function FS(e,t,r){r?r.insertAdjacentElement("afterend",t):e.firstChild?e.insertAdjacentElement("afterbegin",t):e.appendChild(t)}function Uv(e,t){if(t)for(const[r,i]of Object.entries(t)){if(!r||!r.length||i==null)continue;const s=iS(r),n=i.toString(),o=n.replace(/\s*!important/g,""),a=o.length!=n.length?"important":void 0;e.style.setProperty(s,o,a)}}function IS(e){return e.clientWidth<e.scrollWidth}function kS(e){return e.clientHeight<e.scrollHeight}function Wu(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):ss(e,t)}function ss(e,t){t=fp(t),e.style.width=t.toString(),e.style.maxWidth=t.toString(),e.style.minWidth=t.toString()}function wT(e,t){t==="flex"?(e.style.removeProperty("height"),e.style.removeProperty("minHeight"),e.style.removeProperty("maxHeight"),e.style.flex="1 1 auto"):Po(e,t)}function Po(e,t){t=fp(t),e.style.height=t.toString(),e.style.maxHeight=t.toString(),e.style.minHeight=t.toString()}function fp(e){return typeof e=="number"?`${e}px`:e}function mc(e){return e instanceof Node||e instanceof HTMLElement}function LS(e){if(e==null)return[];const t=[];return jv(e,r=>t.push(r)),t}function NS(e,t){if(e)for(let r=0;r<e.length;r++){const i=e[r];t(i.name,i.value)}}function Bs(e,t,r){r==null?e.removeAttribute(t):e.setAttribute(t,r.toString())}function jv(e,t){if(e!=null)for(let r=0;r<e.length;r++)t(e[r])}function $v(e,t){e.then(r=>{const i=r.getGui();i!=null&&(typeof i=="object"?t.appendChild(i):t.innerHTML=i)})}var OS={};Or(OS,{fuzzyCheckStrings:()=>GS,fuzzySuggestions:()=>vc});function GS(e,t,r){const i={},s=e.filter(n=>!t.some(o=>o===n));return s.length>0&&s.forEach(n=>i[n]=vc(n,r).values),i}function vc(e,t,r,i){let s=t.map((a,u)=>({value:a,relevance:bT(e.toLowerCase(),a.toLocaleLowerCase()),idx:u}));if(s.sort((a,u)=>u.relevance-a.relevance),r&&(s=s.filter(a=>a.relevance!==0)),s.length>0&&i&&i>0){const u=s[0].relevance*i;s=s.filter(l=>u-l.relevance<0)}const n=[],o=[];for(const a of s)n.push(a.value),o.push(a.idx);return{values:n,indices:o}}function bT(e,t){const r=e.replace(/\s/g,""),i=t.replace(/\s/g,"");let s=0,n=-1;for(let o=0;o<r.length;o++){const a=i.indexOf(r[o],n+1);a!==-1&&(n=a,s+=100-n*100/1e4*100)}return s}var VS={};Or(VS,{createIcon:()=>Yi,createIconNoSpan:()=>nr,iconNameClassMap:()=>BS});var BS={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus"};function Yi(e,t,r){const i=nr(e,t,r);if(i){const{className:n}=i;if(typeof n=="string"&&n.indexOf("ag-icon")>-1||typeof n=="object"&&n["ag-icon"])return i}const s=document.createElement("span");return s.appendChild(i),s}function nr(e,t,r,i){let s=null;const n=r&&r.getColDef().icons;if(n&&(s=n[e]),t&&!s){const o=t.get("icons");o&&(s=o[e])}if(s){let o;if(typeof s=="function")o=s();else if(typeof s=="string")o=s;else throw new Error("icon from grid options needs to be a string or a function");if(typeof o=="string")return Ei(o);if(mc(o))return o;console.warn("AG Grid: iconRenderer should return back a string or a dom object")}else{const o=document.createElement("span");let a=BS[e];return a||(i?a=e:(console.warn(`AG Grid: Did not find icon ${e}`),a="")),o.setAttribute("class",`ag-icon ag-icon-${a}`),o.setAttribute("unselectable","on"),ur(o,"presentation"),o}}var HS={};Or(HS,{isDeleteKey:()=>US,isEventFromPrintableCharacter:()=>gp,isUserSuppressingHeaderKeyboardEvent:()=>WS,isUserSuppressingKeyboardEvent:()=>Ch,normaliseQwertyAzerty:()=>zS});var ae=class{};ae.BACKSPACE="Backspace";ae.TAB="Tab";ae.ENTER="Enter";ae.ESCAPE="Escape";ae.SPACE=" ";ae.LEFT="ArrowLeft";ae.UP="ArrowUp";ae.RIGHT="ArrowRight";ae.DOWN="ArrowDown";ae.DELETE="Delete";ae.F2="F2";ae.PAGE_UP="PageUp";ae.PAGE_DOWN="PageDown";ae.PAGE_HOME="Home";ae.PAGE_END="End";ae.A="KeyA";ae.C="KeyC";ae.D="KeyD";ae.V="KeyV";ae.X="KeyX";ae.Y="KeyY";ae.Z="KeyZ";var ST=65,ET=67,xT=86,_T=68,RT=90,TT=89;function gp(e){return e.altKey||e.ctrlKey||e.metaKey?!1:e.key.length===1}function Ch(e,t,r,i,s){const n=i?i.getColDef().suppressKeyboardEvent:void 0;if(!n)return!1;const o=e.addGridCommonParams({event:t,editing:s,column:i,node:r,data:r.data,colDef:i.getColDef()});return!!(n&&n(o))}function WS(e,t,r,i){const s=i.getDefinition(),n=s&&s.suppressHeaderKeyboardEvent;if(!ve(n))return!1;const o=e.addGridCommonParams({colDef:s,column:i,headerRowIndex:r,event:t});return!!n(o)}function zS(e){const{keyCode:t}=e;let r;switch(t){case ST:r=ae.A;break;case ET:r=ae.C;break;case xT:r=ae.V;break;case _T:r=ae.D;break;case RT:r=ae.Z;break;case TT:r=ae.Y;break;default:r=e.code}return r}function US(e,t=!1){return e===ae.DELETE?!0:!t&&e===ae.BACKSPACE?Iv():!1}var jS={};Or(jS,{areEventsNear:()=>Kv});function Kv(e,t,r){if(r===0)return!1;const i=Math.abs(e.clientX-t.clientX),s=Math.abs(e.clientY-t.clientY);return Math.max(i,s)<=r}var $S={};Or($S,{sortRowNodesByOrder:()=>AT});function AT(e,t){if(!e)return!1;const r=(o,a)=>{const u=t[o.id],l=t[a.id],c=u!==void 0,h=l!==void 0,d=c&&h,p=!c&&!h;return d?u-l:p?o.__objectId-a.__objectId:c?1:-1};let i,s,n=!1;for(let o=0;o<e.length-1;o++)if(i=e[o],s=e[o+1],r(i,s)>0){n=!0;break}return n?(e.sort(r),!0):!1}var KS={};Or(KS,{convertToSet:()=>qv});function qv(e){const t=new Set;return e.forEach(r=>t.add(r)),t}var DT=Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be(Be({},nS),z1),wS),RS),DS),W1),k1),OS),P1),VS),HS),sS),jS),TS),F1),$S),KS),tS),Qe=DT,il=class{constructor(e=0,t=1){this.nextValue=e,this.step=t}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},wr=class _d{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(r=>this.onDone(r),r=>this.onReject(r))}static all(t){return new _d(r=>{let i=t.length;const s=new Array(i);t.forEach((n,o)=>{n.then(a=>{s[o]=a,i--,i===0&&r(s)})})})}static resolve(t=null){return new _d(r=>r(t))}then(t){return new _d(r=>{this.status===1?r(t(this.resolution)):this.waiters.push(i=>r(t(i)))})}resolveNow(t,r){return this.status===1?r(this.resolution):t}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(r=>r(t))}onReject(t){console.warn("TBI")}},yc=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(i=>this.addCssClass(i));return}if(this.cssClassStates[e]!==!0&&e.length){const i=this.getGui();i&&i.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const t=(e||"").split(" ");if(t.length>1){t.forEach(i=>this.removeCssClass(i));return}if(this.cssClassStates[e]!==!1&&e.length){const i=this.getGui();i&&i.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const i=(e||"").split(" ");if(i.length>1){i.forEach(s=>this.addOrRemoveCssClass(s,t));return}}if(this.cssClassStates[e]!==t&&e.length){const i=this.getGui();i&&i.classList.toggle(e,t),this.cssClassStates[e]=t}}},Cc=class fo extends ye{constructor(t,r,i,s){super(),this.parentComp=t,this.tooltipShowDelayOverride=r,this.tooltipHideDelayOverride=i,this.shouldDisplayTooltip=s,this.SHOW_QUICK_TOOLTIP_DIFF=1e3,this.FADE_OUT_TOOLTIP_TIMEOUT=1e3,this.INTERACTIVE_HIDE_DELAY=100,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const t=this.parentComp.getGui();this.tooltipTrigger===0&&(this.addManagedListener(t,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(t,"mouseleave",this.onMouseLeave.bind(this))),this.tooltipTrigger===1&&(this.addManagedListener(t,"focusin",this.onFocusIn.bind(this)),this.addManagedListener(t,"focusout",this.onFocusOut.bind(this))),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.interactionEnabled||(this.addManagedListener(t,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)))}getGridOptionsTooltipDelay(t){const r=this.gos.get(t);return r<0&&We(`${t} should not be lower than 0`),Math.max(200,r)}getTooltipDelay(t){var r,i;return t==="show"?(r=this.tooltipShowDelayOverride)!=null?r:this.getGridOptionsTooltipDelay("tooltipShowDelay"):(i=this.tooltipHideDelayOverride)!=null?i:this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const t=this.gos.get("tooltipTrigger");return!t||t==="hover"?0:1}onMouseEnter(t){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!hn()&&(fo.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(t)},this.INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(t))}onMouseMove(t){this.lastMouseEvent&&(this.lastMouseEvent=t),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(t){var r;const i=t.relatedTarget,s=this.parentComp.getGui(),n=(r=this.tooltipComp)==null?void 0:r.getGui();this.isInteractingWithTooltip||s.contains(i)||this.interactionEnabled&&(n!=null&&n.contains(i))||this.setToDoNothing()}onKeyDown(){this.setToDoNothing()}prepareToShowTooltip(t){if(this.state!=0||fo.isLocked)return;let r=0;t&&(r=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=t||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),r),this.state=1}isLastTooltipHiddenRecently(){const t=new Date().getTime(),r=fo.lastTooltipHideTime;return t-r<this.SHOW_QUICK_TOOLTIP_DIFF}setToDoNothing(){this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const t=Be({},this.parentComp.getTooltipParams());if(!ve(t.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;const r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(t).newAgStackInstance().then(r)}hideTooltip(t){if(!t&&this.isInteractingWithTooltip)return;this.tooltipComp&&(this.destroyTooltipComp(),fo.lastTooltipHideTime=new Date().getTime());const r={type:$.EVENT_TOOLTIP_HIDE,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(r),this.state=0}newTooltipComponentCallback(t,r){if(this.state!==2||this.tooltipInstanceCount!==t){this.getContext().destroyBean(r);return}const s=r.getGui();this.tooltipComp=r,s.classList.contains("ag-tooltip")||s.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&s.classList.add("ag-tooltip-animate"),this.interactionEnabled&&s.classList.add("ag-tooltip-interactive");const n=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({eChild:s,ariaLabel:n("ariaLabelTooltip","Tooltip")});o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1&&(this.onBodyScrollEventCallback=this.addManagedListener(this.eventService,$.EVENT_BODY_SCROLL,this.setToDoNothing.bind(this)),this.onColumnMovedEventCallback=this.addManagedListener(this.eventService,$.EVENT_COLUMN_MOVED,this.setToDoNothing.bind(this))),this.interactionEnabled&&(this.tooltipTrigger===0?(this.tooltipMouseEnterListener=this.addManagedListener(s,"mouseenter",this.onTooltipMouseEnter.bind(this))||null,this.tooltipMouseLeaveListener=this.addManagedListener(s,"mouseleave",this.onTooltipMouseLeave.bind(this))||null):(this.tooltipFocusInListener=this.addManagedListener(s,"focusin",this.onTooltipFocusIn.bind(this))||null,this.tooltipFocusOutListener=this.addManagedListener(s,"focusout",this.onTooltipFocusOut.bind(this))||null));const a={type:$.EVENT_TOOLTIP_SHOW,tooltipGui:s,parentGui:this.parentComp.getGui()};this.eventService.dispatchEvent(a),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isInteractingWithTooltip=!1,this.lockService()}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}onTooltipFocusOut(t){var r;const i=this.parentComp.getGui(),s=(r=this.tooltipComp)==null?void 0:r.getGui(),n=t.relatedTarget;s!=null&&s.contains(n)||(this.isInteractingWithTooltip=!1,i.contains(n)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const t={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent(er(Be({},t),{mouseEvent:this.lastMouseEvent})):this.popupService.positionPopupByComponent(er(Be({},t),{eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5}))}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const t=this.tooltipPopupDestroyFunc,r=this.tooltipComp,i=this.tooltipTrigger===0?this.FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(()=>{t(),this.getContext().destroyBean(r)},i),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(t=>{t&&t()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){fo.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},this.INTERACTIVE_HIDE_DELAY)}unlockService(){fo.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};Cc.isLocked=!1;B([q("popupService")],Cc.prototype,"popupService",2);B([q("userComponentFactory")],Cc.prototype,"userComponentFactory",2);B([we],Cc.prototype,"postConstruct",1);var MT=Cc,pn=class extends ye{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const t="title",r=this.ctrl.getGui();r&&(e!=null&&e!=""?r.setAttribute(t,e):r.removeAttribute(t))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var e,t,r,i;if(this.tooltipManager!=null)return;const s={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new MT(s,(t=(e=this.ctrl).getTooltipShowDelayOverride)==null?void 0:t.call(e),(i=(r=this.ctrl).getTooltipHideDelayOverride)==null?void 0:i.call(r),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){const e=this.ctrl,t=e.getColumn?e.getColumn():void 0,r=e.getColDef?e.getColDef():void 0,i=e.getRowNode?e.getRowNode():void 0;return{location:e.getLocation(),colDef:r,column:t,rowIndex:e.getRowIndex?e.getRowIndex():void 0,node:i,data:i?i.data:void 0,value:this.getTooltipText(),valueFormatted:e.getValueFormatted?e.getValueFormatted():void 0,hideTooltipCallback:()=>{var s;return(s=this.tooltipManager)==null?void 0:s.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}};B([q("beans")],pn.prototype,"beans",2);B([we],pn.prototype,"postConstruct",1);var PT=new il,wc=class Xg extends ye{constructor(t){super(),this.displayed=!0,this.visible=!0,this.compId=PT.next(),this.cssClassManager=new yc(()=>this.eGui),t&&this.setTemplate(t)}preConstructOnComponent(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips")}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(t){const{newTooltipText:r,showDelayOverride:i,hideDelayOverride:s,location:n,shouldDisplayTooltip:o}=t||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==r&&(this.tooltipText=r);const a=()=>this.tooltipText;r!=null&&(this.tooltipFeature=this.createBean(new pn({getTooltipValue:a,getGui:()=>this.getGui(),getLocation:()=>n??"UNKNOWN",getColDef:t==null?void 0:t.getColDef,getColumn:t==null?void 0:t.getColumn,getTooltipShowDelayOverride:i!=null?()=>i:void 0,getTooltipHideDelayOverride:s!=null?()=>s:void 0,shouldDisplayTooltip:o})))}createChildComponentsFromTags(t,r){LS(t.childNodes).forEach(s=>{if(!(s instanceof HTMLElement))return;const n=this.createComponentFromElement(s,o=>{o.getGui()&&this.copyAttributesFromNode(s,o.getGui())},r);if(n){if(n.addItems&&s.children.length){this.createChildComponentsFromTags(s,r);const o=Array.prototype.slice.call(s.children);n.addItems(o)}this.swapComponentForNode(n,t,s)}else s.childNodes&&this.createChildComponentsFromTags(s,r)})}createComponentFromElement(t,r,i){const s=t.nodeName,n=i?i[t.getAttribute("ref")]:void 0,o=this.agStackComponentsRegistry.getComponentClass(s);if(o){Xg.elementGettingCreated=t;const a=new o(n);return a.setParentComponent(this),this.createBean(a,null,r),a}return null}copyAttributesFromNode(t,r){NS(t.attributes,(i,s)=>r.setAttribute(i,s))}swapComponentForNode(t,r,i){const s=t.getGui();r.replaceChild(s,i),r.insertBefore(document.createComment(i.nodeName),s),this.addDestroyFunc(this.destroyBean.bind(this,t)),this.swapInComponentForQuerySelectors(t,i)}swapInComponentForQuerySelectors(t,r){const i=this;this.iterateOverQuerySelectors(s=>{i[s.attributeName]===r&&(i[s.attributeName]=t)})}iterateOverQuerySelectors(t){let r=Object.getPrototypeOf(this);for(;r!=null;){const i=r.__agComponentMetaData,s=np(r.constructor);i&&i[s]&&i[s].querySelectors&&i[s].querySelectors.forEach(n=>t(n)),r=Object.getPrototypeOf(r)}}activateTabIndex(t){const r=this.gos.get("tabIndex");t||(t=[]),t.length||t.push(this.getGui()),t.forEach(i=>i.setAttribute("tabindex",r.toString()))}setTemplate(t,r){const i=Ei(t);this.setTemplateFromElement(i,r)}setTemplateFromElement(t,r){this.eGui=t,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),r)}createChildComponentsPreConstruct(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())}wireQuerySelectors(){if(!this.eGui)return;const t=this;this.iterateOverQuerySelectors(r=>{const i=n=>t[r.attributeName]=n;if(r.refSelector&&this.getAttribute("ref")===r.refSelector)i(this.eGui);else{const n=this.eGui.querySelector(r.querySelector);n&&i(n.__agComponent||n)}})}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(t){this.parentComponent=t}getParentComponent(){return this.parentComponent}setGui(t){this.eGui=t}queryForHtmlElement(t){return this.eGui.querySelector(t)}queryForHtmlInputElement(t){return this.eGui.querySelector(t)}appendChild(t,r){if(t!=null)if(r||(r=this.eGui),mc(t))r.appendChild(t);else{const i=t;r.appendChild(i.getGui())}}isDisplayed(){return this.displayed}setVisible(t,r={}){if(t!==this.visible){this.visible=t;const{skipAriaHidden:i}=r;PS(this.eGui,t,{skipAriaHidden:i})}}setDisplayed(t,r={}){if(t!==this.displayed){this.displayed=t;const{skipAriaHidden:i}=r;Ct(this.eGui,t,{skipAriaHidden:i});const s={type:Xg.EVENT_DISPLAYED_CHANGED,visible:this.displayed};this.dispatchEvent(s)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const t=this.eGui;t&&t.__agComponent&&(t.__agComponent=void 0),super.destroy()}addGuiEventListener(t,r,i){this.eGui.addEventListener(t,r,i),this.addDestroyFunc(()=>this.eGui.removeEventListener(t,r))}addCssClass(t){this.cssClassManager.addCssClass(t)}removeCssClass(t){this.cssClassManager.removeCssClass(t)}containsCssClass(t){return this.cssClassManager.containsCssClass(t)}addOrRemoveCssClass(t,r){this.cssClassManager.addOrRemoveCssClass(t,r)}getAttribute(t){const{eGui:r}=this;return r?r.getAttribute(t):null}getRefElement(t){return this.queryForHtmlElement(`[ref="${t}"]`)}};wc.EVENT_DISPLAYED_CHANGED="displayedChanged";B([q("agStackComponentsRegistry")],wc.prototype,"agStackComponentsRegistry",2);B([G1],wc.prototype,"preConstructOnComponent",1);B([G1],wc.prototype,"createChildComponentsPreConstruct",1);var it=wc;function Ee(e){return FT.bind(this,`[ref=${e}]`,e)}function FT(e,t,r,i,s){if(e===null){console.error("AG Grid: QuerySelector selector should not be null");return}if(typeof s=="number"){console.error("AG Grid: QuerySelector should be on an attribute");return}IT(r,"querySelectors",{attributeName:i,querySelector:e,refSelector:t})}function IT(e,t,r){const i=kT(e,np(e.constructor));i[t]||(i[t]=[]),i[t].push(r)}function kT(e,t){return e.__agComponentMetaData||(e.__agComponentMetaData={}),e.__agComponentMetaData[t]||(e.__agComponentMetaData[t]={}),e.__agComponentMetaData[t]}var Yv=class extends it{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>
            </div>`)}destroy(){super.destroy()}init(e){this.params=e;const t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),r=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${r("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const r=t.getModelAsString(e);this.eFloatingFilterText.setValue(r)}})}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}};B([Ee("eFloatingFilterText")],Yv.prototype,"eFloatingFilterText",2);B([q("columnModel")],Yv.prototype,"columnModel",2);var qS=class{constructor(e,t,r,i,s){this.alive=!0,this.context=e,this.eParent=i,t.getDateCompDetails(r).newAgStackInstance().then(a=>{if(!this.alive){e.destroyBean(a);return}this.dateComp=a,a&&(i.appendChild(a.getGui()),a.afterGuiAttached&&a.afterGuiAttached(),this.tempValue&&a.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled),s==null||s(this))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){Ct(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){var t,r;let i=!1;(t=this.dateComp)!=null&&t.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(e)!==null&&(i=!0),!i&&((r=this.dateComp)!=null&&r.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)!==null&&We("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},YS=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;const t=[["displayKey"],["displayName"],["predicate","test"]],r=i=>i.some(s=>e[s]!=null)?!0:(console.warn(`AG Grid: ignoring FilterOptionDef as it doesn't contain one of '${i}'`),!1);if(!t.every(r)){this.filterOptions=this.filterOptions.filter(i=>i===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const t=this.filterOptions[0];typeof t=="string"?this.defaultOption=t:t.displayKey?this.defaultOption=t.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},XS={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},mp=class QS extends ye{constructor(t,r={}){super(),this.eFocusableElement=t,this.callbacks=r,this.callbacks=Be({shouldStopEventPropagation:()=>!1,onTabKeyDown:i=>{if(i.defaultPrevented)return;const s=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,i.shiftKey);s&&(s.focus(),i.preventDefault())}},r)}postConstruct(){this.eFocusableElement.classList.add(QS.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)}addKeyDownListeners(t){this.addManagedListener(t,"keydown",r=>{if(!(r.defaultPrevented||Es(r))){if(this.callbacks.shouldStopEventPropagation(r)){Rs(r);return}r.key===ae.TAB?this.callbacks.onTabKeyDown(r):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(r)}})}};mp.FOCUS_MANAGED_CLASS="ag-focus-managed";B([q("focusService")],mp.prototype,"focusService",2);B([we],mp.prototype,"postConstruct",1);var eo=mp,ZS="ag-resizer-wrapper",LT=`<div class="${ZS}">
        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>
        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>
        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>
        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>
        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>
        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>
        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>
        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>
    </div>`,vl=class extends ye{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,r=t/2-this.getWidth()/2,i=e/2-this.getHeight()/2;this.offsetElement(r,i)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:r,width:i,minHeight:s,height:n,x:o,y:a}=this.config;this.offsetParent||this.setOffsetParent();let u=0,l=0;const c=Ai(this.element);if(c){const h=this.findBoundaryElement(),d=window.getComputedStyle(h);if(d.minWidth!=null){const p=h.offsetWidth-this.element.offsetWidth;l=parseInt(d.minWidth,10)-p}if(d.minHeight!=null){const p=h.offsetHeight-this.element.offsetHeight;u=parseInt(d.minHeight,10)-p}}if(this.minHeight=s||u,this.minWidth=r||l,i&&this.setWidth(i),n&&this.setHeight(n),(!i||!n)&&this.refreshSize(),e)this.center();else if(o||a)this.offsetElement(o,a);else if(c&&t){let h=this.boundaryEl,d=!0;if(h||(h=this.findBoundaryElement(),d=!1),h){const p=parseFloat(h.style.top),g=parseFloat(h.style.left);d?this.offsetElement(isNaN(g)?0:g,isNaN(p)?0:p):this.setPosition(g,p)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){if(!this.config.popup||e===this.movable)return;this.movable=e;const r=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(r),this.moveElementDragListener=r):(this.dragService.removeDragSource(r),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{const i=!!e[t],s=this.getResizerElement(t),n={dragStartPixels:0,eElement:s,onDragStart:o=>this.onResizeStart(o,t),onDragging:this.onResize.bind(this),onDragStop:o=>this.onResizeEnd(o,t)};(i||!this.isAlive()&&!i)&&(i?(this.dragService.addDragSource(n),this.resizeListeners.push(n),s.style.pointerEvents="all"):s.style.pointerEvents="none",this.resizable[t]=i)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,r=this.element;let i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)Po(r,e),e=Vv(r),i=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const s=this.getAvailableHeight();s&&e>s&&(e=s)}this.getHeight()!==e&&(i?(r.style.maxHeight="unset",r.style.minHeight="unset"):t?Po(r,e):(r.style.height=`${e}px`,r.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:r}=this.offsetParent;if(!r)return null;const i=this.element.getBoundingClientRect(),s=this.offsetParent.getBoundingClientRect(),n=e?this.position.y:i.top,o=e?0:s.top;let a=0;if(t){const l=this.element.parentElement;if(l){const{bottom:c}=l.getBoundingClientRect();a=c-i.bottom}}return r+o-n-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:r}=this.config;let i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)ss(t,e),e=Gu(t),i=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:s}=this.offsetParent,n=r?this.position.x:this.element.getBoundingClientRect().left;s&&e+n>s&&(e=s-n)}this.getWidth()!==e&&(i?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?ss(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){const{forcePopupParentAsOffsetParent:r}=this.config,i=r?this.boundaryEl:this.element;i&&(this.popupService.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const r=this.getAvailableHeight();this.element.style.setProperty("max-height",`${r}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:r,isTop:i,anywhereWithin:s,topBuffer:n}=e,o=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,u=this.shouldSkipX(t,!!r,!!s,o)?0:o,l=this.shouldSkipY(t,!!i,n,a)?0:a;return{movementX:u,movementY:l}}shouldSkipX(e,t,r,i){const s=this.element.getBoundingClientRect(),n=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:s.left;let u=a<=0&&n.left>=e.clientX||n.right<=e.clientX&&n.right<=o.right;return u?!0:(t?u=i<0&&e.clientX>a+n.left||i>0&&e.clientX<a+n.left:r?u=i<0&&e.clientX>o.right||i>0&&e.clientX<a+n.left:u=i<0&&e.clientX>o.right||i>0&&e.clientX<o.right,u)}shouldSkipY(e,t,r=0,i){const s=this.element.getBoundingClientRect(),n=this.offsetParent.getBoundingClientRect(),o=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:s.top;let u=a<=0&&n.top>=e.clientY||n.bottom<=e.clientY&&n.bottom<=o.bottom;return u?!0:(t?u=i<0&&e.clientY>a+n.top+r||i>0&&e.clientY<a+n.top:u=i<0&&e.clientY>o.bottom||i>0&&e.clientY<o.bottom,u)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[ref=eTopLeftResizer]")},top:{element:e.querySelector("[ref=eTopResizer]")},topRight:{element:e.querySelector("[ref=eTopRightResizer]")},right:{element:e.querySelector("[ref=eRightResizer]")},bottomRight:{element:e.querySelector("[ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[ref=eBottomLeftResizer]")},left:{element:e.querySelector("[ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const r=new DOMParser().parseFromString(LT,"text/html").body;e.appendChild(r.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${ZS}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:r,forcePopupParentAsOffsetParent:i}=this.config;!r&&!i&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(r=>!r.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,r=0;for(let i=0;i<e.length;i++){const s=e[i],n=!!s.style.flex&&s.style.flex!=="0 0 auto";if(s===this.element)continue;let o=this.minHeight||0,a=this.minWidth||0;if(n){const u=window.getComputedStyle(s);u.minHeight&&(o=parseInt(u.minHeight,10)),u.minWidth&&(a=parseInt(u.minWidth,10))}else o=s.offsetHeight,a=s.offsetWidth;t+=o,r+=a}return{height:t,width:r}}applySizeToSiblings(e){let t=null;const r=this.getSiblings();if(r){for(let i=0;i<r.length;i++){const s=r[i];s!==t&&(e?s.style.height=`${s.offsetHeight}px`:s.style.width=`${s.offsetWidth}px`,s.style.flex="0 0 auto",s===this.element&&(t=r[i+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:r}=this.config,{isTop:i,isRight:s,isBottom:n,isLeft:o}=this.currentResizer,a=s||o,u=n||i,{movementX:l,movementY:c}=this.calculateMouseMovement({e,isLeft:o,isTop:i}),h=this.position.x,d=this.position.y;let p=0,g=0;if(a&&l){const v=o?-1:1,f=this.getWidth(),y=f+l*v;let m=!1;o&&(p=f-y,(h+p<=0||y<=this.minWidth)&&(m=!0,p=0)),m||this.setWidth(y)}if(u&&c){const v=i?-1:1,f=this.getHeight(),y=f+c*v;let m=!1;i?(g=f-y,(d+g<=0||y<=this.minHeight)&&(m=!0,g=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&f<y&&this.getMinSizeOfSiblings().height+y>this.element.parentElement.offsetHeight&&(m=!0),m||this.setHeight(y)}this.updateDragStartPosition(e.clientX,e.clientY),((t||r)&&p||g)&&this.offsetElement(h+p,d+g)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;const r={type:"resize"};this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchEvent(r)}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:r}=this.position;let i;this.config.calculateTopBuffer&&(i=this.config.calculateTopBuffer());const{movementX:s,movementY:n}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:i});this.offsetElement(t+s,r+n),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}};B([q("popupService")],vl.prototype,"popupService",2);B([q("resizeObserverService")],vl.prototype,"resizeObserverService",2);B([q("dragService")],vl.prototype,"dragService",2);var vp=class Yl extends it{constructor(t){super(),this.filterNameKey=t,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.buttonListeners=[]}postConstruct(){this.resetTemplate(),this.createManagedBean(new eo(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new vl(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(t){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(t){let r=this.getGui();r&&r.removeEventListener("submit",this.onFormSubmit);const i=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(i,t),r=this.getGui(),r&&r.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(t){this.setParams(t),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(t){this.providedFilterParams=t,this.applyActive=Yl.isUseApplyButton(t),this.resetButtonsPanel()}updateParams(t){this.providedFilterParams=t,this.applyActive=Yl.isUseApplyButton(t),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(){const{buttons:t}=this.providedFilterParams,r=t&&t.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(mr(this.eButtonsPanel),this.buttonListeners.forEach(n=>n==null?void 0:n()),this.buttonListeners=[]):r&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!r){this.eButtonsPanel&&Cs(this.eButtonsPanel);return}const i=document.createDocumentFragment(),s=n=>{let o,a;switch(n){case"apply":o=this.translate("applyFilter"),a=c=>this.onBtApply(!1,!1,c);break;case"clear":o=this.translate("clearFilter"),a=()=>this.onBtClear();break;case"reset":o=this.translate("resetFilter"),a=()=>this.onBtReset();break;case"cancel":o=this.translate("cancelFilter"),a=c=>{this.onBtCancel(c)};break;default:console.warn("AG Grid: Unknown button type specified");return}const l=Ei(`<button
                    type="${n==="apply"?"submit":"button"}"
                    ref="${n}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${o}
                </button>`);this.buttonListeners.push(this.addManagedListener(l,"click",a)),i.append(l)};qv(t).forEach(n=>s(n)),this.eButtonsPanel.append(i),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const t=Yl.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),r=ri(this.checkApplyDebounce.bind(this),t);this.onBtApplyDebounce=()=>{this.debouncePending=!0,r()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(t){return(t!=null?this.setModelIntoUi(t):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(t){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(t)})}handleCancelEnd(t){this.providedFilterParams.closeOnApply&&this.close(t)}resetUiToActiveModel(t,r){const i=()=>{this.onUiChanged(!1,"prevent"),r==null||r()};t!=null?this.setModelIntoUi(t).then(i):this.resetUiToDefaults().then(i)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(t="api"){const r=this.getModelFromUi();if(!this.isModelValid(r))return!1;const i=this.appliedModel;return this.appliedModel=r,!this.areModelsEqual(i,r)}isModelValid(t){return!0}onFormSubmit(t){t.preventDefault()}onBtApply(t=!1,r=!1,i){i&&i.preventDefault(),this.applyModel(r?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:t,afterDataChange:r,source:"columnFilter"});const{closeOnApply:s}=this.providedFilterParams;s&&this.applyActive&&!t&&!r&&this.close(i)}onNewRowsLoaded(){}close(t){if(!this.hidePopup)return;const r=t,i=r&&r.key;let s;(i==="Enter"||i==="Space")&&(s={keyboardEvent:r}),this.hidePopup(s),this.hidePopup=null}onUiChanged(t=!1,r){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const i=this.isModelValid(this.getModelFromUi()),s=this.getRefElement("applyFilterButton");s&&rl(s,!i)}t&&!r||r==="immediately"?this.onBtApply(t):(!this.applyActive&&!r||r==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(t){t&&(this.hidePopup=t.hidePopup),this.refreshFilterResizer(t==null?void 0:t.container)}refreshFilterResizer(t){if(!this.positionableFeature||t==="toolPanel")return;const r=t==="floatingFilter"||t==="columnFilter",{positionableFeature:i,gos:s}=this;r?(i.restoreLastSize(),i.setResizable(s.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}static getDebounceMs(t,r){return Yl.isUseApplyButton(t)?(t.debounceMs!=null&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):t.debounceMs!=null?t.debounceMs:r}static isUseApplyButton(t){return!!t.buttons&&t.buttons.indexOf("apply")>=0}refresh(t){return this.providedFilterParams=t,!0}destroy(){const t=this.getGui();t&&t.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(t){return this.localeService.getLocaleTextFunc()(t,XS[t])}getCellValue(t){return this.providedFilterParams.getValue(t)}getPositionableElement(){return this.eFilterBody}};B([q("rowModel")],vp.prototype,"rowModel",2);B([Ee("eFilterBody")],vp.prototype,"eFilterBody",2);B([we],vp.prototype,"postConstruct",1);var wh=vp,Xv=class extends it{constructor(e,t){super(t),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:r,labelAlignment:i,disabled:s}=this.config;s!=null&&this.setDisabled(s),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),r!=null&&this.setLabelWidth(r),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()}refreshLabel(){mr(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(Ct(this.eLabel,!1),ur(this.eLabel,"presentation")):(Ct(this.eLabel,!0),ur(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const r=this.getGui().classList;return r.toggle("ag-label-align-left",e==="left"),r.toggle("ag-label-align-right",e==="right"),r.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(Wu(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return rl(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}};B([we],Xv.prototype,"postConstruct",1);var JS=class extends Xv{constructor(e,t,r){super(e,t),this.className=r}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:r}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),r!=null&&this.onValueChange(r),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId();uS(e)!==null?el(e,""):el(e,t??"")}setAriaLabel(e){return Ui(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListener(this,$.EVENT_FIELD_VALUE_CHANGED,()=>e(this.getValue())),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return ss(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchEvent({type:$.EVENT_FIELD_VALUE_CHANGED}),this)}},NT=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,ta=class extends JS{constructor(e){if(super(e,(e==null?void 0:e.template)||NT,e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:r,variableWidth:i,minPickerWidth:s,maxPickerWidth:n}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!i,r!=null&&this.setPickerMaxHeight(r),s!=null&&this.setPickerMinWidth(s),n!=null&&this.setPickerMaxWidth(n)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedListener(t,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(this.eLabel,"mousedown",this.onLabelOrWrapperMouseDown.bind(this)),this.addManagedListener(this.eWrapper,"mousedown",this.onLabelOrWrapperMouseDown.bind(this));const{pickerIcon:r,inputWidth:i}=this.config;if(r){const s=nr(r,this.gos);s&&this.eIcon.appendChild(s)}i!=null&&this.setInputWidth(i)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),on(e,!1),this.ariaRole&&ur(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case ae.UP:case ae.DOWN:case ae.ENTER:case ae.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case ae.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.gos.getDocument(),t=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||(this.destroyMouseWheelFunc=this.addManagedListener(this.eventService,$.EVENT_BODY_SCROLL,()=>{this.hidePicker()}));const r=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:i,pickerAriaLabelValue:s,modalPicker:n=!0}=this.config,o={modal:n,eChild:t,closeOnEsc:!0,closedCallback:()=>{const p=this.gos.getActiveDomElement(),g=!p||p===e.body;this.beforeHidePicker(),g&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:r(i,s)},a=this.popupService.addPopup(o),{maxPickerHeight:u,minPickerWidth:l,maxPickerWidth:c,variableWidth:h}=this;h?(l&&(t.style.minWidth=l),t.style.width=fp(Gu(this.eWrapper)),c&&(t.style.maxWidth=c)):Wu(t,c??Gu(this.eWrapper));const d=u??`${gc(this.popupService.getPopupParent())}px`;return t.style.setProperty("max-height",d),t.style.position="absolute",this.alignPickerToComponent(),a.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:t}=this,r=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:r,keepWithinBounds:!0,nudgeY:t})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();on(t,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return Wu(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}};B([q("popupService")],ta.prototype,"popupService",2);B([Ee("eLabel")],ta.prototype,"eLabel",2);B([Ee("eWrapper")],ta.prototype,"eWrapper",2);B([Ee("eDisplayField")],ta.prototype,"eDisplayField",2);B([Ee("eIcon")],ta.prototype,"eIcon",2);var yp=class Rd extends it{constructor(t="default",r=!1){super(`<div class="ag-list ag-${t}-list" role="listbox"></div>`),this.cssIdentifier=t,this.unFocusable=r,this.options=[],this.itemEls=[]}init(){const t=this.getGui();this.addManagedListener(t,"mouseleave",()=>this.clearHighlighted()),!this.unFocusable&&this.addManagedListener(t,"keydown",this.handleKeyDown.bind(this))}handleKeyDown(t){const r=t.key;switch(r){case ae.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const i=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(i)}break;case ae.DOWN:case ae.UP:t.preventDefault(),this.navigate(r);break;case ae.PAGE_DOWN:case ae.PAGE_UP:case ae.PAGE_HOME:case ae.PAGE_END:t.preventDefault(),this.navigateToPage(r);break}}navigate(t){const r=t===ae.DOWN;let i;if(!this.highlightedEl)i=this.itemEls[r?0:this.itemEls.length-1];else{let n=this.itemEls.indexOf(this.highlightedEl)+(r?1:-1);n=Math.min(Math.max(n,0),this.itemEls.length-1),i=this.itemEls[n]}this.highlightItem(i)}navigateToPage(t){if(!this.highlightedEl||this.itemEls.length===0)return;const r=this.itemEls.indexOf(this.highlightedEl),i=this.options.length-1,s=this.itemEls[0].clientHeight,n=Math.floor(this.getGui().clientHeight/s);let o=-1;t===ae.PAGE_HOME?o=0:t===ae.PAGE_END?o=i:t===ae.PAGE_DOWN?o=Math.min(r+n,i):t===ae.PAGE_UP&&(o=Math.max(r-n,0)),o!==-1&&this.highlightItem(this.itemEls[o])}addOptions(t){return t.forEach(r=>this.addOption(r)),this}addOption(t){const{value:r,text:i}=t,s=i||r;return this.options.push({value:r,text:s}),this.renderOption(r,s),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(t=>{Cs(t)}),this.itemEls=[]}updateIndices(){const t=this.getGui().querySelectorAll(".ag-list-item");t.forEach((r,i)=>{dp(r,i+1),cp(r,t.length)})}renderOption(t,r){const i=this.gos.getDocument(),s=i.createElement("div");ur(s,"option"),s.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const n=i.createElement("span");s.appendChild(n),n.textContent=r,this.unFocusable||(s.tabIndex=-1),this.itemEls.push(s),this.addManagedListener(s,"mousemove",()=>this.highlightItem(s)),this.addManagedListener(s,"mousedown",o=>{o.preventDefault(),this.setValue(t)}),this.createManagedBean(new pn({getTooltipValue:()=>r,getGui:()=>s,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>n.scrollWidth>n.clientWidth})),this.getGui().appendChild(s)}setValue(t,r){if(this.value===t)return this.fireItemSelected(),this;if(t==null)return this.reset(r),this;const i=this.options.findIndex(s=>s.value===t);if(i!==-1){const s=this.options[i];this.value=s.value,this.displayValue=s.text,this.highlightItem(this.itemEls[i]),r||this.fireChangeEvent()}return this}setValueByIndex(t){return this.setValue(this.options[t].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const t=this.options.findIndex(r=>r.value===this.value);t!==-1&&this.highlightItem(this.itemEls[t])}reset(t){this.value=null,this.displayValue=null,this.clearHighlighted(),t||this.fireChangeEvent()}highlightItem(t){if(!Ai(t))return;this.clearHighlighted(),this.highlightedEl=t,this.highlightedEl.classList.add(Rd.ACTIVE_CLASS),tl(this.highlightedEl,!0);const r=this.getGui(),{scrollTop:i,clientHeight:s}=r,{offsetTop:n,offsetHeight:o}=t;(n+o>i+s||n<i)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!Ai(this.highlightedEl)||(this.highlightedEl.classList.remove(Rd.ACTIVE_CLASS),tl(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchEvent({type:$.EVENT_FIELD_VALUE_CHANGED}),this.fireItemSelected()}fireItemSelected(){this.dispatchEvent({type:Rd.EVENT_ITEM_SELECTED})}};yp.EVENT_ITEM_SELECTED="selectedItem";yp.ACTIVE_CLASS="ag-active-item";B([we],yp.prototype,"init",1);var rC=yp,eE=class tE extends ta{constructor(t){super(Be({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox"},t))}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:t,value:r,placeholder:i}=this.config;t!=null&&this.addOptions(t),r!=null&&this.setValue(r,!0),i&&r==null&&(this.eDisplayField.textContent=i),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}onWrapperFocusOut(t){this.eWrapper.contains(t.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new rC("select",!0)),this.listComponent.setParentComponent(this);const t=this.listComponent.getAriaElement(),r=`ag-select-list-${this.listComponent.getCompId()}`;t.setAttribute("id",r),Mv(this.getAriaElement(),t),this.listComponent.addManagedListener(this.listComponent,rC.EVENT_ITEM_SELECTED,()=>{this.hidePicker(),this.dispatchEvent({type:tE.EVENT_ITEM_SELECTED})}),this.listComponent.addManagedListener(this.listComponent,$.EVENT_FIELD_VALUE_CHANGED,()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())})}createPickerComponent(){return this.listComponent}onKeyDown(t){var r;const{key:i}=t;switch(i===ae.TAB&&this.hidePicker(),i){case ae.ENTER:case ae.UP:case ae.DOWN:case ae.PAGE_UP:case ae.PAGE_DOWN:case ae.PAGE_HOME:case ae.PAGE_END:t.preventDefault(),this.isPickerDisplayed?(r=this.listComponent)==null||r.handleKeyDown(t):super.onKeyDown(t);break;case ae.ESCAPE:super.onKeyDown(t);break}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(t){return t.forEach(r=>this.addOption(r)),this}addOption(t){return this.listComponent.addOption(t),this}clearOptions(){var t;return(t=this.listComponent)==null||t.clearOptions(),this}setValue(t,r,i){if(this.value===t||!this.listComponent)return this;if(i||this.listComponent.setValue(t,!0),this.listComponent.getValue()===this.getValue())return this;let n=this.listComponent.getDisplayValue();return n==null&&this.config.placeholder&&(n=this.config.placeholder),this.eDisplayField.textContent=n,this.setTooltip({newTooltipText:n??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(t,r)}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),super.destroy()}};eE.EVENT_ITEM_SELECTED="selectedItem";var Cp=eE,ws=class extends JS{constructor(e,t,r="text",i="input"){super(e,`
            <div role="presentation">
                <div ref="eLabel" class="ag-input-field-label"></div>
                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${i} ref="eInput" class="ag-input-field-input"></${i}>
                </div>
            </div>`,t),this.inputType=r,this.displayFieldTag=i}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:t}=this.config;e!=null&&this.setInputName(e),t!=null&&this.setInputWidth(t),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedListener(this.eInput,"input",e=>this.setValue(e.target.value))}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return Wu(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Bs(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return Ui(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return rl(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Bs(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";Bs(this.eInput,"autocomplete",t)}return this}};B([Ee("eLabel")],ws.prototype,"eLabel",2);B([Ee("eWrapper")],ws.prototype,"eWrapper",2);B([Ee("eInput")],ws.prototype,"eInput",2);var wp=class extends ws{constructor(e,t="ag-checkbox",r="checkbox"){super(e,t,r),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,t,r){this.dispatchEvent({type:$.EVENT_FIELD_VALUE_CHANGED,selected:e,previousValue:t,event:r});const i=this.getInputElement(),s={type:$.EVENT_CHECKBOX_CHANGED,id:i.id,name:i.name,selected:e,previousValue:t};this.eventService.dispatchEvent(s)}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),r=this.selected=e.target.checked;this.refreshSelectedClass(r),this.dispatchChange(r,t,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},rE=class extends wp{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedListener(this.eventService,$.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},Qv=class{constructor(e,t,r){this.localeService=e,this.optionsFactory=t,this.valueFormatter=r}getModelAsString(e){if(!e)return null;const t=e.operator!=null,r=this.localeService.getLocaleTextFunc();if(t){const i=e;let{conditions:s}=i;if(!s){const{condition1:a,condition2:u}=i;s=[a,u]}const n=s.map(a=>this.getModelAsString(a)),o=i.operator==="AND"?"andCondition":"orCondition";return n.join(` ${r(o,XS[o])} `)}else{if(e.type===ar.BLANK||e.type===ar.NOT_BLANK)return r(e.type,e.type);{const i=e,s=this.optionsFactory.getCustomOption(i.type),{displayKey:n,displayName:o,numberOfInputs:a}=s||{};return n&&o&&a===0?(r(n,o),o):this.conditionToString(i,s)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){var t;return this.valueFormatter?(t=this.valueFormatter(e??null))!=null?t:"":String(e)}},ci=class va extends wh{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(t){const r=this.optionsFactory.getCustomOption(t);if(r){const{numberOfInputs:s}=r;return s??1}const i=[va.EMPTY,va.NOT_BLANK,va.BLANK];return t&&i.indexOf(t)>=0?0:t===va.IN_RANGE?2:1}onFloatingFilterChanged(t,r){this.setTypeFromFloatingFilter(t),this.setValueFromFloatingFilter(r),this.onUiChanged(!0)}setTypeFromFloatingFilter(t){this.eTypes.forEach((r,i)=>{i===0?r.setValue(t,!0):r.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const t=this.getUiCompleteConditions();return t.length===0?null:this.maxNumConditions>1&&t.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:t[0],condition2:t[1],conditions:t}:t[0]}getConditionTypes(){return this.eTypes.map(t=>t.getValue())}getConditionType(t){return this.eTypes[t].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(t,r){if(!t&&!r)return!0;if(!t&&r||t&&!r)return!1;const i=!t.operator,s=!r.operator;if(!i&&s||i&&!s)return!1;let o;if(i){const a=t,u=r;o=this.areSimpleModelsEqual(a,u)}else{const a=t,u=r;o=a.operator===u.operator&&Ns(a.conditions,u.conditions,(l,c)=>this.areSimpleModelsEqual(l,c))}return o}shouldRefresh(t){var r,i,s;const n=this.getModel(),o=n?(r=n.conditions)!=null?r:[n]:null,a=(s=(i=t.filterOptions)==null?void 0:i.map(l=>typeof l=="string"?l:l.displayKey))!=null?s:this.getDefaultFilterOptions();return!(!(!o||o.every(l=>a.find(c=>c===l.type)!==void 0))||typeof t.maxNumConditions=="number"&&o&&o.length>t.maxNumConditions)}refresh(t){return!this.shouldRefresh(t)||!super.refresh(t)?!1:(this.setParams(t),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(t){if(t.operator){let i=t;i.conditions||(i.conditions=[i.condition1,i.condition2]);const s=this.validateAndUpdateConditions(i.conditions),n=this.getNumConditions();if(s<n)this.removeConditionsAndOperators(s);else if(s>n)for(let a=n;a<s;a++)this.createJoinOperatorPanel(),this.createOption();const o=i.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!o,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(o,!0)),i.conditions.forEach((a,u)=>{this.eTypes[u].setValue(a.type,!0),this.setConditionIntoUi(a,u)})}else{const i=t;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(i.type,!0),this.setConditionIntoUi(i,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),wr.resolve()}validateAndUpdateConditions(t){let r=t.length;return r>this.maxNumConditions&&(t.splice(this.maxNumConditions),We('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),r=this.maxNumConditions),r}doesFilterPass(t){var r;const i=this.getModel();if(i==null)return!0;const{operator:s}=i,n=[];if(s){const a=i;n.push(...(r=a.conditions)!=null?r:[])}else n.push(i);return n[s&&s==="OR"?"some":"every"](a=>this.individualConditionPasses(t,a))}setParams(t){super.setParams(t),this.setNumConditions(t),this.defaultJoinOperator=this.getDefaultJoinOperator(t.defaultJoinOperator),this.filterPlaceholder=t.filterPlaceholder,this.optionsFactory=new YS,this.optionsFactory.init(t,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(t){var r,i;t.suppressAndOrCondition!=null&&We('Since v29.2 "filterParams.suppressAndOrCondition" is deprecated. Use "filterParams.maxNumConditions = 1" instead.'),t.alwaysShowBothConditions!=null&&We('Since v29.2 "filterParams.alwaysShowBothConditions" is deprecated. Use "filterParams.numAlwaysVisibleConditions = 2" instead.'),this.maxNumConditions=(r=t.maxNumConditions)!=null?r:t.suppressAndOrCondition?1:2,this.maxNumConditions<1&&(We('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=(i=t.numAlwaysVisibleConditions)!=null?i:t.alwaysShowBothConditions?2:1,this.numAlwaysVisibleConditions<1&&(We('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(We('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const t=this.createManagedBean(new Cp);this.eTypes.push(t),t.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(t.getGui());const r=this.createValueElement();this.eConditionBodies.push(r),this.eFilterBody.appendChild(r),this.putOptionsIntoDropdown(t),this.resetType(t);const i=this.getNumConditions()-1;this.forEachPositionInput(i,s=>this.resetInput(s)),this.addChangedListeners(t,i)}createJoinOperatorPanel(){const t=document.createElement("div");this.eJoinOperatorPanels.push(t),t.classList.add("ag-filter-condition");const r=this.createJoinOperator(this.eJoinOperatorsAnd,t,"and"),i=this.createJoinOperator(this.eJoinOperatorsOr,t,"or");this.eFilterBody.appendChild(t);const s=this.eJoinOperatorPanels.length-1,n=this.joinOperatorId++;this.resetJoinOperatorAnd(r,s,n),this.resetJoinOperatorOr(i,s,n),this.isReadOnly()||(r.onValueChange(this.listener),i.onValueChange(this.listener))}createJoinOperator(t,r,i){const s=this.createManagedBean(new rE);return t.push(s),s.addCssClass("ag-filter-condition-operator"),s.addCssClass(`ag-filter-condition-operator-${i}`),r.appendChild(s.getGui()),s}getDefaultJoinOperator(t){return t==="AND"||t==="OR"?t:"AND"}createFilterListOptions(){const t=this.optionsFactory.getFilterOptions();this.filterListOptions=t.map(r=>typeof r=="string"?this.createBoilerplateListOption(r):this.createCustomListOption(r))}putOptionsIntoDropdown(t){this.filterListOptions.forEach(r=>{t.addOption(r)}),t.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(t){return{value:t,text:this.translate(t)}}createCustomListOption(t){const{displayKey:r}=t,i=this.optionsFactory.getCustomOption(t.displayKey);return{value:r,text:i?this.localeService.getLocaleTextFunc()(i.displayKey,i.displayName):this.translate(r)}}isAllowTwoConditions(){return this.maxNumConditions>=2}createBodyTemplate(){return""}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const t=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,t)}updateNumConditions(){var t;let r=-1,i=!0;for(let s=0;s<this.getNumConditions();s++)this.isConditionUiComplete(s)?r=s:i=!1;if(this.shouldAddNewConditionAtEnd(i))this.createJoinOperatorPanel(),this.createOption();else{const s=(t=this.lastUiCompletePosition)!=null?t:this.getNumConditions()-2;if(r<s){this.removeConditionsAndOperators(s+1);const n=r+1,o=s-n;o>0&&this.removeConditionsAndOperators(n,o),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=r}updateConditionStatusesAndValues(t,r){this.eTypes.forEach((s,n)=>{const o=this.isConditionDisabled(n,t);s.setDisabled(o||this.filterListOptions.length<=1),n===1&&(rl(this.eJoinOperatorPanels[0],o),this.eJoinOperatorsAnd[0].setDisabled(o),this.eJoinOperatorsOr[0].setDisabled(o))}),this.eConditionBodies.forEach((s,n)=>{Ct(s,this.isConditionBodyVisible(n))});const i=(r??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach((s,n)=>{s.setValue(!i,!0)}),this.eJoinOperatorsOr.forEach((s,n)=>{s.setValue(i,!0)}),this.forEachInput((s,n,o,a)=>{this.setElementDisplayed(s,n<a),this.setElementDisabled(s,this.isConditionDisabled(o,t))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(t){return t&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(t,r){if(t>=this.getNumConditions())return;this.removeComponents(this.eTypes,t,r),this.removeElements(this.eConditionBodies,t,r),this.removeValueElements(t,r);const i=Math.max(t-1,0);this.removeElements(this.eJoinOperatorPanels,i,r),this.removeComponents(this.eJoinOperatorsAnd,i,r),this.removeComponents(this.eJoinOperatorsOr,i,r)}removeElements(t,r,i){this.removeItems(t,r,i).forEach(n=>Cs(n))}removeComponents(t,r,i){this.removeItems(t,r,i).forEach(n=>{Cs(n.getGui()),this.destroyBean(n)})}removeItems(t,r,i){return i==null?t.splice(r):t.splice(r,i)}afterGuiAttached(t){if(super.afterGuiAttached(t),this.resetPlaceholder(),!(t!=null&&t.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const r=this.getInputs(0)[0];if(!r)return;r instanceof ws&&r.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const t=this.getModel();this.resetUiToActiveModel(t);let r=-1,i=-1,s=!1;const n=this.getJoinOperator();for(let a=this.getNumConditions()-1;a>=0;a--)if(this.isConditionUiComplete(a))r===-1&&(r=a,i=a);else{const u=a>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(a-1),l=a<r;(u||l)&&(this.removeConditionsAndOperators(a,1),s=!0,l&&i--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(i===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(i,n),s&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=i}getPlaceholderText(t,r){let i=this.translate(t);if(op(this.filterPlaceholder)){const s=this.filterPlaceholder,n=this.eTypes[r].getValue(),o=this.translate(n);i=s({filterOptionKey:n,filterOption:o,placeholder:i})}else typeof this.filterPlaceholder=="string"&&(i=this.filterPlaceholder);return i}resetPlaceholder(){const t=this.localeService.getLocaleTextFunc();this.forEachInput((r,i,s,n)=>{if(!(r instanceof ws))return;const o=i===0&&n>1?"inRangeStart":i===0?"filterOoo":"inRangeEnd",a=i===0&&n>1?t("ariaFilterFromValue","Filter from value"):i===0?t("ariaFilterValue","Filter Value"):t("ariaFilterToValue","Filter to Value");r.setInputPlaceholder(this.getPlaceholderText(o,s)),r.setInputAriaLabel(a)})}setElementValue(t,r,i){t instanceof ws&&t.setValue(r!=null?String(r):null,!0)}setElementDisplayed(t,r){t instanceof it&&Ct(t.getGui(),r)}setElementDisabled(t,r){t instanceof it&&rl(t.getGui(),r)}attachElementOnChange(t,r){t instanceof ws&&t.onValueChange(r)}forEachInput(t){this.getConditionTypes().forEach((r,i)=>{this.forEachPositionTypeInput(i,r,t)})}forEachPositionInput(t,r){const i=this.getConditionType(t);this.forEachPositionTypeInput(t,i,r)}forEachPositionTypeInput(t,r,i){const s=this.getNumberOfInputs(r),n=this.getInputs(t);for(let o=0;o<n.length;o++){const a=n[o];a!=null&&i(a,o,t,s)}}isConditionDisabled(t,r){return this.isReadOnly()?!0:t===0?!1:t>r+1}isConditionBodyVisible(t){const r=this.getConditionType(t);return this.getNumberOfInputs(r)>0}isConditionUiComplete(t){return!(t>=this.getNumConditions()||this.getConditionType(t)===va.EMPTY||this.getValues(t).some(i=>i==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const t=[];for(let r=0;r<this.getNumConditions();r++)this.isConditionUiComplete(r)&&t.push(this.createCondition(r));return t}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let t=this.getNumConditions();t<this.numAlwaysVisibleConditions;t++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(t){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(r=>this.resetType(r)),this.eJoinOperatorsAnd.forEach((r,i)=>this.resetJoinOperatorAnd(r,i,this.joinOperatorId+i)),this.eJoinOperatorsOr.forEach((r,i)=>this.resetJoinOperatorOr(r,i,this.joinOperatorId+i)),this.joinOperatorId++,this.forEachInput(r=>this.resetInput(r)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,t||this.onUiChanged(),wr.resolve()}resetType(t){const i=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");t.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(i).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(t,r,i){this.resetJoinOperator(t,r,this.isDefaultOperator("AND"),this.translate("andCondition"),i)}resetJoinOperatorOr(t,r,i){this.resetJoinOperator(t,r,this.isDefaultOperator("OR"),this.translate("orCondition"),i)}resetJoinOperator(t,r,i,s,n){this.updateJoinOperatorDisabled(t.setValue(i,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${n}`).setLabel(s),r)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((t,r)=>this.updateJoinOperatorDisabled(t,r)),this.eJoinOperatorsOr.forEach((t,r)=>this.updateJoinOperatorDisabled(t,r))}updateJoinOperatorDisabled(t,r){t.setDisabled(this.isReadOnly()||r>0)}resetInput(t){this.setElementValue(t,null),this.setElementDisabled(t,this.isReadOnly())}setConditionIntoUi(t,r){const i=this.mapValuesFromModel(t);this.forEachInput((s,n,o,a)=>{o===r&&this.setElementValue(s,i[n]!=null?i[n]:null)})}setValueFromFloatingFilter(t){this.forEachInput((r,i,s,n)=>{this.setElementValue(r,i===0&&s===0?t:null,!0)})}isDefaultOperator(t){return t===this.defaultJoinOperator}addChangedListeners(t,r){this.isReadOnly()||(t.onValueChange(this.listener),this.forEachPositionInput(r,i=>{this.attachElementOnChange(i,this.listener)}))}individualConditionPasses(t,r){const i=this.getCellValue(t.node),s=this.mapValuesFromModel(r),n=this.optionsFactory.getCustomOption(r.type),o=this.evaluateCustomFilter(n,s,i);return o??(i==null?this.evaluateNullValue(r.type):this.evaluateNonNullValue(s,i,r,t))}evaluateCustomFilter(t,r,i){if(t==null)return;const{predicate:s}=t;if(s!=null&&!r.some(n=>n==null))return s(r,i)}isBlank(t){return t==null||typeof t=="string"&&t.trim().length===0}hasInvalidInputs(){return!1}};ci.EMPTY="empty";ci.BLANK="blank";ci.NOT_BLANK="notBlank";ci.EQUALS="equals";ci.NOT_EQUAL="notEqual";ci.LESS_THAN="lessThan";ci.LESS_THAN_OR_EQUAL="lessThanOrEqual";ci.GREATER_THAN="greaterThan";ci.GREATER_THAN_OR_EQUAL="greaterThanOrEqual";ci.IN_RANGE="inRange";ci.CONTAINS="contains";ci.NOT_CONTAINS="notContains";ci.STARTS_WITH="startsWith";ci.ENDS_WITH="endsWith";var ar=ci,Sr=class Tr extends ar{setParams(t){super.setParams(t),this.scalarFilterParams=t}evaluateNullValue(t){switch(t){case Tr.EQUALS:case Tr.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case Tr.GREATER_THAN:case Tr.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case Tr.LESS_THAN:case Tr.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case Tr.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case Tr.BLANK:return!0;case Tr.NOT_BLANK:return!1}return!1}evaluateNonNullValue(t,r,i){const s=this.comparator(),n=t[0]!=null?s(t[0],r):0;switch(i.type){case Tr.EQUALS:return n===0;case Tr.NOT_EQUAL:return n!==0;case Tr.GREATER_THAN:return n>0;case Tr.GREATER_THAN_OR_EQUAL:return n>=0;case Tr.LESS_THAN:return n<0;case Tr.LESS_THAN_OR_EQUAL:return n<=0;case Tr.IN_RANGE:{const o=s(t[1],r);return this.scalarFilterParams.inRangeInclusive?n>=0&&o<=0:n>0&&o<0}case Tr.BLANK:return this.isBlank(r);case Tr.NOT_BLANK:return!this.isBlank(r);default:return console.warn('AG Grid: Unexpected type of filter "'+i.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},iC=1e3,sC=1/0,iE=class extends Qv{constructor(e,t,r){super(t,r),this.dateFilterParams=e}conditionToString(e,t){const{type:r}=e,{numberOfInputs:i}=t||{},s=r==ar.IN_RANGE||i===2,n=Si(e.dateFrom),o=Si(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(s){const u=n!==null?Ua(n,a):"null",l=o!==null?Ua(o,a):"null";return`${u}-${l}`}return n!=null?Ua(n,a):`${r}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},Zv=class sE extends Sr{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=iC,this.maxValidYear=sC,this.minValidDate=null,this.maxValidDate=null}afterGuiAttached(t){super.afterGuiAttached(t),this.dateConditionFromComps[0].afterGuiAttached(t)}mapValuesFromModel(t){const{dateFrom:r,dateTo:i,type:s}=t||{};return[r&&Si(r)||null,i&&Si(i)||null].slice(0,this.getNumberOfInputs(s))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(t,r){const i=r;return r==null||i<t?-1:i>t?1:0}setParams(t){this.dateFilterParams=t,super.setParams(t);const r=(i,s)=>{if(t[i]!=null)if(isNaN(t[i]))console.warn(`AG Grid: DateFilter ${i} is not a number`);else return t[i]==null?s:Number(t[i]);return s};this.minValidYear=r("minValidYear",iC),this.maxValidYear=r("maxValidYear",sC),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),t.minValidDate?this.minValidDate=t.minValidDate instanceof Date?t.minValidDate:Si(t.minValidDate):this.minValidDate=null,t.maxValidDate?this.maxValidDate=t.maxValidDate instanceof Date?t.maxValidDate:Si(t.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&console.warn("AG Grid: DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new iE(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(t){const r=new qS(this.getContext(),this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},t);return this.addDestroyFunc(()=>r.destroy()),r}setElementValue(t,r){t.setDate(r)}setElementDisplayed(t,r){t.setDisplayed(r)}setElementDisabled(t,r){t.setDisabled(r)}getDefaultFilterOptions(){return sE.DEFAULT_FILTER_OPTIONS}createValueElement(){const r=this.gos.getDocument().createElement("div");return r.classList.add("ag-filter-body"),this.createFromToElement(r,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(r,this.eConditionPanelsTo,this.dateConditionToComps,"to"),r}createFromToElement(t,r,i,s){const o=this.gos.getDocument().createElement("div");o.classList.add(`ag-filter-${s}`),o.classList.add(`ag-filter-date-${s}`),r.push(o),t.appendChild(o),i.push(this.createDateCompWrapper(o))}removeValueElements(t,r){this.removeDateComps(this.dateConditionFromComps,t,r),this.removeDateComps(this.dateConditionToComps,t,r),this.removeItems(this.eConditionPanelsFrom,t,r),this.removeItems(this.eConditionPanelsTo,t,r)}removeDateComps(t,r,i){this.removeItems(t,r,i).forEach(n=>n.destroy())}isValidDateValue(t){if(t===null)return!1;if(this.minValidDate){if(t<this.minValidDate)return!1}else if(t.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(t>this.maxValidDate)return!1}else if(t.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(t){if(!super.isConditionUiComplete(t))return!1;let r=!0;return this.forEachInput((i,s,n,o)=>{n!==t||!r||s>=o||(r=r&&this.isValidDateValue(i.getDate()))}),r}areSimpleModelsEqual(t,r){return t.dateFrom===r.dateFrom&&t.dateTo===r.dateTo&&t.type===r.type}getFilterType(){return"date"}createCondition(t){const r=this.getConditionType(t),i={},s=this.getValues(t);return s.length>0&&(i.dateFrom=is(s[0])),s.length>1&&(i.dateTo=is(s[1])),Be({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:r},i)}resetPlaceholder(){const t=this.localeService.getLocaleTextFunc(),r=this.translate("dateFormatOoo"),i=t("ariaFilterValue","Filter Value");this.forEachInput(s=>{s.setInputPlaceholder(r),s.setInputAriaLabel(i)})}getInputs(t){return t>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[t],this.dateConditionToComps[t]]}getValues(t){const r=[];return this.forEachPositionInput(t,(i,s,n,o)=>{s<o&&r.push(i.getDate())}),r}translate(t){return t===Sr.LESS_THAN?super.translate("before"):t===Sr.GREATER_THAN?super.translate("after"):super.translate(t)}getModelAsString(t){var r;return(r=this.filterModelFormatter.getModelAsString(t))!=null?r:""}};Zv.DEFAULT_FILTER_OPTIONS=[Sr.EQUALS,Sr.NOT_EQUAL,Sr.LESS_THAN,Sr.GREATER_THAN,Sr.IN_RANGE,Sr.BLANK,Sr.NOT_BLANK];B([q("userComponentFactory")],Zv.prototype,"userComponentFactory",2);var nE=Zv,Jv=class extends it{getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e==null?void 0:e.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}const t=e.operator;let r;t?r=e.conditions[0]:r=e,this.lastType=r.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const r=e;return this.isTypeEditable(r.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){this.optionsFactory=new YS,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),t||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const r=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(r)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const t=this.optionsFactory.getCustomOption(e),{numberOfInputs:r}=t||{};return r==null||r==1}isTypeEditable(e){const t=[ar.IN_RANGE,ar.EMPTY,ar.BLANK,ar.NOT_BLANK];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){const t=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),r=this.localeService.getLocaleTextFunc();return`${t} ${r("ariaFilterInput","Filter Input")}`}};B([q("columnModel")],Jv.prototype,"columnModel",2);var bp=class extends Jv{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>
                <div ref="eDateWrapper" style="display: flex;"></div>
            </div>`)}getDefaultFilterOptions(){return nE.DEFAULT_FILTER_OPTIONS}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new iE(this.filterParams,this.localeService,this.optionsFactory);const t=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){if(e){const r=e;this.dateComp.setDate(Si(r.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Ct(this.eDateWrapper,e),Ct(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=is(e);this.params.parentFilterInstance(r=>{if(r){const i=Si(t);r.onFloatingFilterChanged(this.getLastType()||null,i)}})}getDateComponentParams(){const e=wh.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:ri(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new qS(this.getContext(),this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}};B([q("userComponentFactory")],bp.prototype,"userComponentFactory",2);B([Ee("eReadOnlyText")],bp.prototype,"eReadOnlyText",2);B([Ee("eDateWrapper")],bp.prototype,"eDateWrapper",2);var oE=class extends it{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>
            </div>`)}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListener(t,"mousedown",()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus()}),this.addManagedListener(t,"input",r=>{r.target===this.gos.getActiveDomElement()&&(this.eDateInput.isDisabled()||this.params.onDateChanged())})}setParams(e){const t=this.eDateInput.getInputElement(),r=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=r&&Hs(),t.type=r?"date":"text";const{minValidYear:i,maxValidYear:s,minValidDate:n,maxValidDate:o}=e.filterParams||{};if(n&&i&&We("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),o&&s&&We("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),n&&o){const[a,u]=[n,o].map(l=>l instanceof Date?l:Si(l));a&&u&&a.getTime()>u.getTime()&&We("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}n?n instanceof Date?t.min=Ua(n):t.min=n:i&&(t.min=`${i}-01-01`),o?o instanceof Date?t.max=Ua(o):t.max=o:s&&(t.max=`${s}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return Si(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(is(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:pp()||Fv()||Hs()&&Pv()>=14.1}};B([Ee("eDateInput")],oE.prototype,"eDateInput",2);var ra=class extends ws{constructor(e,t="ag-text-field",r="text"){super(e,t,r)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){return this.eInput.value!==e&&(this.eInput.value=ve(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=r=>{gp(r)&&r.key&&!e.test(r.key)&&r.preventDefault()};this.addManagedListener(this.eInput,"keydown",t),this.addManagedListener(this.eInput,"paste",r=>{var i;const s=(i=r.clipboardData)==null?void 0:i.getData("text");s&&s.split("").some(n=>!e.test(n))&&r.preventDefault()})}},e0=class extends ra{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"blur",()=>{const s=parseFloat(this.eInput.value),n=isNaN(s)?"":this.normalizeValue(s.toString());this.value!==n&&this.setValue(n)}),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this)),this.eInput.step="any";const{precision:e,min:t,max:r,step:i}=this.config;typeof e=="number"&&this.setPrecision(e),typeof t=="number"&&this.setMin(t),typeof r=="number"&&this.setMax(r),typeof i=="number"&&this.setStep(i)}onWheel(e){this.gos.getActiveDomElement()===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e);return this.min!=null&&t<this.min?e=this.min.toString():this.max!=null&&t>this.max&&(e=this.max.toString()),e}adjustPrecision(e,t){if(this.precision==null)return e;if(t){const i=parseFloat(e).toFixed(this.precision);return parseFloat(i).toString()}const r=String(e).split(".");if(r.length>1){if(r[1].length<=this.precision)return e;if(this.precision>0)return`${r[0]}.${r[1].slice(0,this.precision)}`}return r[0]}setMin(e){return this.min===e?this:(this.min=e,Bs(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Bs(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Bs(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(r=>super.setValue(r,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,r){if(ve(r)){let i=this.isScientificNotation(r);if(i&&this.eInput.validity.valid)return e(r);if(!i){r=this.adjustPrecision(r);const s=this.normalizeValue(r);i=r!=s}if(i)return t(r)}return e(r)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},aE=class extends Qv{conditionToString(e,t){const{numberOfInputs:r}=t||{};return e.type==ar.IN_RANGE||r===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function Qg(e){const{allowedCharPattern:t}=e??{};return t??null}var lE=class uE extends Sr{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(t){return this.numberFilterParams.allowedCharPattern!==t.allowedCharPattern?!1:super.refresh(t)}mapValuesFromModel(t){const{filter:r,filterTo:i,type:s}=t||{};return[this.processValue(r),this.processValue(i)].slice(0,this.getNumberOfInputs(s))}getDefaultDebounceMs(){return 500}comparator(){return(t,r)=>t===r?0:t<r?1:-1}setParams(t){this.numberFilterParams=t,super.setParams(t),this.filterModelFormatter=new aE(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return uE.DEFAULT_FILTER_OPTIONS}setElementValue(t,r,i){const s=!i&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(r??null):r;super.setElementValue(t,s)}createValueElement(){const t=Qg(this.numberFilterParams),r=document.createElement("div");return r.classList.add("ag-filter-body"),ur(r,"presentation"),this.createFromToElement(r,this.eValuesFrom,"from",t),this.createFromToElement(r,this.eValuesTo,"to",t),r}createFromToElement(t,r,i,s){const n=this.createManagedBean(s?new ra({allowedCharPattern:s}):new e0);n.addCssClass(`ag-filter-${i}`),n.addCssClass("ag-filter-filter"),r.push(n),t.appendChild(n.getGui())}removeValueElements(t,r){this.removeComponents(this.eValuesFrom,t,r),this.removeComponents(this.eValuesTo,t,r)}getValues(t){const r=[];return this.forEachPositionInput(t,(i,s,n,o)=>{s<o&&r.push(this.processValue(this.stringToFloat(i.getValue())))}),r}areSimpleModelsEqual(t,r){return t.filter===r.filter&&t.filterTo===r.filterTo&&t.type===r.type}getFilterType(){return"number"}processValue(t){return t==null||isNaN(t)?null:t}stringToFloat(t){if(typeof t=="number")return t;let r=Vs(t);return r!=null&&r.trim()===""&&(r=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(r):r==null||r.trim()==="-"?null:parseFloat(r)}createCondition(t){const r=this.getConditionType(t),i={filterType:this.getFilterType(),type:r},s=this.getValues(t);return s.length>0&&(i.filter=s[0]),s.length>1&&(i.filterTo=s[1]),i}getInputs(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]}getModelAsString(t){var r;return(r=this.filterModelFormatter.getModelAsString(t))!=null?r:""}hasInvalidInputs(){let t=!1;return this.forEachInput(r=>{if(!r.getInputElement().validity.valid){t=!0;return}}),t}};lE.DEFAULT_FILTER_OPTIONS=[Sr.EQUALS,Sr.NOT_EQUAL,Sr.GREATER_THAN,Sr.GREATER_THAN_OR_EQUAL,Sr.LESS_THAN,Sr.LESS_THAN_OR_EQUAL,Sr.IN_RANGE,Sr.BLANK,Sr.NOT_BLANK];var cE=lE,dE=class extends Qv{conditionToString(e,t){const{numberOfInputs:r}=t||{};return e.type==ar.IN_RANGE||r===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}},gs=class ya extends ar{constructor(){super("textFilter"),this.eValuesFrom=[],this.eValuesTo=[]}static trimInput(t){const r=t&&t.trim();return r===""?t:r}getDefaultDebounceMs(){return 500}setParams(t){this.textFilterParams=t,super.setParams(t),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?ya.DEFAULT_FORMATTER:ya.DEFAULT_LOWERCASE_FORMATTER),this.filterModelFormatter=new dE(this.localeService,this.optionsFactory)}getTextMatcher(){const t=this.textFilterParams.textCustomComparator;return t?(Qe.warnOnce("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:r,value:i,filterText:s})=>t(r,i,s)):this.textFilterParams.textMatcher||ya.DEFAULT_MATCHER}createCondition(t){const r=this.getConditionType(t),i={filterType:this.getFilterType(),type:r},s=this.getValuesWithSideEffects(t,!0);return s.length>0&&(i.filter=s[0]),s.length>1&&(i.filterTo=s[1]),i}getFilterType(){return"text"}areSimpleModelsEqual(t,r){return t.filter===r.filter&&t.filterTo===r.filterTo&&t.type===r.type}getInputs(t){return t>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[t],this.eValuesTo[t]]}getValues(t){return this.getValuesWithSideEffects(t,!1)}getValuesWithSideEffects(t,r){const i=[];return this.forEachPositionInput(t,(s,n,o,a)=>{var u;if(n<a){let l=Vs(s.getValue());r&&this.textFilterParams.trimInput&&(l=(u=ya.trimInput(l))!=null?u:null,s.setValue(l,!0)),i.push(l)}}),i}getDefaultFilterOptions(){return ya.DEFAULT_FILTER_OPTIONS}createValueElement(){const t=document.createElement("div");return t.classList.add("ag-filter-body"),ur(t,"presentation"),this.createFromToElement(t,this.eValuesFrom,"from"),this.createFromToElement(t,this.eValuesTo,"to"),t}createFromToElement(t,r,i){const s=this.createManagedBean(new ra);s.addCssClass(`ag-filter-${i}`),s.addCssClass("ag-filter-filter"),r.push(s),t.appendChild(s.getGui())}removeValueElements(t,r){this.removeComponents(this.eValuesFrom,t,r),this.removeComponents(this.eValuesTo,t,r)}mapValuesFromModel(t){const{filter:r,filterTo:i,type:s}=t||{};return[r||null,i||null].slice(0,this.getNumberOfInputs(s))}evaluateNullValue(t){const r=[ar.NOT_EQUAL,ar.NOT_CONTAINS,ar.BLANK];return t?r.indexOf(t)>=0:!1}evaluateNonNullValue(t,r,i,s){const n=t.map(g=>this.formatter(g))||[],o=this.formatter(r),{api:a,colDef:u,column:l,columnApi:c,context:h,textFormatter:d}=this.textFilterParams;if(i.type===ar.BLANK)return this.isBlank(r);if(i.type===ar.NOT_BLANK)return!this.isBlank(r);const p={api:a,colDef:u,column:l,columnApi:c,context:h,node:s.node,data:s.data,filterOption:i.type,value:o,textFormatter:d};return n.some(g=>this.matcher(er(Be({},p),{filterText:g})))}getModelAsString(t){var r;return(r=this.filterModelFormatter.getModelAsString(t))!=null?r:""}};gs.DEFAULT_FILTER_OPTIONS=[ar.CONTAINS,ar.NOT_CONTAINS,ar.EQUALS,ar.NOT_EQUAL,ar.STARTS_WITH,ar.ENDS_WITH,ar.BLANK,ar.NOT_BLANK];gs.DEFAULT_FORMATTER=e=>e;gs.DEFAULT_LOWERCASE_FORMATTER=e=>e==null?null:e.toString().toLowerCase();gs.DEFAULT_MATCHER=({filterOption:e,value:t,filterText:r})=>{if(r==null)return!1;switch(e){case gs.CONTAINS:return t.indexOf(r)>=0;case gs.NOT_CONTAINS:return t.indexOf(r)<0;case gs.EQUALS:return t===r;case gs.NOT_EQUAL:return t!=r;case gs.STARTS_WITH:return t.indexOf(r)===0;case gs.ENDS_WITH:const i=t.lastIndexOf(r);return i>=0&&i===t.length-r.length;default:return!1}};var t0=gs,hE=class extends ye{constructor(e){super(),this.params=e,this.valueChangedListener=()=>{}}setupGui(e){var t;this.eFloatingFilterTextInput=this.createManagedBean(new ra((t=this.params)==null?void 0:t.config));const r=this.eFloatingFilterTextInput.getGui();e.appendChild(r),this.addManagedListener(r,"input",i=>this.valueChangedListener(i)),this.addManagedListener(r,"keydown",i=>this.valueChangedListener(i))}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,t){this.eFloatingFilterTextInput.setValue(e,t)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},Sp=class extends Jv{postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,t){this.isEventFromFloatingFilter(t)||this.isEventFromDataChange(t)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){var t;this.params=e;const r=(t=e.browserAutoComplete)!=null?t:!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:r}),this.applyActive=wh.isUseApplyButton(this.params.filterParams),!this.isReadOnly()){const i=wh.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),s=ri(this.syncUpWithParentFilter.bind(this),i);this.floatingFilterInputService.setValueChangedListener(s)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const t=this.floatingFilterInputService.getValue();mr(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(t,!0)}syncUpWithParentFilter(e){const t=e.key===ae.ENTER;if(this.applyActive&&!t)return;let r=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(r=t0.trimInput(r),this.floatingFilterInputService.setValue(r,!0)),this.params.parentFilterInstance(i=>{i&&i.onFloatingFilterChanged(this.getLastType()||null,r||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}};B([Ee("eFloatingFilterInputContainer")],Sp.prototype,"eFloatingFilterInputContainer",2);B([we],Sp.prototype,"postConstruct",1);var OT=class extends ye{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new e0),this.eFloatingFilterTextInput=this.createManagedBean(new ra),this.eFloatingFilterTextInput.setDisabled(!0);const t=this.eFloatingFilterNumberInput.getGui(),r=this.eFloatingFilterTextInput.getGui();e.appendChild(t),e.appendChild(r),this.setupListeners(t,i=>this.valueChangedListener(i)),this.setupListeners(r,i=>this.valueChangedListener(i))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,t){this.addManagedListener(e,"input",t),this.addManagedListener(e,"keydown",t)}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},GT=class extends Sp{init(e){var t;super.init(e),this.filterModelFormatter=new aE(this.localeService,this.optionsFactory,(t=e.filterParams)==null?void 0:t.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){Qg(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return cE.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=Qg(e.filterParams),this.allowedCharPattern?this.createManagedBean(new hE({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new OT)}},VT=class extends Sp{init(e){super.init(e),this.filterModelFormatter=new dE(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return t0.DEFAULT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new hE)}},bc=class Xl{constructor(t,r=!1){this.destroyFuncs=[],this.touching=!1,this.eventService=new _s,this.eElement=t,this.preventMouseClick=r;const i=this.onTouchStart.bind(this),s=this.onTouchMove.bind(this),n=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",i,{passive:!0}),this.eElement.addEventListener("touchmove",s,{passive:!0}),this.eElement.addEventListener("touchend",n,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",i,{passive:!0}),this.eElement.removeEventListener("touchmove",s,{passive:!0}),this.eElement.removeEventListener("touchend",n,{passive:!1})})}getActiveTouch(t){for(let r=0;r<t.length;r++)if(t[r].identifier===this.touchStart.identifier)return t[r];return null}addEventListener(t,r){this.eventService.addEventListener(t,r)}removeEventListener(t,r){this.eventService.removeEventListener(t,r)}onTouchStart(t){if(this.touching)return;this.touchStart=t.touches[0],this.touching=!0,this.moved=!1;const r=this.touchStart;window.setTimeout(()=>{const i=this.touchStart===r;if(this.touching&&i&&!this.moved){this.moved=!0;const s={type:Xl.EVENT_LONG_TAP,touchStart:this.touchStart,touchEvent:t};this.eventService.dispatchEvent(s)}},500)}onTouchMove(t){if(!this.touching)return;const r=this.getActiveTouch(t.touches);if(!r)return;!Kv(r,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(t){if(this.touching){if(!this.moved){const r={type:Xl.EVENT_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(r),this.checkForDoubleTap()}this.preventMouseClick&&t.cancelable&&t.preventDefault(),this.touching=!1}}checkForDoubleTap(){const t=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(t-this.lastTapTime>Xl.DOUBLE_TAP_MILLIS){const i={type:Xl.EVENT_DOUBLE_TAP,touchStart:this.touchStart};this.eventService.dispatchEvent(i),this.lastTapTime=null}else this.lastTapTime=t;else this.lastTapTime=t}destroy(){this.destroyFuncs.forEach(t=>t())}};bc.EVENT_TAP="tap";bc.EVENT_DOUBLE_TAP="doubleTap";bc.EVENT_LONG_TAP="longTap";bc.DOUBLE_TAP_MILLIS=500;var kr=bc,fn=class pE extends it{constructor(t){super(),t||this.setTemplate(pE.TEMPLATE)}attachCustomElements(t,r,i,s,n){this.eSortOrder=t,this.eSortAsc=r,this.eSortDesc=i,this.eSortMixed=s,this.eSortNone=n}setupSort(t,r=!1){this.column=t,this.suppressOrder=r,this.setupMultiSortIndicator(),!(!this.column.isSortable()&&!this.column.getColDef().showRowGroup)&&(this.addInIcon("sortAscending",this.eSortAsc,t),this.addInIcon("sortDescending",this.eSortDesc,t),this.addInIcon("sortUnSort",this.eSortNone,t),this.addManagedPropertyListener("unSortIcon",()=>this.updateIcons()),this.addManagedListener(this.eventService,$.EVENT_NEW_COLUMNS_LOADED,()=>this.updateIcons()),this.addManagedListener(this.eventService,$.EVENT_SORT_CHANGED,()=>this.onSortChanged()),this.addManagedListener(this.eventService,$.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.onSortChanged()),this.onSortChanged())}addInIcon(t,r,i){if(r==null)return;const s=nr(t,this.gos,i);s&&r.appendChild(s)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const t=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const r=t==="asc";Ct(this.eSortAsc,r,{skipAriaHidden:!0})}if(this.eSortDesc){const r=t==="desc";Ct(this.eSortDesc,r,{skipAriaHidden:!0})}if(this.eSortNone){const r=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),i=t==null;Ct(this.eSortNone,!r&&i,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const t=this.column.getColDef().showRowGroup;this.gos.isColumnsSortingCoupledToGroup()&&t&&(this.addManagedListener(this.eventService,$.EVENT_SORT_CHANGED,()=>this.updateMultiSortIndicator()),this.addManagedListener(this.eventService,$.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateMultiSortIndicator()),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const t=this.sortController.getDisplaySortForColumn(this.column)==="mixed";Ct(this.eSortMixed,t,{skipAriaHidden:!0})}}updateSortOrder(){var t;if(!this.eSortOrder)return;const r=this.sortController.getColumnsWithSortingOrdered(),i=(t=this.sortController.getDisplaySortIndexForColumn(this.column))!=null?t:-1,s=r.some(o=>{var a;return(a=this.sortController.getDisplaySortIndexForColumn(o))!=null?a:!1}),n=i>=0&&s;Ct(this.eSortOrder,n,{skipAriaHidden:!0}),i>=0?this.eSortOrder.textContent=(i+1).toString():mr(this.eSortOrder)}};fn.TEMPLATE=`<span class="ag-sort-indicator-container">
            <span ref="eSortOrder" class="ag-sort-indicator-icon ag-sort-order ag-hidden" aria-hidden="true"></span>
            <span ref="eSortAsc" class="ag-sort-indicator-icon ag-sort-ascending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortDesc" class="ag-sort-indicator-icon ag-sort-descending-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortMixed" class="ag-sort-indicator-icon ag-sort-mixed-icon ag-hidden" aria-hidden="true"></span>
            <span ref="eSortNone" class="ag-sort-indicator-icon ag-sort-none-icon ag-hidden" aria-hidden="true"></span>
        </span>`;B([Ee("eSortOrder")],fn.prototype,"eSortOrder",2);B([Ee("eSortAsc")],fn.prototype,"eSortAsc",2);B([Ee("eSortDesc")],fn.prototype,"eSortDesc",2);B([Ee("eSortMixed")],fn.prototype,"eSortMixed",2);B([Ee("eSortNone")],fn.prototype,"eSortNone",2);B([q("columnModel")],fn.prototype,"columnModel",2);B([q("sortController")],fn.prototype,"sortController",2);var r0=fn,Qr=class fE extends it{constructor(){super(...arguments),this.lastMovingChanged=0}destroy(){super.destroy()}refresh(t){const r=this.params;return this.params=t,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||r.enableFilterButton!=t.enableFilterButton||r.enableFilterIcon!=t.enableFilterIcon?!1:(this.setDisplayName(t),!0)}workOutTemplate(){var t;let r=(t=this.params.template)!=null?t:fE.TEMPLATE;return r=r&&r.trim?r.trim():r,r}init(t){this.params=t,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(t)}setDisplayName(t){if(this.currentDisplayName!=t.displayName){this.currentDisplayName=t.displayName;const r=Cr(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=r)}}addInIcon(t,r,i){if(r==null)return;const s=nr(t,this.gos,i);s&&r.appendChild(s)}setupTap(){const{gos:t}=this;if(t.get("suppressTouch"))return;const r=new kr(this.getGui(),!0),i=this.shouldSuppressMenuHide(),s=i&&ve(this.eMenu),n=s?new kr(this.eMenu,!0):r;if(this.params.enableMenu){const o=s?"EVENT_TAP":"EVENT_LONG_TAP",a=u=>this.params.showColumnMenuAfterMouseClick(u.touchStart);this.addManagedListener(n,kr[o],a)}if(this.params.enableSorting){const o=a=>{var u,l;const c=a.touchStart.target;i&&((u=this.eMenu)!=null&&u.contains(c)||(l=this.eFilterButton)!=null&&l.contains(c))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListener(r,kr.EVENT_TAP,o)}if(this.params.enableFilterButton){const o=new kr(this.eFilterButton,!0);this.addManagedListener(o,"tap",()=>this.params.showFilter(this.eFilterButton)),this.addDestroyFunc(()=>o.destroy())}this.addDestroyFunc(()=>r.destroy()),s&&this.addDestroyFunc(()=>n.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Cs(this.eMenu),this.eMenu=void 0;return}const t=this.menuService.isLegacyMenuEnabled();this.addInIcon(t?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!t),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedListener(this.eMenu,"click",()=>this.params.showColumnMenu(this.eMenu)),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(t){var r,i,s,n;const{column:o}=this.params,a=this.menuService.isLegacyMenuEnabled();if(t&&!a){if(this.menuService.isFilterMenuInHeaderEnabled(o))return this.params.showFilter((i=(r=this.eFilterButton)!=null?r:this.eMenu)!=null?i:this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu((n=(s=this.eMenu)!=null?s:this.eFilterButton)!=null?n:this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.context.createBean(new r0(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListener(this.params.column,Wt.EVENT_MOVING_CHANGED,()=>{this.lastMovingChanged=new Date().getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",r=>{const i=this.params.column.isMoving(),n=new Date().getTime()-this.lastMovingChanged<50;if(!(i||n)){const u=this.gos.get("multiSortKey")==="ctrl"?r.ctrlKey||r.metaKey:r.shiftKey;this.params.progressSort(u)}});const t=()=>{if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.params.column.getColDef().showRowGroup){const r=this.columnModel.getSourceColumnsForGroupColumn(this.params.column),s=!(r==null?void 0:r.every(n=>this.params.column.getSort()==n.getSort()));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",s)}};this.addManagedListener(this.eventService,$.EVENT_SORT_CHANGED,t),this.addManagedListener(this.eventService,$.EVENT_COLUMN_ROW_GROUP_CHANGED,t)}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedListener(this.eFilterButton,"click",()=>this.params.showFilter(this.eFilterButton)):this.eFilterButton=void 0}configureFilter(t,r,i){if(!t)return Cs(r),!1;const{column:s}=this.params;return this.addInIcon("filter",r,s),this.addManagedListener(s,Wt.EVENT_FILTER_CHANGED,i),i(),!0}onFilterChangedIcon(){const t=this.params.column.isFilterActive();Ct(this.eFilter,t,{skipAriaHidden:!0})}onFilterChangedButton(){const t=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",t)}getAnchorElementForMenu(t){var r,i,s,n;return t?(i=(r=this.eFilterButton)!=null?r:this.eMenu)!=null?i:this.getGui():(n=(s=this.eMenu)!=null?s:this.eFilterButton)!=null?n:this.getGui()}};Qr.TEMPLATE=`<div class="ag-cell-label-container" role="presentation">
            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
            <span ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
            <div ref="eLabel" class="ag-header-cell-label" role="presentation">
                <span ref="eText" class="ag-header-cell-text"></span>
                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
                <ag-sort-indicator ref="eSortIndicator"></ag-sort-indicator>
            </div>
        </div>`;B([q("sortController")],Qr.prototype,"sortController",2);B([q("menuService")],Qr.prototype,"menuService",2);B([q("columnModel")],Qr.prototype,"columnModel",2);B([Ee("eFilter")],Qr.prototype,"eFilter",2);B([Ee("eFilterButton")],Qr.prototype,"eFilterButton",2);B([Ee("eSortIndicator")],Qr.prototype,"eSortIndicator",2);B([Ee("eMenu")],Qr.prototype,"eMenu",2);B([Ee("eLabel")],Qr.prototype,"eLabel",2);B([Ee("eText")],Qr.prototype,"eText",2);B([Ee("eSortOrder")],Qr.prototype,"eSortOrder",2);B([Ee("eSortAsc")],Qr.prototype,"eSortAsc",2);B([Ee("eSortDesc")],Qr.prototype,"eSortDesc",2);B([Ee("eSortMixed")],Qr.prototype,"eSortMixed",2);B([Ee("eSortNone")],Qr.prototype,"eSortNone",2);var Zg=Qr,Sc=class gE extends it{constructor(){super(gE.TEMPLATE)}destroy(){super.destroy()}init(t){this.params=t,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&We("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");const t=s=>{if(Es(s))return;const n=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),n,"uiColumnExpanded")};this.addTouchAndClickListeners(this.eCloseIcon,t),this.addTouchAndClickListeners(this.eOpenIcon,t);const r=s=>{Rs(s)};this.addManagedListener(this.eCloseIcon,"dblclick",r),this.addManagedListener(this.eOpenIcon,"dblclick",r),this.addManagedListener(this.getGui(),"dblclick",t),this.updateIconVisibility();const i=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(i,vr.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(i,vr.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))}addTouchAndClickListeners(t,r){const i=new kr(t,!0);this.addManagedListener(i,kr.EVENT_TAP,r),this.addDestroyFunc(()=>i.destroy()),this.addManagedListener(t,"click",r)}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const r=this.params.columnGroup.isExpanded();Ct(this.eOpenIcon,r),Ct(this.eCloseIcon,!r)}else Ct(this.eOpenIcon,!1),Ct(this.eCloseIcon,!1)}addInIcon(t,r){const i=nr(t,this.gos,null);i&&this.getRefElement(r).appendChild(i)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){Ct(this.eOpenIcon,!1),Ct(this.eCloseIcon,!1);return}}setupLabel(){var t;const{displayName:r,columnGroup:i}=this.params;if(ve(r)){const s=Cr(r,!0);this.getRefElement("agLabel").textContent=s}this.addOrRemoveCssClass("ag-sticky-label",!((t=i.getColGroupDef())!=null&&t.suppressStickyLabel))}};Sc.TEMPLATE=`<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">
            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`;B([q("columnModel")],Sc.prototype,"columnModel",2);B([Ee("agOpened")],Sc.prototype,"eOpenIcon",2);B([Ee("agClosed")],Sc.prototype,"eCloseIcon",2);var BT=Sc,ia=class extends it{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},i0=class mE extends ia{constructor(){super(mE.TEMPLATE)}init(t){this.params=t,this.focusAfterAttached=t.cellStartedEdit,this.eTextArea.setMaxLength(t.maxLength||200).setCols(t.cols||60).setRows(t.rows||10),ve(t.value,!0)&&this.eTextArea.setValue(t.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(t){const r=t.key;(r===ae.LEFT||r===ae.UP||r===ae.RIGHT||r===ae.DOWN||t.shiftKey&&r===ae.ENTER)&&t.stopPropagation()}afterGuiAttached(){const t=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(t("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const t=this.eTextArea.getValue();return!ve(t)&&!ve(this.params.value)?this.params.value:this.params.parseValue(t)}};i0.TEMPLATE=`<div class="ag-large-text">
            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`;B([Ee("eTextArea")],i0.prototype,"eTextArea",2);var HT=i0,s0=class extends ia{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" ref="eSelect"></ag-select>
            </div>`),this.startedByEnter=!1}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueService:r,gos:i}=this,{values:s,value:n,eventKey:o}=e;if(tt(s)){console.warn("AG Grid: no values found for select cellEditor");return}this.startedByEnter=o!=null?o===ae.ENTER:!1;let a=!1;s.forEach(h=>{const d={value:h},p=r.formatValue(e.column,null,h),g=p!=null;d.text=g?p:h,t.addOption(d),a=a||n===h}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:u,valueListMaxWidth:l,valueListMaxHeight:c}=e;u!=null&&t.setPickerGap(u),c!=null&&t.setPickerMaxHeight(c),l!=null&&t.setPickerMaxWidth(l),i.get("editType")!=="fullRow"&&this.addManagedListener(this.eSelect,Cp.EVENT_ITEM_SELECTED,()=>e.stopEditing())}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}};B([q("valueService")],s0.prototype,"valueService",2);B([Ee("eSelect")],s0.prototype,"eSelect",2);var Ec=class extends ia{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`),this.cellEditorInput=e}init(e){this.params=e;const t=this.eInput;this.cellEditorInput.init(t,e);let r;if(e.cellStartedEdit){this.focusAfterAttached=!0;const i=e.eventKey;i===ae.BACKSPACE||e.eventKey===ae.DELETE?r="":i&&i.length===1?r=i:(r=this.cellEditorInput.getStartValue(),i!==ae.F2&&(this.highlightAllOnFocus=!0))}else this.focusAfterAttached=!1,r=this.cellEditorInput.getStartValue();r!=null&&t.setStartValue(r),this.addManagedListener(t.getGui(),"keydown",i=>{const{key:s}=i;(s===ae.PAGE_UP||s===ae.PAGE_DOWN)&&i.preventDefault()})}afterGuiAttached(){var e,t;const r=this.localeService.getLocaleTextFunc(),i=this.eInput;if(i.setInputAriaLabel(r("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;Hs()||i.getFocusableElement().focus();const s=i.getInputElement();this.highlightAllOnFocus?s.select():(t=(e=this.cellEditorInput).setCaret)==null||t.call(e)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),r=e.getInputElement();t.focus(),r.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}};B([Ee("eInput")],Ec.prototype,"eInput",2);var WT=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field>'}init(e,t){this.eInput=e,this.params=t,t.maxLength!=null&&e.setMaxLength(t.maxLength)}getValue(){const e=this.eInput.getValue();return!ve(e)&&!ve(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),t=ve(e)&&e.length||0;t&&this.eInput.getInputElement().setSelectionRange(t,t)}},nC=class extends Ec{constructor(){super(new WT)}},zT="",UT="",vE=class extends it{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-change-delta");const r=document.createElement("span");r.setAttribute("class","ag-value-change-value"),e.appendChild(t),e.appendChild(r),this.setTemplateFromElement(e)}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,t){const r=Math.abs(t),i=e.formatValue(r),s=ve(i)?i:r,n=t>=0;n?this.eDelta.textContent=zT+s:this.eDelta.textContent=UT+s,this.eDelta.classList.toggle("ag-value-change-delta-up",n),this.eDelta.classList.toggle("ag-value-change-delta-down",!n)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),mr(this.eDelta)}refresh(e,t=!1){const r=e.value;if(r===this.lastValue||(ve(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:ve(e.value)?this.eValue.textContent=r:mr(this.eValue),this.filterManager.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof r=="number"&&typeof this.lastValue=="number"){const i=r-this.lastValue;this.showDelta(e,i)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=r,!0}};B([q("filterManager")],vE.prototype,"filterManager",2);var yE=class extends it{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),t=document.createElement("span");t.setAttribute("class","ag-value-slide-current"),e.appendChild(t),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const t=document.createElement("span");t.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=t,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){let r=e.value;return tt(r)&&(r=""),r===this.lastValue||this.filterManager.isSuppressFlashingCellsBecauseFiltering()?!1:(t||this.addSlideAnimation(),this.lastValue=r,ve(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:ve(e.value)?this.eCurrent.textContent=r:mr(this.eCurrent),!0)}};B([q("filterManager")],yE.prototype,"filterManager",2);var tr=class qt{constructor(t){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=qt.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=t}setData(t){this.setDataCommon(t,!1)}updateData(t){this.setDataCommon(t,!0)}setDataCommon(t,r){const i=this.data;this.data=t,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const s=this.createDataChangedEvent(t,i,r);this.dispatchLocalEvent(s)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(t,r,i){return{type:qt.EVENT_DATA_CHANGED,node:this,oldData:r,newData:t,update:i}}createLocalRowEvent(t){return{type:t,node:this}}getRowIndexString(){return this.rowPinned==="top"?"t-"+this.rowIndex:this.rowPinned==="bottom"?"b-"+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const t=new qt(this.beans);return t.id=this.id,t.data=this.data,t.__daemon=!0,t.selected=this.selected,t.level=this.level,t}setDataAndId(t,r){const i=ve(this.id)?this.createDaemonNode():null,s=this.data;this.data=t,this.updateDataOnDetailNode(),this.setId(r),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,i);const n=this.createDataChangedEvent(t,s,!1);this.dispatchLocalEvent(n)}checkRowSelectable(){const t=this.beans.gos.get("isRowSelectable");this.setRowSelectable(t?t(this):!0)}setRowSelectable(t,r){if(this.selectable!==t){if(this.selectable=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(qt.EVENT_SELECTABLE_CHANGED)),r)return;if(this.beans.gos.get("groupSelectsChildren")){const s=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:s??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(t){const r=this.beans.gos.getCallback("getRowId");if(r)if(this.data){const i=this.getGroupKeys(!0);this.id=r({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level}),this.id!==null&&typeof this.id=="string"&&this.id.startsWith(qt.ID_PREFIX_ROW_GROUP)&&console.error(`AG Grid: Row IDs cannot start with ${qt.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`),this.id!==null&&typeof this.id!="string"&&(this.id=""+this.id)}else this.id=void 0;else this.id=t}getGroupKeys(t=!1){const r=[];let i=this;for(t&&(i=i.parent);i&&i.level>=0;)r.push(i.key),i=i.parent;return r.reverse(),r}isPixelInRange(t){return!ve(this.rowTop)||!ve(this.rowHeight)?!1:t>=this.rowTop&&t<this.rowTop+this.rowHeight}setFirstChild(t){this.firstChild!==t&&(this.firstChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(qt.EVENT_FIRST_CHILD_CHANGED)))}setLastChild(t){this.lastChild!==t&&(this.lastChild=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(qt.EVENT_LAST_CHILD_CHANGED)))}setChildIndex(t){this.childIndex!==t&&(this.childIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(qt.EVENT_CHILD_INDEX_CHANGED)))}setRowTop(t){this.oldRowTop=this.rowTop,this.rowTop!==t&&(this.rowTop=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(qt.EVENT_TOP_CHANGED)),this.setDisplayed(t!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setDisplayed(t){this.displayed!==t&&(this.displayed=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(qt.EVENT_DISPLAYED_CHANGED)))}setDragging(t){this.dragging!==t&&(this.dragging=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(qt.EVENT_DRAGGING_CHANGED)))}setHighlighted(t){t!==this.highlighted&&(this.highlighted=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(qt.EVENT_HIGHLIGHT_CHANGED)))}setHovered(t){this.hovered!==t&&(this.hovered=t)}isHovered(){return this.hovered}setAllChildrenCount(t){this.allChildrenCount!==t&&(this.allChildrenCount=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(qt.EVENT_ALL_CHILDREN_COUNT_CHANGED)))}setMaster(t){this.master!==t&&(this.master&&!t&&(this.expanded=!1),this.master=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(qt.EVENT_MASTER_CHANGED)))}setGroup(t){this.group!==t&&(this.group&&!t&&(this.expanded=!1),this.group=t,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(qt.EVENT_GROUP_CHANGED)))}setRowHeight(t,r=!1){this.rowHeight=t,this.rowHeightEstimated=r,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(qt.EVENT_HEIGHT_CHANGED))}setRowAutoHeight(t,r){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[r.getId()]=t,t!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=ri(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){let t=!1,r=!0,i=0;const s=this.__autoHeights;if(s==null||(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(a=>{let u=s[a.getId()];if(u==null)if(this.beans.columnModel.isColSpanActive()){let l=[];switch(a.getPinned()){case"left":l=this.beans.columnModel.getDisplayedLeftColumnsForRow(this);break;case"right":l=this.beans.columnModel.getDisplayedRightColumnsForRow(this);break;case null:l=this.beans.columnModel.getViewportCenterColumnsForRow(this);break}if(l.includes(a)){t=!0;return}u=-1}else{t=!0;return}else r=!1;u>i&&(i=u)}),t)||((r||i<10)&&(i=this.beans.gos.getRowHeightForNode(this).height),i==this.rowHeight))return;this.setRowHeight(i);const o=this.beans.rowModel;o.onRowHeightChangedDebounced&&o.onRowHeightChangedDebounced()}setRowIndex(t){this.rowIndex!==t&&(this.rowIndex=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(qt.EVENT_ROW_INDEX_CHANGED)))}setUiLevel(t){this.uiLevel!==t&&(this.uiLevel=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(qt.EVENT_UI_LEVEL_CHANGED)))}setExpanded(t,r,i){if(this.expanded===t)return;this.expanded=t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(qt.EVENT_EXPANDED_CHANGED));const s=Object.assign({},this.createGlobalRowEvent($.EVENT_ROW_GROUP_OPENED),{expanded:t,event:r||null});this.beans.rowNodeEventThrottle.dispatchExpanded(s,i),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(t){return this.beans.gos.addGridCommonParams({type:t,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}dispatchLocalEvent(t){this.eventService&&this.eventService.dispatchEvent(t)}setDataValue(t,r,i){const n=(()=>{var u;return typeof t!="string"?t:(u=this.beans.columnModel.getGridColumn(t))!=null?u:this.beans.columnModel.getPrimaryColumn(t)})(),o=this.getValueFromValueService(n);if(this.beans.gos.get("readOnlyEdit"))return this.dispatchEventForSaveValueReadOnly(n,o,r,i),!1;const a=this.beans.valueService.setValue(this,n,r,i);return this.dispatchCellChangedEvent(n,r,o),this.checkRowSelectable(),a}getValueFromValueService(t){var r,i;const s=this.leafGroup&&this.beans.columnModel.isPivotMode(),n=this.group&&this.expanded&&!this.footer&&!s;let o=!1;const a=(r=this.beans.gos.get("groupTotalRow"))!=null?r:this.beans.gos.get("groupIncludeFooter");typeof a!="function"?o=!!a:o=!!((i=this.beans.gos.getCallback("groupTotalRow"))!=null?i:this.beans.gos.getCallback("groupIncludeFooter"))({node:this});const u=this.beans.gos.get("groupSuppressBlankHeader"),l=n&&o&&!u;return this.beans.valueService.getValue(t,this,!1,l)}dispatchEventForSaveValueReadOnly(t,r,i,s){const n=this.beans.gos.addGridCommonParams({type:$.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:t,colDef:t.getColDef(),data:this.data,node:this,oldValue:r,newValue:i,value:i,source:s});this.beans.eventService.dispatchEvent(n)}setGroupValue(t,r){const i=this.beans.columnModel.getGridColumn(t);tt(this.groupData)&&(this.groupData={});const s=i.getColId(),n=this.groupData[s];n!==r&&(this.groupData[s]=r,this.dispatchCellChangedEvent(i,r,n))}setAggData(t){const r=this.aggData;if(this.aggData=t,this.eventService){const i=s=>{const n=this.aggData?this.aggData[s]:void 0,o=r?r[s]:void 0;if(n===o)return;const a=this.beans.columnModel.lookupGridColumn(s);a&&this.dispatchCellChangedEvent(a,n,o)};for(const s in this.aggData)i(s);for(const s in t)s in this.aggData||i(s)}}updateHasChildren(){let t=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(this.beans.gos.isRowModelType("serverSide")){const i=this.beans.gos.get("treeData"),s=this.beans.gos.get("isServerSideGroup");t=!this.stub&&!this.footer&&(i?!!s&&s(this.data):!!this.group)}t!==this.__hasChildren&&(this.__hasChildren=!!t,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(qt.EVENT_HAS_CHILDREN_CHANGED)))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}isEmptyRowGroupNode(){return this.group&&Zi(this.childrenAfterGroup)}dispatchCellChangedEvent(t,r,i){const s={type:qt.EVENT_CELL_CHANGED,node:this,column:t,newValue:r,oldValue:i};this.dispatchLocalEvent(s)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(t){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(r=>r.depthFirstSearch(t)),t(this)}calculateSelectedFromChildren(){var t;let r=!1,i=!1,s=!1;if(!((t=this.childrenAfterGroup)!=null&&t.length))return this.selectable?this.selected:null;for(let n=0;n<this.childrenAfterGroup.length;n++){const o=this.childrenAfterGroup[n];let a=o.isSelected();if(!o.selectable){const u=o.calculateSelectedFromChildren();if(u===null)continue;a=u}switch(a){case!0:r=!0;break;case!1:i=!0;break;default:s=!0;break}}if(!(s||r&&i))return r?!0:i?!1:this.selectable?this.selected:null}setSelectedInitialValue(t){this.selected=t}selectThisNode(t,r,i="api"){const s=!this.selectable&&t,n=this.selected===t;if(s||n)return!1;this.selected=t,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(qt.EVENT_ROW_SELECTED));const o=this.sibling;o&&o.footer&&o.eventService&&o.dispatchLocalEvent(o.createLocalRowEvent(qt.EVENT_ROW_SELECTED));const a=er(Be({},this.createGlobalRowEvent($.EVENT_ROW_SELECTED)),{event:r||null,source:i});return this.beans.eventService.dispatchEvent(a),!0}setSelected(t,r=!1,i="api"){if(typeof i=="boolean"){console.warn("AG Grid: since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:t,clearSelection:r,rangeSelect:!1,source:i})}setSelectedParams(t){return this.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),0):this.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected(er(Be({},t),{nodes:[this.footer?this.sibling:this]}))}isRowPinned(){return this.rowPinned==="top"||this.rowPinned==="bottom"}isParentOfNode(t){let r=this.parent;for(;r;){if(r===t)return!0;r=r.parent}return!1}addEventListener(t,r){var i,s;this.eventService||(this.eventService=new _s),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.eventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new bv(this.beans.frameworkOverrides));const n=(s=(i=this.frameworkEventListenerService)==null?void 0:i.wrap(r))!=null?s:r;this.eventService.addEventListener(t,n)}removeEventListener(t,r){var i,s;if(!this.eventService)return;const n=(s=(i=this.frameworkEventListenerService)==null?void 0:i.unwrap(r))!=null?s:r;this.eventService.removeEventListener(t,n),this.eventService.noRegisteredListenersExist()&&(this.eventService=null)}onMouseEnter(){this.dispatchLocalEvent(this.createLocalRowEvent(qt.EVENT_MOUSE_ENTER))}onMouseLeave(){this.dispatchLocalEvent(this.createLocalRowEvent(qt.EVENT_MOUSE_LEAVE))}getFirstChildOfFirstChild(t){let r=this,i=!0,s=!1,n=null;for(;i&&!s;){const o=r.parent;ve(o)&&r.firstChild?o.rowGroupColumn===t&&(s=!0,n=o):i=!1,r=o}return s?n:null}isFullWidthCell(){if(this.detail)return!0;const t=this.beans.gos.getCallback("isFullWidthRow");return t?t({rowNode:this}):!1}getRoute(){if(this.key==null)return;const t=[];let r=this;for(;r.key!=null;)t.push(r.key),r=r.parent;return t.reverse()}createFooter(){if(this.sibling)return;const t=new Set(["eventService","__objectId","sticky"]),r=new qt(this.beans);Object.keys(this).forEach(i=>{t.has(i)||(r[i]=this[i])}),r.footer=!0,r.setRowTop(null),r.setRowIndex(null),r.oldRowTop=null,r.id="rowGroupFooter_"+this.id,r.sibling=this,this.sibling=r}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}};tr.ID_PREFIX_ROW_GROUP="row-group-";tr.ID_PREFIX_TOP_PINNED="t-";tr.ID_PREFIX_BOTTOM_PINNED="b-";tr.OBJECT_ID_SEQUENCE=0;tr.EVENT_ROW_SELECTED="rowSelected";tr.EVENT_DATA_CHANGED="dataChanged";tr.EVENT_CELL_CHANGED="cellChanged";tr.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged";tr.EVENT_MASTER_CHANGED="masterChanged";tr.EVENT_GROUP_CHANGED="groupChanged";tr.EVENT_MOUSE_ENTER="mouseEnter";tr.EVENT_MOUSE_LEAVE="mouseLeave";tr.EVENT_HEIGHT_CHANGED="heightChanged";tr.EVENT_TOP_CHANGED="topChanged";tr.EVENT_DISPLAYED_CHANGED="displayedChanged";tr.EVENT_FIRST_CHILD_CHANGED="firstChildChanged";tr.EVENT_LAST_CHILD_CHANGED="lastChildChanged";tr.EVENT_CHILD_INDEX_CHANGED="childIndexChanged";tr.EVENT_ROW_INDEX_CHANGED="rowIndexChanged";tr.EVENT_EXPANDED_CHANGED="expandedChanged";tr.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged";tr.EVENT_SELECTABLE_CHANGED="selectableChanged";tr.EVENT_UI_LEVEL_CHANGED="uiLevelChanged";tr.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged";tr.EVENT_DRAGGING_CHANGED="draggingChanged";var ht=tr,Ep=class extends it{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),t=this.rowNode.isSelected(),r=hp(e,t),[i,s]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],n=e(i,s);this.eCheckbox.setValue(t,!0),this.eCheckbox.setInputAriaLabel(`${n} (${r})`)}onClicked(e,t,r){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:r.shiftKey,groupSelectsFiltered:t,event:r,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListener(this.eCheckbox.getInputElement(),"dblclick",i=>{Rs(i)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",i=>{Rs(i);const s=this.gos.get("groupSelectsFiltered"),n=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(n,s)?this.onClicked(!0,s,i||{})===0&&this.onClicked(!1,s,i):n?this.onClicked(!1,s,i):this.onClicked(!0,s,i||{})}),this.addManagedListener(this.rowNode,ht.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,ht.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,ht.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gos.get("isRowSelectable")||typeof this.getIsVisible()=="function"){const i=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,$.EVENT_DISPLAYED_COLUMNS_CHANGED,i),this.addManagedListener(this.rowNode,ht.EVENT_DATA_CHANGED,i),this.addManagedListener(this.rowNode,ht.EVENT_CELL_CHANGED,i),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,t){return t&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&this.gos.isRowModelType("clientSide")}showOrHideSelect(){var e,t,r;let i=this.rowNode.selectable;const s=this.getIsVisible();if(i)if(typeof s=="function"){const o=(e=this.overrides)==null?void 0:e.callbackParams;if(!this.column)i=s(er(Be({},o),{node:this.rowNode,data:this.rowNode.data}));else{const a=this.column.createColumnFunctionCallbackParams(this.rowNode);i=s(Be(Be({},o),a))}}else i=s??!1;if((t=this.column)==null?void 0:t.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!i),this.setVisible(!0),this.setDisplayed(!0);return}if((r=this.overrides)!=null&&r.removeHidden){this.setDisplayed(i);return}this.setVisible(i)}getIsVisible(){var e,t;return this.overrides?this.overrides.isVisible:(t=(e=this.column)==null?void 0:e.getColDef())==null?void 0:t.checkboxSelection}};B([Ee("eCheckbox")],Ep.prototype,"eCheckbox",2);B([we],Ep.prototype,"postConstruct",1);var CE=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(CE||{}),ot=class extends ye{constructor(){super(...arguments),this.dragSourceAndParamsList=[],this.dropTargets=[]}init(){this.ePinnedIcon=Yi("columnMovePin",this.gos,null),this.eHideIcon=Yi("columnMoveHide",this.gos,null),this.eMoveIcon=Yi("columnMoveMove",this.gos,null),this.eLeftIcon=Yi("columnMoveLeft",this.gos,null),this.eRightIcon=Yi("columnMoveRight",this.gos,null),this.eGroupIcon=Yi("columnMoveGroup",this.gos,null),this.eAggregateIcon=Yi("columnMoveValue",this.gos,null),this.ePivotIcon=Yi("columnMovePivot",this.gos,null),this.eDropNotAllowedIcon=Yi("dropNotAllowed",this.gos,null)}addDragSource(e,t=!1){const r={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:r,dragSource:e}),this.dragService.addDragSource(r)}removeDragSource(e){const t=this.dragSourceAndParamsList.find(r=>r.dragSource===e);t&&(this.dragService.removeDragSource(t.params),yi(this.dragSourceAndParamsList,t))}clearDragSourceParamsList(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=void 0,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()}onDragStop(e){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){const t=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(t)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()}onDragging(e,t){var r,i,s,n;const o=this.getHorizontalDirection(e),a=this.getVerticalDirection(e);this.eventLastTime=e,this.positionGhost(e);const u=this.dropTargets.filter(c=>this.isMouseOnDropTarget(e,c)),l=this.findCurrentDropTarget(e,u);if(l!==this.lastDropTarget)this.leaveLastTargetIfExists(e,o,a,t),this.lastDropTarget!==null&&l===null&&((i=(r=this.dragSource).onGridExit)==null||i.call(r,this.dragItem)),this.lastDropTarget===null&&l!==null&&((n=(s=this.dragSource).onGridEnter)==null||n.call(s,this.dragItem)),this.enterDragTargetIfExists(l,e,o,a,t),this.lastDropTarget=l;else if(l&&l.onDragging){const c=this.createDropTargetEvent(l,e,o,a,t);l.onDragging(c)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,r=[[e.getContainer()]];return t?r.concat(t):r}allContainersIntersect(e,t){for(const r of t){const i=r.getBoundingClientRect();if(i.width===0||i.height===0)return!1;const s=e.clientX>=i.left&&e.clientX<i.right,n=e.clientY>=i.top&&e.clientY<i.bottom;if(!s||!n)return!1}return!0}isMouseOnDropTarget(e,t){const r=this.getAllContainersFromDropTarget(t);let i=!1;for(const s of r)if(this.allContainersIntersect(e,s)){i=!0;break}return t.targetContainsSource&&!t.getContainer().contains(this.dragSource.eElement)?!1:i&&t.isInterestedIn(this.dragSource.type,this.dragSource.eElement)}findCurrentDropTarget(e,t){const r=t.length;if(r===0)return null;if(r===1)return t[0];const s=this.gos.getRootNode().elementsFromPoint(e.clientX,e.clientY);for(const n of s)for(const o of t)if(q1(this.getAllContainersFromDropTarget(o)).indexOf(n)!==-1)return o;return null}enterDragTargetIfExists(e,t,r,i,s){if(e){if(e.onDragEnter){const n=this.createDropTargetEvent(e,t,r,i,s);e.onDragEnter(n)}this.setGhostIcon(e.getIconName?e.getIconName():null)}}leaveLastTargetIfExists(e,t,r,i){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){const s=this.createDropTargetEvent(this.lastDropTarget,e,t,r,i);this.lastDropTarget.onDragLeave(s)}this.setGhostIcon(null)}}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(r=>r.external).find(r=>r.getContainer()===e.getContainer())||null}getHorizontalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientX,r=e.clientX;return t===r?null:t>r?0:1}getVerticalDirection(e){const t=this.eventLastTime&&this.eventLastTime.clientY,r=e.clientY;return t===r?null:t>r?0:1}createDropTargetEvent(e,t,r,i,s){const n=e.getContainer(),o=n.getBoundingClientRect(),{gridApi:a,columnApi:u,dragItem:l,dragSource:c}=this,h=t.clientX-o.left,d=t.clientY-o.top;return{event:t,x:h,y:d,vDirection:i,hDirection:r,dragSource:c,fromNudge:s,dragItem:l,api:a,columnApi:u,dropZoneTarget:n}}positionGhost(e){const t=this.eGhost;if(!t)return;const i=t.getBoundingClientRect().height,s=SS()-2,n=ES()-2,o=Bv(t.offsetParent),{clientY:a,clientX:u}=e;let l=a-o.top-i/2,c=u-o.left-10;const h=this.gos.getDocument(),d=h.defaultView||window,p=d.pageYOffset||h.documentElement.scrollTop,g=d.pageXOffset||h.documentElement.scrollLeft;s>0&&c+t.clientWidth>s+g&&(c=s+g-t.clientWidth),c<0&&(c=0),n>0&&l+t.clientHeight>n+p&&(l=n+p-t.clientHeight),l<0&&(l=0),t.style.left=`${c}px`,t.style.top=`${l}px`}removeGhost(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null}createGhost(){this.eGhost=Ei(ot.GHOST_TEMPLATE),this.mouseEventService.stampTopLevelGridCompWithGridInstance(this.eGhost);const{theme:e}=this.environment.getTheme();e&&this.eGhost.classList.add(e),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);const t=this.eGhost.querySelector(".ag-dnd-ghost-label");let r=this.dragSource.dragItemName;op(r)&&(r=r()),t.innerHTML=Cr(r)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";const i=this.gos.getDocument();let s=null,n=null;try{s=i.fullscreenElement}catch{}finally{s||(s=this.gos.getRootNode());const o=s.querySelector("body");o?n=o:s instanceof ShadowRoot?n=s:s instanceof Document?n=s==null?void 0:s.documentElement:n=s}this.eGhostParent=n,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")}setGhostIcon(e,t=!1){mr(this.eGhostIcon);let r=null;switch(e||(e=this.dragSource.getDefaultIconName?this.dragSource.getDefaultIconName():ot.ICON_NOT_ALLOWED),e){case ot.ICON_PINNED:r=this.ePinnedIcon;break;case ot.ICON_MOVE:r=this.eMoveIcon;break;case ot.ICON_LEFT:r=this.eLeftIcon;break;case ot.ICON_RIGHT:r=this.eRightIcon;break;case ot.ICON_GROUP:r=this.eGroupIcon;break;case ot.ICON_AGGREGATE:r=this.eAggregateIcon;break;case ot.ICON_PIVOT:r=this.ePivotIcon;break;case ot.ICON_NOT_ALLOWED:r=this.eDropNotAllowedIcon;break;case ot.ICON_HIDE:r=this.eHideIcon;break}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",t),!(r===this.eHideIcon&&this.gos.get("suppressDragLeaveHidesColumns"))&&r&&this.eGhostIcon.appendChild(r)}};ot.ICON_PINNED="pinned";ot.ICON_MOVE="move";ot.ICON_LEFT="left";ot.ICON_RIGHT="right";ot.ICON_GROUP="group";ot.ICON_AGGREGATE="aggregate";ot.ICON_PIVOT="pivot";ot.ICON_NOT_ALLOWED="notAllowed";ot.ICON_HIDE="hide";ot.GHOST_TEMPLATE=`<div class="ag-dnd-ghost ag-unselectable">
            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
            <div class="ag-dnd-ghost-label"></div>
        </div>`;B([q("dragService")],ot.prototype,"dragService",2);B([q("mouseEventService")],ot.prototype,"mouseEventService",2);B([q("columnApi")],ot.prototype,"columnApi",2);B([q("gridApi")],ot.prototype,"gridApi",2);B([we],ot.prototype,"init",1);B([ui],ot.prototype,"clearDragSourceParamsList",1);ot=B([ke("dragAndDropService")],ot);var Wo=class extends it{constructor(e,t,r,i,s,n){super(),this.cellValueFn=e,this.rowNode=t,this.column=r,this.customGui=i,this.dragStartPixels=s,this.suppressVisibilityChange=n,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(nr("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gos.get("rowDragManaged")?new SE(this,this.beans,this.rowNode,this.column):new bE(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e),this.addDragSource(t)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const t=this.beans.selectionService.getSelectedNodes();return t.indexOf(this.rowNode)!==-1?t:[this.rowNode]}checkCompatibility(){const e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&We("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:this.getGui(),dragItemName:()=>{var r;const i=this.getDragItem(),s=((r=i.rowNodes)==null?void 0:r.length)||1,n=this.getRowDragText(this.column);return n?n(i,s):s===1?this.cellValueFn():`${s} ${t("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}removeDragSource(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null}};B([q("beans")],Wo.prototype,"beans",2);B([we],Wo.prototype,"postConstruct",1);B([ui],Wo.prototype,"removeDragSource",1);var wE=class extends ye{constructor(e,t,r){super(),this.parent=e,this.rowNode=t,this.column=r}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let r=!0,i=!1;this.column&&(r=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),i=op(this.column.getColDef().rowDrag)),i?(this.parent.setDisplayed(!0,t),this.parent.setVisible(r,t)):(this.parent.setDisplayed(r,t),this.parent.setVisible(!0,t))}}},bE=class extends wE{constructor(e,t,r,i){super(e,r,i),this.beans=t}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,ht.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ht.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ht.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,$.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}};B([we],bE.prototype,"postConstruct",1);var SE=class extends wE{constructor(e,t,r,i){super(e,r,i),this.beans=t}postConstruct(){this.addManagedListener(this.beans.eventService,$.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,$.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,$.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,$.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ht.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,ht.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const t=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),r=t&&t.shouldPreventRowMove(),i=this.gos.get("suppressRowDrag"),s=this.beans.dragAndDropService.hasExternalDropZones(),n=r&&!s||i;this.setDisplayedOrVisible(n)}};B([we],SE.prototype,"postConstruct",1);var sa=class extends ye{init(e,t,r,i,s,n,o){var a,u,l,c;this.params=o,this.eGui=t,this.eCheckbox=r,this.eExpanded=i,this.eContracted=s,this.comp=e,this.compClass=n;const{node:h,value:d,colDef:p}=o,g=this.isTopLevelFooter();if(!g){if(this.isEmbeddedRowMismatch())return;if(h.footer&&this.gos.get("groupHideOpenParents")){const f=p&&p.showRowGroup,y=h.rowGroupColumn&&h.rowGroupColumn.getColId();if(f!==y)return}}if(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),!g){const v=o.node.footer&&o.node.rowGroupIndex===this.columnModel.getRowGroupColumns().findIndex(F=>{var G;return F.getColId()===((G=o.colDef)==null?void 0:G.showRowGroup)}),y=this.gos.get("groupDisplayType")!="multipleColumns"||this.gos.get("treeData")||this.gos.get("showOpenedGroup")&&!o.node.footer&&(!o.node.group||o.node.rowGroupIndex!=null&&o.node.rowGroupIndex>this.columnModel.getRowGroupColumns().findIndex(F=>{var G;return F.getColId()===((G=o.colDef)==null?void 0:G.showRowGroup)})),m=!h.group&&(((a=this.params.colDef)==null?void 0:a.field)||((u=this.params.colDef)==null?void 0:u.valueGetter)),w=this.isExpandable(),_=this.columnModel.isPivotMode()&&h.leafGroup&&((l=h.rowGroupColumn)==null?void 0:l.getColId())===((c=o.column)==null?void 0:c.getColDef().showRowGroup);if(!this.showingValueForOpenedParent&&!w&&!m&&!y&&!v&&!_)return}this.addExpandAndContract(),this.addFullWidthRowDraggerIfNeeded(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent(),this.refreshAriaExpanded()}getCellAriaRole(){var e,t;const r=(e=this.params.colDef)==null?void 0:e.cellAriaRole,i=(t=this.params.column)==null?void 0:t.getColDef().cellAriaRole;return r||i||"gridcell"}destroy(){super.destroy(),this.expandListener=null}refreshAriaExpanded(){const{node:e,eGridCell:t}=this.params;if(this.expandListener&&(this.expandListener=this.expandListener()),!this.isExpandable()){pS(t);return}const r=()=>{on(t,!!e.expanded)};this.expandListener=this.addManagedListener(e,ht.EVENT_EXPANDED_CHANGED,r)||null,r()}isTopLevelFooter(){if(!this.gos.getGrandTotalRow()||this.params.value!=null||this.params.node.level!=-1)return!1;const t=this.params.colDef;if(t==null||t.showRowGroup===!0)return!0;const i=this.columnModel.getRowGroupColumns();return!i||i.length===0?!0:i[0].getId()===t.showRowGroup}isEmbeddedRowMismatch(){if(!this.params.fullWidth||!this.gos.get("embedFullWidthRows"))return!1;const e=this.params.pinned==="left",t=this.params.pinned==="right",r=!e&&!t;return this.gos.get("enableRtl")?this.columnModel.isPinningLeft()?!t:!r:this.columnModel.isPinningLeft()?!e:!r}findDisplayedGroupNode(){const e=this.params.column,t=this.params.node;if(this.showingValueForOpenedParent){let r=t.parent;for(;r!=null;){if(r.rowGroupColumn&&e.isRowGroupDisplayed(r.rowGroupColumn.getId())){this.displayedGroupNode=r;break}r=r.parent}}tt(this.displayedGroupNode)&&(this.displayedGroupNode=t)}setupShowingValueForOpenedParent(){const e=this.params.node,t=this.params.column;if(!this.gos.get("groupHideOpenParents")){this.showingValueForOpenedParent=!1;return}if(!e.groupData){this.showingValueForOpenedParent=!1;return}if(e.rowGroupColumn!=null){const s=e.rowGroupColumn.getId();if(t.isRowGroupDisplayed(s)){this.showingValueForOpenedParent=!1;return}}const i=e.groupData[t.getId()]!=null;this.showingValueForOpenedParent=i}addValueElement(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())}addGroupValue(){var e;const t=this.adjustParamsWithDetailsFromRelatedColumn(),r=this.getInnerCompDetails(t),{valueFormatted:i,value:s}=t;let n=i;if(n==null){const o=this.displayedGroupNode.rowGroupColumn&&((e=this.params.column)==null?void 0:e.isRowGroupDisplayed(this.displayedGroupNode.rowGroupColumn.getId()));this.displayedGroupNode.key===""&&this.displayedGroupNode.group&&o?n=this.localeService.getLocaleTextFunc()("blanks","(Blanks)"):n=s??null}this.comp.setInnerRenderer(r,n)}adjustParamsWithDetailsFromRelatedColumn(){const e=this.displayedGroupNode.rowGroupColumn,t=this.params.column;if(!e)return this.params;if(t!=null&&!t.isRowGroupDisplayed(e.getId()))return this.params;const i=this.params,{value:s,node:n}=this.params,o=this.valueService.formatValue(e,n,s);return er(Be({},i),{valueFormatted:o})}addFooterValue(){let e=this.params.totalValueGetter;if(!e){const i=this.params.footerValueGetter;i&&(e=i,We("As of v31.3, footerValueGetter is deprecated. Use `totalValueGetter` instead."))}let t="";if(e){const i=Cv(this.params);i.value=this.params.value,typeof e=="function"?t=e(i):typeof e=="string"?t=this.expressionService.evaluate(e,i):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else t=this.localeService.getLocaleTextFunc()("footerTotal","Total")+" "+(this.params.value!=null?this.params.value:"");const r=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(r,t)}getInnerCompDetails(e){if(e.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gos.get("groupRowRendererParams"),e);const t=this.userComponentFactory.getInnerRendererDetails(e,e),r=o=>o&&o.componentClass==this.compClass;if(t&&!r(t))return t;const i=this.displayedGroupNode.rowGroupColumn,s=i?i.getColDef():void 0;if(!s)return;const n=this.userComponentFactory.getCellRendererDetails(s,e);if(n&&!r(n))return n;if(r(n)&&s.cellRendererParams&&s.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(s.cellRendererParams,e)}addChildCount(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,ht.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())}updateChildCount(){const e=this.displayedGroupNode.allChildrenCount,i=this.isShowRowGroupForThisRow()&&e!=null&&e>=0?`(${e})`:"";this.comp.setChildCount(i)}isShowRowGroupForThisRow(){if(this.gos.get("treeData"))return!0;const e=this.displayedGroupNode.rowGroupColumn;if(!e)return!1;const t=this.params.column;return t==null||t.isRowGroupDisplayed(e.getId())}addExpandAndContract(){var e;const t=this.params,r=nr("groupExpanded",this.gos,null),i=nr("groupContracted",this.gos,null);r&&this.eExpanded.appendChild(r),i&&this.eContracted.appendChild(i);const s=t.eGridCell;!(((e=this.params.column)==null?void 0:e.isCellEditable(t.node))&&this.gos.get("enableGroupEdit"))&&this.isExpandable()&&!t.suppressDoubleClickExpand&&this.addManagedListener(s,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(s,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(t.node,ht.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();const o=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,ht.EVENT_ALL_CHILDREN_COUNT_CHANGED,o),this.addManagedListener(this.displayedGroupNode,ht.EVENT_MASTER_CHANGED,o),this.addManagedListener(this.displayedGroupNode,ht.EVENT_GROUP_CHANGED,o),this.addManagedListener(this.displayedGroupNode,ht.EVENT_HAS_CHILDREN_CHANGED,o)}onExpandClicked(e){Es(e)||(Rs(e),this.onExpandOrContract(e))}onExpandOrContract(e){const t=this.displayedGroupNode,r=!t.expanded;!r&&t.sticky&&this.scrollToStickyNode(t),t.setExpanded(r,e)}scrollToStickyNode(e){this.ctrlsService.getGridBodyCtrl().getScrollFeature().setVerticalScrollPosition(e.rowTop-e.stickyRowTop)}isExpandable(){if(this.showingValueForOpenedParent)return!0;const e=this.displayedGroupNode,t=this.columnModel.isPivotMode()&&e.leafGroup;if(!(e.isExpandable()&&!e.footer&&!t))return!1;const i=this.params.column;return i!=null&&typeof i.getColDef().showRowGroup=="string"?this.isShowRowGroupForThisRow():!0}showExpandAndContractIcons(){const{params:e,displayedGroupNode:t,columnModel:r}=this,{node:i}=e,s=this.isExpandable();if(s){const l=this.showingValueForOpenedParent?!0:i.expanded;this.comp.setExpandedDisplayed(l),this.comp.setContractedDisplayed(!l)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);const n=r.isPivotMode(),o=n&&t.leafGroup,a=s&&!o,u=i.footer&&i.level===-1;this.comp.addOrRemoveCssClass("ag-cell-expandable",a),this.comp.addOrRemoveCssClass("ag-row-group",a),n?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",o):u||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!a)}onRowNodeIsExpandableChanged(){this.showExpandAndContractIcons(),this.setIndent(),this.refreshAriaExpanded()}setupIndent(){const e=this.params.node;this.params.suppressPadding||(this.addManagedListener(e,ht.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())}setIndent(){if(this.gos.get("groupHideOpenParents"))return;const e=this.params,t=e.node,r=!!e.colDef,i=this.gos.get("treeData"),n=!r||i||e.colDef.showRowGroup===!0?t.uiLevel:0;this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+n,this.comp.addOrRemoveCssClass(this.indentClass,!0)}addFullWidthRowDraggerIfNeeded(){if(!this.params.fullWidth||!this.params.rowDrag)return;const e=new Wo(()=>this.params.value,this.params.node);this.createManagedBean(e,this.context),this.eGui.insertAdjacentElement("afterbegin",e.getGui())}isUserWantsSelected(){const e=this.params.checkbox;return typeof e=="function"||e===!0}addCheckboxIfNeeded(){const e=this.displayedGroupNode,t=this.isUserWantsSelected()&&!e.footer&&!e.rowPinned&&!e.detail;if(t){const r=new Ep;this.getContext().createBean(r),r.init({rowNode:this.params.node,column:this.params.column,overrides:{isVisible:this.params.checkbox,callbackParams:this.params,removeHidden:!0}}),this.eCheckbox.appendChild(r.getGui()),this.addDestroyFunc(()=>this.getContext().destroyBean(r))}this.comp.setCheckboxVisible(t)}onKeyDown(e){!(e.key===ae.ENTER)||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract(e)}onCellDblClicked(e){if(Es(e))return;mh(this.eExpanded,e)||mh(this.eContracted,e)||this.onExpandOrContract(e)}};B([q("expressionService")],sa.prototype,"expressionService",2);B([q("valueService")],sa.prototype,"valueService",2);B([q("columnModel")],sa.prototype,"columnModel",2);B([q("userComponentFactory")],sa.prototype,"userComponentFactory",2);B([q("ctrlsService")],sa.prototype,"ctrlsService",2);var na=class EE extends it{constructor(){super(EE.TEMPLATE)}init(t){const r={setInnerRenderer:(o,a)=>this.setRenderDetails(o,a),setChildCount:o=>this.eChildCount.textContent=o,addOrRemoveCssClass:(o,a)=>this.addOrRemoveCssClass(o,a),setContractedDisplayed:o=>Ct(this.eContracted,o),setExpandedDisplayed:o=>Ct(this.eExpanded,o),setCheckboxVisible:o=>this.eCheckbox.classList.toggle("ag-invisible",!o)},i=this.createManagedBean(new sa),s=!t.colDef,n=this.getGui();i.init(r,n,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,t),s&&ur(n,i.getCellAriaRole())}setRenderDetails(t,r){if(t){const i=t.newAgStackInstance();if(!i)return;i.then(s=>{if(!s)return;const n=()=>this.context.destroyBean(s);this.isAlive()?(this.eValue.appendChild(s.getGui()),this.addDestroyFunc(n)):n()})}else this.eValue.innerText=r}destroy(){this.getContext().destroyBean(this.innerCellRenderer),super.destroy()}refresh(){return!1}};na.TEMPLATE=`<span class="ag-cell-wrapper">
            <span class="ag-group-expanded" ref="eExpanded"></span>
            <span class="ag-group-contracted" ref="eContracted"></span>
            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>
            <span class="ag-group-value" ref="eValue"></span>
            <span class="ag-group-child-count" ref="eChildCount"></span>
        </span>`;B([Ee("eExpanded")],na.prototype,"eExpanded",2);B([Ee("eContracted")],na.prototype,"eContracted",2);B([Ee("eCheckbox")],na.prototype,"eCheckbox",2);B([Ee("eValue")],na.prototype,"eValue",2);B([Ee("eChildCount")],na.prototype,"eChildCount",2);var oC=na,xp=class xE extends it{constructor(){super(xE.TEMPLATE)}init(t){t.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const t=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=t("loadingError","ERR")}setupLoading(){const t=nr("groupLoading",this.gos,null);t&&this.eLoadingIcon.appendChild(t);const r=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=r("loadingOoo","Loading")}refresh(t){return!1}destroy(){super.destroy()}};xp.TEMPLATE=`<div class="ag-loading">
            <span class="ag-loading-icon" ref="eLoadingIcon"></span>
            <span class="ag-loading-text" ref="eLoadingText"></span>
        </div>`;B([Ee("eLoadingIcon")],xp.prototype,"eLoadingIcon",2);B([Ee("eLoadingText")],xp.prototype,"eLoadingText",2);var jT=xp,_E=class RE extends it{constructor(){super(RE.TEMPLATE)}init(t){const r=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",r),this.addDestroyFunc(()=>el(t.eParentOfValue)),el(t.eParentOfValue,r),t.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const t=this.localeService.getLocaleTextFunc();this.getGui().innerText=t("loadingError","ERR");const r=t("ariaSkeletonCellLoadingFailed","Row failed to load");Ui(this.getGui(),r)}setupLoading(){const r=this.gos.getDocument().createElement("div");r.classList.add("ag-skeleton-effect"),this.getGui().appendChild(r);const s=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");Ui(this.getGui(),s)}refresh(t){return!1}destroy(){super.destroy()}};_E.TEMPLATE='<div class="ag-skeleton-container"></div>';var $T=_E,TE=class AE extends it{constructor(){super()}destroy(){super.destroy()}init(t){const r=this.gos.get("overlayLoadingTemplate");if(this.setTemplate(r??AE.DEFAULT_LOADING_OVERLAY_TEMPLATE),!r){const i=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("loadingOoo","Loading...")})}}};TE.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>';var KT=TE,DE=class ME extends it{constructor(){super()}destroy(){super.destroy()}init(t){const r=this.gos.get("overlayNoRowsTemplate");if(this.setTemplate(r??ME.DEFAULT_NO_ROWS_TEMPLATE),!r){const i=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=i("noRowsToShow","No Rows To Show")})}}};DE.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center"></span>';var qT=DE,YT=class extends ia{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:t}=e;this.getGui().textContent=Cr(t,!0)}},XT=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" ref="eInput"></ag-input-number-field>'}init(e,t){this.eInput=e,this.params=t,t.max!=null&&e.setMax(t.max),t.min!=null&&e.setMin(t.min),t.precision!=null&&e.setPrecision(t.precision),t.step!=null&&e.setStep(t.step);const r=e.getInputElement();t.preventStepping?e.addManagedListener(r,"keydown",this.preventStepping):t.showStepperButtons&&r.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===ae.UP||e.key===ae.DOWN)&&e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!ve(e)&&!ve(this.params.value))return this.params.value;let t=this.params.parseValue(e);if(t==null)return t;if(typeof t=="string"){if(t==="")return null;t=Number(t)}return isNaN(t)?null:t}getStartValue(){return this.params.value}},QT=class extends Ec{constructor(){super(new XT)}},ZT=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.eInput.getDate();return!ve(e)&&!ve(this.params.value)?this.params.value:e??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return is(e,!1)}},JT=class extends Ec{constructor(){super(new ZT)}},eA=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" ref="eInput"></ag-input-date-field>'}init(e,t){this.eInput=e,this.params=t,t.min!=null&&e.setMin(t.min),t.max!=null&&e.setMax(t.max),t.step!=null&&e.setStep(t.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return!ve(e)&&!ve(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){var e,t;return is((t=this.parseDate((e=this.params.value)!=null?e:void 0))!=null?t:null,!1)}parseDate(e){return this.getDataTypeService().getDateParserFunction(this.params.column)(e)}formatDate(e){return this.getDataTypeService().getDateFormatterFunction(this.params.column)(e)}},PE=class extends Ec{constructor(){super(new eA(()=>this.dataTypeService))}};B([q("dataTypeService")],PE.prototype,"dataTypeService",2);var n0=class FE extends it{constructor(){super(FE.TEMPLATE)}init(t){this.params=t,this.updateCheckbox(t);const r=this.eCheckbox.getInputElement();r.setAttribute("tabindex","-1"),_v(r,"polite"),this.addManagedListener(r,"click",i=>{if(Rs(i),this.eCheckbox.isDisabled())return;const s=this.eCheckbox.getValue();this.onCheckboxChanged(s)}),this.addManagedListener(r,"dblclick",i=>{Rs(i)}),this.addManagedListener(this.params.eGridCell,"keydown",i=>{if(i.key===ae.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===this.gos.getActiveDomElement()&&this.eCheckbox.toggle();const s=this.eCheckbox.getValue();this.onCheckboxChanged(s),i.preventDefault()}})}refresh(t){return this.params=t,this.updateCheckbox(t),!0}updateCheckbox(t){var r,i,s;let n,o=!0;if(t.node.group&&t.column){const h=t.column.getColId();h.startsWith(Ja)?n=t.value==null||t.value===""?void 0:t.value==="true":t.node.aggData&&t.node.aggData[h]!==void 0?n=(r=t.value)!=null?r:void 0:o=!1}else n=(i=t.value)!=null?i:void 0;if(!o){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(n);const a=t.disabled!=null?t.disabled:!((s=t.column)!=null&&s.isCellEditable(t.node));this.eCheckbox.setDisabled(a);const u=this.localeService.getLocaleTextFunc(),l=hp(u,n),c=a?l:`${u("ariaToggleCellValue","Press SPACE to toggle cell value")} (${l})`;this.eCheckbox.setInputAriaLabel(c)}onCheckboxChanged(t){const{column:r,node:i,rowIndex:s,value:n}=this.params,o={type:$.EVENT_CELL_EDITING_STARTED,column:r,colDef:r==null?void 0:r.getColDef(),data:i.data,node:i,rowIndex:s,rowPinned:i.rowPinned,value:n};this.eventService.dispatchEvent(o);const a=this.params.node.setDataValue(this.params.column,t,"edit"),u={type:$.EVENT_CELL_EDITING_STOPPED,column:r,colDef:r==null?void 0:r.getColDef(),data:i.data,node:i,rowIndex:s,rowPinned:i.rowPinned,value:n,oldValue:n,newValue:t,valueChanged:a};this.eventService.dispatchEvent(u)}};n0.TEMPLATE=`
        <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
            <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
        </div>`;B([Ee("eCheckbox")],n0.prototype,"eCheckbox",2);var tA=n0,IE=class extends ia{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>
            </div>`)}init(e){var t;this.params=e;const r=(t=e.value)!=null?t:void 0;this.eCheckbox.setValue(r),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(r),this.addManagedListener(this.eCheckbox,$.EVENT_FIELD_VALUE_CHANGED,s=>this.setAriaLabel(s.selected))}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.localeService.getLocaleTextFunc(),r=hp(t,e),i=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${i} (${r})`)}};B([Ee("eCheckbox")],IE.prototype,"eCheckbox",2);var rA=class extends it{constructor(){super(),this.setTemplate("<div></div>")}init(e){var t;this.params=e,this.cssClassPrefix=(t=this.params.cssClassPrefix)!=null?t:"ag-menu-option",this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu()}configureDefaults(){return!0}addIcon(){if(this.params.isCompact)return;const e=Ei(`<span ref="eIcon" class="${this.getClassName("part")} ${this.getClassName("icon")}" role="presentation"></span>`);this.params.checked?e.appendChild(nr("check",this.gos)):this.params.icon&&(mc(this.params.icon)?e.appendChild(this.params.icon):typeof this.params.icon=="string"?e.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(e)}addName(){const e=Ei(`<span ref="eName" class="${this.getClassName("part")} ${this.getClassName("text")}">${this.params.name||""}</span>`);this.getGui().appendChild(e)}addShortcut(){if(this.params.isCompact)return;const e=Ei(`<span ref="eShortcut" class="${this.getClassName("part")} ${this.getClassName("shortcut")}">${this.params.shortcut||""}</span>`);this.getGui().appendChild(e)}addSubMenu(){const e=Ei(`<span ref="ePopupPointer" class="${this.getClassName("part")} ${this.getClassName("popup-pointer")}"></span>`),t=this.getGui();if(this.params.subMenu){const r=this.gos.get("enableRtl")?"smallLeft":"smallRight";on(t,!1),e.appendChild(nr(r,this.gos))}t.appendChild(e)}getClassName(e){return`${this.cssClassPrefix}-${e}`}destroy(){super.destroy()}},bh=class extends ye{constructor(){super(...arguments),this.agGridDefaults={agDateInput:oE,agColumnHeader:Zg,agColumnGroupHeader:BT,agSortIndicator:r0,agTextColumnFloatingFilter:VT,agNumberColumnFloatingFilter:GT,agDateColumnFloatingFilter:bp,agReadOnlyFloatingFilter:Yv,agAnimateShowChangeCellRenderer:vE,agAnimateSlideCellRenderer:yE,agGroupCellRenderer:oC,agGroupRowRenderer:oC,agLoadingCellRenderer:jT,agSkeletonCellRenderer:$T,agCheckboxCellRenderer:tA,agCellEditor:nC,agTextCellEditor:nC,agNumberCellEditor:QT,agDateCellEditor:JT,agDateStringCellEditor:PE,agSelectCellEditor:s0,agLargeTextCellEditor:HT,agCheckboxCellEditor:IE,agTextColumnFilter:t0,agNumberColumnFilter:cE,agDateColumnFilter:nE,agLoadingOverlay:KT,agNoRowsOverlay:qT,agTooltipComponent:YT,agMenuItem:rA},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}init(){const e=this.gos.get("components");e!=null&&qr(e,(t,r)=>this.registerJsComponent(t,r))}registerDefaultComponent(e,t){if(this.agGridDefaults[e]){console.error("Trying to overwrite a default component. You should call registerComponent");return}this.agGridDefaults[e]=t}registerJsComponent(e,t){this.jsComps[e]=t}retrieve(e,t){const r=(a,u)=>({componentFromFramework:u,component:a}),i=this.getFrameworkOverrides().frameworkComponent(t,this.gos.get("components"));if(i!=null)return r(i,!0);const s=this.jsComps[t];if(s){const a=this.getFrameworkOverrides().isFrameworkComponent(s);return r(s,a)}const n=this.agGridDefaults[t];if(n)return r(n,!1);const o=this.enterpriseAgDefaultCompsModule[t];return o?Pt.__assertRegistered(o,`AG Grid '${e}' component: ${t}`,this.context.getGridId()):Za(()=>{this.warnAboutMissingComponent(e,t)},"MissingComp"+t),null}warnAboutMissingComponent(e,t){const r=[...Object.keys(this.agGridDefaults).filter(s=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(s)),...Object.keys(this.jsComps)],i=vc(t,r,!0,.8).values;console.warn(`AG Grid: Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.`),i.length>0&&console.warn(`         Did you mean: [${i.slice(0,3)}]?`),console.warn(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}};B([we],bh.prototype,"init",1);bh=B([ke("userComponentRegistry")],bh);var iA={propertyName:"dateComponent",cellRenderer:!1},sA={propertyName:"headerComponent",cellRenderer:!1},nA={propertyName:"headerGroupComponent",cellRenderer:!1},aC={propertyName:"cellRenderer",cellRenderer:!0},oA={propertyName:"loadingCellRenderer",cellRenderer:!0},aA={propertyName:"cellEditor",cellRenderer:!1},lC={propertyName:"innerRenderer",cellRenderer:!0},lA={propertyName:"loadingOverlayComponent",cellRenderer:!1},uA={propertyName:"noRowsOverlayComponent",cellRenderer:!1},cA={propertyName:"tooltipComponent",cellRenderer:!1},Jg={propertyName:"filter",cellRenderer:!1},dA={propertyName:"floatingFilterComponent",cellRenderer:!1},hA={propertyName:"toolPanel",cellRenderer:!1},pA={propertyName:"statusPanel",cellRenderer:!1},fA={propertyName:"fullWidthCellRenderer",cellRenderer:!0},gA={propertyName:"loadingCellRenderer",cellRenderer:!0},mA={propertyName:"groupRowRenderer",cellRenderer:!0},vA={propertyName:"detailCellRenderer",cellRenderer:!0},yA={propertyName:"menuItem",cellRenderer:!1},kE=class{static getFloatingFilterType(e){return this.filterToFloatingFilterMapping[e]}};kE.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"};var jn=class extends ye{getHeaderCompDetails(e,t){return this.getCompDetails(e,sA,"agColumnHeader",t)}getHeaderGroupCompDetails(e){const t=e.columnGroup.getColGroupDef();return this.getCompDetails(t,nA,"agColumnGroupHeader",e)}getFullWidthCellRendererDetails(e){return this.getCompDetails(this.gridOptions,fA,null,e,!0)}getFullWidthLoadingCellRendererDetails(e){return this.getCompDetails(this.gridOptions,gA,"agLoadingCellRenderer",e,!0)}getFullWidthGroupCellRendererDetails(e){return this.getCompDetails(this.gridOptions,mA,"agGroupRowRenderer",e,!0)}getFullWidthDetailCellRendererDetails(e){return this.getCompDetails(this.gridOptions,vA,"agDetailCellRenderer",e,!0)}getInnerRendererDetails(e,t){return this.getCompDetails(e,lC,null,t)}getFullWidthGroupRowInnerCellRenderer(e,t){return this.getCompDetails(e,lC,null,t)}getCellRendererDetails(e,t){return this.getCompDetails(e,aC,null,t)}getLoadingCellRendererDetails(e,t){return this.getCompDetails(e,oA,"agSkeletonCellRenderer",t,!0)}getCellEditorDetails(e,t){return this.getCompDetails(e,aA,"agCellEditor",t,!0)}getFilterDetails(e,t,r){return this.getCompDetails(e,Jg,r,t,!0)}getDateCompDetails(e){return this.getCompDetails(this.gridOptions,iA,"agDateInput",e,!0)}getLoadingOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,lA,"agLoadingOverlay",e,!0)}getNoRowsOverlayCompDetails(e){return this.getCompDetails(this.gridOptions,uA,"agNoRowsOverlay",e,!0)}getTooltipCompDetails(e){return this.getCompDetails(e.colDef,cA,"agTooltipComponent",e,!0)}getSetFilterCellRendererDetails(e,t){return this.getCompDetails(e,aC,null,t)}getFloatingFilterCompDetails(e,t,r){return this.getCompDetails(e,dA,r,t)}getToolPanelCompDetails(e,t){return this.getCompDetails(e,hA,null,t,!0)}getStatusPanelCompDetails(e,t){return this.getCompDetails(e,pA,null,t,!0)}getMenuItemCompDetails(e,t){return this.getCompDetails(e,yA,"agMenuItem",t,!0)}getCompDetails(e,t,r,i,s=!1){const{propertyName:n,cellRenderer:o}=t;let{compName:a,jsComp:u,fwComp:l,paramsFromSelector:c,popupFromSelector:h,popupPositionFromSelector:d}=this.getCompKeys(e,t,i);const p=y=>{const m=this.userComponentRegistry.retrieve(n,y);m&&(u=m.componentFromFramework?void 0:m.component,l=m.componentFromFramework?m.component:void 0)};if(a!=null&&p(a),u==null&&l==null&&r!=null&&p(r),u&&o&&!this.agComponentUtils.doesImplementIComponent(u)&&(u=this.agComponentUtils.adaptFunction(n,u)),!u&&!l){s&&console.error(`AG Grid: Could not find component ${a}, did you forget to configure this component?`);return}const g=this.mergeParamsWithApplicationProvidedParams(e,t,i,c),v=u==null,f=u||l;return{componentFromFramework:v,componentClass:f,params:g,type:t,popupFromSelector:h,popupPositionFromSelector:d,newAgStackInstance:()=>this.newAgStackInstance(f,v,g,t)}}getCompKeys(e,t,r){const{propertyName:i}=t;let s,n,o,a,u,l;if(e){const c=e,h=c[i+"Selector"],d=h?h(r):null,p=g=>{typeof g=="string"?s=g:g!=null&&g!==!0&&(this.getFrameworkOverrides().isFrameworkComponent(g)?o=g:n=g)};d?(p(d.component),a=d.params,u=d.popup,l=d.popupPosition):p(c[i])}return{compName:s,jsComp:n,fwComp:o,paramsFromSelector:a,popupFromSelector:u,popupPositionFromSelector:l}}newAgStackInstance(e,t,r,i){const s=i.propertyName,n=!t;let o;if(n)o=new e;else{const u=this.componentMetadataProvider.retrieve(s);o=this.frameworkComponentWrapper.wrap(e,u.mandatoryMethodList,u.optionalMethodList,i)}const a=this.initComponent(o,r);return a==null?wr.resolve(o):a.then(()=>o)}mergeParamsWithApplicationProvidedParams(e,t,r,i=null){const s=this.gos.getGridCommonParams();bi(s,r);const n=e,o=n&&n[t.propertyName+"Params"];if(typeof o=="function"){const a=o(r);bi(s,a)}else typeof o=="object"&&bi(s,o);return bi(s,i),s}initComponent(e,t){if(this.context.createBean(e),e.init!=null)return e.init(t)}getDefaultFloatingFilterType(e,t){if(e==null)return null;let r=null,{compName:i,jsComp:s,fwComp:n}=this.getCompKeys(e,Jg);return i?r=kE.getFloatingFilterType(i):s==null&&n==null&&e.filter===!0&&(r=t()),r}};B([q("gridOptions")],jn.prototype,"gridOptions",2);B([q("agComponentUtils")],jn.prototype,"agComponentUtils",2);B([q("componentMetadataProvider")],jn.prototype,"componentMetadataProvider",2);B([q("userComponentRegistry")],jn.prototype,"userComponentRegistry",2);B([Lt("frameworkComponentWrapper")],jn.prototype,"frameworkComponentWrapper",2);jn=B([ke("userComponentFactory")],jn);var LE=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const r=t||this.shouldSkipVerticalScroll();if(r&&this.shouldSkipHorizontalScroll())return;const i=this.scrollContainer.getBoundingClientRect(),s=this.scrollByTick;this.tickLeft=e.clientX<i.left+s,this.tickRight=e.clientX>i.right-s,this.tickUp=e.clientY<i.top+s&&!r,this.tickDown=e.clientY>i.bottom-s&&!r,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;let e;if(e=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},qi=class extends ye{constructor(e){super(),this.eContainer=e}postConstruct(){this.gos.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(e=>{const t=e.gridBodyCtrl;this.autoScrollService=new LE({scrollContainer:t.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>t.getScrollFeature().getVScrollPosition().top,setVerticalPosition:r=>t.getScrollFeature().setVerticalScrollPosition(r),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?ot.ICON_NOT_ALLOWED:ot.ICON_MOVE}shouldPreventRowMove(){return!!(this.columnModel.getRowGroupColumns().length||this.filterManager.isAnyFilterPresent()||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const i=[...this.selectionService.getSelectedNodes()].sort((s,n)=>s.rowIndex==null||n.rowIndex==null?0:this.getRowIndexNumber(s)-this.getRowIndexNumber(n));if(i.indexOf(t)!==-1)return i}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent($.EVENT_ROW_DRAG_ENTER,e),this.getRowNodes(e).forEach(t=>{t.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}isDropZoneWithinThisGrid(e){const r=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:i}=e;return!r.contains(i)}onEnterOrDragging(e){this.dispatchGridEvent($.EVENT_ROW_DRAG_MOVE,e),this.lastDraggingEvent=e;const t=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const r=this.isFromThisGrid(e),i=this.gos.get("rowDragManaged"),s=e.dragItem.rowNodes;i&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!r?this.isDropZoneWithinThisGrid(e)||this.clientSideRowModel.highlightRowAtPixel(s[0],t):this.moveRows(s,t))}getRowIndexNumber(e){return parseInt(Tt(e.getRowIndexString().split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel.getLastHighlightedRowNode(),r=t&&t.highlighted===1,i=this.mouseEventService.getNormalisedPosition(e).y,s=e.dragItem.rowNodes;let n=r?1:0;if(this.isFromThisGrid(e))s.forEach(o=>{o.rowTop<i&&(n-=1)}),this.moveRows(s,i,n);else{const o=this.gos.getCallback("getRowId");let a=this.clientSideRowModel.getRowIndexAtPixel(i)+1;this.clientSideRowModel.getHighlightPosition(i)===0&&a--,this.clientSideRowModel.updateRowData({add:s.map(u=>u.data).filter(u=>!this.clientSideRowModel.getRowNode(o?o({data:u,level:0}):u.id)),addIndex:a})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,r=0){var i;this.clientSideRowModel.ensureRowsAtPixel(e,t,r)&&(this.focusService.clearFocusedCell(),(i=this.rangeService)==null||i.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){We("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let t={getContainer:e.getContainer};e.fromGrid?t=e:(e.onDragEnter&&(t.onDragEnter=r=>{e.onDragEnter(this.draggingToRowDragEvent($.EVENT_ROW_DRAG_ENTER,r))}),e.onDragLeave&&(t.onDragLeave=r=>{e.onDragLeave(this.draggingToRowDragEvent($.EVENT_ROW_DRAG_LEAVE,r))}),e.onDragging&&(t.onDragging=r=>{e.onDragging(this.draggingToRowDragEvent($.EVENT_ROW_DRAG_MOVE,r))}),e.onDragStop&&(t.onDragStop=r=>{e.onDragStop(this.draggingToRowDragEvent($.EVENT_ROW_DRAG_END,r))})),this.dragAndDropService.addDropTarget(Be({isInterestedIn:r=>r===2,getIconName:()=>ot.ICON_MOVE,external:!0},t))}getRowDropZone(e){const t=this.getContainer.bind(this),r=this.onDragEnter.bind(this),i=this.onDragLeave.bind(this),s=this.onDragging.bind(this),n=this.onDragStop.bind(this);return e?{getContainer:t,onDragEnter:e.onDragEnter?o=>{r(o),e.onDragEnter(this.draggingToRowDragEvent($.EVENT_ROW_DRAG_ENTER,o))}:r,onDragLeave:e.onDragLeave?o=>{i(o),e.onDragLeave(this.draggingToRowDragEvent($.EVENT_ROW_DRAG_LEAVE,o))}:i,onDragging:e.onDragging?o=>{s(o),e.onDragging(this.draggingToRowDragEvent($.EVENT_ROW_DRAG_MOVE,o))}:s,onDragStop:e.onDragStop?o=>{n(o),e.onDragStop(this.draggingToRowDragEvent($.EVENT_ROW_DRAG_END,o))}:n,fromGrid:!0}:{getContainer:t,onDragEnter:r,onDragLeave:i,onDragging:s,onDragStop:n,fromGrid:!0}}draggingToRowDragEvent(e,t){const r=this.mouseEventService.getNormalisedPosition(t).y,i=r>this.paginationProxy.getCurrentPageHeight();let s=-1,n;i||(s=this.rowModel.getRowIndexAtPixel(r),n=this.rowModel.getRow(s));let o;switch(t.vDirection){case 1:o="down";break;case 0:o="up";break;default:o=null;break}return this.gos.addGridCommonParams({type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:s,overNode:n,y:r,vDirection:o})}dispatchGridEvent(e,t){const r=this.draggingToRowDragEvent(e,t);this.eventService.dispatchEvent(r)}onDragLeave(e){this.dispatchGridEvent($.EVENT_ROW_DRAG_LEAVE,e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent($.EVENT_ROW_DRAG_END,e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&!this.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{t.setDragging(!1)})}};B([q("dragAndDropService")],qi.prototype,"dragAndDropService",2);B([q("rowModel")],qi.prototype,"rowModel",2);B([q("paginationProxy")],qi.prototype,"paginationProxy",2);B([q("columnModel")],qi.prototype,"columnModel",2);B([q("focusService")],qi.prototype,"focusService",2);B([q("sortController")],qi.prototype,"sortController",2);B([q("filterManager")],qi.prototype,"filterManager",2);B([q("selectionService")],qi.prototype,"selectionService",2);B([q("mouseEventService")],qi.prototype,"mouseEventService",2);B([q("ctrlsService")],qi.prototype,"ctrlsService",2);B([Lt("rangeService")],qi.prototype,"rangeService",2);B([we],qi.prototype,"postConstruct",1);var zu=class extends ye{constructor(){super(...arguments),this.dragEndFunctions=[],this.dragSources=[]}removeAllListeners(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0}removeListener(e){const t=e.dragSource.eElement,r=e.mouseDownListener;if(t.removeEventListener("mousedown",r),e.touchEnabled){const i=e.touchStartListener;t.removeEventListener("touchstart",i,{passive:!0})}}removeDragSource(e){const t=this.dragSources.find(r=>r.dragSource===e);t&&(this.removeListener(t),yi(this.dragSources,t))}isDragging(){return this.dragging}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:r,includeTouch:i,stopPropagationForTouch:s}=e;r.addEventListener("mousedown",t);let n=null;const o=this.gos.get("suppressTouch");i&&!o&&(n=a=>{Gv(a.target)||(a.cancelable&&(a.preventDefault(),s&&a.stopPropagation()),this.onTouchStart(e,a))},r.addEventListener("touchstart",n,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:n,touchEnabled:!!i})}getStartTarget(){return this.startTarget}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const r=t.touches[0];this.touchLastTime=r,this.touchStart=r;const i=u=>this.onTouchMove(u,e.eElement),s=u=>this.onTouchUp(u,e.eElement),n=u=>{u.cancelable&&u.preventDefault()},o=t.target,a=[{target:this.gos.getRootNode(),type:"touchmove",listener:n,options:{passive:!1}},{target:o,type:"touchmove",listener:i,options:{passive:!0}},{target:o,type:"touchend",listener:s,options:{passive:!0}},{target:o,type:"touchcancel",listener:s,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(r,this.touchStart,e.eElement)}onMouseDown(e,t){const r=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||r._alreadyProcessedByDragService||(r._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const i=u=>this.onMouseMove(u,e.eElement),s=u=>this.onMouseUp(u,e.eElement),n=u=>u.preventDefault(),o=this.gos.getRootNode(),a=[{target:o,type:"mousemove",listener:i},{target:o,type:"mouseup",listener:s},{target:o,type:"contextmenu",listener:n}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:r,type:i,listener:s,options:n}=t;r.addEventListener(i,s,n)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:r,type:i,listener:s,options:n}=t;r.removeEventListener(i,s,n)})})}isEventNearStartEvent(e,t){const{dragStartPixels:r}=this.currentDragParams,i=ve(r)?r:4;return Kv(e,t,i)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,r){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(e,t))return;this.dragging=!0;const i={type:$.EVENT_DRAG_STARTED,target:r};this.eventService.dispatchEvent(i),this.currentDragParams.onDragStart(t),this.currentDragParams.onDragging(t)}this.currentDragParams.onDragging(e)}onTouchMove(e,t){const r=this.getFirstActiveTouch(e.touches);r&&this.onCommonMove(r,this.touchStart,t)}onMouseMove(e,t){var r;Hs()&&((r=this.gos.getDocument().getSelection())==null||r.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const t=this.gos.get("enableCellTextSelection"),r=e.type==="mousemove";return t&&r&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const t=e.target,r=t==null?void 0:t.tagName.toLocaleLowerCase();return!!(r!=null&&r.match("^a$|textarea|input|select|button"))}onTouchUp(e,t){let r=this.getFirstActiveTouch(e.changedTouches);r||(r=this.touchLastTime),this.onUpCommon(r,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){if(this.dragging){this.dragging=!1,this.currentDragParams.onDragStop(e);const r={type:$.EVENT_DRAG_STOPPED,target:t};this.eventService.dispatchEvent(r)}this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(r=>r()),this.dragEndFunctions.length=0}};B([q("mouseEventService")],zu.prototype,"mouseEventService",2);B([ui],zu.prototype,"removeAllListeners",1);zu=B([ke("dragService")],zu);var Tf="ag-list-item-hovered",NE=class extends ye{constructor(e,t,r){super(),this.comp=e,this.virtualList=t,this.params=r,this.currentDragValue=null,this.lastHoveredListItem=null}postConstruct(){this.addManagedListener(this.params.eventSource,this.params.listItemDragStartEvent,this.listItemDragStart.bind(this)),this.addManagedListener(this.params.eventSource,this.params.listItemDragEndEvent,this.listItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()}listItemDragStart(e){this.currentDragValue=this.params.getCurrentDragValue(e),this.moveBlocked=this.params.isMoveBlocked(this.currentDragValue)}listItemDragEnd(){window.setTimeout(()=>{this.currentDragValue=null,this.moveBlocked=!1},10)}createDropTarget(){const e={isInterestedIn:t=>t===this.params.dragSourceType,getIconName:()=>this.moveBlocked?ot.ICON_PINNED:ot.ICON_MOVE,getContainer:()=>this.comp.getGui(),onDragging:t=>this.onDragging(t),onDragStop:()=>this.onDragStop(),onDragLeave:()=>this.onDragLeave()};this.dragAndDropService.addDropTarget(e)}createAutoScrollService(){const e=this.virtualList.getGui();this.autoScrollService=new LE({scrollContainer:e,scrollAxis:"y",getVerticalPosition:()=>e.scrollTop,setVerticalPosition:t=>e.scrollTop=t})}onDragging(e){if(!this.currentDragValue||this.moveBlocked)return;const t=this.getListDragItem(e),r=this.virtualList.getComponentAt(t.rowIndex);if(!r)return;const i=r.getGui().parentElement;this.lastHoveredListItem&&this.lastHoveredListItem.rowIndex===t.rowIndex&&this.lastHoveredListItem.position===t.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredListItem=t,Yg(i,Tf),Yg(i,`ag-item-highlight-${t.position}`))}getListDragItem(e){const t=this.virtualList.getGui(),r=parseFloat(window.getComputedStyle(t).paddingTop),i=this.virtualList.getRowHeight(),s=this.virtualList.getScrollTop(),n=Math.max(0,(e.y-r+s)/i),o=this.params.getNumRows(this.comp)-1,a=Math.min(o,n)|0;return{rowIndex:a,position:Math.round(n)>n||n>o?"bottom":"top",component:this.virtualList.getComponentAt(a)}}onDragStop(){this.moveBlocked||(this.params.moveItem(this.currentDragValue,this.lastHoveredListItem),this.clearHoveredItems(),this.autoScrollService.ensureCleared())}onDragLeave(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()}clearHoveredItems(){this.virtualList.getGui().querySelectorAll(`.${Tf}`).forEach(t=>{[Tf,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(r=>{t.classList.remove(r)})}),this.lastHoveredListItem=null}};B([q("dragAndDropService")],NE.prototype,"dragAndDropService",2);B([we],NE.prototype,"postConstruct",1);function xo(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var gt=class{constructor(){this.detailGridInfoMap={},this.destroyCalled=!1}init(){switch(this.rowModel.getType()){case"clientSide":this.clientSideRowModel=this.rowModel;break;case"infinite":this.infiniteRowModel=this.rowModel;break;case"serverSide":this.serverSideRowModel=this.rowModel;break}this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl})}__getAlignedGridService(){return this.alignedGridsService}getGridId(){return this.context.getGridId()}addDetailGridInfo(e,t){this.detailGridInfoMap[e]=t}removeDetailGridInfo(e){delete this.detailGridInfoMap[e]}getDetailGridInfo(e){return this.detailGridInfoMap[e]}forEachDetailGridInfo(e){let t=0;qr(this.detailGridInfoMap,(r,i)=>{ve(i)&&(e(i,t),t++)})}getDataAsCsv(e){if(Pt.__assertRegistered("@ag-grid-community/csv-export","api.getDataAsCsv",this.context.getGridId()))return this.csvCreator.getDataAsCsv(e)}exportDataAsCsv(e){Pt.__assertRegistered("@ag-grid-community/csv-export","api.exportDataAsCsv",this.context.getGridId())&&this.csvCreator.exportDataAsCsv(e)}assertNotExcelMultiSheet(e,t){return Pt.__assertRegistered("@ag-grid-enterprise/excel-export","api."+e,this.context.getGridId())?this.excelCreator.getFactoryMode()===1?(console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'"),!1):!0:!1}getDataAsExcel(e){if(this.assertNotExcelMultiSheet("getDataAsExcel",e))return this.excelCreator.getDataAsExcel(e)}exportDataAsExcel(e){this.assertNotExcelMultiSheet("exportDataAsExcel",e)&&this.excelCreator.exportDataAsExcel(e)}getSheetDataForExcel(e){if(Pt.__assertRegistered("@ag-grid-enterprise/excel-export","api.getSheetDataForExcel",this.context.getGridId()))return this.excelCreator.setFactoryMode(1),this.excelCreator.getSheetDataForExcel(e)}getMultipleSheetsAsExcel(e){if(Pt.__assertRegistered("@ag-grid-enterprise/excel-export","api.getMultipleSheetsAsExcel",this.context.getGridId()))return this.excelCreator.getMultipleSheetsAsExcel(e)}exportMultipleSheetsAsExcel(e){Pt.__assertRegistered("@ag-grid-enterprise/excel-export","api.exportMultipleSheetsAsExcel",this.context.getGridId())&&this.excelCreator.exportMultipleSheetsAsExcel(e)}setGridAriaProperty(e,t){if(!e)return;const r=this.ctrlsService.getGridBodyCtrl().getGui(),i=`aria-${e}`;t===null?r.removeAttribute(i):r.setAttribute(i,t)}logMissingRowModel(e,...t){console.error(`AG Grid: api.${e} can only be called when gridOptions.rowModelType is ${t.join(" or ")}`)}logDeprecation(e,t,r,i){We(`Since ${e} api.${t} is deprecated. Please use ${r} instead. ${i??""}`)}getPinnedTopRowCount(){return this.pinnedRowModel.getPinnedTopRowCount()}getPinnedBottomRowCount(){return this.pinnedRowModel.getPinnedBottomRowCount()}getPinnedTopRow(e){return this.pinnedRowModel.getPinnedTopRow(e)}getPinnedBottomRow(e){return this.pinnedRowModel.getPinnedBottomRow(e)}expireValueCache(){this.valueCache.expire()}getVerticalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()}getHorizontalPixelRange(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()}refreshCells(e={}){this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.refreshCells(e))}flashCells(e={}){const t=r=>We(`Since v31.1 api.flashCells parameter '${r}Delay' is deprecated. Please use '${r}Duration' instead.`);ve(e.fadeDelay)&&t("fade"),ve(e.flashDelay)&&t("flash"),this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.flashCells(e))}redrawRows(e={}){const t=e?e.rowNodes:void 0;this.frameworkOverrides.wrapIncoming(()=>this.rowRenderer.redrawRows(t))}refreshHeader(){this.frameworkOverrides.wrapIncoming(()=>this.ctrlsService.getHeaderRowContainerCtrls().forEach(e=>e.refresh()))}isAnyFilterPresent(){return this.filterManager.isAnyFilterPresent()}isColumnFilterPresent(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()}isQuickFilterPresent(){return this.filterManager.isQuickFilterPresent()}getModel(){return We("Since v31.1 getModel() is deprecated. Please use the appropriate grid API methods instead."),this.rowModel}setRowNodeExpanded(e,t,r,i){this.expansionService.setRowNodeExpanded(e,t,r,i)}onGroupExpandedOrCollapsed(){if(tt(this.clientSideRowModel)){this.logMissingRowModel("onGroupExpandedOrCollapsed","clientSide");return}this.expansionService.onGroupExpandedOrCollapsed()}refreshClientSideRowModel(e){if(tt(this.clientSideRowModel)){this.logMissingRowModel("refreshClientSideRowModel","clientSide");return}this.clientSideRowModel.refreshModel(e)}isAnimationFrameQueueEmpty(){return this.animationFrameService.isQueueEmpty()}flushAllAnimationFrames(){this.animationFrameService.flushAllFrames()}getRowNode(e){return this.rowModel.getRowNode(e)}getSizesForCurrentTheme(){return{rowHeight:this.gos.getRowHeightAsNumber(),headerHeight:this.columnModel.getHeaderHeight()}}expandAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!0):this.logMissingRowModel("expandAll","clientSide","serverSide")}collapseAll(){this.clientSideRowModel||this.serverSideRowModel?this.expansionService.expandAll(!1):this.logMissingRowModel("collapseAll","clientSide","serverSide")}addRenderedRowListener(e,t,r){this.rowRenderer.addRenderedRowListener(e,t,r)}getQuickFilter(){return this.gos.get("quickFilterText")}getAdvancedFilterModel(){return Pt.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.getAdvancedFilterModel",this.context.getGridId())?this.filterManager.getAdvancedFilterModel():null}setAdvancedFilterModel(e){this.filterManager.setAdvancedFilterModel(e)}showAdvancedFilterBuilder(){Pt.__assertRegistered("@ag-grid-enterprise/advanced-filter","api.setAdvancedFilterModel",this.context.getGridId())&&this.filterManager.showAdvancedFilterBuilder("api")}setNodesSelected(e){if(!e.nodes.every(o=>o.rowPinned?(console.warn("AG Grid: cannot select pinned rows"),!1):o.id===void 0?(console.warn("AG Grid: cannot select node until id for node is known"),!1):!0))return;const{nodes:r,source:i,newValue:s}=e,n=r;this.selectionService.setNodesSelected({nodes:n,source:i??"api",newValue:s})}selectAll(e="apiSelectAll"){this.selectionService.selectAllRowNodes({source:e})}deselectAll(e="apiSelectAll"){this.selectionService.deselectAllRowNodes({source:e})}selectAllFiltered(e="apiSelectAllFiltered"){this.selectionService.selectAllRowNodes({source:e,justFiltered:!0})}deselectAllFiltered(e="apiSelectAllFiltered"){this.selectionService.deselectAllRowNodes({source:e,justFiltered:!0})}getServerSideSelectionState(){return tt(this.serverSideRowModel)?(this.logMissingRowModel("getServerSideSelectionState","serverSide"),null):this.selectionService.getSelectionState()}setServerSideSelectionState(e){if(tt(this.serverSideRowModel)){this.logMissingRowModel("setServerSideSelectionState","serverSide");return}this.selectionService.setSelectionState(e,"api")}selectAllOnCurrentPage(e="apiSelectAllCurrentPage"){this.selectionService.selectAllRowNodes({source:e,justCurrentPage:!0})}deselectAllOnCurrentPage(e="apiSelectAllCurrentPage"){this.selectionService.deselectAllRowNodes({source:e,justCurrentPage:!0})}showLoadingOverlay(){this.overlayService.showLoadingOverlay()}showNoRowsOverlay(){this.overlayService.showNoRowsOverlay()}hideOverlay(){this.overlayService.hideOverlay()}getSelectedNodes(){return this.selectionService.getSelectedNodes()}getSelectedRows(){return this.selectionService.getSelectedRows()}getBestCostNodeSelection(){if(tt(this.clientSideRowModel)){this.logMissingRowModel("getBestCostNodeSelection","clientSide");return}return this.selectionService.getBestCostNodeSelection()}getRenderedNodes(){return this.rowRenderer.getRenderedNodes()}ensureColumnVisible(e,t="auto"){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(e,t),"ensureVisible")}ensureIndexVisible(e,t){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(e,t),"ensureVisible")}ensureNodeVisible(e,t=null){this.frameworkOverrides.wrapIncoming(()=>this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(e,t),"ensureVisible")}forEachLeafNode(e){if(tt(this.clientSideRowModel)){this.logMissingRowModel("forEachLeafNode","clientSide");return}this.clientSideRowModel.forEachLeafNode(e)}forEachNode(e,t){this.rowModel.forEachNode(e,t)}forEachNodeAfterFilter(e){if(tt(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilter","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilter(e)}forEachNodeAfterFilterAndSort(e){if(tt(this.clientSideRowModel)){this.logMissingRowModel("forEachNodeAfterFilterAndSort","clientSide");return}this.clientSideRowModel.forEachNodeAfterFilterAndSort(e)}getFilterInstance(e,t){return We("'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."),this.filterManager.getFilterInstance(e,t)}getColumnFilterInstance(e){return this.filterManager.getColumnFilterInstance(e)}destroyFilter(e){const t=this.columnModel.getPrimaryColumn(e);if(t)return this.filterManager.destroyFilter(t,"api")}getStatusPanel(e){if(!Pt.__assertRegistered("@ag-grid-enterprise/status-bar","api.getStatusPanel",this.context.getGridId()))return;const t=this.statusBarService.getStatusPanel(e);return xo(t)}getColumnDef(e){const t=this.columnModel.getPrimaryColumn(e);return t?t.getColDef():null}getColumnDefs(){return this.columnModel.getColumnDefs()}onFilterChanged(e="api"){this.filterManager.onFilterChanged({source:e})}onSortChanged(){this.sortController.onSortChanged("api")}setFilterModel(e){this.frameworkOverrides.wrapIncoming(()=>this.filterManager.setFilterModel(e))}getFilterModel(){return this.filterManager.getFilterModel()}getColumnFilterModel(e){return this.filterManager.getColumnFilterModel(e)}setColumnFilterModel(e,t){return this.filterManager.setColumnFilterModel(e,t)}getFocusedCell(){return this.focusService.getFocusedCell()}clearFocusedCell(){return this.focusService.clearFocusedCell()}setFocusedCell(e,t,r){this.focusService.setFocusedCell({rowIndex:e,column:t,rowPinned:r,forceBrowserFocus:!0})}addRowDropZone(e){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(e)}removeRowDropZone(e){const t=this.dragAndDropService.findExternalZone(e);t&&this.dragAndDropService.removeDropTarget(t)}getRowDropZoneParams(e){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(e)}assertSideBarLoaded(e){return Pt.__assertRegistered("@ag-grid-enterprise/side-bar","api."+e,this.context.getGridId())}isSideBarVisible(){return this.assertSideBarLoaded("isSideBarVisible")&&this.sideBarService.getSideBarComp().isDisplayed()}setSideBarVisible(e){this.assertSideBarLoaded("setSideBarVisible")&&this.sideBarService.getSideBarComp().setDisplayed(e)}setSideBarPosition(e){this.assertSideBarLoaded("setSideBarPosition")&&this.sideBarService.getSideBarComp().setSideBarPosition(e)}openToolPanel(e){this.assertSideBarLoaded("openToolPanel")&&this.sideBarService.getSideBarComp().openToolPanel(e,"api")}closeToolPanel(){this.assertSideBarLoaded("closeToolPanel")&&this.sideBarService.getSideBarComp().close("api")}getOpenedToolPanel(){return this.assertSideBarLoaded("getOpenedToolPanel")?this.sideBarService.getSideBarComp().openedItem():null}refreshToolPanel(){this.assertSideBarLoaded("refreshToolPanel")&&this.sideBarService.getSideBarComp().refresh()}isToolPanelShowing(){return this.assertSideBarLoaded("isToolPanelShowing")&&this.sideBarService.getSideBarComp().isToolPanelShowing()}getToolPanelInstance(e){if(this.assertSideBarLoaded("getToolPanelInstance")){const t=this.sideBarService.getSideBarComp().getToolPanelInstance(e);return xo(t)}}getSideBar(){if(this.assertSideBarLoaded("getSideBar"))return this.sideBarService.getSideBarComp().getDef()}resetRowHeights(){if(ve(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive()){console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}this.clientSideRowModel.resetRowHeights()}}setRowCount(e,t){if(this.serverSideRowModel){if(this.columnModel.isRowGroupEmpty()){this.serverSideRowModel.setRowCount(e,t);return}console.error("AG Grid: setRowCount cannot be used while using row grouping.");return}if(this.infiniteRowModel){this.infiniteRowModel.setRowCount(e,t);return}this.logMissingRowModel("setRowCount","infinite","serverSide")}onRowHeightChanged(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()}getValue(e,t){return this.logDeprecation("31.3","getValue","getCellValue"),this.getCellValue({colKey:e,rowNode:t})}getCellValue(e){var t;const{colKey:r,rowNode:i,useFormatter:s}=e;let n=(t=this.columnModel.getPrimaryColumn(r))!=null?t:this.columnModel.getGridColumn(r);if(tt(n))return null;const o=this.valueService.getValue(n,i);if(s){const a=this.valueService.formatValue(n,i,o);return a??Cr(o,!0)}return o}addEventListener(e,t){this.apiEventService.addEventListener(e,t)}addGlobalListener(e){this.apiEventService.addGlobalListener(e)}removeEventListener(e,t){this.apiEventService.removeEventListener(e,t)}removeGlobalListener(e){this.apiEventService.removeGlobalListener(e)}dispatchEvent(e){this.eventService.dispatchEvent(e)}destroy(){var e;const t=`See ${this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}`;if(this.destroyCalled)return;const r={type:$.EVENT_GRID_PRE_DESTROYED,state:this.getState()};this.dispatchEvent(r),this.destroyCalled=!0,(e=this.ctrlsService.get("gridCtrl"))==null||e.destroyGridUi(),this.context.destroy(),this.detailGridInfoMap={},I1(this,["isDestroyed"],t)}isDestroyed(){return this.destroyCalled}resetQuickFilter(){this.filterManager.resetQuickFilterCache()}getCellRanges(){return this.rangeService?this.rangeService.getCellRanges():(Pt.__assertRegistered("@ag-grid-enterprise/range-selection","api.getCellRanges",this.context.getGridId()),null)}addCellRange(e){if(this.rangeService){this.rangeService.addCellRange(e);return}Pt.__assertRegistered("@ag-grid-enterprise/range-selection","api.addCellRange",this.context.getGridId())}clearRangeSelection(){this.rangeService&&this.rangeService.removeAllCellRanges(),Pt.__assertRegistered("@ag-grid-enterprise/range-selection","gridApi.clearRangeSelection",this.context.getGridId())}undoCellEditing(){this.undoRedoService.undo("api")}redoCellEditing(){this.undoRedoService.redo("api")}getCurrentUndoSize(){return this.undoRedoService.getCurrentUndoStackSize()}getCurrentRedoSize(){return this.undoRedoService.getCurrentRedoStackSize()}assertChart(e,t){if(Pt.__assertRegistered("@ag-grid-enterprise/charts","api."+e,this.context.getGridId()))return this.frameworkOverrides.wrapIncoming(()=>t())}getChartModels(){return this.assertChart("getChartModels",()=>this.chartService.getChartModels())}getChartRef(e){return this.assertChart("getChartRef",()=>this.chartService.getChartRef(e))}getChartImageDataURL(e){return this.assertChart("getChartImageDataURL",()=>this.chartService.getChartImageDataURL(e))}downloadChart(e){return this.assertChart("downloadChart",()=>this.chartService.downloadChart(e))}openChartToolPanel(e){return this.assertChart("openChartToolPanel",()=>this.chartService.openChartToolPanel(e))}closeChartToolPanel(e){return this.assertChart("closeChartToolPanel",()=>this.chartService.closeChartToolPanel(e.chartId))}createRangeChart(e){return this.assertChart("createRangeChart",()=>this.chartService.createRangeChart(e))}createPivotChart(e){return this.assertChart("createPivotChart",()=>this.chartService.createPivotChart(e))}createCrossFilterChart(e){return this.assertChart("createCrossFilterChart",()=>this.chartService.createCrossFilterChart(e))}updateChart(e){return this.assertChart("updateChart",()=>this.chartService.updateChart(e))}restoreChart(e,t){return this.assertChart("restoreChart",()=>this.chartService.restoreChart(e,t))}assertClipboard(e,t){Pt.__assertRegistered("@ag-grid-enterprise/clipboard","api"+e,this.context.getGridId())&&t()}copyToClipboard(e){this.assertClipboard("copyToClipboard",()=>this.clipboardService.copyToClipboard(e))}cutToClipboard(e){this.assertClipboard("cutToClipboard",()=>this.clipboardService.cutToClipboard(e))}copySelectedRowsToClipboard(e){this.assertClipboard("copySelectedRowsToClipboard",()=>this.clipboardService.copySelectedRowsToClipboard(e))}copySelectedRangeToClipboard(e){this.assertClipboard("copySelectedRangeToClipboard",()=>this.clipboardService.copySelectedRangeToClipboard(e))}copySelectedRangeDown(){this.assertClipboard("copySelectedRangeDown",()=>this.clipboardService.copyRangeDown())}pasteFromClipboard(){this.assertClipboard("pasteFromClipboard",()=>this.clipboardService.pasteFromClipboard())}showColumnMenuAfterButtonClick(e,t){We("'showColumnMenuAfterButtonClick' is deprecated. Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere.");const r=this.columnModel.getGridColumn(e);this.menuService.showColumnMenu({column:r,buttonElement:t,positionBy:"button"})}showColumnMenuAfterMouseClick(e,t){We("'showColumnMenuAfterMouseClick' is deprecated. Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere.");let r=this.columnModel.getGridColumn(e);if(r||(r=this.columnModel.getPrimaryColumn(e)),!r){console.error(`AG Grid: column '${e}' not found`);return}this.menuService.showColumnMenu({column:r,mouseEvent:t,positionBy:"mouse"})}showContextMenu(e){const{rowNode:t,column:r,value:i,x:s,y:n}=e||{};let{x:o,y:a}=this.menuService.getContextMenuPosition(t,r);s!=null&&(o=s),n!=null&&(a=n),this.menuService.showContextMenu({mouseEvent:new MouseEvent("mousedown",{clientX:o,clientY:a}),rowNode:t,column:r,value:i})}showColumnChooser(e){this.menuService.showColumnChooser({chooserParams:e})}showColumnFilter(e){const t=this.columnModel.getGridColumn(e);if(!t){console.error(`AG Grid: column '${e}' not found`);return}this.menuService.showFilterMenu({column:t,containerType:"columnFilter",positionBy:"auto"})}showColumnMenu(e){const t=this.columnModel.getGridColumn(e);if(!t){console.error(`AG Grid: column '${e}' not found`);return}this.menuService.showColumnMenu({column:t,positionBy:"auto"})}hidePopupMenu(){this.menuService.hidePopupMenu()}hideColumnChooser(){this.menuService.hideColumnChooser()}tabToNextCell(e){return this.navigationService.tabToNextCell(!1,e)}tabToPreviousCell(e){return this.navigationService.tabToNextCell(!0,e)}getCellRendererInstances(e={}){return this.rowRenderer.getCellRendererInstances(e).map(xo)}getCellEditorInstances(e={}){return this.rowRenderer.getCellEditorInstances(e).map(xo)}getEditingCells(){return this.rowRenderer.getEditingCells()}stopEditing(e=!1){this.rowRenderer.stopEditing(e)}startEditingCell(e){const t=this.columnModel.getGridColumn(e.colKey);if(!t){console.warn(`AG Grid: no column found for ${e.colKey}`);return}const r={rowIndex:e.rowIndex,rowPinned:e.rowPinned||null,column:t};e.rowPinned==null&&this.ensureIndexVisible(e.rowIndex),this.ensureColumnVisible(e.colKey);const s=this.navigationService.getCellByPosition(r);s&&(this.focusService.isCellFocused(r)||this.focusService.setFocusedCell(r),s.startRowOrCellEdit(e.key))}addAggFunc(e,t){this.logDeprecation("v31.1","addAggFunc(key, func)","addAggFuncs({ key: func })"),this.aggFuncService&&this.aggFuncService.addAggFuncs({key:t})}addAggFuncs(e){this.aggFuncService&&this.aggFuncService.addAggFuncs(e)}clearAggFuncs(){this.aggFuncService&&this.aggFuncService.clear()}applyServerSideTransaction(e){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransaction","serverSide");return}return this.serverSideTransactionManager.applyTransaction(e)}applyServerSideTransactionAsync(e,t){if(!this.serverSideTransactionManager){this.logMissingRowModel("applyServerSideTransactionAsync","serverSide");return}return this.serverSideTransactionManager.applyTransactionAsync(e,t)}applyServerSideRowData(e){var t,r;const i=(t=e.startRow)!=null?t:0,s=(r=e.route)!=null?r:[];if(i<0){console.warn(`AG Grid: invalid value ${e.startRow} for startRow, the value should be >= 0`);return}this.serverSideRowModel?this.serverSideRowModel.applyRowData(e.successParams,i,s):this.logMissingRowModel("setServerSideDatasource","serverSide")}retryServerSideLoads(){if(!this.serverSideRowModel){this.logMissingRowModel("retryServerSideLoads","serverSide");return}this.serverSideRowModel.retryLoads()}flushServerSideAsyncTransactions(){if(!this.serverSideTransactionManager){this.logMissingRowModel("flushServerSideAsyncTransactions","serverSide");return}return this.serverSideTransactionManager.flushAsyncTransactions()}applyTransaction(e){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransaction","clientSide");return}return this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.updateRowData(e))}applyTransactionAsync(e,t){if(!this.clientSideRowModel){this.logMissingRowModel("applyTransactionAsync","clientSide");return}this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.batchUpdateRowData(e,t))}flushAsyncTransactions(){if(!this.clientSideRowModel){this.logMissingRowModel("flushAsyncTransactions","clientSide");return}this.frameworkOverrides.wrapIncoming(()=>this.clientSideRowModel.flushAsyncTransactions())}refreshInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():this.logMissingRowModel("refreshInfiniteCache","infinite")}purgeInfiniteCache(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():this.logMissingRowModel("purgeInfiniteCache","infinite")}refreshServerSide(e){if(!this.serverSideRowModel){this.logMissingRowModel("refreshServerSide","serverSide");return}this.serverSideRowModel.refreshStore(e)}getServerSideGroupLevelState(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(this.logMissingRowModel("getServerSideGroupLevelState","serverSide"),[])}getInfiniteRowCount(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();this.logMissingRowModel("getInfiniteRowCount","infinite")}isLastRowIndexKnown(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();this.logMissingRowModel("isLastRowIndexKnown","infinite")}getCacheBlockState(){return this.rowNodeBlockLoader.getBlockState()}getFirstDisplayedRow(){return this.logDeprecation("v31.1","getFirstDisplayedRow","getFirstDisplayedRowIndex"),this.getFirstDisplayedRowIndex()}getFirstDisplayedRowIndex(){return this.rowRenderer.getFirstVirtualRenderedRow()}getLastDisplayedRow(){return this.logDeprecation("v31.1","getLastDisplayedRow","getLastDisplayedRowIndex"),this.getLastDisplayedRowIndex()}getLastDisplayedRowIndex(){return this.rowRenderer.getLastVirtualRenderedRow()}getDisplayedRowAtIndex(e){return this.rowModel.getRow(e)}getDisplayedRowCount(){return this.rowModel.getRowCount()}paginationIsLastPageFound(){return this.paginationProxy.isLastPageFound()}paginationGetPageSize(){return this.paginationProxy.getPageSize()}paginationGetCurrentPage(){return this.paginationProxy.getCurrentPage()}paginationGetTotalPages(){return this.paginationProxy.getTotalPages()}paginationGetRowCount(){return this.paginationProxy.getMasterRowCount()}paginationGoToNextPage(){this.paginationProxy.goToNextPage()}paginationGoToPreviousPage(){this.paginationProxy.goToPreviousPage()}paginationGoToFirstPage(){this.paginationProxy.goToFirstPage()}paginationGoToLastPage(){this.paginationProxy.goToLastPage()}paginationGoToPage(e){this.paginationProxy.goToPage(e)}sizeColumnsToFit(e){typeof e=="number"?this.columnModel.sizeColumnsToFit(e,"api"):this.gridBodyCtrl.sizeColumnsToFit(e)}setColumnGroupOpened(e,t){this.columnModel.setColumnGroupOpened(e,t,"api")}getColumnGroup(e,t){return this.columnModel.getColumnGroup(e,t)}getProvidedColumnGroup(e){return this.columnModel.getProvidedColumnGroup(e)}getDisplayNameForColumn(e,t){return this.columnModel.getDisplayNameForColumn(e,t)||""}getDisplayNameForColumnGroup(e,t){return this.columnModel.getDisplayNameForColumnGroup(e,t)||""}getColumn(e){return this.columnModel.getPrimaryColumn(e)}getColumns(){return this.columnModel.getAllPrimaryColumns()}applyColumnState(e){return this.columnModel.applyColumnState(e,"api")}getColumnState(){return this.columnModel.getColumnState()}resetColumnState(){this.columnModel.resetColumnState("api")}getColumnGroupState(){return this.columnModel.getColumnGroupState()}setColumnGroupState(e){this.columnModel.setColumnGroupState(e,"api")}resetColumnGroupState(){this.columnModel.resetColumnGroupState("api")}isPinning(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()}isPinningLeft(){return this.columnModel.isPinningLeft()}isPinningRight(){return this.columnModel.isPinningRight()}getDisplayedColAfter(e){return this.columnModel.getDisplayedColAfter(e)}getDisplayedColBefore(e){return this.columnModel.getDisplayedColBefore(e)}setColumnVisible(e,t){this.logDeprecation("v31.1","setColumnVisible(key,visible)","setColumnsVisible([key],visible)"),this.columnModel.setColumnsVisible([e],t,"api")}setColumnsVisible(e,t){this.columnModel.setColumnsVisible(e,t,"api")}setColumnPinned(e,t){this.logDeprecation("v31.1","setColumnPinned(key,pinned)","setColumnsPinned([key],pinned)"),this.columnModel.setColumnsPinned([e],t,"api")}setColumnsPinned(e,t){this.columnModel.setColumnsPinned(e,t,"api")}getAllGridColumns(){return this.columnModel.getAllGridColumns()}getDisplayedLeftColumns(){return this.columnModel.getDisplayedLeftColumns()}getDisplayedCenterColumns(){return this.columnModel.getDisplayedCenterColumns()}getDisplayedRightColumns(){return this.columnModel.getDisplayedRightColumns()}getAllDisplayedColumns(){return this.columnModel.getAllDisplayedColumns()}getAllDisplayedVirtualColumns(){return this.columnModel.getViewportColumns()}moveColumn(e,t){this.logDeprecation("v31.1","moveColumn(key, toIndex)","moveColumns([key], toIndex)"),this.columnModel.moveColumns([e],t,"api")}moveColumnByIndex(e,t){this.columnModel.moveColumnByIndex(e,t,"api")}moveColumns(e,t){this.columnModel.moveColumns(e,t,"api")}moveRowGroupColumn(e,t){this.columnModel.moveRowGroupColumn(e,t,"api")}setColumnAggFunc(e,t){this.columnModel.setColumnAggFunc(e,t,"api")}setColumnWidth(e,t,r=!0,i="api"){this.logDeprecation("v31.1","setColumnWidth(col, width)","setColumnWidths([{key: col, newWidth: width}])"),this.columnModel.setColumnWidths([{key:e,newWidth:t}],!1,r,i)}setColumnWidths(e,t=!0,r="api"){this.columnModel.setColumnWidths(e,!1,t,r)}isPivotMode(){return this.columnModel.isPivotMode()}getPivotResultColumn(e,t){return this.columnModel.getSecondaryPivotColumn(e,t)}setValueColumns(e){this.columnModel.setValueColumns(e,"api")}getValueColumns(){return this.columnModel.getValueColumns()}removeValueColumn(e){this.logDeprecation("v31.1","removeValueColumn(colKey)","removeValueColumns([colKey])"),this.columnModel.removeValueColumns([e],"api")}removeValueColumns(e){this.columnModel.removeValueColumns(e,"api")}addValueColumn(e){this.logDeprecation("v31.1","addValueColumn(colKey)","addValueColumns([colKey])"),this.columnModel.addValueColumns([e],"api")}addValueColumns(e){this.columnModel.addValueColumns(e,"api")}setRowGroupColumns(e){this.columnModel.setRowGroupColumns(e,"api")}removeRowGroupColumn(e){this.logDeprecation("v31.1","removeRowGroupColumn(colKey)","removeRowGroupColumns([colKey])"),this.columnModel.removeRowGroupColumns([e],"api")}removeRowGroupColumns(e){this.columnModel.removeRowGroupColumns(e,"api")}addRowGroupColumn(e){this.logDeprecation("v31.1","addRowGroupColumn(colKey)","addRowGroupColumns([colKey])"),this.columnModel.addRowGroupColumns([e],"api")}addRowGroupColumns(e){this.columnModel.addRowGroupColumns(e,"api")}getRowGroupColumns(){return this.columnModel.getRowGroupColumns()}setPivotColumns(e){this.columnModel.setPivotColumns(e,"api")}removePivotColumn(e){this.logDeprecation("v31.1","removePivotColumn(colKey)","removePivotColumns([colKey])"),this.columnModel.removePivotColumns([e],"api")}removePivotColumns(e){this.columnModel.removePivotColumns(e,"api")}addPivotColumn(e){this.logDeprecation("v31.1","addPivotColumn(colKey)","addPivotColumns([colKey])"),this.columnModel.addPivotColumns([e],"api")}addPivotColumns(e){this.columnModel.addPivotColumns(e,"api")}getPivotColumns(){return this.columnModel.getPivotColumns()}getLeftDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeLeft()}getCenterDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeCentre()}getRightDisplayedColumnGroups(){return this.columnModel.getDisplayedTreeRight()}getAllDisplayedColumnGroups(){return this.columnModel.getAllDisplayedTrees()}autoSizeColumn(e,t){return this.logDeprecation("v31.1","autoSizeColumn(key, skipHeader)","autoSizeColumns([key], skipHeader)"),this.columnModel.autoSizeColumns({columns:[e],skipHeader:t,source:"api"})}autoSizeColumns(e,t){this.columnModel.autoSizeColumns({columns:e,skipHeader:t,source:"api"})}autoSizeAllColumns(e){this.columnModel.autoSizeAllColumns("api",e)}setPivotResultColumns(e){this.columnModel.setSecondaryColumns(e,"api")}getPivotResultColumns(){return this.columnModel.getSecondaryColumns()}getState(){return this.stateService.getState()}getGridOption(e){return this.gos.get(e)}setGridOption(e,t){this.updateGridOptions({[e]:t})}updateGridOptions(e){this.gos.updateGridOptions({options:e})}__internalUpdateGridOptions(e,t){this.gos.updateGridOptions({options:e,force:t,source:"gridOptionsUpdated"})}deprecatedUpdateGridOption(e,t){We(`set${e.charAt(0).toUpperCase()}${e.slice(1,e.length)} is deprecated. Please use 'api.setGridOption('${e}', newValue)' or 'api.updateGridOptions({ ${e}: newValue })' instead.`),this.setGridOption(e,t)}setPivotMode(e){this.deprecatedUpdateGridOption("pivotMode",e)}setPinnedTopRowData(e){this.deprecatedUpdateGridOption("pinnedTopRowData",e)}setPinnedBottomRowData(e){this.deprecatedUpdateGridOption("pinnedBottomRowData",e)}setPopupParent(e){this.deprecatedUpdateGridOption("popupParent",e)}setSuppressModelUpdateAfterUpdateTransaction(e){this.deprecatedUpdateGridOption("suppressModelUpdateAfterUpdateTransaction",e)}setDataTypeDefinitions(e){this.deprecatedUpdateGridOption("dataTypeDefinitions",e)}setPagination(e){this.deprecatedUpdateGridOption("pagination",e)}paginationSetPageSize(e){this.deprecatedUpdateGridOption("paginationPageSize",e)}setSideBar(e){this.deprecatedUpdateGridOption("sideBar",e)}setSuppressClipboardPaste(e){this.deprecatedUpdateGridOption("suppressClipboardPaste",e)}setGroupRemoveSingleChildren(e){this.deprecatedUpdateGridOption("groupRemoveSingleChildren",e)}setGroupRemoveLowestSingleChildren(e){this.deprecatedUpdateGridOption("groupRemoveLowestSingleChildren",e)}setGroupDisplayType(e){this.deprecatedUpdateGridOption("groupDisplayType",e)}setGroupIncludeFooter(e){this.deprecatedUpdateGridOption("groupIncludeFooter",e)}setGroupIncludeTotalFooter(e){this.deprecatedUpdateGridOption("groupIncludeTotalFooter",e)}setRowClass(e){this.deprecatedUpdateGridOption("rowClass",e)}setDeltaSort(e){this.deprecatedUpdateGridOption("deltaSort",e)}setSuppressRowDrag(e){this.deprecatedUpdateGridOption("suppressRowDrag",e)}setSuppressMoveWhenRowDragging(e){this.deprecatedUpdateGridOption("suppressMoveWhenRowDragging",e)}setSuppressRowClickSelection(e){this.deprecatedUpdateGridOption("suppressRowClickSelection",e)}setEnableAdvancedFilter(e){this.deprecatedUpdateGridOption("enableAdvancedFilter",e)}setIncludeHiddenColumnsInAdvancedFilter(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInAdvancedFilter",e)}setAdvancedFilterParent(e){this.deprecatedUpdateGridOption("advancedFilterParent",e)}setAdvancedFilterBuilderParams(e){this.deprecatedUpdateGridOption("advancedFilterBuilderParams",e)}setQuickFilter(e){We("setQuickFilter is deprecated. Please use 'api.setGridOption('quickFilterText', newValue)' or 'api.updateGridOptions({ quickFilterText: newValue })' instead."),this.gos.updateGridOptions({options:{quickFilterText:e}})}setExcludeHiddenColumnsFromQuickFilter(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",!e)}setIncludeHiddenColumnsInQuickFilter(e){this.deprecatedUpdateGridOption("includeHiddenColumnsInQuickFilter",e)}setQuickFilterParser(e){this.deprecatedUpdateGridOption("quickFilterParser",e)}setQuickFilterMatcher(e){this.deprecatedUpdateGridOption("quickFilterMatcher",e)}setAlwaysShowHorizontalScroll(e){this.deprecatedUpdateGridOption("alwaysShowHorizontalScroll",e)}setAlwaysShowVerticalScroll(e){this.deprecatedUpdateGridOption("alwaysShowVerticalScroll",e)}setFunctionsReadOnly(e){this.deprecatedUpdateGridOption("functionsReadOnly",e)}setColumnDefs(e,t="api"){We("setColumnDefs is deprecated. Please use 'api.setGridOption('columnDefs', newValue)' or 'api.updateGridOptions({ columnDefs: newValue })' instead."),this.gos.updateGridOptions({options:{columnDefs:e},source:t})}setAutoGroupColumnDef(e,t="api"){We("setAutoGroupColumnDef is deprecated. Please use 'api.setGridOption('autoGroupColumnDef', newValue)' or 'api.updateGridOptions({ autoGroupColumnDef: newValue })' instead."),this.gos.updateGridOptions({options:{autoGroupColumnDef:e},source:t})}setDefaultColDef(e,t="api"){We("setDefaultColDef is deprecated. Please use 'api.setGridOption('defaultColDef', newValue)' or 'api.updateGridOptions({ defaultColDef: newValue })' instead."),this.gos.updateGridOptions({options:{defaultColDef:e},source:t})}setColumnTypes(e,t="api"){We("setColumnTypes is deprecated. Please use 'api.setGridOption('columnTypes', newValue)' or 'api.updateGridOptions({ columnTypes: newValue })' instead."),this.gos.updateGridOptions({options:{columnTypes:e},source:t})}setTreeData(e){this.deprecatedUpdateGridOption("treeData",e)}setServerSideDatasource(e){this.deprecatedUpdateGridOption("serverSideDatasource",e)}setCacheBlockSize(e){this.deprecatedUpdateGridOption("cacheBlockSize",e)}setDatasource(e){this.deprecatedUpdateGridOption("datasource",e)}setViewportDatasource(e){this.deprecatedUpdateGridOption("viewportDatasource",e)}setRowData(e){this.deprecatedUpdateGridOption("rowData",e)}setEnableCellTextSelection(e){this.deprecatedUpdateGridOption("enableCellTextSelection",e)}setHeaderHeight(e){this.deprecatedUpdateGridOption("headerHeight",e)}setDomLayout(e){this.deprecatedUpdateGridOption("domLayout",e)}setFillHandleDirection(e){this.deprecatedUpdateGridOption("fillHandleDirection",e)}setGroupHeaderHeight(e){this.deprecatedUpdateGridOption("groupHeaderHeight",e)}setFloatingFiltersHeight(e){this.deprecatedUpdateGridOption("floatingFiltersHeight",e)}setPivotHeaderHeight(e){this.deprecatedUpdateGridOption("pivotHeaderHeight",e)}setPivotGroupHeaderHeight(e){this.deprecatedUpdateGridOption("pivotGroupHeaderHeight",e)}setAnimateRows(e){this.deprecatedUpdateGridOption("animateRows",e)}setIsExternalFilterPresent(e){this.deprecatedUpdateGridOption("isExternalFilterPresent",e)}setDoesExternalFilterPass(e){this.deprecatedUpdateGridOption("doesExternalFilterPass",e)}setNavigateToNextCell(e){this.deprecatedUpdateGridOption("navigateToNextCell",e)}setTabToNextCell(e){this.deprecatedUpdateGridOption("tabToNextCell",e)}setTabToNextHeader(e){this.deprecatedUpdateGridOption("tabToNextHeader",e)}setNavigateToNextHeader(e){this.deprecatedUpdateGridOption("navigateToNextHeader",e)}setRowGroupPanelShow(e){this.deprecatedUpdateGridOption("rowGroupPanelShow",e)}setGetGroupRowAgg(e){this.deprecatedUpdateGridOption("getGroupRowAgg",e)}setGetBusinessKeyForNode(e){this.deprecatedUpdateGridOption("getBusinessKeyForNode",e)}setGetChildCount(e){this.deprecatedUpdateGridOption("getChildCount",e)}setProcessRowPostCreate(e){this.deprecatedUpdateGridOption("processRowPostCreate",e)}setGetRowId(e){We("getRowId is a static property and can no longer be updated.")}setGetRowClass(e){this.deprecatedUpdateGridOption("getRowClass",e)}setIsFullWidthRow(e){this.deprecatedUpdateGridOption("isFullWidthRow",e)}setIsRowSelectable(e){this.deprecatedUpdateGridOption("isRowSelectable",e)}setIsRowMaster(e){this.deprecatedUpdateGridOption("isRowMaster",e)}setPostSortRows(e){this.deprecatedUpdateGridOption("postSortRows",e)}setGetDocument(e){this.deprecatedUpdateGridOption("getDocument",e)}setGetContextMenuItems(e){this.deprecatedUpdateGridOption("getContextMenuItems",e)}setGetMainMenuItems(e){this.deprecatedUpdateGridOption("getMainMenuItems",e)}setProcessCellForClipboard(e){this.deprecatedUpdateGridOption("processCellForClipboard",e)}setSendToClipboard(e){this.deprecatedUpdateGridOption("sendToClipboard",e)}setProcessCellFromClipboard(e){this.deprecatedUpdateGridOption("processCellFromClipboard",e)}setProcessPivotResultColDef(e){this.deprecatedUpdateGridOption("processPivotResultColDef",e)}setProcessPivotResultColGroupDef(e){this.deprecatedUpdateGridOption("processPivotResultColGroupDef",e)}setPostProcessPopup(e){this.deprecatedUpdateGridOption("postProcessPopup",e)}setInitialGroupOrderComparator(e){this.deprecatedUpdateGridOption("initialGroupOrderComparator",e)}setGetChartToolbarItems(e){this.deprecatedUpdateGridOption("getChartToolbarItems",e)}setPaginationNumberFormatter(e){this.deprecatedUpdateGridOption("paginationNumberFormatter",e)}setGetServerSideGroupLevelParams(e){this.deprecatedUpdateGridOption("getServerSideGroupLevelParams",e)}setIsServerSideGroupOpenByDefault(e){this.deprecatedUpdateGridOption("isServerSideGroupOpenByDefault",e)}setIsApplyServerSideTransaction(e){this.deprecatedUpdateGridOption("isApplyServerSideTransaction",e)}setIsServerSideGroup(e){this.deprecatedUpdateGridOption("isServerSideGroup",e)}setGetServerSideGroupKey(e){this.deprecatedUpdateGridOption("getServerSideGroupKey",e)}setGetRowStyle(e){this.deprecatedUpdateGridOption("getRowStyle",e)}setGetRowHeight(e){this.deprecatedUpdateGridOption("getRowHeight",e)}};B([q("rowRenderer")],gt.prototype,"rowRenderer",2);B([q("navigationService")],gt.prototype,"navigationService",2);B([q("filterManager")],gt.prototype,"filterManager",2);B([q("columnModel")],gt.prototype,"columnModel",2);B([q("selectionService")],gt.prototype,"selectionService",2);B([q("gridOptionsService")],gt.prototype,"gos",2);B([q("valueService")],gt.prototype,"valueService",2);B([q("alignedGridsService")],gt.prototype,"alignedGridsService",2);B([q("eventService")],gt.prototype,"eventService",2);B([q("pinnedRowModel")],gt.prototype,"pinnedRowModel",2);B([q("context")],gt.prototype,"context",2);B([q("rowModel")],gt.prototype,"rowModel",2);B([q("sortController")],gt.prototype,"sortController",2);B([q("paginationProxy")],gt.prototype,"paginationProxy",2);B([q("focusService")],gt.prototype,"focusService",2);B([q("dragAndDropService")],gt.prototype,"dragAndDropService",2);B([q("menuService")],gt.prototype,"menuService",2);B([q("valueCache")],gt.prototype,"valueCache",2);B([q("animationFrameService")],gt.prototype,"animationFrameService",2);B([q("ctrlsService")],gt.prototype,"ctrlsService",2);B([q("overlayService")],gt.prototype,"overlayService",2);B([q("stateService")],gt.prototype,"stateService",2);B([q("expansionService")],gt.prototype,"expansionService",2);B([q("apiEventService")],gt.prototype,"apiEventService",2);B([q("frameworkOverrides")],gt.prototype,"frameworkOverrides",2);B([q("undoRedoService")],gt.prototype,"undoRedoService",2);B([q("rowNodeBlockLoader")],gt.prototype,"rowNodeBlockLoader",2);B([Lt("csvCreator")],gt.prototype,"csvCreator",2);B([Lt("excelCreator")],gt.prototype,"excelCreator",2);B([Lt("rangeService")],gt.prototype,"rangeService",2);B([Lt("clipboardService")],gt.prototype,"clipboardService",2);B([Lt("aggFuncService")],gt.prototype,"aggFuncService",2);B([Lt("statusBarService")],gt.prototype,"statusBarService",2);B([Lt("chartService")],gt.prototype,"chartService",2);B([Lt("ssrmTransactionManager")],gt.prototype,"serverSideTransactionManager",2);B([Lt("sideBarService")],gt.prototype,"sideBarService",2);B([we],gt.prototype,"init",1);gt=B([ke("gridApi")],gt);var xi=class extends ye{constructor(){super(...arguments),this.quickFilter=null,this.quickFilterParts=null}postConstruct(){this.addManagedListener(this.eventService,$.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,$.EVENT_NEW_COLUMNS_LOADED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,$.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.resetQuickFilterCache()),this.addManagedListener(this.eventService,$.EVENT_COLUMN_VISIBLE,()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}),this.addManagedPropertyListener("quickFilterText",e=>this.setQuickFilter(e.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(t,e):this.quickFilterParts.every(r=>t?this.doesRowPassQuickFilterCache(e,r):this.doesRowPassQuickFilterNoCache(e,r))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return ve(e)?this.gos.isRowModelType("clientSide")?e.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){console.warn(`AG Grid - Grid option quickFilterText only supports string inputs, received: ${typeof e}`);return}const t=this.parseQuickFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setQuickFilterParts(),this.dispatchEvent({type:xi.EVENT_QUICK_FILTER_CHANGED}))}setQuickFilterParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),r=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,r&&(this.setQuickFilterParts(),this.dispatchEvent({type:xi.EVENT_QUICK_FILTER_CHANGED}))}onQuickFilterColumnConfigChanged(){this.columnModel.refreshQuickFilterColumns(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchEvent({type:xi.EVENT_QUICK_FILTER_CHANGED})}doesRowPassQuickFilterNoCache(e,t){return this.columnModel.getAllColumnsForQuickFilter().some(i=>{const s=this.getQuickFilterTextForColumn(i,e);return ve(s)&&s.indexOf(t)>=0})}doesRowPassQuickFilterCache(e,t){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassQuickFilterMatcher(e,t){let r;e?(this.checkGenerateQuickFilterAggregateText(t),r=t.quickFilterAggregateText):r=this.getQuickFilterAggregateText(t);const{quickFilterParts:i,matcher:s}=this;return s(i,r)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,t){let r=this.valueService.getValue(e,t,!0);const i=e.getColDef();if(i.getQuickFilterText){const s=this.gos.addGridCommonParams({value:r,node:t,data:t.data,column:e,colDef:i});r=i.getQuickFilterText(s)}return ve(r)?r.toString().toUpperCase():null}getQuickFilterAggregateText(e){const t=[];return this.columnModel.getAllColumnsForQuickFilter().forEach(i=>{const s=this.getQuickFilterTextForColumn(i,e);ve(s)&&t.push(s)}),t.join(xi.QUICK_FILTER_SEPARATOR)}};xi.EVENT_QUICK_FILTER_CHANGED="quickFilterChanged";xi.QUICK_FILTER_SEPARATOR=`
`;B([q("valueService")],xi.prototype,"valueService",2);B([q("columnModel")],xi.prototype,"columnModel",2);B([q("rowModel")],xi.prototype,"rowModel",2);B([we],xi.prototype,"postConstruct",1);xi=B([ke("quickFilterService")],xi);var as=class extends ye{constructor(){super(...arguments),this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue=[]}init(){var e,t,r;this.addManagedListener(this.eventService,$.EVENT_GRID_COLUMNS_CHANGED,()=>this.onColumnsChanged()),this.addManagedListener(this.eventService,$.EVENT_COLUMN_VALUE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,$.EVENT_COLUMN_PIVOT_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,$.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.refreshFiltersForAggregations()),this.addManagedListener(this.eventService,$.EVENT_NEW_COLUMNS_LOADED,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,$.EVENT_COLUMN_VISIBLE,()=>this.updateAdvancedFilterColumns()),this.addManagedListener(this.eventService,$.EVENT_ROW_DATA_UPDATED,()=>this.onNewRowsLoaded("rowDataUpdated")),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",i=>this.setAdvancedFilterModel(i.currentValue)),this.addManagedListener(this.eventService,$.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,({enabled:i})=>this.onAdvancedFilterEnabledChanged(i)),this.addManagedListener(this.eventService,$.EVENT_DATA_TYPES_INFERRED,()=>this.processFilterModelUpdateQueue()),this.addManagedListener(this.quickFilterService,xi.EVENT_QUICK_FILTER_CHANGED,()=>this.onFilterChanged({source:"quickFilter"})),this.initialFilterModel=Be({},(r=(t=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)!=null?r:{})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"?t(e):!1}setFilterModel(e,t="api"){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}if(this.dataTypeService.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:t});return}const r=[],i=this.getFilterModel();if(e){const s=qv(Object.keys(e));this.allColumnFilters.forEach((n,o)=>{const a=e[o];r.push(this.setModelOnFilterWrapper(n.filterPromise,a)),s.delete(o)}),s.forEach(n=>{const o=this.columnModel.getPrimaryColumn(n)||this.columnModel.getGridColumn(n);if(!o){console.warn("AG Grid: setFilterModel() - no column found for colId: "+n);return}if(!o.isFilterAllowed()){console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+n);return}const a=this.getOrCreateFilterWrapper(o,"NO_UI");if(!a){console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+n);return}r.push(this.setModelOnFilterWrapper(a.filterPromise,e[n]))})}else this.allColumnFilters.forEach(s=>{r.push(this.setModelOnFilterWrapper(s.filterPromise,null))});wr.all(r).then(()=>{const s=this.getFilterModel(),n=[];this.allColumnFilters.forEach((o,a)=>{const u=i?i[a]:null,l=s?s[a]:null;Qe.jsonEquals(u,l)||n.push(o.column)}),n.length>0&&this.onFilterChanged({columns:n,source:t})})}setModelOnFilterWrapper(e,t){return new wr(r=>{e.then(i=>{typeof i.setModel!="function"&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),r()),(i.setModel(t)||wr.resolve()).then(()=>r())})})}getFilterModel(){const e={};return this.allColumnFilters.forEach((t,r)=>{const i=this.getModelFromFilterWrapper(t);ve(i)&&(e[r]=i)}),e}getModelFromFilterWrapper(e){var t;const i=e.filterPromise.resolveNow(null,s=>s);return i==null?(t=this.initialFilterModel[e.column.getColId()])!=null?t:null:typeof i.getModel!="function"?(console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel"),null):i.getModel()}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){var t;e?this.allColumnFilters.size&&(this.allColumnFilters.forEach(r=>this.disposeFilterWrapper(r,"advancedFilterEnabled")),this.onFilterChanged({source:"advancedFilter"})):(t=this.advancedFilterService)!=null&&t.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var e;return!!((e=this.advancedFilterService)!=null&&e.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;const e=i=>i?i.isFilterActive?i.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1):!1,t=!!this.gos.getGroupAggFiltering(),r=i=>{if(!i.isPrimary())return!0;const n=!this.columnModel.isPivotActive();return!i.isValueActive()||!n?!1:this.columnModel.isPivotMode()?!0:t};this.allColumnFilters.forEach(i=>{if(i.filterPromise.resolveNow(!1,e)){const s=i.filterPromise.resolveNow(null,n=>n);r(i.column)?this.activeAggregateFilters.push(s):this.activeColumnFilters.push(s)}})}updateFilterFlagInColumns(e,t){this.allColumnFilters.forEach(r=>{const i=r.filterPromise.resolveNow(!1,s=>s.isFilterActive());r.column.setFilterActive(i,e,t)})}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}doColumnFiltersPass(e,t,r){const{data:i,aggData:s}=e,n=r?this.activeAggregateFilters:this.activeColumnFilters,o=r?s:i;for(let a=0;a<n.length;a++){const u=n[a];if(!(u==null||u===t)){if(typeof u.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!u.doesFilterPass({node:e,data:o}))return!1}}return!0}resetQuickFilterCache(){this.quickFilterService.resetQuickFilterCache()}refreshFiltersForAggregations(){this.gos.getGroupAggFiltering()&&this.onFilterChanged()}callOnFilterChangedOutsideRenderCycle(e){const t=()=>this.onFilterChanged(e);this.rowRenderer.isRefreshInProgress()?setTimeout(t,0):t()}onFilterChanged(e={}){const{source:t,filterInstance:r,additionalEventAttributes:i,columns:s}=e;this.updateDependantFilters(),this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",i),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.allColumnFilters.forEach(o=>{o.filterPromise&&o.filterPromise.then(a=>{a&&a!==r&&a.onAnyFilterChanged&&a.onAnyFilterChanged()})});const n={source:t,type:$.EVENT_FILTER_CHANGED,columns:s||[]};i&&bi(n,i),this.processingFilterChange=!0,this.eventService.dispatchEvent(n),this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){var e;return!((e=this.gos.get("allowShowChangeAfterFilter"))!=null?e:!1)&&this.processingFilterChange}isQuickFilterPresent(){return this.quickFilterService.isQuickFilterPresent()}updateAggFiltering(){this.aggFiltering=!!this.gos.getGroupAggFiltering()}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}onNewRowsLoaded(e){this.allColumnFilters.forEach(t=>{t.filterPromise.then(r=>{r.onNewRowsLoaded&&r.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(e,{afterDataChange:!0}),this.updateActiveFilters()}createValueGetter(e){return({node:t})=>this.valueService.getValue(e,t,!0)}createGetValue(e){return(t,r)=>{const i=r?this.columnModel.getGridColumn(r):e;return i?this.valueService.getValue(i,t,!0):void 0}}getFilterComponent(e,t,r=!0){var i;if(r)return((i=this.getOrCreateFilterWrapper(e,t))==null?void 0:i.filterPromise)||null;const s=this.cachedFilter(e);return s?s.filterPromise:null}isFilterActive(e){const t=this.cachedFilter(e);return!!t&&t.filterPromise.resolveNow(!1,r=>r.isFilterActive())}getOrCreateFilterWrapper(e,t){if(!e.isFilterAllowed())return null;let r=this.cachedFilter(e);return r||(r=this.createFilterWrapper(e,t),this.setColumnFilterWrapper(e,r)),r}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;if(Pt.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))t="agSetColumnFilter";else{const r=this.dataTypeService.getBaseDataType(e);r==="number"?t="agNumberColumnFilter":r==="date"||r==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;if(Pt.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()))t="agSetColumnFloatingFilter";else{const r=this.dataTypeService.getBaseDataType(e);r==="number"?t="agNumberColumnFloatingFilter":r==="date"||r==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e){const t=this.getDefaultFilter(e),r=e.getColDef();let i;const s=er(Be({},this.createFilterParams(e,r)),{filterModifiedCallback:()=>this.filterModifiedCallbackFactory(i,e)(),filterChangedCallback:o=>this.filterChangedCallbackFactory(i,e)(o),doesRowPassOtherFilter:o=>this.doesRowPassOtherFilters(i,o)}),n=this.userComponentFactory.getFilterDetails(r,s,t);return n?{filterPromise:()=>{const o=n.newAgStackInstance();return o&&o.then(a=>i=a),o},compDetails:n}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return this.gos.addGridCommonParams({column:e,colDef:Cv(t),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e,t){var r;const i={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:s,compDetails:n}=this.createFilterInstance(e);return i.filterPromise=(r=s==null?void 0:s())!=null?r:null,i.compDetails=n,i}onColumnsChanged(){const e=[];this.allColumnFilters.forEach((t,r)=>{let i;t.column.isPrimary()?i=this.columnModel.getPrimaryColumn(r):i=this.columnModel.getGridColumn(r),!(i&&i===t.column)&&(e.push(t.column),this.disposeFilterWrapper(t,"columnChanged"),this.disposeColumnListener(r))}),e.length>0?this.onFilterChanged({columns:e,source:"api"}):this.updateDependantFilters()}updateDependantFilters(){const e=this.columnModel.getGroupAutoColumns();e==null||e.forEach(t=>{t.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(t,"NO_UI")})}isFilterAllowed(e){var t,r;if(this.isAdvancedFilterEnabled()||!e.isFilterAllowed())return!1;const s=this.allColumnFilters.get(e.getColId());return(r=(t=s==null?void 0:s.filterPromise)==null?void 0:t.resolveNow(!0,n=>typeof(n==null?void 0:n.isFilterAllowed)=="function"?n==null?void 0:n.isFilterAllowed():!0))!=null?r:!0}getFloatingFilterCompDetails(e,t){const r=u=>{const l=this.getFilterComponent(e,"NO_UI");l!=null&&l.then(c=>{u(xo(c))})},i=e.getColDef(),s=er(Be({},this.createFilterParams(e,i)),{filterChangedCallback:()=>r(u=>this.filterChangedCallbackFactory(u,e)())}),n=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(i,Jg,s);let o=this.userComponentFactory.getDefaultFloatingFilterType(i,()=>this.getDefaultFloatingFilter(e));o==null&&(o="agReadOnlyFloatingFilter");const a={column:e,filterParams:n,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:r,showParentFilter:t,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(i,a,o)}getCurrentFloatingFilterParentModel(e){const t=this.getFilterComponent(e,"NO_UI",!1);return t?t.resolveNow(null,r=>r&&r.getModel()):null}destroyFilter(e,t="api"){const r=e.getColId(),i=this.allColumnFilters.get(r);this.disposeColumnListener(r),delete this.initialFilterModel[r],i&&(this.disposeFilterWrapper(i,t),this.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){e.filterPromise.then(r=>{this.getContext().destroyBean(r),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId());const i={type:$.EVENT_FILTER_DESTROYED,source:t,column:e.column};this.eventService.dispatchEvent(i)})}filterModifiedCallbackFactory(e,t){return()=>{const r={type:$.EVENT_FILTER_MODIFIED,column:t,filterInstance:e};this.eventService.dispatchEvent(r)}}filterChangedCallbackFactory(e,t){return r=>{var i;const s=(i=r==null?void 0:r.source)!=null?i:"api",n={filter:e,additionalEventAttributes:r,columns:[t],source:s};this.callOnFilterChangedOutsideRenderCycle(n)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const r=t.column,{compDetails:i}=r.isFilterAllowed()?this.createFilterInstance(r):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,i)){this.destroyFilter(r,"paramsUpdated");return}const s=r.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(r,"paramsUpdated");return}t.filterPromise.then(n=>{(n!=null&&n.refresh?n.refresh(Be(er(Be({},this.createFilterParams(r,r.getColDef())),{filterModifiedCallback:this.filterModifiedCallbackFactory(n,r),filterChangedCallback:this.filterChangedCallbackFactory(n,r),doesRowPassOtherFilter:a=>this.doesRowPassOtherFilters(n,a)}),s)):!0)===!1&&this.destroyFilter(r,"paramsUpdated")})}setColumnFilterWrapper(e,t){const r=e.getColId();this.allColumnFilters.set(r,t),this.allColumnListeners.set(r,this.addManagedListener(e,Wt.EVENT_COL_DEF_CHANGED,()=>this.checkDestroyFilter(r)))}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:r}=e,{componentClass:i}=t;return!(r===i||(r==null?void 0:r.render)&&(i==null?void 0:i.render)&&r.render===i.render)}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){if(this.isAdvancedFilterEnabled()){if(this.dataTypeService.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}showAdvancedFilterBuilder(e){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder(e,!0)}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){return this.isAdvancedFilterEnabled()?!1:this.columnModel.getAllGridColumns().some(t=>t.getColDef().floatingFilter)}getFilterInstance(e,t){if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}const r=this.getFilterInstanceImpl(e,s=>{if(!t)return;const n=xo(s);t(n)});return xo(r)}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstance(e,r=>{t(r)})})}getFilterInstanceImpl(e,t){const r=this.columnModel.getPrimaryColumn(e);if(!r)return;const i=this.getFilterComponent(r,"NO_UI"),s=i&&i.resolveNow(null,n=>n);return s?setTimeout(t,0,s):i&&i.then(n=>{t(n)}),s}warnAdvancedFilters(){We("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){var t;(t=this.advancedFilterService)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:r})=>{this.setColumnFilterModel(e,t).then(()=>r())}),this.columnFilterModelUpdateQueue=[],this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){if(this.isAdvancedFilterEnabled())return this.warnAdvancedFilters(),Promise.resolve();if(this.dataTypeService.isPendingInference()){let n=()=>{};const o=new Promise(a=>{n=a});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:n}),o}const r=this.columnModel.getPrimaryColumn(e),i=r?this.getOrCreateFilterWrapper(r,"NO_UI"):null;return i?(n=>new Promise(o=>{n.then(a=>o(a))}))(this.setModelOnFilterWrapper(i.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){var t;const r=this.columnModel.getPrimaryColumn(e);return r&&(t=this.cachedFilter(r))!=null?t:null}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};B([q("valueService")],as.prototype,"valueService",2);B([q("columnModel")],as.prototype,"columnModel",2);B([q("rowModel")],as.prototype,"rowModel",2);B([q("userComponentFactory")],as.prototype,"userComponentFactory",2);B([q("rowRenderer")],as.prototype,"rowRenderer",2);B([q("dataTypeService")],as.prototype,"dataTypeService",2);B([q("quickFilterService")],as.prototype,"quickFilterService",2);B([Lt("advancedFilterService")],as.prototype,"advancedFilterService",2);B([we],as.prototype,"init",1);as=B([ke("filterManager")],as);var _p=class extends it{constructor(e,t){super('<div class="ag-filter"></div>'),this.column=e,this.source=t,this.filterWrapper=null}postConstruct(){this.createFilter(!0),this.addManagedListener(this.eventService,$.EVENT_FILTER_DESTROYED,this.onFilterDestroyed.bind(this))}hasFilter(){return!!this.filterWrapper}getFilter(){var e,t;return(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)!=null?t:null}afterInit(){var e,t,r;return(r=(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))!=null?r:wr.resolve()}afterGuiAttached(e){var t,r;(r=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||r.then(i=>{var s;(s=i==null?void 0:i.afterGuiAttached)==null||s.call(i,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(r=>{var i;(i=r==null?void 0:r.afterGuiDetached)==null||i.call(r)})}createFilter(e){var t;const{column:r,source:i}=this;this.filterWrapper=this.filterManager.getOrCreateFilterWrapper(r,i),(t=this.filterWrapper)!=null&&t.filterPromise&&this.filterWrapper.filterPromise.then(s=>{let n=s.getGui();if(ve(n)||console.warn(`AG Grid: getGui method from filter returned ${n}, it should be a DOM element or an HTML template string.`),typeof n=="string"&&(n=Ei(n)),this.appendChild(n),e){const o={type:$.EVENT_FILTER_OPENED,column:r,source:i,eGui:this.getGui()};this.eventService.dispatchEvent(o)}})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.columnModel.getPrimaryColumn(this.column)&&(mr(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}};B([q("filterManager")],_p.prototype,"filterManager",2);B([q("columnModel")],_p.prototype,"columnModel",2);B([we],_p.prototype,"postConstruct",1);var o0=class extends it{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},oa=class OE extends o0{constructor(t){super(OE.TEMPLATE,t)}postConstruct(){const t=this.getGui(),r={addOrRemoveCssClass:(i,s)=>this.addOrRemoveCssClass(i,s),addOrRemoveBodyCssClass:(i,s)=>this.eFloatingFilterBody.classList.toggle(i,s),setButtonWrapperDisplayed:i=>Ct(this.eButtonWrapper,i),setCompDetails:i=>this.setCompDetails(i),getFloatingFilterComp:()=>this.compPromise,setWidth:i=>t.style.width=i,setMenuIcon:i=>this.eButtonShowMainFilter.appendChild(i)};this.ctrl.setComp(r,t,this.eButtonShowMainFilter,this.eFloatingFilterBody)}setCompDetails(t){if(!t){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=t.newAgStackInstance(),this.compPromise.then(r=>this.afterCompCreated(r))}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(t){if(t){if(!this.isAlive()){this.destroyBean(t);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=t,this.eFloatingFilterBody.appendChild(t.getGui()),t.afterGuiAttached&&t.afterGuiAttached()}}};oa.TEMPLATE=`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`;B([Ee("eFloatingFilterBody")],oa.prototype,"eFloatingFilterBody",2);B([Ee("eButtonWrapper")],oa.prototype,"eButtonWrapper",2);B([Ee("eButtonShowMainFilter")],oa.prototype,"eButtonShowMainFilter",2);B([we],oa.prototype,"postConstruct",1);B([ui],oa.prototype,"destroyFloatingFilterComp",1);var CA=oa,Rp=class extends ye{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},r=t.autoHeight?"ag-layout-auto-height":t.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(r,t)}getDomLayout(){var e;const t=(e=this.gos.get("domLayout"))!=null?e:"normal";return["normal","print","autoHeight"].indexOf(t)===-1?(We(`${t} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):t}};B([we],Rp.prototype,"postConstruct",1);var gn=class extends ye{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=ri(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=ri(()=>this.lastScrollSource[0]=null,500)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedListener(this.eventService,$.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){const{fakeHScrollComp:e,fakeVScrollComp:t}=this.ctrlsService.getParams();this.addManagedListener(this.centerRowsCtrl.getViewportElement(),"scroll",this.onHScroll.bind(this)),e.onScrollCallback(this.onFakeHScroll.bind(this));const r=this.gos.get("debounceVerticalScrollbar"),i=r?ri(this.onVScroll.bind(this),100):this.onVScroll.bind(this),s=r?ri(this.onFakeVScroll.bind(this),100):this.onFakeVScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",i),t.onScrollCallback(s)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){if(this.centerRowsCtrl==null)return;e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft());const r=this.enableRtl?e:-e,{topCenter:i,stickyTopCenter:s,stickyBottomCenter:n,centerHeader:o,bottomCenter:a,fakeHScrollComp:u}=this.ctrlsService.getParams();o.setHorizontalScroll(-r),a.setContainerTranslateX(r),i.setContainerTranslateX(r),s.setContainerTranslateX(r),n.setContainerTranslateX(r);const l=this.centerRowsCtrl.getViewportElement(),c=this.lastScrollSource[1]===0;e=Math.abs(e),c?u.setScrollPosition(e):Hu(l,e,this.enableRtl)}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(this.lastScrollSource[t]=e,!0):this.lastScrollSource[t]===e}onFakeHScroll(){this.isControllingScroll(1,1)&&this.onHScrollCommon(1)}onHScroll(){this.isControllingScroll(0,1)&&this.onHScrollCommon(0)}onHScrollCommon(e){const t=this.centerRowsCtrl.getViewportElement(),{scrollLeft:r}=t;if(this.shouldBlockScrollUpdate(1,r,!0))return;let i;e===0?i=Bu(t,this.enableRtl):i=this.ctrlsService.get("fakeHScrollComp").getScrollPosition(),this.doHorizontalScroll(Math.round(i)),this.resetLastHScrollDebounced()}onFakeVScroll(){this.isControllingScroll(1,0)&&this.onVScrollCommon(1)}onVScroll(){this.isControllingScroll(0,0)&&this.onVScrollCommon(0)}onVScrollCommon(e){let t;e===0?t=this.eBodyViewport.scrollTop:t=this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,t,!0)&&(this.animationFrameService.setScrollTop(t),this.nextScrollTop=t,e===0?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const t=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:$.EVENT_BODY_SCROLL,direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{const r=er(Be({},t),{type:$.EVENT_BODY_SCROLL_END});this.eventService.dispatchEvent(r)},100)}shouldBlockScrollUpdate(e,t,r=!1){return r&&!hn()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=gc(this.eBodyViewport),{scrollHeight:r}=this.eBodyViewport;return e<0||e+t>r}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:r}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl&&Vu()){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>r}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScrollCommon(0)}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,t=!1){const i=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl&&Vu()?e=e>0?0:i:e=Math.min(Math.max(e,0),i)),Hu(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const t=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.getViewportElement().scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const r=this.rowModel.getRowCount();let i=-1;for(let s=0;s<r;s++){const n=this.rowModel.getRow(s);if(typeof e=="function"){if(n&&e(n)){i=s;break}}else if(e===n||e===n.data){i=s;break}}i>=0&&this.ensureIndexVisible(i,t)}ensureIndexVisible(e,t){if(this.gos.isDomLayout("print"))return;const r=this.paginationProxy.getRowCount();if(typeof e!="number"||e<0||e>=r){console.warn("AG Grid: Invalid row index for ensureIndexVisible: "+e);return}const s=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{s||this.paginationProxy.goToPageWithIndex(e);const n=this.ctrlsService.getGridBodyCtrl(),o=n.getStickyTopHeight(),a=n.getStickyBottomHeight(),u=this.paginationProxy.getRow(e);let l;do{const c=u.rowTop,h=u.rowHeight,d=this.paginationProxy.getPixelOffset(),p=u.rowTop-d,g=p+u.rowHeight,v=this.getVScrollPosition(),f=this.heightScaler.getDivStretchOffset(),y=v.top+f,m=v.bottom+f,w=m-y,_=this.heightScaler.getScrollPositionForPixel(p),A=this.heightScaler.getScrollPositionForPixel(g-w),F=Math.min((_+A)/2,p),G=y+o>p,L=m-a<g;let O=null;t==="top"?O=_:t==="bottom"?O=A:t==="middle"?O=F:G?O=_-o:L&&(O=A+a),O!==null&&(this.setVerticalScrollPosition(O),this.rowRenderer.redraw({afterScroll:!0})),l=c!==u.rowTop||h!==u.rowHeight}while(l);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const r=this.columnModel.getGridColumn(e);if(!r||r.isPinned()||!this.columnModel.isColumnDisplayed(r))return;const i=this.getPositionedHorizontalScroll(r,t);this.getFrameworkOverrides().wrapIncoming(()=>{i!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(i),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,t){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(t),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:r,columnAfterEnd:i}=this.isColumnOutsideViewport(e),s=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),n=this.centerRowsCtrl.getCenterWidth(),o=this.enableRtl;let a=(o?r:i)||s,u=o?i:r;t!=="auto"&&(a=t==="start",u=t==="end");const l=t==="middle";if(a||u||l){const{colLeft:c,colMiddle:h,colRight:d}=this.getColumnBounds(e);return l?h-n/2:a?o?d:c:o?c-n:d-n}return null}isColumnOutsideViewport(e){const{start:t,end:r}=this.getViewportBounds(),{colLeft:i,colRight:s}=this.getColumnBounds(e),n=this.enableRtl,o=n?t>s:r<s,a=n?r<i:t>i;return{columnBeforeStart:o,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,r=this.columnModel.getBodyContainerWidth(),i=e.getActualWidth(),s=e.getLeft(),n=t?-1:1,o=t?r-s:s,a=o+i*n,u=o+i/2*n;return{colLeft:o,colMiddle:u,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),r=t,i=e+t;return{start:r,end:i,width:e}}};B([q("ctrlsService")],gn.prototype,"ctrlsService",2);B([q("animationFrameService")],gn.prototype,"animationFrameService",2);B([q("paginationProxy")],gn.prototype,"paginationProxy",2);B([q("rowModel")],gn.prototype,"rowModel",2);B([q("rowContainerHeightService")],gn.prototype,"heightScaler",2);B([q("rowRenderer")],gn.prototype,"rowRenderer",2);B([q("columnModel")],gn.prototype,"columnModel",2);B([we],gn.prototype,"postConstruct",1);var GE="ag-force-vertical-scroll",wA="ag-selectable",bA="ag-column-moving",Zr=class extends ye{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,t,r,i,s,n,o){this.comp=e,this.eGridBody=t,this.eBodyViewport=r,this.eTop=i,this.eBottom=s,this.eStickyTop=n,this.eStickyBottom=o,this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",a=>this.setCellTextSelection(a.currentValue)),this.createManagedBean(new Rp(this.comp)),this.bodyScrollFeature=this.createManagedBean(new gn(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,r,s,n,o]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.filterManager.setupAdvancedFilterHeaderComp(i),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){this.addManagedListener(this.eventService,$.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,$.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,$.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,$.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}addFocusListeners(e){e.forEach(t=>{this.addManagedListener(t,"focusin",r=>{const{target:i}=r,s=Mo(i,"ag-root",t);t.classList.toggle("ag-has-focus",!s)}),this.addManagedListener(t,"focusout",r=>{const{target:i,relatedTarget:s}=r,n=t.contains(s),o=Mo(s,"ag-root",t);Mo(i,"ag-root",t)||(!n||o)&&t.classList.remove("ag-has-focus")})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(bA,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(wA,e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();const t=e&&this.gos.getScrollbarWidth()||0,r=Lv()?16:0,i=`calc(100% + ${t+r}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(i))}onGridColumnsChanged(){const e=this.columnModel.getAllGridColumns();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedListener(this.eGridBody,"dragstart",e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const e=r=>{const i=r.relatedTarget;if(yh(i)===null){this.rowRenderer.stopEditing();return}let s=t.some(n=>n.contains(i))&&this.mouseEventService.isElementInThisGrid(i);if(!s){const n=this.popupService;s=n.getActivePopups().some(o=>o.contains(i))||n.isElementWithinCustomPopup(i)}s||this.rowRenderer.stopEditing()},t=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];t.forEach(r=>this.addManagedListener(r,"focusout",e))}updateRowCount(){const e=this.headerNavigationService.getHeaderRowCount()+this.filterManager.getHeaderRowCount(),t=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,r=t===-1?-1:e+t;this.comp.setRowCount(r)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?GE:null,r=this.gos.isDomLayout("normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||r&&kS(this.eBodyViewport)}setupRowAnimationCssClass(){const e=()=>{const t=this.gos.isAnimateRows()&&!this.rowContainerHeightService.isStretching(),r=t?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(r,t)};e(),this.addManagedListener(this.eventService,$.EVENT_HEIGHT_SCALE_CHANGED,e),this.addManagedPropertyListener("animateRows",e)}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedListener(this.eBodyViewport,"contextmenu",e),this.mockContextMenuForIPad(e),this.addManagedListener(this.eBodyViewport,"wheel",this.onBodyViewportWheel.bind(this)),this.addManagedListener(this.eStickyTop,"wheel",this.onStickyWheel.bind(this)),this.addManagedListener(this.eStickyBottom,"wheel",this.onStickyWheel.bind(this)),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){const e=this.eBodyViewport.querySelector(".ag-full-width-container"),t=this.eBodyViewport.querySelector(".ag-center-cols-viewport");e&&t&&this.addManagedListener(e,"wheel",r=>this.onFullWidthContainerWheel(r,t))}onFullWidthContainerWheel(e,t){!e.deltaX||Math.abs(e.deltaY)>Math.abs(e.deltaX)||!this.mouseEventService.isEventFromThisGrid(e)||(e.preventDefault(),t.scrollBy({left:e.deltaX}))}onBodyViewportContextMenu(e,t,r){if(!e&&!r)return;this.gos.get("preventDefaultOnContextMenu")&&(e||r).preventDefault();const{target:i}=e||t;(i===this.eBodyViewport||i===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:r,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!hn())return;const t=new kr(this.eBodyViewport),r=i=>{e(void 0,i.touchStart,i.touchEvent)};this.addManagedListener(t,kr.EVENT_LONG_TAP,r),this.addDestroyFunc(()=>t.destroy())}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}onStickyWheel(e){e.preventDefault(),e.offsetY&&this.scrollVertically(e.deltaY)}getGui(){return this.eGridBody}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new qi(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)}getRowDragFeature(){return this.rowDragFeature}onPinnedRowDataChanged(){this.setFloatingHeights()}setFloatingHeights(){const{pinnedRowModel:e}=this;let t=e.getPinnedTopTotalHeight(),r=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(t),this.comp.setBottomHeight(r),this.comp.setTopDisplay(t?"inherit":"none"),this.comp.setBottomDisplay(r?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.gos.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){const t=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+this.filterManager.getHeaderHeight(),r=this.pinnedRowModel.getPinnedTopTotalHeight();let i=0;t>0&&(i+=t),r>0&&(i+=r),i>0&&(i+=1),this.comp.setStickyTopTop(`${i}px`)}setStickyBottomOffsetBottom(){const e=this.pinnedRowModel.getPinnedBottomTotalHeight(),r=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gos.getScrollbarWidth()||0,i=e+r;this.comp.setStickyBottomBottom(`${i}px`)}sizeColumnsToFit(e,t){const i=this.isVerticalScrollShowing()?this.gos.getScrollbarWidth():0,n=ea(this.eGridBody)-i;if(n>0){this.columnModel.sizeColumnsToFit(n,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}};B([q("animationFrameService")],Zr.prototype,"animationFrameService",2);B([q("rowContainerHeightService")],Zr.prototype,"rowContainerHeightService",2);B([q("ctrlsService")],Zr.prototype,"ctrlsService",2);B([q("columnModel")],Zr.prototype,"columnModel",2);B([q("scrollVisibleService")],Zr.prototype,"scrollVisibleService",2);B([q("menuService")],Zr.prototype,"menuService",2);B([q("headerNavigationService")],Zr.prototype,"headerNavigationService",2);B([q("dragAndDropService")],Zr.prototype,"dragAndDropService",2);B([q("pinnedRowModel")],Zr.prototype,"pinnedRowModel",2);B([q("rowRenderer")],Zr.prototype,"rowRenderer",2);B([q("popupService")],Zr.prototype,"popupService",2);B([q("mouseEventService")],Zr.prototype,"mouseEventService",2);B([q("rowModel")],Zr.prototype,"rowModel",2);B([q("filterManager")],Zr.prototype,"filterManager",2);var zl="ag-cell-range-selected",SA="ag-cell-range-chart",EA="ag-cell-range-single-cell",xA="ag-cell-range-chart-category",_A="ag-cell-range-handle",RA="ag-cell-range-top",TA="ag-cell-range-right",AA="ag-cell-range-bottom",DA="ag-cell-range-left",MA=class{constructor(e,t){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=t}setComp(e,t){this.cellComp=e,this.eGui=t,this.onRangeSelectionChanged()}onRangeSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(zl,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${zl}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${zl}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${zl}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${zl}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(SA,this.hasChartRange),tl(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(EA,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),t=this.isSingleCell(),r=!t&&e.top,i=!t&&e.right,s=!t&&e.bottom,n=!t&&e.left;this.cellComp.addOrRemoveCssClass(RA,r),this.cellComp.addOrRemoveCssClass(TA,i),this.cellComp.addOrRemoveCssClass(AA,s),this.cellComp.addOrRemoveCssClass(DA,n)}isSingleCell(){const{rangeService:e}=this.beans;return this.rangeCount===1&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const t=e.getCellRanges();return t.length>0&&t.every(r=>Wi([1,0],r.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let t=!1,r=!1,i=!1,s=!1;const n=this.cellCtrl.getCellPosition().column,o=this.beans.columnModel;let a,u;e?(a=o.getDisplayedColAfter(n),u=o.getDisplayedColBefore(n)):(a=o.getDisplayedColBefore(n),u=o.getDisplayedColAfter(n));const l=this.rangeService.getCellRanges().filter(c=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),c));a||(s=!0),u||(r=!0);for(let c=0;c<l.length&&!(t&&r&&i&&s);c++){const h=l[c],d=this.rangeService.getRangeStartRow(h),p=this.rangeService.getRangeEndRow(h);!t&&this.beans.rowPositionUtils.sameRow(d,this.cellCtrl.getCellPosition())&&(t=!0),!i&&this.beans.rowPositionUtils.sameRow(p,this.cellCtrl.getCellPosition())&&(i=!0),!s&&a&&h.columns.indexOf(a)<0&&(s=!0),!r&&u&&h.columns.indexOf(u)<0&&(r=!0)}return{top:t,right:r,bottom:i,left:s}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(_A,!!this.selectionHandle)}shouldHaveSelectionHandle(){const e=this.beans.gos,t=this.rangeService.getCellRanges(),r=t.length;if(this.rangeCount<1||r<1)return!1;const i=Tt(t),s=this.cellCtrl.getCellPosition(),n=e.get("enableFillHandle")&&!this.cellCtrl.isSuppressFillHandle(),o=e.get("enableRangeHandle");let a=r===1&&!this.cellCtrl.isEditing()&&(n||o);if(this.hasChartRange){const l=t[0].type===1&&this.rangeService.isCellInSpecificRange(s,t[0]);this.cellComp.addOrRemoveCssClass(xA,l),a=i.type===0}return a&&i.endRow!=null&&this.rangeService.isContiguousRange(i)&&this.rangeService.isBottomRightCell(i,s)}addSelectionHandle(){const e=this.beans.gos,t=Tt(this.rangeService.getCellRanges()).type,i=e.get("enableFillHandle")&&tt(t)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(i)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},PA=class extends ye{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListener(this.beans.eventService,$.EVENT_NEW_COLUMNS_LOADED,()=>this.onNewColumnsLoaded())}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();Ns(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,$.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,$.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),t=[];if(e===1)t.push(this.column);else{let r=this.column;const i=this.column.getPinned();for(let s=0;r&&s<e&&(t.push(r),r=this.beans.columnModel.getDisplayedColAfter(r),!(!r||tt(r)||i!==r.getPinned()));s++);}return t}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=Tt(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;const t=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(this.column.getPinned()==="right"){const r=this.beans.columnModel.getBodyContainerWidth();return t+r+(e||0)}return t+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;const r=this.beans.gos.getRowHeightAsNumber()*this.rowSpan;this.eGui.style.height=`${r}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},FA=class extends ye{constructor(e,t){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=t,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:t}=e,r=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(t===this.cellClassRules?void 0:this.cellClassRules,t,r,i=>this.cellComp.addOrRemoveCssClass(i,!0),i=>this.cellComp.addOrRemoveCssClass(i,!1)),this.cellClassRules=t}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let t;if(typeof e.cellStyle=="function"){const r=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),i=e.cellStyle;t=i(r)}else t=e.cellStyle;t&&this.cellComp.setUserStyles(t)}applyClassesFromColDef(){const e=this.column.getColDef(),t=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(r=>this.cellComp.addOrRemoveCssClass(r,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,t),this.staticClasses.length&&this.staticClasses.forEach(r=>this.cellComp.addOrRemoveCssClass(r,!0))}destroy(){super.destroy()}},dt=class{postConstruct(){this.gos.isRowModelType("clientSide")&&(this.clientSideRowModel=this.rowModel),this.gos.isRowModelType("serverSide")&&(this.serverSideRowModel=this.rowModel)}};B([q("resizeObserverService")],dt.prototype,"resizeObserverService",2);B([q("paginationProxy")],dt.prototype,"paginationProxy",2);B([q("context")],dt.prototype,"context",2);B([q("gridOptionsService")],dt.prototype,"gos",2);B([q("environment")],dt.prototype,"environment",2);B([q("rowRenderer")],dt.prototype,"rowRenderer",2);B([q("valueService")],dt.prototype,"valueService",2);B([q("eventService")],dt.prototype,"eventService",2);B([q("columnModel")],dt.prototype,"columnModel",2);B([q("headerNavigationService")],dt.prototype,"headerNavigationService",2);B([q("navigationService")],dt.prototype,"navigationService",2);B([q("columnAnimationService")],dt.prototype,"columnAnimationService",2);B([q("focusService")],dt.prototype,"focusService",2);B([q("popupService")],dt.prototype,"popupService",2);B([q("stylingService")],dt.prototype,"stylingService",2);B([q("columnHoverService")],dt.prototype,"columnHoverService",2);B([q("userComponentFactory")],dt.prototype,"userComponentFactory",2);B([q("userComponentRegistry")],dt.prototype,"userComponentRegistry",2);B([q("animationFrameService")],dt.prototype,"animationFrameService",2);B([q("dragService")],dt.prototype,"dragService",2);B([q("dragAndDropService")],dt.prototype,"dragAndDropService",2);B([q("sortController")],dt.prototype,"sortController",2);B([q("filterManager")],dt.prototype,"filterManager",2);B([q("rowContainerHeightService")],dt.prototype,"rowContainerHeightService",2);B([q("frameworkOverrides")],dt.prototype,"frameworkOverrides",2);B([q("cellPositionUtils")],dt.prototype,"cellPositionUtils",2);B([q("rowPositionUtils")],dt.prototype,"rowPositionUtils",2);B([q("selectionService")],dt.prototype,"selectionService",2);B([q("rowCssClassCalculator")],dt.prototype,"rowCssClassCalculator",2);B([q("rowModel")],dt.prototype,"rowModel",2);B([q("ctrlsService")],dt.prototype,"ctrlsService",2);B([q("ctrlsFactory")],dt.prototype,"ctrlsFactory",2);B([q("agStackComponentsRegistry")],dt.prototype,"agStackComponentsRegistry",2);B([q("valueCache")],dt.prototype,"valueCache",2);B([q("rowNodeEventThrottle")],dt.prototype,"rowNodeEventThrottle",2);B([q("localeService")],dt.prototype,"localeService",2);B([q("syncService")],dt.prototype,"syncService",2);B([q("ariaAnnouncementService")],dt.prototype,"ariaAnnouncementService",2);B([Lt("rangeService")],dt.prototype,"rangeService",2);B([Lt("selectionHandleFactory")],dt.prototype,"selectionHandleFactory",2);B([we],dt.prototype,"postConstruct",1);dt=B([ke("beans")],dt);var IA=class extends dt{constructor(e,t,r){super(),this.cellCtrl=e,this.beans=t,this.column=r}onMouseEvent(e,t){if(!Es(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}const{eventService:t,rangeService:r,gos:i}=this.beans,s=e.ctrlKey||e.metaKey;r&&s&&r.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&r.intersectLastRange(!0);const n=this.cellCtrl.createEvent(e,$.EVENT_CELL_CLICKED);t.dispatchEvent(n);const o=this.column.getColDef();o.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{o.onCellClicked(n)})},0),(i.get("singleClickEdit")||o.singleClickEdit)&&!i.get("suppressClickEdit")&&!(e.shiftKey&&(r==null?void 0:r.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!hn()||Ev("dblclick"))return!1;const e=new Date().getTime(),t=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,t}onCellDoubleClicked(e){const t=this.column.getColDef(),r=this.cellCtrl.createEvent(e,$.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(r),typeof t.onCellDoubleClicked=="function"&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{t.onCellDoubleClicked(r)})},0),!this.beans.gos.get("singleClickEdit")&&!this.beans.gos.get("suppressClickEdit")&&this.cellCtrl.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:t,metaKey:r,shiftKey:i}=e,s=e.target,{cellCtrl:n,beans:o}=this,{eventService:a,rangeService:u,focusService:l}=o;if(this.isRightClickInExistingRange(e))return;const c=u&&u.getCellRanges().length!=0;if(!i||!c){const h=Hs()&&!n.isEditing()&&!Gv(s);n.focusCell(h)}if(i&&c&&!l.isCellFocused(n.getCellPosition())){e.preventDefault();const h=l.getFocusedCell();if(h){const{column:d,rowIndex:p,rowPinned:g}=h,v=o.rowRenderer.getRowByPosition({rowIndex:p,rowPinned:g}),f=v==null?void 0:v.getCellCtrl(d);f!=null&&f.isEditing()&&f.stopEditing(),l.setFocusedCell({column:d,rowIndex:p,rowPinned:g,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(s)){if(u){const h=this.cellCtrl.getCellPosition();if(i)u.extendLatestRangeToCell(h);else{const d=t||r;u.setRangeToCell(h,d)}}a.dispatchEvent(this.cellCtrl.createEvent(e,$.EVENT_CELL_MOUSE_DOWN))}}isRightClickInExistingRange(e){const{rangeService:t}=this.beans;if(t){const r=t.isCellInAnyRange(this.cellCtrl.getCellPosition()),i=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(r&&i)return!0}return!1}containsWidget(e){return Mo(e,"ag-selection-checkbox",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const t=this.cellCtrl.createEvent(e,$.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const t=this.cellCtrl.createEvent(e,$.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(t),this.beans.columnHoverService.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.getGui(),r=t.contains(e.target),i=t.contains(e.relatedTarget);return r&&i}destroy(){}},kA=class extends ye{constructor(e,t,r,i,s){super(),this.cellCtrl=e,this.beans=t,this.rowNode=i,this.rowCtrl=s}setComp(e){this.eGui=e}onKeyDown(e){const t=e.key;switch(t){case ae.ENTER:this.onEnterKeyDown(e);break;case ae.F2:this.onF2KeyDown(e);break;case ae.ESCAPE:this.onEscapeKeyDown(e);break;case ae.TAB:this.onTabKeyDown(e);break;case ae.BACKSPACE:case ae.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case ae.DOWN:case ae.UP:case ae.RIGHT:case ae.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,t,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const t=this.beans.rangeService.extendLatestRangeInDirection(e);t&&this.beans.navigationService.ensureCellVisible(t)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){var r;const{cellCtrl:i,beans:s,rowNode:n}=this,{gos:o,rangeService:a,eventService:u}=s;if(!i.isEditing()){if(u.dispatchEvent({type:$.EVENT_KEY_SHORTCUT_CHANGED_CELL_START}),US(e,o.get("enableCellEditingOnBackspace"))){if(a&&o.get("enableRangeSelection"))a.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(i.isCellEditable()){const l=i.getColumn(),c=(r=this.beans.valueService.parseValue(l,n,"",n.getValueFromValueService(l)))!=null?r:null;n.setDataValue(l,c,"cellClear")}}else i.startRowOrCellEdit(e,t);u.dispatchEvent({type:$.EVENT_KEY_SHORTCUT_CHANGED_CELL_END})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){const t=e.shiftKey?ae.UP:ae.DOWN;this.beans.navigationService.navigateToNextCell(null,t,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(ae.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(ae.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const i=e.key;i===" "?this.onSpaceKeyDown(e):(this.cellCtrl.startRowOrCellEdit(i,e),e.preventDefault())}onSpaceKeyDown(e){const{gos:t}=this.beans;if(!this.cellCtrl.isEditing()&&t.isRowSelection()){const r=this.rowNode.isSelected(),i=!r;if(i||!t.get("suppressRowDeselection")){const s=this.beans.gos.get("groupSelectsFiltered"),n=this.rowNode.setSelectedParams({newValue:i,rangeSelect:e.shiftKey,groupSelectsFiltered:s,event:e,source:"spaceKey"});r===void 0&&n===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:s,event:e,source:"spaceKey"})}}e.preventDefault()}destroy(){super.destroy()}},VE=class extends it{constructor(e,t,r){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=t,this.eCell=r}postConstruct(){this.getGui().appendChild(nr("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const t=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const r=()=>{try{const i=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",i),e.dataTransfer.setData("text/plain",i)}catch{}};if(t){const i=this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});t(i)}else r()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};B([we],VE.prototype,"postConstruct",1);var LA="ag-column-first",NA="ag-column-last",Tp=class{static getHeaderClassesFromColDef(e,t,r,i){return tt(e)?[]:this.getColumnClassesFromCollDef(e.headerClass,e,t,r,i)}static getToolPanelClassesFromColDef(e,t,r,i){return tt(e)?[]:this.getColumnClassesFromCollDef(e.toolPanelClass,e,t,r,i)}static refreshFirstAndLastStyles(e,t,r){e.addOrRemoveCssClass(LA,r.isColumnAtEdge(t,"first")),e.addOrRemoveCssClass(NA,r.isColumnAtEdge(t,"last"))}static getClassParams(e,t,r,i){return t.addGridCommonParams({colDef:e,column:r,columnGroup:i})}static getColumnClassesFromCollDef(e,t,r,i,s){if(tt(e))return[];let n;if(typeof e=="function"){const o=this.getClassParams(t,r,i,s);n=e(o)}else n=e;return typeof n=="string"?[n]:Array.isArray(n)?[...n]:[]}},OA="ag-cell",GA="ag-cell-auto-height",VA="ag-cell-normal-height",BA="ag-cell-focus",HA="ag-cell-first-right-pinned",WA="ag-cell-last-left-pinned",zA="ag-cell-not-inline-editing",UA="ag-column-hover",jA="ag-cell-wrap-text",$A=0,BE=class em extends ye{constructor(t,r,i,s){super(),this.cellRangeFeature=null,this.cellPositionFeature=null,this.cellCustomStyleFeature=null,this.tooltipFeature=null,this.cellMouseListenerFeature=null,this.cellKeyboardListenerFeature=null,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.column=t,this.rowNode=r,this.beans=i,this.rowCtrl=s,this.instanceId=t.getId()+"-"+$A++,this.colIdSanitised=Cr(this.column.getId()),i.gos.get("suppressCellFocus")||(this.tabIndex=-1),this.createCellPosition(),this.addFeatures(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}addFeatures(){this.cellPositionFeature=new PA(this,this.beans),this.addDestroyFunc(()=>{var r;(r=this.cellPositionFeature)==null||r.destroy(),this.cellPositionFeature=null}),this.cellCustomStyleFeature=new FA(this,this.beans),this.addDestroyFunc(()=>{var r;(r=this.cellCustomStyleFeature)==null||r.destroy(),this.cellCustomStyleFeature=null}),this.cellMouseListenerFeature=new IA(this,this.beans,this.column),this.addDestroyFunc(()=>{var r;(r=this.cellMouseListenerFeature)==null||r.destroy(),this.cellMouseListenerFeature=null}),this.cellKeyboardListenerFeature=new kA(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(()=>{var r;(r=this.cellKeyboardListenerFeature)==null||r.destroy(),this.cellKeyboardListenerFeature=null}),this.column.isTooltipEnabled()&&(this.enableTooltipFeature(),this.addDestroyFunc(()=>{this.disableTooltipFeature()})),this.beans.rangeService&&this.beans.gos.get("enableRangeSelection")&&(this.cellRangeFeature=new MA(this.beans,this),this.addDestroyFunc(()=>{var r;(r=this.cellRangeFeature)==null||r.destroy(),this.cellRangeFeature=null}))}enableTooltipFeature(t,r){const i=()=>{const o=this.column.getColDef(),a=this.rowNode.data;if(o.tooltipField&&ve(a))return Wa(a,o.tooltipField,this.column.isTooltipFieldContainsDots());const u=o.tooltipValueGetter;return u?u(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},s=this.beans.gos.get("tooltipShowMode")==="whenTruncated";!r&&s&&!this.isCellRenderer()&&(r=()=>{const o=this.getGui(),a=o.children.length===0?o:o.querySelector(".ag-cell-value");return a?a.scrollWidth>a.clientWidth:!0});const n={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:i,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:r};this.tooltipFeature=new pn(n,this.beans)}disableTooltipFeature(){this.tooltipFeature&&(this.tooltipFeature.destroy(),this.tooltipFeature=null)}setComp(t,r,i,s,n){var o,a,u,l;this.cellComp=t,this.eGui=r,this.printLayout=s,this.addDomData(),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(o=this.cellPositionFeature)==null||o.setComp(r),(a=this.cellCustomStyleFeature)==null||a.setComp(t),(u=this.tooltipFeature)==null||u.refreshToolTip(),(l=this.cellKeyboardListenerFeature)==null||l.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(t,r),n&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(c=>c()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(t){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!t)return;const r=t.parentElement,i=this.beans.gos.getRowHeightForNode(this.rowNode).height,s=a=>{if(this.editing||!this.isAlive())return;const{paddingTop:u,paddingBottom:l,borderBottomWidth:c,borderTopWidth:h}=Jn(r),d=u+l+c+h,g=t.offsetHeight+d;if(a<5){const f=this.beans.gos.getDocument(),y=!f||!f.contains(t),m=g==0;if(y||m){window.setTimeout(()=>s(a+1),0);return}}const v=Math.max(g,i);this.rowNode.setRowAutoHeight(v,this.column)},n=()=>s(0);n();const o=this.beans.resizeObserverService.observeResize(t,n);this.addDestroyFunc(()=>{o(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){var t;return(t=this.column.getColDef().cellAriaRole)!=null?t:"gridcell"}getInstanceId(){return this.instanceId}getColumnIdSanitised(){return this.colIdSanitised}getTabIndex(){return this.tabIndex}isCellRenderer(){const t=this.column.getColDef();return t.cellRenderer!=null||t.cellRendererSelector!=null}getValueToDisplay(){var t;return(t=this.valueFormatted)!=null?t:this.value}showValue(t=!1){var r;const i=this.getValueToDisplay();let s;if(this.rowNode.stub){const n=this.createCellRendererParams();s=this.beans.userComponentFactory.getLoadingCellRendererDetails(this.column.getColDef(),n)}else if(this.isCellRenderer()){const n=this.createCellRendererParams();s=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),n)}this.cellComp.setRenderDetails(s,i,t),(r=this.cellRangeFeature)==null||r.refreshHandle()}setupControlComps(){const t=this.column.getColDef();this.includeSelection=this.isIncludeControl(t.checkboxSelection),this.includeRowDrag=this.isIncludeControl(t.rowDrag),this.includeDndSource=this.isIncludeControl(t.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(t){return this.rowNode.rowPinned!=null?!1:typeof t=="function"||t===!0}refreshShouldDestroy(){const t=this.column.getColDef(),r=this.includeSelection!=this.isIncludeControl(t.checkboxSelection),i=this.includeRowDrag!=this.isIncludeControl(t.rowDrag),s=this.includeDndSource!=this.isIncludeControl(t.dndSource),n=this.isAutoHeight!=this.column.isAutoHeight();return r||i||s||n}startEditing(t=null,r=!1,i=null){if(!this.isCellEditable()||this.editing)return;if(!this.cellComp){this.onCellCompAttachedFuncs.push(()=>{this.startEditing(t,r,i)});return}const s=this.createCellEditorParams(t,r),n=this.column.getColDef(),o=this.beans.userComponentFactory.getCellEditorDetails(n,s);this.editCompDetails=o;const a=(o==null?void 0:o.popupFromSelector)!=null?o.popupFromSelector:!!n.cellEditorPopup,u=(o==null?void 0:o.popupPositionFromSelector)!=null?o.popupPositionFromSelector:n.cellEditorPopupPosition;this.setEditing(!0),this.cellComp.setEditDetails(o,a,u,this.beans.gos.get("reactiveCustomComponents"));const l=this.createEvent(i,$.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(l)}setEditing(t){var r;this.editing!==t&&(this.editing=t,(r=this.cellRangeFeature)==null||r.refreshHandle())}stopRowOrCellEdit(t=!1){this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.stopEditing(t):this.stopEditing(t)}onPopupEditorClosed(){this.isEditing()&&this.stopEditingAndFocus()}takeValueFromCellEditor(t){const r={newValueExists:!1};if(t)return r;const i=this.cellComp.getCellEditor();return!i||i.isCancelAfterEnd&&i.isCancelAfterEnd()?r:{newValue:i.getValue(),newValueExists:!0}}saveNewValue(t,r){if(r===t)return!1;this.suppressRefreshCell=!0;const i=this.rowNode.setDataValue(this.column,r,"edit");return this.suppressRefreshCell=!1,i}stopEditing(t=!1){if(!this.editing)return!1;const{newValue:r,newValueExists:i}=this.takeValueFromCellEditor(t),s=this.rowNode.getValueFromValueService(this.column);let n=!1;return i&&(n=this.saveNewValue(s,r)),this.setEditing(!1),this.cellComp.setEditDetails(),this.editCompDetails=void 0,this.updateAndFormatValue(!1),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(s,r,!t&&!!n),n}dispatchEditingStoppedEvent(t,r,i){const s=er(Be({},this.createEvent(null,$.EVENT_CELL_EDITING_STOPPED)),{oldValue:t,newValue:r,valueChanged:i});this.beans.eventService.dispatchEvent(s)}createCellEditorParams(t,r){return this.beans.gos.addGridCommonParams({value:this.rowNode.getValueFromValueService(this.column),eventKey:t,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,cellStartedEdit:r,onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)})}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.rowNode.getValueFromValueService(this.column),setValue:r=>this.beans.valueService.setValue(this.rowNode,this.column,r),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(r,i,s,n)=>this.registerRowDragger(r,i,n),setTooltip:(r,i)=>{var s;this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(r,i),(s=this.tooltipFeature)==null||s.refreshToolTip()}})}parseValue(t){return this.beans.valueService.parseValue(this.column,this.rowNode,t,this.getValue())}setFocusOutOnEditor(){if(!this.editing)return;const t=this.cellComp.getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(){if(!this.editing)return;const t=this.cellComp.getCellEditor();t&&t.focusIn?t.focusIn():this.focusCell(!0)}onCellChanged(t){t.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(t){var r;this.refreshShouldDestroy()?(r=this.rowCtrl)==null||r.recreateCell(this):this.refreshCell(t)}refreshCell(t){var r,i,s,n;if(this.suppressRefreshCell||this.editing)return;const o=this.column.getColDef(),a=t!=null&&!!t.newData,u=t!=null&&!!t.suppressFlash||!!o.suppressCellFlash,l=o.field==null&&o.valueGetter==null&&o.showRowGroup==null,c=t&&t.forceRefresh||l||a,h=!!this.cellComp,d=this.updateAndFormatValue(h),p=c||d;if(h){if(p){this.showValue(a);const g=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!u&&!g&&(this.beans.gos.get("enableCellChangeFlash")||o.enableCellChangeFlash)&&this.flashCell(),(r=this.cellCustomStyleFeature)==null||r.applyUserStyles(),(i=this.cellCustomStyleFeature)==null||i.applyClassesFromColDef()}(s=this.tooltipFeature)==null||s.refreshToolTip(),(n=this.cellCustomStyleFeature)==null||n.applyCellClassRules()}}stopEditingAndFocus(t=!1,r=!1){this.stopRowOrCellEdit(),this.focusCell(!0),t||this.navigateAfterEdit(r)}navigateAfterEdit(t){if(this.beans.gos.get("enterNavigatesVerticallyAfterEdit")){const i=t?ae.UP:ae.DOWN;this.beans.navigationService.navigateToNextCell(null,i,this.getCellPosition(),!1)}}flashCell(t){var r,i;const s=(r=t==null?void 0:t.flashDuration)!=null?r:t==null?void 0:t.flashDelay,n=(i=t==null?void 0:t.fadeDuration)!=null?i:t==null?void 0:t.fadeDelay;this.animateCell("data-changed",s,n)}animateCell(t,r,i){if(!this.cellComp)return;const s=`ag-cell-${t}`,n=`ag-cell-${t}-animation`,{gos:o}=this.beans;r||(r=o.get("cellFlashDuration")),ve(i)||(i=o.get("cellFadeDuration")),this.cellComp.addOrRemoveCssClass(s,!0),this.cellComp.addOrRemoveCssClass(n,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(s,!1),this.cellComp.addOrRemoveCssClass(n,!0),this.eGui.style.transition=`background-color ${i}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(n,!1),this.eGui.style.transition="")},i))},r)})}onFlashCells(t){if(!this.cellComp)return;const r=this.beans.cellPositionUtils.createId(this.getCellPosition());t.cells[r]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(t){var r;return(r=this.callValueFormatter(t))!=null?r:t}callValueFormatter(t){return this.beans.valueService.formatValue(this.column,this.rowNode,t)}updateAndFormatValue(t){const r=this.value,i=this.valueFormatted;return this.value=this.rowNode.getValueFromValueService(this.column),this.valueFormatted=this.callValueFormatter(this.value),t?!this.valuesAreEqual(r,this.value)||this.valueFormatted!=i:!0}valuesAreEqual(t,r){const i=this.column.getColDef();return i.equals?i.equals(t,r):t===r}getComp(){return this.cellComp}getValue(){return this.value}addDomData(){const t=this.getGui();this.beans.gos.setDomData(t,em.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(()=>this.beans.gos.setDomData(t,em.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(t,r){return this.beans.gos.addGridCommonParams({type:r,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:t,rowIndex:this.rowNode.rowIndex})}processCharacter(t){var r;(r=this.cellKeyboardListenerFeature)==null||r.processCharacter(t)}onKeyDown(t){var r;(r=this.cellKeyboardListenerFeature)==null||r.onKeyDown(t)}onMouseEvent(t,r){var i;(i=this.cellMouseListenerFeature)==null||i.onMouseEvent(t,r)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var t;this.cellComp&&((t=this.cellPositionFeature)==null||t.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:t,column:r,beans:i}=this;Tp.refreshFirstAndLastStyles(t,r,i.columnModel)}refreshAriaColIndex(){const t=this.beans.columnModel.getAriaColumnIndex(this.column);Dv(this.getGui(),t)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var t;return(t=this.cellPositionFeature)==null?void 0:t.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(t,r=null){if(!this.cellComp){this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(t,r)});return}this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(t,this):this.startEditing(t,!0,r)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onRangeSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(t=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:t})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()}onFirstRightPinnedChanged(){if(!this.cellComp)return;const t=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(HA,t)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const t=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(WA,t)}onCellFocused(t){if(this.beans.gos.get("suppressCellFocus"))return;const r=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){r&&(t!=null&&t.forceBrowserFocus)&&(this.focusEventToRestore=t);return}this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(BA,r),r&&t&&t.forceBrowserFocus&&this.cellComp.getFocusableElement().focus({preventScroll:!!t.preventScrollOnBrowserFocus});const i=this.beans.gos.get("editType")==="fullRow";!r&&!i&&this.editing&&this.stopRowOrCellEdit(),r&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:Vs(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(OA,!0),this.cellComp.addOrRemoveCssClass(zA,!0);const t=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(GA,t),this.cellComp.addOrRemoveCssClass(VA,!t)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(UA,t)}onColDefChanged(){if(!this.cellComp)return;if(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),!this.editing)this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0});else{const r=this.getCellEditor();if(r!=null&&r.refresh){const{eventKey:i,cellStartedEdit:s}=this.editCompDetails.params,n=this.createCellEditorParams(i,s),o=this.column.getColDef(),a=this.beans.userComponentFactory.getCellEditorDetails(o,n);r.refresh(a.params)}}}setWrapText(){const t=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(jA,t)}dispatchCellContextMenuEvent(t){const r=this.column.getColDef(),i=this.createEvent(t,$.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(i),r.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{r.onCellContextMenu(i)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const t=new Ep;return this.beans.context.createBean(t),t.init({rowNode:this.rowNode,column:this.column}),t}createDndSource(){const t=new VE(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(t),t}registerRowDragger(t,r,i){if(this.customRowDragComp){this.customRowDragComp.setDragElement(t,r);return}const s=this.createRowDragComp(t,r,i);s&&(this.customRowDragComp=s,this.addDestroyFunc(()=>{this.beans.context.destroyBean(s),this.customRowDragComp=null}))}createRowDragComp(t,r,i){const s=this.beans.gos.get("pagination"),n=this.beans.gos.get("rowDragManaged"),o=this.beans.gos.isRowModelType("clientSide");if(n){if(!o){We("managed row dragging is only allowed in the Client Side Row Model");return}if(s){We("managed row dragging is not possible when doing pagination");return}}const a=new Wo(()=>this.value,this.rowNode,this.column,t,r,i);return this.beans.context.createBean(a),a}};BE.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var Fo=BE,KA=0,HE=class tm extends ye{constructor(t,r,i,s,n){super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=r,this.gos=r.gos,this.rowNode=t,this.paginationPage=r.paginationProxy.getCurrentPage(),this.useAnimationFrameForCreate=s,this.printLayout=n,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=t.id+"-"+KA++,this.rowId=Cr(t.id),this.initRowBusinessKey(),this.rowFocused=r.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=r.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(i),this.rowStyles=this.processStylesFromGridOptions(),this.isFullWidth()&&!this.gos.get("suppressCellFocus")&&(this.tabIndex=-1),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const t=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=Cr(t)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}getTabIndex(){return this.tabIndex}isSticky(){return this.rowNode.sticky}getInstanceId(){return this.instanceId}setComp(t,r,i){const s={rowComp:t,element:r,containerType:i};this.allRowGuis.push(s),i==="left"?this.leftGui=s:i==="right"?this.rightGui=s:i==="fullWidth"?this.fullWidthGui=s:this.centerGui=s,this.initialiseRowComp(s),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(t){switch(this.allRowGuis=this.allRowGuis.filter(r=>r.containerType!==t),t){case"left":this.leftGui=void 0;break;case"right":this.rightGui=void 0;break;case"fullWidth":this.fullWidthGui=void 0;break;case"center":this.centerGui=void 0;break}}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(t){const r=t?"none":"";this.allRowGuis.forEach(i=>i.element.style.display=r)}initialiseRowComp(t){const r=this.gos;this.listenOnDomOrder(t),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(t),this.updateRowIndexes(t),this.setFocusedClasses(t),this.setStylesFromGridOptions(!1,t),r.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(t),this.updateColumnLists(!this.useAnimationFrameForCreate);const i=t.rowComp;this.getInitialRowClasses(t.containerType).forEach(n=>i.addOrRemoveCssClass(n,!0)),this.executeSlideAndFadeAnimations(t),this.rowNode.group&&on(t.element,this.rowNode.expanded==!0),this.setRowCompRowId(i),this.setRowCompRowBusinessKey(i),r.setDomData(t.element,tm.DOM_DATA_KEY_ROW_CTRL,this),this.addDestroyFunc(()=>r.setDomData(t.element,tm.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,t.element),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(t.element),this.isFullWidth()&&this.setupFullWidth(t),r.get("rowDragEntireRow")&&this.addRowDraggerToRow(t),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&t.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(t){this.businessKeySanitised!=null&&t.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(t){this.rowId=Cr(this.rowNode.id),this.rowId!=null&&t.setRowId(this.rowId)}executeSlideAndFadeAnimations(t){const{containerType:r}=t;this.slideInAnimation[r]&&(Bg(()=>{this.onTopChanged()}),this.slideInAnimation[r]=!1),this.fadeInAnimation[r]&&(Bg(()=>{t.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[r]=!1)}addRowDraggerToRow(t){if(this.gos.get("enableRangeSelection")){We("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`");return}const r=this.beans.localeService.getLocaleTextFunc(),i=new Wo(()=>`1 ${r("rowDragRow","row")}`,this.rowNode,void 0,t.element,void 0,!0),s=this.createBean(i,this.beans.context);this.rowDragComps.push(s)}setupFullWidth(t){const r=this.getPinnedForContainer(t.containerType);if(this.rowType=="FullWidthDetail"&&!Pt.__assertRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)",this.beans.context.getGridId()))return;const i=this.createFullWidthCompDetails(t.element,r);t.rowComp.showFullWidth(i)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var t,r;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(i=>{var s;return(s=i==null?void 0:i.rowComp)==null?void 0:s.getFullWidthCellRenderer()}):[(r=(t=this.fullWidthGui)==null?void 0:t.rowComp)==null?void 0:r.getFullWidthCellRenderer()]}getCellElement(t){const r=this.getCellCtrl(t);return r?r.getGui():null}executeProcessRowPostCreateFunc(){const t=this.gos.getCallback("processRowPostCreate");if(!t||!this.areAllContainersReady())return;const r={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};t(r)}areAllContainersReady(){const t=!!this.leftGui||!this.beans.columnModel.isPinningLeft(),r=!!this.centerGui,i=!!this.rightGui||!this.beans.columnModel.isPinningRight();return t&&r&&i}setRowType(){const t=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow"),r=this.rowNode.isFullWidthCell(),i=this.gos.get("masterDetail")&&this.rowNode.detail,s=this.beans.columnModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&this.gos.isGroupUseEntireRow(s);t?this.rowType="FullWidthLoading":i?this.rowType="FullWidthDetail":r?this.rowType="FullWidth":o?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(t=!1,r=!1){if(this.isFullWidth())return;if(t||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(r);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(t,r,i=null){const s={list:[],map:{}},n=(o,a)=>{s.list.push(a),s.map[o]=a};return r.forEach(o=>{const a=o.getInstanceId();let u=t.map[a];u||(u=new Fo(o,this.rowNode,this.beans,this)),n(a,u)}),t.list.forEach(o=>{if(s.map[o.getColumn().getInstanceId()]!=null)return;if(!this.isCellEligibleToBeRemoved(o,i)){n(o.getColumn().getInstanceId(),o);return}o.destroy()}),s}updateColumnListsImpl(t){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(t)}setCellCtrls(t){this.allRowGuis.forEach(r=>{const i=this.getCellCtrlsForContainer(r.containerType);r.rowComp.setCellCtrls(i,t)})}getCellCtrlsForContainer(t){switch(t){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list;default:const r=t;throw new Error(`Unhandled case: ${r}`)}}createAllCellCtrls(){const t=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const r=t.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,r);const i=t.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");const s=t.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,s,"right")}}isCellEligibleToBeRemoved(t,r){if(t.getColumn().getPinned()!=r)return!0;const o=t.isEditing(),a=this.beans.focusService.isCellFocused(t.getCellPosition());if(o||a){const l=t.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(l)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||this.gos.isDomLayout("print")}listenOnDomOrder(t){const r=()=>{t.rowComp.setDomOrder(this.getDomOrder())};this.addManagedPropertyListener("domLayout",r),this.addManagedPropertyListener("ensureDomOrder",r)}setAnimateFlags(t){if(this.isSticky()||!t)return;const r=ve(this.rowNode.oldRowTop),i=this.beans.columnModel.isPinningLeft(),s=this.beans.columnModel.isPinningRight();if(r){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=i,this.slideInAnimation.right=s}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=i,this.fadeInAnimation.right=s}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const t=(a,u)=>a?a.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(a.element,u).params):!0,r=t(this.fullWidthGui,null),i=t(this.centerGui,null),s=t(this.leftGui,"left"),n=t(this.rightGui,"right");return r&&i&&s&&n}addListeners(){this.addManagedListener(this.rowNode,ht.EVENT_HEIGHT_CHANGED,()=>this.onRowHeightChanged()),this.addManagedListener(this.rowNode,ht.EVENT_ROW_SELECTED,()=>this.onRowSelected()),this.addManagedListener(this.rowNode,ht.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,ht.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,ht.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,ht.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.rowNode.detail&&this.addManagedListener(this.rowNode.parent,ht.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,ht.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,ht.EVENT_CELL_CHANGED,this.postProcessCss.bind(this)),this.addManagedListener(this.rowNode,ht.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,ht.EVENT_DRAGGING_CHANGED,this.postProcessRowDragging.bind(this)),this.addManagedListener(this.rowNode,ht.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));const t=this.beans.eventService;this.addManagedListener(t,$.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(t,$.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(t,$.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(t,$.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(t,$.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(t,$.EVENT_CELL_FOCUS_CLEARED,this.onCellFocusChanged.bind(this)),this.addManagedListener(t,$.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(t,$.EVENT_MODEL_UPDATED,this.refreshFirstAndLastRowStyles.bind(this)),this.addManagedListener(t,$.EVENT_COLUMN_MOVED,this.updateColumnLists.bind(this)),this.addDestroyFunc(()=>{this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowDragEntireRow"],()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(i=>{this.addRowDraggerToRow(i)});return}this.destroyBeans(this.rowDragComps,this.beans.context),this.rowDragComps=[]}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListener(this.rowNode,ht.EVENT_ROW_INDEX_CHANGED,()=>{this.getAllCellCtrls().forEach(t=>t.onRowIndexChanged())}),this.addManagedListener(this.rowNode,ht.EVENT_CELL_CHANGED,t=>{this.getAllCellCtrls().forEach(r=>r.onCellChanged(t))})}onRowNodeDataChanged(t){if(this.isFullWidth()!==!!this.rowNode.isFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(i=>i.refreshCell({suppressFlash:!t.update,newData:!t.update})),this.allRowGuis.forEach(i=>{this.setRowCompRowId(i.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(i.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const t=this.rowNode.highlighted;this.allRowGuis.forEach(r=>{const i=t===0,s=t===1;r.rowComp.addOrRemoveCssClass("ag-row-highlight-above",i),r.rowComp.addOrRemoveCssClass("ag-row-highlight-below",s)})}postProcessRowDragging(){const t=this.rowNode.dragging;this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass("ag-row-dragging",t))}updateExpandedCss(){const t=this.rowNode.isExpandable(),r=this.rowNode.expanded==!0;this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass("ag-row-group",t),i.rowComp.addOrRemoveCssClass("ag-row-group-expanded",t&&r),i.rowComp.addOrRemoveCssClass("ag-row-group-contracted",t&&!r),on(i.element,t&&r)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:Vs(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(t){const r=this.allRowGuis.find(u=>u.element.contains(t.target));if(!((r?r.element:null)===t.target))return;const n=this.rowNode,o=this.beans.focusService.getFocusedCell(),a={rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:o&&o.column};this.beans.navigationService.navigateToNextCell(t,t.key,a,!0),t.preventDefault()}onTabKeyDown(t){if(t.defaultPrevented||Es(t))return;const r=this.allRowGuis.find(o=>o.element.contains(t.target)),i=r?r.element:null,s=i===t.target;let n=null;s||(n=this.beans.focusService.findNextFocusableElement(i,!1,t.shiftKey)),(this.isFullWidth()&&s||!n)&&this.beans.navigationService.onTabKeyDown(this,t)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var t;const r=(t=this.allRowGuis.find(i=>Ai(i.element)))==null?void 0:t.element;return r?r.getBoundingClientRect().top:0}onFullWidthRowFocused(t){var r;const i=this.rowNode,s=t?this.isFullWidth()&&t.rowIndex===i.rowIndex&&t.rowPinned==i.rowPinned:!1,n=this.fullWidthGui?this.fullWidthGui.element:(r=this.centerGui)==null?void 0:r.element;n&&(n.classList.toggle("ag-full-width-focus",s),s&&n.focus({preventScroll:!0}))}recreateCell(t){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,t),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,t),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,t),t.destroy(),this.updateColumnLists()}removeCellCtrl(t,r){const i={list:[],map:{}};return t.list.forEach(s=>{s!==r&&(i.list.push(s),i.map[s.getColumn().getInstanceId()]=s)}),i}onMouseEvent(t,r){switch(t){case"dblclick":this.onRowDblClick(r);break;case"click":this.onRowClick(r);break;case"touchstart":case"mousedown":this.onRowMouseDown(r);break}}createRowEvent(t,r){return this.gos.addGridCommonParams({type:t,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:r})}createRowEventWithSource(t,r){const i=this.createRowEvent(t,r);return i.source=this,i}onRowDblClick(t){if(Es(t))return;const r=this.createRowEventWithSource($.EVENT_ROW_DOUBLE_CLICKED,t);this.beans.eventService.dispatchEvent(r)}onRowMouseDown(t){if(this.lastMouseDownOnDragger=Mo(t.target,"ag-row-drag",3),!this.isFullWidth())return;const r=this.rowNode,i=this.beans.columnModel;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges(),this.beans.focusService.setFocusedCell({rowIndex:r.rowIndex,column:i.getAllDisplayedColumns()[0],rowPinned:r.rowPinned,forceBrowserFocus:!0})}onRowClick(t){if(Es(t)||this.lastMouseDownOnDragger)return;const i=this.createRowEventWithSource($.EVENT_ROW_CLICKED,t);this.beans.eventService.dispatchEvent(i);const s=t.ctrlKey||t.metaKey,n=t.shiftKey;if(this.gos.get("groupSelectsChildren")&&this.rowNode.group||this.isRowSelectionBlocked()||this.gos.get("suppressRowClickSelection"))return;const a=this.gos.get("rowMultiSelectWithClick"),u=!this.gos.get("suppressRowDeselection"),l="rowClicked";if(this.rowNode.isSelected())a?this.rowNode.setSelectedParams({newValue:!1,event:t,source:l}):s?u&&this.rowNode.setSelectedParams({newValue:!1,event:t,source:l}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!n,rangeSelect:n,event:t,source:l});else{const c=a?!1:!s;this.rowNode.setSelectedParams({newValue:!0,clearSelection:c,rangeSelect:n,event:t,source:l})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!this.gos.isRowSelection()}setupDetailRowAutoHeight(t){if(this.rowType!=="FullWidthDetail"||!this.gos.get("detailRowAutoHeight"))return;const r=()=>{const s=t.clientHeight;if(s!=null&&s>0){const n=()=>{this.rowNode.setRowHeight(s),this.beans.clientSideRowModel?this.beans.clientSideRowModel.onRowHeightChanged():this.beans.serverSideRowModel&&this.beans.serverSideRowModel.onRowHeightChanged()};window.setTimeout(n,0)}},i=this.beans.resizeObserverService.observeResize(t,r);this.addDestroyFunc(i),r()}createFullWidthCompDetails(t,r){const i=this.gos.addGridCommonParams({fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,eGridCell:t,eParentOfValue:t,pinned:r,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(s,n,o,a)=>this.addFullWidthRowDragging(s,n,o,a),setTooltip:(s,n)=>this.refreshRowTooltip(s,n)});switch(this.rowType){case"FullWidthDetail":return this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(i);case"FullWidthGroup":return this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(i);case"FullWidthLoading":return this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(i);default:return this.beans.userComponentFactory.getFullWidthCellRendererDetails(i)}}refreshRowTooltip(t,r){if(!this.fullWidthGui)return;const i={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>t,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:r};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new pn(i,this.beans))}addFullWidthRowDragging(t,r,i="",s){if(!this.isFullWidth())return;const n=new Wo(()=>i,this.rowNode,void 0,t,r,s);this.createBean(n,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(n,this.beans.context)})}onUiLevelChanged(){const t=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=t){const r="ag-row-level-"+t,i="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(s=>{s.rowComp.addOrRemoveCssClass(r,!0),s.rowComp.addOrRemoveCssClass(i,!1)})}this.rowLevel=t}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()}refreshFirstAndLastRowStyles(){const t=this.isFirstRowOnPage(),r=this.isLastRowOnPage();this.firstRowOnPage!==t&&(this.firstRowOnPage=t,this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-first",t))),this.lastRowOnPage!==r&&(this.lastRowOnPage=r,this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-last",r)))}stopEditing(t=!1){if(this.stoppingRowEdit)return;const r=this.getAllCellCtrls(),i=this.editingRow;this.stoppingRowEdit=!0;let s=!1;for(const n of r){const o=n.stopEditing(t);i&&!t&&!s&&o&&(s=!0)}if(s){const n=this.createRowEvent($.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(n)}i&&this.setEditingRow(!1),this.stoppingRowEdit=!1}setInlineEditingCss(t){this.allRowGuis.forEach(r=>{r.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),r.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}setEditingRow(t){this.editingRow=t,this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass("ag-row-editing",t));const r=t?this.createRowEvent($.EVENT_ROW_EDITING_STARTED):this.createRowEvent($.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(r)}startRowEditing(t=null,r=null,i=null){if(this.editingRow)return;this.getAllCellCtrls().reduce((n,o)=>{const a=o===r;return a?o.startEditing(t,a,i):o.startEditing(null,a,i),n?!0:o.isEditing()},!1)&&this.setEditingRow(!0)}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const t=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!t||!t.length||t.forEach(r=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(r,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(r=>r.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(t,r){t&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(r,i=>i.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(t){return t==="left"?"left":t==="right"?"right":null}getInitialRowClasses(t){const r=this.getPinnedForContainer(t),i={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[t],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:r};return this.beans.rowCssClassCalculator.getInitialRowClasses(i)}processStylesFromGridOptions(){const t=this.gos.get("rowStyle");if(t&&typeof t=="function"){console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const r=this.gos.getCallback("getRowStyle");let i;if(r){const s={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};i=r(s)}return i||t?Object.assign({},t,i):this.emptyStyle}onRowSelected(t){const r=!!this.rowNode.isSelected();this.forEachGui(t,i=>{i.rowComp.addOrRemoveCssClass("ag-row-selected",r),tl(i.element,r),i.element.contains(this.beans.gos.getActiveDomElement())&&(i===this.centerGui||i===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const t=this.rowNode.isSelected();if(t&&this.beans.gos.get("suppressRowDeselection"))return;const i=this.beans.localeService.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(i)}addHoverFunctionality(t){this.active&&(this.addManagedListener(t,"mouseenter",()=>this.rowNode.onMouseEnter()),this.addManagedListener(t,"mouseleave",()=>this.rowNode.onMouseLeave()),this.addManagedListener(this.rowNode,ht.EVENT_MOUSE_ENTER,()=>{!this.beans.dragService.isDragging()&&!this.gos.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),this.rowNode.setHovered(!0))}),this.addManagedListener(this.rowNode,ht.EVENT_MOUSE_LEAVE,()=>{t.classList.remove("ag-row-hover"),this.rowNode.setHovered(!1)}))}roundRowTopToBounds(t){const r=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),i=this.applyPaginationOffset(r.top,!0)-100,s=this.applyPaginationOffset(r.bottom,!0)+100;return Math.min(Math.max(i,t),s)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(t,r){t?r(t):this.allRowGuis.forEach(r)}onRowHeightChanged(t){if(this.rowNode.rowHeight==null)return;const r=this.rowNode.rowHeight,i=this.beans.environment.getDefaultRowHeight(),n=this.gos.isGetRowHeightFunction()?this.gos.getRowHeightForNode(this.rowNode).height:void 0,o=n?`${Math.min(i,n)-2}px`:void 0;this.forEachGui(t,a=>{a.element.style.height=`${r}px`,o&&a.element.style.setProperty("--ag-line-height",o)})}addEventListener(t,r){super.addEventListener(t,r)}removeEventListener(t,r){super.removeEventListener(t,r)}destroyFirstPass(t=!1){if(this.active=!1,!t&&this.gos.isAnimateRows()&&!this.isSticky())if(this.rowNode.rowTop!=null){const s=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(s)}else this.allRowGuis.forEach(s=>s.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const r=this.createRowEvent($.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(r),this.beans.eventService.dispatchEvent(r),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const t=r=>(r.list.forEach(i=>i.destroy()),{list:[],map:{}});this.centerCellCtrls=t(this.centerCellCtrls),this.leftCellCtrls=t(this.leftCellCtrls),this.rightCellCtrls=t(this.rightCellCtrls)}setFocusedClasses(t){this.forEachGui(t,r=>{r.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),r.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const t=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);t!==this.rowFocused&&(this.rowFocused=t,this.setFocusedClasses()),!t&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){const t=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==t&&(this.paginationPage=t,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(t,r=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return t;const i=this.beans.paginationProxy.getPixelOffset();return t+i*(r?1:-1)}setRowTop(t){if(!this.printLayout&&ve(t)){const r=this.applyPaginationOffset(t),n=`${this.rowNode.isRowPinned()||this.rowNode.sticky?r:this.beans.rowContainerHeightService.getRealPixelPosition(r)}px`;this.setRowTopStyle(n)}}getInitialRowTop(t){return this.suppressRowTransform?this.getInitialRowTopShared(t):void 0}getInitialTransform(t){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(t)})`}getInitialRowTopShared(t){if(this.printLayout)return"";let r;if(this.isSticky())r=this.rowNode.stickyRowTop;else{const i=this.slideInAnimation[t]?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,s=this.applyPaginationOffset(i);r=this.rowNode.isRowPinned()?s:this.beans.rowContainerHeightService.getRealPixelPosition(s)}return r+"px"}setRowTopStyle(t){this.allRowGuis.forEach(r=>this.suppressRowTransform?r.rowComp.setTop(t):r.rowComp.setTransform(`translateY(${t})`))}getRowNode(){return this.rowNode}getCellCtrl(t){let r=null;return this.getAllCellCtrls().forEach(i=>{i.getColumn()==t&&(r=i)}),r!=null||this.getAllCellCtrls().forEach(i=>{i.getColSpanningList().indexOf(t)>=0&&(r=i)}),r}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(t){const r=this.rowNode.getRowIndexString(),i=this.beans.headerNavigationService.getHeaderRowCount()+this.beans.filterManager.getHeaderRowCount(),s=this.rowNode.rowIndex%2===0,n=i+this.rowNode.rowIndex+1;this.forEachGui(t,o=>{o.rowComp.setRowIndex(r),o.rowComp.addOrRemoveCssClass("ag-row-even",s),o.rowComp.addOrRemoveCssClass("ag-row-odd",!s),Av(o.element,n)})}};HE.DOM_DATA_KEY_ROW_CTRL="renderedRow";var Io=HE,Di=class extends ye{constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedListener(this.element,e,t)}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",Ev("touchstart")?"touchstart":"mousedown"].forEach(r=>{const i=this.processMouseEvent.bind(this,r);this.addManagedListener(this.element,r,i)})}processMouseEvent(e,t){if(!this.mouseEventService.isEventFromThisGrid(t)||Es(t))return;const r=this.getRowForEvent(t),i=this.mouseEventService.getRenderedCellForEvent(t);e==="contextmenu"?this.handleContextMenuMouseEvent(t,void 0,r,i):(i&&i.onMouseEvent(e,t),r&&r.onMouseEvent(e,t))}mockContextMenuForIPad(){if(!hn())return;const e=new kr(this.element),t=r=>{const i=this.getRowForEvent(r.touchEvent),s=this.mouseEventService.getRenderedCellForEvent(r.touchEvent);this.handleContextMenuMouseEvent(void 0,r.touchEvent,i,s)};this.addManagedListener(e,kr.EVENT_LONG_TAP,t),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let t=e.target;for(;t;){const r=this.gos.getDomData(t,Io.DOM_DATA_KEY_ROW_CTRL);if(r)return r;t=t.parentElement}return null}handleContextMenuMouseEvent(e,t,r,i){const s=r?r.getRowNode():null,n=i?i.getColumn():null;let o=null;if(n){const l=e||t;i.dispatchCellContextMenuEvent(l??null),o=this.valueService.getValue(n,s)}const a=this.ctrlsService.getGridBodyCtrl(),u=i?i.getGui():a.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:t,rowNode:s,column:n,value:o,anchorToElement:u})}getControlsForEventTarget(e){return{cellCtrl:gh(this.gos,e,Fo.DOM_DATA_KEY_CELL_CTRL),rowCtrl:gh(this.gos,e,Io.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,t){const{cellCtrl:r,rowCtrl:i}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(r?this.processCellKeyboardEvent(r,e,t):i&&i.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,e,t))}processCellKeyboardEvent(e,t,r){const i=e.getRowNode(),s=e.getColumn(),n=e.isEditing();if(!Ch(this.gos,r,i,s,n)&&t==="keydown"&&(!n&&this.navigationService.handlePageScrollingKey(r)||e.onKeyDown(r),this.doGridOperations(r,e.isEditing()),gp(r)&&e.processCharacter(r)),t==="keydown"){const a=e.createEvent(r,$.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(a)}}processFullWidthRowKeyboardEvent(e,t,r){const i=e.getRowNode(),s=this.focusService.getFocusedCell(),n=s&&s.column;if(!Ch(this.gos,r,i,n,!1)){const a=r.key;if(t==="keydown")switch(a){case ae.PAGE_HOME:case ae.PAGE_END:case ae.PAGE_UP:case ae.PAGE_DOWN:this.navigationService.handlePageScrollingKey(r,!0);break;case ae.UP:case ae.DOWN:e.onKeyboardNavigate(r);break;case ae.TAB:e.onTabKeyDown(r);break}}if(t==="keydown"){const a=e.createRowEvent($.EVENT_CELL_KEY_DOWN,r);this.eventService.dispatchEvent(a)}}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!this.mouseEventService.isEventFromThisGrid(e))return;const r=zS(e);if(r===ae.A)return this.onCtrlAndA(e);if(r===ae.C)return this.onCtrlAndC(e);if(r===ae.D)return this.onCtrlAndD(e);if(r===ae.V)return this.onCtrlAndV(e);if(r===ae.X)return this.onCtrlAndX(e);if(r===ae.Y)return this.onCtrlAndY();if(r===ae.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){const{pinnedRowModel:t,paginationProxy:r,rangeService:i}=this;if(i&&r.isRowsToRender()){const[s,n]=[t.isEmpty("top"),t.isEmpty("bottom")],o=s?null:"top";let a,u;n?(a=null,u=this.paginationProxy.getRowCount()-1):(a="bottom",u=t.getPinnedBottomRowData().length-1);const l=this.columnModel.getAllDisplayedColumns();if(Zi(l))return;i.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:u,rowEndPinned:a,columnStart:l[0],columnEnd:Tt(l)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:t,rowCtrl:r}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||r!=null&&r.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:t,rowCtrl:r}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||r!=null&&r.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:t,rowCtrl:r}=this.getControlsForEventTarget(e.target);t!=null&&t.isEditing()||r!=null&&r.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){this.gos.get("undoRedoCellEditing")&&(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){this.undoRedoService.redo("ui")}};B([q("mouseEventService")],Di.prototype,"mouseEventService",2);B([q("valueService")],Di.prototype,"valueService",2);B([q("menuService")],Di.prototype,"menuService",2);B([q("ctrlsService")],Di.prototype,"ctrlsService",2);B([q("navigationService")],Di.prototype,"navigationService",2);B([q("focusService")],Di.prototype,"focusService",2);B([q("undoRedoService")],Di.prototype,"undoRedoService",2);B([q("columnModel")],Di.prototype,"columnModel",2);B([q("paginationProxy")],Di.prototype,"paginationProxy",2);B([q("pinnedRowModel")],Di.prototype,"pinnedRowModel",2);B([Lt("rangeService")],Di.prototype,"rangeService",2);B([Lt("clipboardService")],Di.prototype,"clipboardService",2);B([we],Di.prototype,"postConstruct",1);var yl=class extends ye{constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedListener(this.eventService,$.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this)),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const e=()=>this.onCenterViewportResized();this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=ea(e);if(t<=50)return;let r=this.getPinnedColumnsOverflowingViewport(t-50);const i=this.gos.getCallback("processUnpinnedColumns");r.length&&(i&&(r=i({columns:r,viewportWidth:t})),this.columnModel.setColumnsPinned(r,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){const t=this.pinnedWidthService.getPinnedRightWidth(),r=this.pinnedWidthService.getPinnedLeftWidth(),i=t+r;if(i<e)return[];const s=[...this.columnModel.getDisplayedLeftColumns()],n=[...this.columnModel.getDisplayedRightColumns()];let o=0,a=0,u=0;const l=[];let c=i-u-e;for(;(a<s.length||o<n.length)&&c>0;){if(o<n.length){const h=n[o++];c-=h.getActualWidth(),l.push(h)}if(a<s.length&&c>0){const h=s[a++];c-=h.getActualWidth(),l.push(h)}}return l}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.getBodyViewportElement(),t=gc(e);if(this.bodyHeight!==t){this.bodyHeight=t;const r={type:$.EVENT_BODY_HEIGHT_CHANGED};this.eventService.dispatchEvent(r)}}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(e,t)}};B([q("ctrlsService")],yl.prototype,"ctrlsService",2);B([q("pinnedWidthService")],yl.prototype,"pinnedWidthService",2);B([q("columnModel")],yl.prototype,"columnModel",2);B([q("scrollVisibleService")],yl.prototype,"scrollVisibleService",2);B([we],yl.prototype,"postConstruct",1);var a0=class extends ye{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,$.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),t=e>0;Ct(this.element,t),ss(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}};B([q("pinnedWidthService")],a0.prototype,"pinnedWidthService",2);B([we],a0.prototype,"postConstruct",1);var l0=class extends ye{constructor(e){super(),this.element=e}postConstruct(){this.addManagedListener(this.eventService,$.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),t=e>0;Ct(this.element,t),ss(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}};B([q("pinnedWidthService")],l0.prototype,"pinnedWidthService",2);B([we],l0.prototype,"postConstruct",1);var Ap=class extends ye{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedListener(this.eventService,$.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),t=e!=null?`${e}px`:"";this.eContainer.style.height=t,this.eViewport&&(this.eViewport.style.height=t)}};B([q("rowContainerHeightService")],Ap.prototype,"maxDivHeightScaler",2);B([we],Ap.prototype,"postConstruct",1);var Dp=class extends ye{constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListener("enableRangeSelection",t=>{if(t.currentValue){this.enableFeature();return}this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),this.gos.get("enableRangeSelection")&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}};B([q("dragService")],Dp.prototype,"dragService",2);B([Lt("rangeService")],Dp.prototype,"rangeService",2);B([we],Dp.prototype,"postConstruct",1);var Cl=class extends ye{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedListener(this.eventService,$.EVENT_COLUMN_CONTAINER_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,$.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,$.EVENT_LEFT_PINNED_WIDTH_CHANGED,e),this.addSpacer&&(this.addManagedListener(this.eventService,$.EVENT_RIGHT_PINNED_WIDTH_CHANGED,e),this.addManagedListener(this.eventService,$.EVENT_SCROLL_VISIBILITY_CHANGED,e),this.addManagedListener(this.eventService,$.EVENT_SCROLLBAR_WIDTH_CHANGED,e)),this.setWidth()}setWidth(){const{columnModel:e}=this,t=this.gos.isDomLayout("print"),r=e.getBodyContainerWidth(),i=e.getDisplayedColumnsLeftWidth(),s=e.getDisplayedColumnsRightWidth();let n;t?n=r+i+s:(n=r,this.addSpacer&&(this.gos.get("enableRtl")?i:s)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(n+=this.gos.getScrollbarWidth())),this.callback(n)}};B([q("columnModel")],Cl.prototype,"columnModel",2);B([q("scrollVisibleService")],Cl.prototype,"scrollVisibleService",2);B([we],Cl.prototype,"postConstruct",1);var Xt=(e=>(e.LEFT="left",e.RIGHT="right",e.CENTER="center",e.FULL_WIDTH="fullWidth",e.TOP_LEFT="topLeft",e.TOP_RIGHT="topRight",e.TOP_CENTER="topCenter",e.TOP_FULL_WIDTH="topFullWidth",e.STICKY_TOP_LEFT="stickyTopLeft",e.STICKY_TOP_RIGHT="stickyTopRight",e.STICKY_TOP_CENTER="stickyTopCenter",e.STICKY_TOP_FULL_WIDTH="stickyTopFullWidth",e.STICKY_BOTTOM_LEFT="stickyBottomLeft",e.STICKY_BOTTOM_RIGHT="stickyBottomRight",e.STICKY_BOTTOM_CENTER="stickyBottomCenter",e.STICKY_BOTTOM_FULL_WIDTH="stickyBottomFullWidth",e.BOTTOM_LEFT="bottomLeft",e.BOTTOM_RIGHT="bottomRight",e.BOTTOM_CENTER="bottomCenter",e.BOTTOM_FULL_WIDTH="bottomFullWidth",e))(Xt||{});function WE(e){switch(e){case"center":case"topCenter":case"stickyTopCenter":case"bottomCenter":case"stickyBottomCenter":return"center";case"left":case"topLeft":case"stickyTopLeft":case"bottomLeft":case"stickyBottomLeft":return"left";case"right":case"topRight":case"stickyTopRight":case"bottomRight":case"stickyBottomRight":return"right";case"fullWidth":case"topFullWidth":case"stickyTopFullWidth":case"bottomFullWidth":case"stickyBottomFullWidth":return"fullWidth";default:throw Error("Invalid Row Container Type")}}var qA=An([["center","ag-center-cols-container"],["left","ag-pinned-left-cols-container"],["right","ag-pinned-right-cols-container"],["fullWidth","ag-full-width-container"],["topCenter","ag-floating-top-container"],["topLeft","ag-pinned-left-floating-top"],["topRight","ag-pinned-right-floating-top"],["topFullWidth","ag-floating-top-full-width-container"],["stickyTopCenter","ag-sticky-top-container"],["stickyTopLeft","ag-pinned-left-sticky-top"],["stickyTopRight","ag-pinned-right-sticky-top"],["stickyTopFullWidth","ag-sticky-top-full-width-container"],["stickyBottomCenter","ag-sticky-bottom-container"],["stickyBottomLeft","ag-pinned-left-sticky-bottom"],["stickyBottomRight","ag-pinned-right-sticky-bottom"],["stickyBottomFullWidth","ag-sticky-bottom-full-width-container"],["bottomCenter","ag-floating-bottom-container"],["bottomLeft","ag-pinned-left-floating-bottom"],["bottomRight","ag-pinned-right-floating-bottom"],["bottomFullWidth","ag-floating-bottom-full-width-container"]]),YA=An([["center","ag-center-cols-viewport"],["topCenter","ag-floating-top-viewport"],["stickyTopCenter","ag-sticky-top-viewport"],["bottomCenter","ag-floating-bottom-viewport"],["stickyBottomCenter","ag-sticky-bottom-viewport"]]),aa=class zE extends ye{constructor(t){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=t,this.isFullWithContainer=this.name==="topFullWidth"||this.name==="stickyTopFullWidth"||this.name==="stickyBottomFullWidth"||this.name==="bottomFullWidth"||this.name==="fullWidth"}static getRowContainerCssClasses(t){const r=qA.get(t),i=YA.get(t);return{container:r,viewport:i}}static getPinned(t){switch(t){case"bottomLeft":case"topLeft":case"stickyTopLeft":case"stickyBottomLeft":case"left":return"left";case"bottomRight":case"topRight":case"stickyTopRight":case"stickyBottomRight":case"right":return"right";default:return null}}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>this.viewportSizeFeature=this.createManagedBean(new yl(this)))}registerWithCtrlsService(){switch(this.name){case"fullWidth":case"topFullWidth":case"stickyTopFullWidth":case"bottomFullWidth":case"stickyBottomFullWidth":return;default:this.ctrlsService.register(this.name,this)}}forContainers(t,r){t.indexOf(this.name)>=0&&r()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(t,r,i){this.comp=t,this.eContainer=r,this.eViewport=i,this.createManagedBean(new Di(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();const s=["topCenter","topLeft","topRight"],n=["stickyTopCenter","stickyTopLeft","stickyTopRight"],o=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],a=["bottomCenter","bottomLeft","bottomRight"],u=["center","left","right"],l=[...s,...a,...u,...n,...o],c=["center","left","right","fullWidth"],h=["center","topCenter","stickyTopCenter","bottomCenter","stickyBottomCenter"],d=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],p=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"];this.forContainers(d,()=>{this.pinnedWidthFeature=this.createManagedBean(new a0(this.eContainer)),this.addManagedListener(this.eventService,$.EVENT_LEFT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(p,()=>{this.pinnedWidthFeature=this.createManagedBean(new l0(this.eContainer)),this.addManagedListener(this.eventService,$.EVENT_RIGHT_PINNED_WIDTH_CHANGED,()=>this.onPinnedWidthChanged())}),this.forContainers(c,()=>this.createManagedBean(new Ap(this.eContainer,this.name==="center"?i:void 0))),this.forContainers(l,()=>this.createManagedBean(new Dp(this.eContainer))),this.forContainers(h,()=>this.createManagedBean(new Cl(g=>this.comp.setContainerWidth(`${g}px`)))),this.addListeners(),this.registerWithCtrlsService()}addListeners(){this.addManagedListener(this.eventService,$.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>this.onDisplayedColumnsChanged()),this.addManagedListener(this.eventService,$.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>this.onDisplayedColumnsWidthChanged()),this.addManagedListener(this.eventService,$.EVENT_DISPLAYED_ROWS_CHANGED,t=>this.onDisplayedRowsChanged(t.afterScroll)),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(["stickyTopCenter","stickyTopLeft","stickyTopRight","stickyTopFullWidth","stickyBottomCenter","stickyBottomLeft","stickyBottomRight","stickyBottomFullWidth"].indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const i=()=>{const s=this.gos.get("ensureDomOrder"),n=this.gos.isDomLayout("print");this.comp.setDomOrder(s||n)};this.addManagedPropertyListener("domLayout",i),i()}stopHScrollOnPinnedRows(){this.forContainers(["topCenter","stickyTopCenter","bottomCenter","stickyBottomCenter"],()=>{const t=()=>this.eViewport.scrollLeft=0;this.addManagedListener(this.eViewport,"scroll",t)})}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const t=r=>{this.dragService.isDragging()&&r.cancelable&&r.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(t=!1){const r=this.getCenterWidth(),i=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(r,i,t)}getCenterWidth(){return ea(this.eViewport)}getCenterViewportScrollLeft(){return Bu(this.eViewport,this.enableRtl)}registerViewportResizeListener(t){const r=this.resizeObserverService.observeResize(this.eViewport,t);this.addDestroyFunc(()=>r())}isViewportInTheDOMTree(){return Hv(this.eViewport)}getViewportScrollLeft(){return Bu(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||IS(this.eViewport)}getViewportElement(){return this.eViewport}setContainerTranslateX(t){this.eContainer.style.transform=`translateX(${t}px)`}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(t){Hu(this.eViewport,t,this.enableRtl)}isContainerVisible(){return!zE.getPinned(this.name)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const t=this.isContainerVisible();this.visible!=t&&(this.visible=t,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(t=!1){const r=this.getRowCtrls();if(!this.visible||r.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const i=this.gos.isDomLayout("print"),n=this.gos.get("embedFullWidthRows")||i,o=r.filter(a=>{const u=a.isFullWidth();return this.isFullWithContainer?!n&&u:n||!u});this.comp.setRowCtrls({rowCtrls:o,useFlushSync:t})}getRowCtrls(){switch(this.name){case"topCenter":case"topLeft":case"topRight":case"topFullWidth":return this.rowRenderer.getTopRowCtrls();case"stickyTopCenter":case"stickyTopLeft":case"stickyTopRight":case"stickyTopFullWidth":return this.rowRenderer.getStickyTopRowCtrls();case"stickyBottomCenter":case"stickyBottomLeft":case"stickyBottomRight":case"stickyBottomFullWidth":return this.rowRenderer.getStickyBottomRowCtrls();case"bottomCenter":case"bottomLeft":case"bottomRight":case"bottomFullWidth":return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getCentreRowCtrls()}}};B([q("dragService")],aa.prototype,"dragService",2);B([q("ctrlsService")],aa.prototype,"ctrlsService",2);B([q("columnModel")],aa.prototype,"columnModel",2);B([q("resizeObserverService")],aa.prototype,"resizeObserverService",2);B([q("rowRenderer")],aa.prototype,"rowRenderer",2);B([we],aa.prototype,"postConstruct",1);var Sh=aa,XA=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root ref="gridHeader"></ag-header-root>
        <div class="ag-floating-top" ref="eTop" role="presentation">
            <ag-row-container ref="topLeftContainer" name="topLeft"></ag-row-container>
            <ag-row-container ref="topCenterContainer" name="topCenter"></ag-row-container>
            <ag-row-container ref="topRightContainer" name="topRight"></ag-row-container>
            <ag-row-container ref="topFullWidthContainer" name="topFullWidth"></ag-row-container>
        </div>
        <div class="ag-body" ref="eBody" role="presentation">
            <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">
                <ag-row-container ref="leftContainer" name="left"></ag-row-container>
                <ag-row-container ref="centerContainer" name="center"></ag-row-container>
                <ag-row-container ref="rightContainer" name="right"></ag-row-container>
                <ag-row-container ref="fullWidthContainer" name="fullWidth"></ag-row-container>
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" ref="eStickyTop" role="presentation">
            <ag-row-container ref="stickyTopLeftContainer" name="stickyTopLeft"></ag-row-container>
            <ag-row-container ref="stickyTopCenterContainer" name="stickyTopCenter"></ag-row-container>
            <ag-row-container ref="stickyTopRightContainer" name="stickyTopRight"></ag-row-container>
            <ag-row-container ref="stickyTopFullWidthContainer" name="stickyTopFullWidth"></ag-row-container>
        </div>
        <div class="ag-sticky-bottom" ref="eStickyBottom" role="presentation">
            <ag-row-container ref="stickyBottomLeftContainer" name="stickyBottomLeft"></ag-row-container>
            <ag-row-container ref="stickyBottomCenterContainer" name="stickyBottomCenter"></ag-row-container>
            <ag-row-container ref="stickyBottomRightContainer" name="stickyBottomRight"></ag-row-container>
            <ag-row-container ref="stickyBottomFullWidthContainer" name="stickyBottomFullWidth"></ag-row-container>
        </div>
        <div class="ag-floating-bottom" ref="eBottom" role="presentation">
            <ag-row-container ref="bottomLeftContainer" name="bottomLeft"></ag-row-container>
            <ag-row-container ref="bottomCenterContainer" name="bottomCenter"></ag-row-container>
            <ag-row-container ref="bottomRightContainer" name="bottomRight"></ag-row-container>
            <ag-row-container ref="bottomFullWidthContainer" name="bottomFullWidth"></ag-row-container>
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,Ts=class extends it{constructor(){super(XA)}init(){const t=(i,s)=>{const n=`${i}px`;s.style.minHeight=n,s.style.height=n},r={setRowAnimationCssOnBodyViewport:(i,s)=>this.setRowAnimationCssOnBodyViewport(i,s),setColumnCount:i=>mS(this.getGui(),i),setRowCount:i=>gS(this.getGui(),i),setTopHeight:i=>t(i,this.eTop),setBottomHeight:i=>t(i,this.eBottom),setTopDisplay:i=>this.eTop.style.display=i,setBottomDisplay:i=>this.eBottom.style.display=i,setStickyTopHeight:i=>this.eStickyTop.style.height=i,setStickyTopTop:i=>this.eStickyTop.style.top=i,setStickyTopWidth:i=>this.eStickyTop.style.width=i,setStickyBottomHeight:i=>this.eStickyBottom.style.height=i,setStickyBottomBottom:i=>this.eStickyBottom.style.bottom=i,setStickyBottomWidth:i=>this.eStickyBottom.style.width=i,setColumnMovingCss:(i,s)=>this.addOrRemoveCssClass(i,s),updateLayoutClasses:(i,s)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(o=>{o.toggle("ag-layout-auto-height",s.autoHeight),o.toggle("ag-layout-normal",s.normal),o.toggle("ag-layout-print",s.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",s.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",s.normal),this.addOrRemoveCssClass("ag-layout-print",s.print)},setAlwaysVerticalScrollClass:(i,s)=>this.eBodyViewport.classList.toggle(GE,s),registerBodyViewportResizeListener:i=>{const s=this.resizeObserverService.observeResize(this.eBodyViewport,i);this.addDestroyFunc(()=>s())},setPinnedTopBottomOverflowY:i=>this.eTop.style.overflowY=this.eBottom.style.overflowY=i,setCellSelectableCss:(i,s)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(n=>n.classList.toggle(i,s))},setBodyViewportWidth:i=>this.eBodyViewport.style.width=i};this.ctrl=this.createManagedBean(new Zr),this.ctrl.setComp(r,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(this.rangeService&&this.gos.get("enableRangeSelection")||this.gos.get("rowSelection")==="multiple")&&fS(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(t,r){const i=this.eBodyViewport.classList;i.toggle("ag-row-animation",r),i.toggle("ag-row-no-animation",!r)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}};B([q("resizeObserverService")],Ts.prototype,"resizeObserverService",2);B([Lt("rangeService")],Ts.prototype,"rangeService",2);B([Ee("eBodyViewport")],Ts.prototype,"eBodyViewport",2);B([Ee("eStickyTop")],Ts.prototype,"eStickyTop",2);B([Ee("eStickyBottom")],Ts.prototype,"eStickyBottom",2);B([Ee("eTop")],Ts.prototype,"eTop",2);B([Ee("eBottom")],Ts.prototype,"eBottom",2);B([Ee("gridHeader")],Ts.prototype,"headerRootComp",2);B([Ee("eBody")],Ts.prototype,"eBody",2);B([we],Ts.prototype,"init",1);var sl=class extends ye{postConstruct(){this.addManagedListener(this.eventService,$.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,$.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))}onDisplayedColumnsChanged(){this.update()}onDisplayedColumnsWidthChanged(){this.update()}update(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateImpl())}):this.updateImpl()}updateImpl(){const e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(t)}setScrollsVisible(e){if(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing){this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing;const r={type:$.EVENT_SCROLL_VISIBILITY_CHANGED};this.eventService.dispatchEvent(r)}}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}};B([q("ctrlsService")],sl.prototype,"ctrlsService",2);B([q("columnAnimationService")],sl.prototype,"columnAnimationService",2);B([we],sl.prototype,"postConstruct",1);sl=B([ke("scrollVisibleService")],sl);var en=class extends ye{constructor(){super(...arguments),this.gridInstanceId=en.gridInstanceSequence.next()}stampTopLevelGridCompWithGridInstance(e){e[en.GRID_DOM_KEY]=this.gridInstanceId}getRenderedCellForEvent(e){return gh(this.gos,e.target,Fo.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(e){return this.isElementInThisGrid(e.target)}isElementInThisGrid(e){let t=e;for(;t;){const r=t[en.GRID_DOM_KEY];if(ve(r))return r===this.gridInstanceId;t=t.parentElement}return!1}getCellPositionForEvent(e){const t=this.getRenderedCellForEvent(e);return t?t.getCellPosition():null}getNormalisedPosition(e){const t=this.gos.isDomLayout("normal"),r=e;let i,s;if(r.clientX!=null||r.clientY!=null?(i=r.clientX,s=r.clientY):(i=r.x,s=r.y),t){const n=this.ctrlsService.getGridBodyCtrl(),o=n.getScrollFeature().getVScrollPosition(),a=n.getScrollFeature().getHScrollPosition();i+=a.left,s+=o.top}return{x:i,y:s}}};en.gridInstanceSequence=new il;en.GRID_DOM_KEY="__ag_grid_instance";B([q("ctrlsService")],en.prototype,"ctrlsService",2);en=B([ke("mouseEventService")],en);var Xr=class extends ye{constructor(){super(),this.onPageDown=Hg(this.onPageDown,100),this.onPageUp=Hg(this.onPageUp,100)}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const r=e.key,i=e.altKey,s=e.ctrlKey||e.metaKey,n=!!this.rangeService&&e.shiftKey,o=this.mouseEventService.getCellPositionForEvent(e);let a=!1;switch(r){case ae.PAGE_HOME:case ae.PAGE_END:!s&&!i&&(this.onHomeOrEndKey(r),a=!0);break;case ae.LEFT:case ae.RIGHT:case ae.UP:case ae.DOWN:if(!o)return!1;s&&!i&&!n&&(this.onCtrlUpDownLeftRight(r,o),a=!0);break;case ae.PAGE_DOWN:case ae.PAGE_UP:!s&&!i&&(a=this.handlePageUpDown(r,o,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,r){return r&&(t=this.focusService.getFocusedCell()),t?(e===ae.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){var t;const{scrollIndex:r,scrollType:i,scrollColumn:s,focusIndex:n,focusColumn:o}=e;ve(s)&&!s.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(s),ve(r)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(r,i),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(n),this.focusService.setFocusedCell({rowIndex:n,column:o,rowPinned:null,forceBrowserFocus:!0}),(t=this.rangeService)==null||t.setRangeToCell({rowIndex:n,rowPinned:null,column:o})}onPageDown(e){const r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.getViewportHeight(),s=this.paginationProxy.getPixelOffset(),n=r.top+i,o=this.paginationProxy.getRowIndexAtPixel(n+s);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,o):this.navigateToNextPage(e,o)}onPageUp(e){const r=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),i=this.paginationProxy.getPixelOffset(),s=r.top,n=this.paginationProxy.getRowIndexAtPixel(s+i);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,n,!0):this.navigateToNextPage(e,n,!0)}navigateToNextPage(e,t,r=!1){const i=this.getViewportHeight(),s=this.paginationProxy.getPageFirstRow(),n=this.paginationProxy.getPageLastRow(),o=this.paginationProxy.getPixelOffset(),a=this.paginationProxy.getRow(e.rowIndex),u=r?(a==null?void 0:a.rowHeight)-i-o:i-o,l=(a==null?void 0:a.rowTop)+u;let c=this.paginationProxy.getRowIndexAtPixel(l+o);if(c===e.rowIndex){const d=r?-1:1;t=c=e.rowIndex+d}let h;r?(h="bottom",c<s&&(c=s),t<s&&(t=s)):(h="top",c>n&&(c=n),t>n&&(t=n)),this.isRowTallerThanView(c)&&(t=c,h="top"),this.navigateTo({scrollIndex:t,scrollType:h,scrollColumn:null,focusIndex:c,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,r=!1){this.navigateTo({scrollIndex:t,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const i=this.getNextFocusIndexForAutoHeight(e,r);this.navigateTo({scrollIndex:t,scrollType:r?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){var r;const i=t?-1:1,s=this.getViewportHeight(),n=this.paginationProxy.getPageLastRow();let o=0,a=e.rowIndex;for(;a>=0&&a<=n;){const u=this.paginationProxy.getRow(a);if(u){const l=(r=u.rowHeight)!=null?r:0;if(o+l>s)break;o+=l}a+=i}return Math.max(0,Math.min(a,n))}getViewportHeight(){const{gridBodyCtrl:e,center:t}=this.ctrlsService.getParams(),r=e.getScrollFeature().getVScrollPosition(),i=this.gos.getScrollbarWidth();let s=r.bottom-r.top;return t.isHorizontalScrollShowing()&&(s-=i),s}isRowTallerThanView(e){const t=this.paginationProxy.getRow(e);if(!t)return!1;const r=t.rowHeight;return typeof r!="number"?!1:r>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const r=this.cellNavigationService.getNextCellToFocus(e,t,!0),{rowIndex:i,column:s}=r;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:s,focusIndex:i,focusColumn:s})}onHomeOrEndKey(e){const t=e===ae.PAGE_HOME,r=this.columnModel.getAllDisplayedColumns(),i=t?r[0]:Tt(r),s=t?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:i,focusIndex:s,focusColumn:i})}onTabKeyDown(e,t){const r=t.shiftKey,i=this.tabToNextCellCommon(e,r,t);if(i!==!1){i&&t.preventDefault();return}if(r){const{rowIndex:s,rowPinned:n}=e.getRowPosition();(n?s===0:s===this.paginationProxy.getPageFirstRow())&&(this.gos.get("headerHeight")===0||this.gos.get("suppressHeaderFocus")?this.focusService.focusNextGridCoreContainer(!0,!0):(t.preventDefault(),this.focusService.focusPreviousFromFirstCell(t)))}else e instanceof Fo&&e.focusCell(!0),this.focusService.focusNextGridCoreContainer(r)&&t.preventDefault()}tabToNextCell(e,t){const r=this.focusService.getFocusedCell();if(!r)return!1;let i=this.getCellByPosition(r);return!i&&(i=this.rowRenderer.getRowByPosition(r),!i||!i.isFullWidth())?!1:!!this.tabToNextCellCommon(i,e,t)}tabToNextCellCommon(e,t,r){let i=e.isEditing();if(!i&&e instanceof Fo){const o=e.getRowCtrl();o&&(i=o.isEditing())}let s;return i?this.gos.get("editType")==="fullRow"?s=this.moveToNextEditingRow(e,t,r):s=this.moveToNextEditingCell(e,t,r):s=this.moveToNextCellNotEditing(e,t),s===null?s:s||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,t,r=null){const i=e.getCellPosition();e.getGui().focus(),e.stopEditing();const s=this.findNextCellToFocusOn(i,t,!0);return s===!1?null:s==null?!1:(s.startEditing(null,!0,r),s.focusCell(!1),!0)}moveToNextEditingRow(e,t,r=null){const i=e.getCellPosition(),s=this.findNextCellToFocusOn(i,t,!0);if(s===!1)return null;if(s==null)return!1;const n=s.getCellPosition(),o=this.isCellEditable(i),a=this.isCellEditable(n),u=n&&i.rowIndex===n.rowIndex&&i.rowPinned===n.rowPinned;return o&&e.setFocusOutOnEditor(),u||(e.getRowCtrl().stopEditing(),s.getRowCtrl().startRowEditing(void 0,void 0,r)),a?(s.setFocusInOnEditor(),s.focusCell()):s.focusCell(!0),!0}moveToNextCellNotEditing(e,t){const r=this.columnModel.getAllDisplayedColumns();let i;e instanceof Io?i=er(Be({},e.getRowPosition()),{column:t?r[0]:Tt(r)}):i=e.getCellPosition();const s=this.findNextCellToFocusOn(i,t,!1);if(s===!1)return null;if(s instanceof Fo)s.focusCell(!0);else if(s)return this.tryToFocusFullWidthRow(s.getRowPosition(),t);return ve(s)}findNextCellToFocusOn(e,t,r){var i;let s=e;for(;;){e!==s&&(e=s),t||(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextTabbedCell(s,t);const n=this.gos.getCallback("tabToNextCell");if(ve(n)){const l=n({backwards:t,editing:r,previousCellPosition:e,nextCellPosition:s||null});if(l===!0||l===null)l===null&&We("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),s=e;else{if(l===!1)return!1;l.floating&&(We("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),l.rowPinned=l.floating),s={rowIndex:l.rowIndex,column:l.column,rowPinned:l.rowPinned}}}if(!s)return null;if(s.rowIndex<0){const u=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:u+s.rowIndex,column:s.column},fromCell:!0}),null}const o=this.gos.get("editType")==="fullRow";if(r&&!o&&!this.isCellEditable(s))continue;this.ensureCellVisible(s);const a=this.getCellByPosition(s);if(!a){const u=this.rowRenderer.getRowByPosition(s);if(!u||!u.isFullWidth()||r)continue;return u}if(!a.isSuppressNavigable())return(i=this.rangeService)==null||i.setRangeToCell(s),a}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}getCellByPosition(e){const t=this.rowRenderer.getRowByPosition(e);return t?t.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.paginationProxy.getRow(e.rowIndex)}navigateToNextCell(e,t,r,i){let s=r,n=!1;for(;s&&(s===r||!this.isValidNavigateCell(s));)this.gos.get("enableRtl")?t===ae.LEFT&&(s=this.getLastCellOfColSpan(s)):t===ae.RIGHT&&(s=this.getLastCellOfColSpan(s)),s=this.cellNavigationService.getNextCellToFocus(t,s),n=tt(s);if(n&&e&&e.key===ae.UP&&(s={rowIndex:-1,rowPinned:null,column:r.column}),i){const a=this.gos.getCallback("navigateToNextCell");if(ve(a)){const l=a({key:t,previousCellPosition:r,nextCellPosition:s||null,event:e});ve(l)?(l.floating&&(We("tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?"),l.rowPinned=l.floating),s={rowPinned:l.rowPinned,rowIndex:l.rowIndex,column:l.column}):s=null}}if(!s)return;if(s.rowIndex<0){const a=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a+s.rowIndex,column:r.column},event:e||void 0,fromCell:!0});return}const o=this.getNormalisedPosition(s);o?this.focusPosition(o):this.tryToFocusFullWidthRow(s)}getNormalisedPosition(e){this.ensureCellVisible(e);const t=this.getCellByPosition(e);return t?(e=t.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t=!1){const r=this.columnModel.getAllDisplayedColumns(),i=this.rowRenderer.getRowByPosition(e);if(!i||!i.isFullWidth())return!1;const s=this.focusService.getFocusedCell(),n={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?Tt(r):r[0])};this.focusPosition(n);const o=s!=null?this.rowPositionUtils.before(n,s):!1,a={type:$.EVENT_FULL_WIDTH_ROW_FOCUSED,rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:n.column,isFullWidthCell:!0,floating:n.rowPinned,fromBelow:o};return this.eventService.dispatchEvent(a),!0}focusPosition(e){var t;this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),(t=this.rangeService)==null||t.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const t=this.getCellByPosition(e);if(!t)return e;const r=t.getColSpanningList();return r.length===1?e:{rowIndex:e.rowIndex,column:Tt(r),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=this.gos.isGroupRowsSticky(),r=this.rowModel.getRow(e.rowIndex);!(t&&(r==null?void 0:r.sticky))&&tt(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}};B([q("mouseEventService")],Xr.prototype,"mouseEventService",2);B([q("paginationProxy")],Xr.prototype,"paginationProxy",2);B([q("focusService")],Xr.prototype,"focusService",2);B([q("columnModel")],Xr.prototype,"columnModel",2);B([q("rowModel")],Xr.prototype,"rowModel",2);B([q("ctrlsService")],Xr.prototype,"ctrlsService",2);B([q("rowRenderer")],Xr.prototype,"rowRenderer",2);B([q("headerNavigationService")],Xr.prototype,"headerNavigationService",2);B([q("rowPositionUtils")],Xr.prototype,"rowPositionUtils",2);B([q("cellNavigationService")],Xr.prototype,"cellNavigationService",2);B([q("pinnedRowModel")],Xr.prototype,"pinnedRowModel",2);B([Lt("rangeService")],Xr.prototype,"rangeService",2);B([we],Xr.prototype,"postConstruct",1);Xr=B([ke("navigationService")],Xr);var u0=class UE extends ia{constructor(t){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=t}postConstruct(){this.gos.setDomData(this.getGui(),UE.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()}addKeyDownListener(){const t=this.getGui(),r=this.params,i=s=>{Ch(this.gos,s,r.node,r.column,!0)||r.onKeyDown(s)};this.addManagedListener(t,"keydown",i)}};u0.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper";B([we],u0.prototype,"postConstruct",1);var jE=u0,QA=class extends it{constructor(t,r,i,s,n){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=t,this.column=r.getColumn(),this.rowNode=r.getRowNode(),this.rowCtrl=r.getRowCtrl(),this.eRow=s,this.cellCtrl=r;const o=document.createElement("div");o.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(o);const a=this.getGui();this.forceWrapper=r.isForceWrapper(),this.refreshWrapper(!1);const u=(h,d)=>{d!=null&&d!=""?a.setAttribute(h,d):a.removeAttribute(h)};ur(a,r.getCellAriaRole()),u("col-id",r.getColumnIdSanitised());const l=r.getTabIndex();l!==void 0&&u("tabindex",l.toString());const c={addOrRemoveCssClass:(h,d)=>this.addOrRemoveCssClass(h,d),setUserStyles:h=>Uv(a,h),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:h=>this.includeSelection=h,setIncludeRowDrag:h=>this.includeRowDrag=h,setIncludeDndSource:h=>this.includeDndSource=h,setRenderDetails:(h,d,p)=>this.setRenderDetails(h,d,p),setEditDetails:(h,d,p)=>this.setEditDetails(h,d,p),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};r.setComp(c,this.getGui(),this.eCellWrapper,i,n)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(t,r,i){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;const n=this.refreshWrapper(!1);this.refreshEditStyles(!1),t?!(i||n)&&this.refreshCellRenderer(t)||(this.destroyRenderer(),this.createCellRendererInstance(t)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(r))}setEditDetails(t,r,i){t?this.createCellEditorInstance(t,r,i):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(t){const r=this.includeRowDrag||this.includeDndSource||this.includeSelection,i=r||this.forceWrapper,s=i&&this.eCellWrapper==null;if(s){const c=document.createElement("div");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=c,this.getGui().appendChild(this.eCellWrapper)}const n=!i&&this.eCellWrapper!=null;n&&(Cs(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!i);const o=!t&&i,a=o&&this.eCellValue==null;if(a){const c=document.createElement("span");c.setAttribute("role","presentation"),c.setAttribute("class","ag-cell-value"),this.eCellValue=c,this.eCellWrapper.appendChild(this.eCellValue)}const u=!o&&this.eCellValue!=null;u&&(Cs(this.eCellValue),this.eCellValue=void 0);const l=s||n||a||u;return l&&this.removeControls(),t||r&&this.addControls(),l}addControls(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(t,r,i){const s=this.editorVersion,n=t.newAgStackInstance();if(!n)return;const{params:o}=t;n.then(u=>this.afterCellEditorCreated(s,u,o,r,i)),tt(this.cellEditor)&&o.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(t){const r=this.getParentOfValue();mr(r);const i=t!=null?Cr(t,!0):null;i!=null&&(r.textContent=i)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:t}=this.beans;this.cellRenderer=t.destroyBean(this.cellRenderer),Cs(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:t}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=t.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=t.destroyBean(this.cellEditorPopupWrapper),Cs(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(t){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==t.componentClass)return!1;const r=this.cellRenderer.refresh(t.params);return r===!0||r===void 0}createCellRendererInstance(t){const i=!this.beans.gos.get("suppressAnimationFrame"),s=this.rendererVersion,{componentClass:n}=t,o=()=>{if(this.rendererVersion!==s||!this.isAlive())return;const u=t.newAgStackInstance(),l=this.afterCellRendererCreated.bind(this,s,n);u&&u.then(l)};i&&this.firstRender?this.beans.animationFrameService.createTask(o,this.rowNode.rowIndex,"createTasksP2"):o()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(t,r,i){if(!this.isAlive()||t!==this.rendererVersion){this.beans.context.destroyBean(i);return}if(this.cellRenderer=i,this.cellRendererClass=r,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){const n=this.getParentOfValue();mr(n),n.appendChild(this.cellRendererGui)}}afterCellEditorCreated(t,r,i,s,n){if(t!==this.editorVersion){this.beans.context.destroyBean(r);return}if(r.isCancelBeforeStart&&r.isCancelBeforeStart()){this.beans.context.destroyBean(r),this.cellCtrl.stopEditing(!0);return}if(!r.getGui){console.warn(`AG Grid: cellEditor for column ${this.column.getId()} is missing getGui() method`),this.beans.context.destroyBean(r);return}this.cellEditor=r,this.cellEditorGui=r.getGui();const u=s||r.isPopup!==void 0&&r.isPopup();u?this.addPopupCellEditor(i,n):this.addInCellEditor(),this.refreshEditStyles(!0,u),r.afterGuiAttached&&r.afterGuiAttached()}refreshEditStyles(t,r){var i;this.addOrRemoveCssClass("ag-cell-inline-editing",t&&!r),this.addOrRemoveCssClass("ag-cell-popup-editing",t&&!!r),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!t||!!r),(i=this.rowCtrl)==null||i.setInlineEditingCss(t)}addInCellEditor(){const t=this.getGui();t.contains(this.beans.gos.getActiveDomElement())&&t.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(t,r){this.beans.gos.get("editType")==="fullRow"&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const i=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new jE(t));const s=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&s.appendChild(this.cellEditorGui);const n=this.beans.popupService,o=this.beans.gos.get("stopEditingWhenCellsLoseFocus"),a=r??(i.getPopupPosition?i.getPopupPosition():"over"),u=this.beans.gos.get("enableRtl"),l={ePopup:s,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:a,alignSide:u?"right":"left",keepWithinBounds:!0},c=n.positionPopupByComponent.bind(n,l),h=this.beans.localeService.getLocaleTextFunc(),d=n.addPopup({modal:o,eChild:s,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:c,ariaLabel:h("ariaLabelCellEditor","Cell Editor")});d&&(this.hideEditorPopup=d.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const t=this.getGui();t.contains(this.beans.gos.getActiveDomElement())&&kv()&&t.focus({preventScroll:!0}),mr(this.getParentOfValue())}},ZA=class extends it{constructor(t,r,i){super(),this.cellComps={},this.beans=r,this.rowCtrl=t;const s=document.createElement("div");s.setAttribute("comp-id",`${this.getCompId()}`),s.setAttribute("style",this.getInitialStyle(i)),this.setTemplateFromElement(s);const n=this.getGui(),o=n.style;this.domOrder=this.rowCtrl.getDomOrder(),ur(n,"row");const a=this.rowCtrl.getTabIndex();a!=null&&n.setAttribute("tabindex",a.toString());const u={setDomOrder:l=>this.domOrder=l,setCellCtrls:l=>this.setCellCtrls(l),showFullWidth:l=>this.showFullWidth(l),getFullWidthCellRenderer:()=>this.getFullWidthCellRenderer(),addOrRemoveCssClass:(l,c)=>this.addOrRemoveCssClass(l,c),setUserStyles:l=>Uv(n,l),setTop:l=>o.top=l,setTransform:l=>o.transform=l,setRowIndex:l=>n.setAttribute("row-index",l),setRowId:l=>n.setAttribute("row-id",l),setRowBusinessKey:l=>n.setAttribute("row-business-key",l),refreshFullWidth:l=>this.refreshFullWidth(l)};t.setComp(u,this.getGui(),i),this.addDestroyFunc(()=>{t.unsetComp(i)})}getInitialStyle(t){const r=this.rowCtrl.getInitialTransform(t);return r?`transform: ${r}`:`top: ${this.rowCtrl.getInitialRowTop(t)}`}showFullWidth(t){const r=s=>{if(this.isAlive()){const n=s.getGui();this.getGui().appendChild(n),this.rowCtrl.setupDetailRowAutoHeight(n),this.setFullWidthRowComp(s)}else this.beans.context.destroyBean(s)},i=t.newAgStackInstance();i&&i.then(r)}setCellCtrls(t){const r=Object.assign({},this.cellComps);t.forEach(s=>{const n=s.getInstanceId();this.cellComps[n]==null?this.newCellComp(s):r[n]=null});const i=Un(r).filter(s=>s!=null);this.destroyCells(i),this.ensureDomOrder(t)}ensureDomOrder(t){if(!this.domOrder)return;const r=[];t.forEach(i=>{const s=this.cellComps[i.getInstanceId()];s&&r.push(s.getGui())}),zv(this.getGui(),r)}newCellComp(t){const r=new QA(this.beans,t,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[t.getInstanceId()]=r,this.getGui().appendChild(r.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const t=Un(this.cellComps).filter(r=>r!=null);this.destroyCells(t)}setFullWidthRowComp(t){this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=t,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}getFullWidthCellRenderer(){return this.fullWidthCellRenderer}destroyCells(t){t.forEach(r=>{if(!r)return;const i=r.getCtrl().getInstanceId();this.cellComps[i]===r&&(r.detach(),r.destroy(),this.cellComps[i]=null)})}refreshFullWidth(t){const{fullWidthCellRenderer:r}=this;if(!r||!r.refresh)return!1;const i=t();return r.refresh(i)}};function JA(){const e=it.elementGettingCreated.getAttribute("name"),t=Sh.getRowContainerCssClasses(e);let r;return e==="center"||e==="topCenter"||e==="stickyTopCenter"||e==="bottomCenter"||e==="stickyBottomCenter"?r=`<div class="${t.viewport}" ref="eViewport" role="presentation">
                <div class="${t.container}" ref="eContainer"></div>
            </div>`:r=`<div class="${t.container}" ref="eContainer"></div>`,r}var wl=class extends it{constructor(){super(JA()),this.rowComps={},this.name=it.elementGettingCreated.getAttribute("name"),this.type=WE(this.name)}postConstruct(){const t={setViewportHeight:i=>this.eViewport.style.height=i,setRowCtrls:({rowCtrls:i})=>this.setRowCtrls(i),setDomOrder:i=>{this.domOrder=i},setContainerWidth:i=>this.eContainer.style.width=i};this.createManagedBean(new Sh(this.name)).setComp(t,this.eContainer,this.eViewport)}preDestroy(){this.setRowCtrls([])}setRowCtrls(t){const r=Be({},this.rowComps);this.rowComps={},this.lastPlacedElement=null;const i=s=>{const n=s.getInstanceId(),o=r[n];if(o)this.rowComps[n]=o,delete r[n],this.ensureDomOrder(o.getGui());else{if(!s.getRowNode().displayed)return;const a=new ZA(s,this.beans,this.type);this.rowComps[n]=a,this.appendRow(a.getGui())}};t.forEach(i),Un(r).forEach(s=>{this.eContainer.removeChild(s.getGui()),s.destroy()}),ur(this.eContainer,"rowgroup")}appendRow(t){this.domOrder?FS(this.eContainer,t,this.lastPlacedElement):this.eContainer.appendChild(t),this.lastPlacedElement=t}ensureDomOrder(t){this.domOrder&&(Wv(this.eContainer,t,this.lastPlacedElement),this.lastPlacedElement=t)}};B([q("beans")],wl.prototype,"beans",2);B([Ee("eViewport")],wl.prototype,"eViewport",2);B([Ee("eContainer")],wl.prototype,"eContainer",2);B([we],wl.prototype,"postConstruct",1);B([ui],wl.prototype,"preDestroy",1);var c0=class{constructor(e){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(r=>{r.isPrimary()&&(r.isAnyFunctionActive()||(r.isAllowValue()?this.columnsToAggregate.push(r):r.isAllowRowGroup()?this.columnsToGroup.push(r):r.isAllowPivot()&&this.columnsToPivot.push(r)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?ot.ICON_PINNED:ot.ICON_MOVE:null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}};B([q("columnModel")],c0.prototype,"columnModel",2);B([q("gridOptionsService")],c0.prototype,"gos",2);var ko=class{static attemptMoveColumns(e){const{isFromHeader:t,hDirection:r,xPosition:i,fromEnter:s,fakeEvent:n,pinned:o,gos:a,columnModel:u}=e,l=r===0,c=r===1;let{allMovingColumns:h}=e;if(t){let _=[];h.forEach(A=>{var F;let G=null,L=A.getParent();for(;L!=null&&L.getDisplayedLeafColumns().length===1;)G=L,L=L.getParent();G!=null?(!!((F=G.getColGroupDef())!=null&&F.marryChildren)?G.getProvidedColumnGroup().getLeafColumns():G.getLeafColumns()).forEach(z=>{_.includes(z)||_.push(z)}):_.includes(A)||_.push(A)}),h=_}const d=h.slice();u.sortColumnsLikeGridColumns(d);const p=this.calculateValidMoves({movingCols:d,draggingRight:c,xPosition:i,pinned:o,gos:a,columnModel:u}),g=this.calculateOldIndex(d,u);if(p.length===0)return;const v=p[0];let f=g!==null&&!s;if(t&&(f=g!==null),f&&!n&&(l&&v>=g||c&&v<=g))return;const y=u.getAllDisplayedColumns();let m=[],w=null;for(let _=0;_<p.length;_++){const A=p[_],F=u.getProposedColumnOrder(d,A);if(!u.doesOrderPassRules(F))continue;const G=F.filter(O=>y.includes(O));if(w===null)w=G;else if(!Ns(G,w))break;const L=this.groupFragCount(F);m.push({move:A,fragCount:L})}if(m.length!==0)return m.sort((_,A)=>_.fragCount-A.fragCount),this.moveColumns(h,m[0].move,"uiColumnMoved",!1,u)}static moveColumns(e,t,r,i,s){return s.moveColumns(e,t,r,i),i?null:{columns:e,toIndex:t}}static calculateOldIndex(e,t){const r=t.getAllGridColumns(),i=j1(e.map(u=>r.indexOf(u))),s=i[0];return Tt(i)-s!==i.length-1?null:s}static groupFragCount(e){function t(i){let s=[],n=i.getOriginalParent();for(;n!=null;)s.push(n),n=n.getOriginalParent();return s}let r=0;for(let i=0;i<e.length-1;i++){let s=t(e[i]),n=t(e[i+1]);[s,n]=s.length>n.length?[s,n]:[n,s],s.forEach(o=>{n.indexOf(o)===-1&&r++})}return r}static getDisplayedColumns(e,t){switch(t){case"left":return e.getDisplayedLeftColumns();case"right":return e.getDisplayedRightColumns();default:return e.getDisplayedCenterColumns()}}static calculateValidMoves(e){const{movingCols:t,draggingRight:r,xPosition:i,pinned:s,gos:n,columnModel:o}=e;if(n.get("suppressMovableColumns")||t.some(m=>m.getColDef().suppressMovable))return[];const u=this.getDisplayedColumns(o,s),l=o.getAllGridColumns(),c=u.filter(m=>Wi(t,m)),h=u.filter(m=>!Wi(t,m)),d=l.filter(m=>!Wi(t,m));let p=0,g=i;if(r){let m=0;c.forEach(w=>m+=w.getActualWidth()),g-=m}if(g>0){for(let m=0;m<h.length;m++){const w=h[m];if(g-=w.getActualWidth(),g<0)break;p++}r&&p++}let v;if(p>0){const m=h[p-1];v=d.indexOf(m)+1}else v=d.indexOf(h[0]),v===-1&&(v=0);const f=[v],y=(m,w)=>m-w;if(r){let m=v+1;const w=l.length-1;for(;m<=w;)f.push(m),m++;f.sort(y)}else{let m=v;const w=l.length-1;let _=l[m];for(;m<=w&&u.indexOf(_)<0;)m++,f.push(m),_=l[m];m=v-1;const A=0;for(;m>=A;)f.push(m),m--;f.sort(y).reverse()}return f}static normaliseX(e,t,r,i,s){const n=s.getHeaderRowContainerCtrl(t).getViewport();return r&&(e-=n.getBoundingClientRect().left),i.get("enableRtl")&&(e=n.clientWidth-e),t==null&&(e+=s.get("center").getCenterViewportScrollLeft()),e}},bl=class{constructor(e){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!ve(e)}init(){this.ctrlsService.whenReady(e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){return this.pinned?ot.ICON_PINNED:ot.ICON_MOVE}onDragEnter(e){const t=e.dragItem.columns;if(e.dragSource.type===0)this.setColumnsVisible(t,!0,"uiColumnDragged");else{const i=e.dragItem.visibleState,s=(t||[]).filter(n=>i[n.getId()]);this.setColumnsVisible(s,!0,"uiColumnDragged")}this.setColumnsPinned(t,this.pinned,"uiColumnDragged"),this.onDragging(e,!0,!0)}onDragLeave(){this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,r){if(e){const i=e.filter(s=>!s.getColDef().lockVisible);this.columnModel.setColumnsVisible(i,t,r)}}setColumnsPinned(e,t,r){if(e){const i=e.filter(s=>!s.getColDef().lockPinned);this.columnModel.setColumnsPinned(i,t,r)}}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}checkCenterForScrolling(e){if(this.isCenterContainer){const t=this.ctrlsService.get("center"),r=t.getCenterViewportScrollLeft(),i=r+t.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<r+50,this.needToMoveLeft=e>i-50):(this.needToMoveLeft=e<r+50,this.needToMoveRight=e>i-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}}onDragging(e=this.lastDraggingEvent,t=!1,r=!1,i=!1){var s;if(i){if(this.lastMovedInfo){const{columns:c,toIndex:h}=this.lastMovedInfo;ko.moveColumns(c,h,"uiColumnMoved",!0,this.columnModel)}return}if(this.lastDraggingEvent=e,tt(e.hDirection))return;const n=ko.normaliseX(e.x,this.pinned,!1,this.gos,this.ctrlsService);t||this.checkCenterForScrolling(n);const o=this.normaliseDirection(e.hDirection),a=e.dragSource.type,u=((s=e.dragSource.getDragItem().columns)==null?void 0:s.filter(c=>c.getColDef().lockPinned?c.getPinned()==this.pinned:!0))||[],l=ko.attemptMoveColumns({allMovingColumns:u,isFromHeader:a===1,hDirection:o,xPosition:n,pinned:this.pinned,fromEnter:t,fakeEvent:r,gos:this.gos,columnModel:this.columnModel});l&&(this.lastMovedInfo=l)}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0;default:console.error(`AG Grid: Unknown direction ${e}`)}else return e}ensureIntervalStarted(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.needToMoveLeft?this.dragAndDropService.setGhostIcon(ot.ICON_LEFT,!0):this.dragAndDropService.setGhostIcon(ot.ICON_RIGHT,!0))}ensureIntervalCleared(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(ot.ICON_MOVE))}moveInterval(){let e;this.intervalCount++,e=10+this.intervalCount*5,e>100&&(e=100);let t=null;const r=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?t=r.scrollHorizontally(-e):this.needToMoveRight&&(t=r.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const s=this.lastDraggingEvent.dragItem.columns.filter(n=>!n.getColDef().lockPinned);if(s.length>0&&(this.dragAndDropService.setGhostIcon(ot.ICON_PINNED),this.failedMoveAttempts>7)){const n=this.needToMoveLeft?"left":"right";this.setColumnsPinned(s,n,"uiColumnDragged"),this.dragAndDropService.nudge()}}}};B([q("columnModel")],bl.prototype,"columnModel",2);B([q("dragAndDropService")],bl.prototype,"dragAndDropService",2);B([q("gridOptionsService")],bl.prototype,"gos",2);B([q("ctrlsService")],bl.prototype,"ctrlsService",2);B([we],bl.prototype,"init",1);var Sl=class extends ye{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){this.ctrlsService.whenReady(e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]];break}})}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}init(){this.moveColumnFeature=this.createManagedBean(new bl(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new c0(this.pinned)),this.dragAndDropService.addDropTarget(this)}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}};B([q("dragAndDropService")],Sl.prototype,"dragAndDropService",2);B([q("columnModel")],Sl.prototype,"columnModel",2);B([q("ctrlsService")],Sl.prototype,"ctrlsService",2);B([we],Sl.prototype,"postConstruct",1);B([we],Sl.prototype,"init",1);var El=class $E extends o0{constructor(t){super($E.TEMPLATE,t),this.headerCompVersion=0,this.column=t.getColumnGroupChild(),this.pinned=t.getPinned()}postConstruct(){const t=this.getGui();((n,o)=>{o!=null&&o!=""?t.setAttribute(n,o):t.removeAttribute(n)})("col-id",this.column.getColId());const i={setWidth:n=>t.style.width=n,addOrRemoveCssClass:(n,o)=>this.addOrRemoveCssClass(n,o),setAriaSort:n=>n?yS(t,n):CS(t),setUserCompDetails:n=>this.setUserCompDetails(n),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(i,this.getGui(),this.eResize,this.eHeaderCompWrapper);const s=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",s)}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(t){this.headerCompVersion++;const r=this.headerCompVersion;t.newAgStackInstance().then(i=>this.afterCompCreated(r,i))}afterCompCreated(t,r){if(t!=this.headerCompVersion||!this.isAlive()){this.destroyBean(r);return}this.destroyHeaderComp(),this.headerComp=r,this.headerCompGui=r.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}};El.TEMPLATE=`<div class="ag-header-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`;B([Ee("eResize")],El.prototype,"eResize",2);B([Ee("eHeaderCompWrapper")],El.prototype,"eHeaderCompWrapper",2);B([we],El.prototype,"postConstruct",1);B([ui],El.prototype,"destroyHeaderComp",1);var eD=El,Mp=class KE extends o0{constructor(t){super(KE.TEMPLATE,t)}postConstruct(){const t=this.getGui(),r=(s,n)=>n!=null?t.setAttribute(s,n):t.removeAttribute(s);t.setAttribute("col-id",this.ctrl.getColId());const i={addOrRemoveCssClass:(s,n)=>this.addOrRemoveCssClass(s,n),setResizableDisplayed:s=>Ct(this.eResize,s),setWidth:s=>t.style.width=s,setAriaExpanded:s=>r("aria-expanded",s),setUserCompDetails:s=>this.setUserCompDetails(s),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(i,t,this.eResize)}setUserCompDetails(t){t.newAgStackInstance().then(r=>this.afterHeaderCompCreated(r))}afterHeaderCompCreated(t){const r=()=>this.destroyBean(t);if(!this.isAlive()){r();return}const i=this.getGui(),s=t.getGui();i.appendChild(s),this.addDestroyFunc(r),this.headerGroupComp=t,this.ctrl.setDragSource(i)}};Mp.TEMPLATE=`<div class="ag-header-group-cell" role="columnheader">
            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`;B([Ee("eResize")],Mp.prototype,"eResize",2);B([we],Mp.prototype,"postConstruct",1);var tD=Mp,rm=(e=>(e.COLUMN_GROUP="group",e.COLUMN="column",e.FLOATING_FILTER="filter",e))(rm||{}),d0=class extends it{constructor(t){super(),this.headerComps={},this.ctrl=t,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}init(){Av(this.getGui(),this.ctrl.getAriaRowIndex());const t={setHeight:r=>this.getGui().style.height=r,setTop:r=>this.getGui().style.top=r,setHeaderCtrls:(r,i)=>this.setHeaderCtrls(r,i),setWidth:r=>this.getGui().style.width=r};this.ctrl.setComp(t)}destroyHeaderCtrls(){this.setHeaderCtrls([],!1)}setHeaderCtrls(t,r){if(!this.isAlive())return;const i=this.headerComps;if(this.headerComps={},t.forEach(s=>{const n=s.getInstanceId();let o=i[n];delete i[n],o==null&&(o=this.createHeaderComp(s),this.getGui().appendChild(o.getGui())),this.headerComps[n]=o}),qr(i,(s,n)=>{this.getGui().removeChild(n.getGui()),this.destroyBean(n)}),r){const s=Un(this.headerComps);s.sort((o,a)=>{const u=o.getCtrl().getColumnGroupChild().getLeft(),l=a.getCtrl().getColumnGroupChild().getLeft();return u-l});const n=s.map(o=>o.getGui());zv(this.getGui(),n)}}createHeaderComp(t){let r;switch(this.ctrl.getType()){case"group":r=new tD(t);break;case"filter":r=new CA(t);break;default:r=new eD(t);break}return this.createBean(r),r.setParentComponent(this),r}};B([we],d0.prototype,"init",1);B([ui],d0.prototype,"destroyHeaderCtrls",1);var rD=0,mn=class qE extends ye{constructor(t,r,i){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=t,this.parentRowCtrl=i,this.beans=r,this.instanceId=t.getUniqueId()+"-"+rD++}postConstruct(){this.addManagedPropertyListeners(["suppressHeaderFocus"],()=>this.refreshTabIndex())}shouldStopEventPropagation(t){const{headerRowIndex:r,column:i}=this.focusService.getFocusedHeader();return WS(this.gos,t,r,i)}getWrapperHasFocus(){return this.gos.getActiveDomElement()===this.eGui}setGui(t){this.eGui=t,this.addDomData(),this.addManagedListener(this.beans.eventService,$.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onDisplayedColumnsChanged(){!this.comp||!this.column||(this.refreshFirstAndLastStyles(),this.refreshAriaColIndex())}refreshFirstAndLastStyles(){const{comp:t,column:r,beans:i}=this;Tp.refreshFirstAndLastStyles(t,r,i.columnModel)}refreshAriaColIndex(){const{beans:t,column:r}=this,i=t.columnModel.getAriaColumnIndex(r);Dv(this.eGui,i)}addResizeAndMoveKeyboardListeners(){this.resizeFeature&&(this.addManagedListener(this.eGui,"keydown",this.onGuiKeyDown.bind(this)),this.addManagedListener(this.eGui,"keyup",this.onGuiKeyUp.bind(this)))}refreshTabIndex(){this.gos.get("suppressHeaderFocus")?this.eGui.removeAttribute("tabindex"):this.eGui.setAttribute("tabindex","-1")}onGuiKeyDown(t){var r;const i=this.gos.getActiveDomElement(),s=t.key===ae.LEFT||t.key===ae.RIGHT;if(this.isResizing&&(t.preventDefault(),t.stopImmediatePropagation()),i!==this.eGui||!t.shiftKey&&!t.altKey||((this.isResizing||s)&&(t.preventDefault(),t.stopImmediatePropagation()),!s))return;const n=t.key===ae.LEFT!==this.gos.get("enableRtl"),o=CE[n?"Left":"Right"];if(t.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const a=this.getViewportAdjustedResizeDiff(t);this.resizeHeader(a,t.shiftKey),(r=this.resizeFeature)==null||r.toggleColumnResizing(!0)}else this.moveHeader(o)}getViewportAdjustedResizeDiff(t){let r=this.getResizeDiff(t);if(this.column.getPinned()){const s=this.pinnedWidthService.getPinnedLeftWidth(),n=this.pinnedWidthService.getPinnedRightWidth(),o=ea(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(s+n+r>o)if(o>s+n)r=o-s-n;else return 0}return r}getResizeDiff(t){let r=t.key===ae.LEFT!==this.gos.get("enableRtl");const i=this.column.getPinned(),s=this.gos.get("enableRtl");return i&&s!==(i==="right")&&(r=!r),(r?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=setTimeout(()=>{var t;(t=this.resizeFeature)==null||t.toggleColumnResizing(!1)},150))}handleKeyDown(t){const r=this.getWrapperHasFocus();switch(t.key){case ae.PAGE_DOWN:case ae.PAGE_UP:case ae.PAGE_HOME:case ae.PAGE_END:r&&t.preventDefault()}}addDomData(){const t=qE.DOM_DATA_KEY_HEADER_CTRL;this.gos.setDomData(this.eGui,t,this),this.addDestroyFunc(()=>this.gos.setDomData(this.eGui,t,null))}getGui(){return this.eGui}focus(t){return this.eGui?(this.lastFocusEvent=t||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getInstanceId(){return this.instanceId}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(t,r,i){const s=t??r;this.gos.get("preventDefaultOnContextMenu")&&s.preventDefault();const n=i instanceof Wt?i:void 0;this.menuService.isHeaderContextMenuEnabled(n)&&this.menuService.showHeaderContextMenu(n,t,r),this.dispatchColumnMouseEvent($.EVENT_COLUMN_HEADER_CONTEXT_MENU,i)}dispatchColumnMouseEvent(t,r){const i={type:t,column:r};this.eventService.dispatchEvent(i)}destroy(){super.destroy(),this.removeDragSource(),this.comp=null,this.column=null,this.resizeFeature=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null,this.eGui=null}};mn.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";B([q("pinnedWidthService")],mn.prototype,"pinnedWidthService",2);B([q("focusService")],mn.prototype,"focusService",2);B([q("userComponentFactory")],mn.prototype,"userComponentFactory",2);B([q("ctrlsService")],mn.prototype,"ctrlsService",2);B([q("dragAndDropService")],mn.prototype,"dragAndDropService",2);B([q("menuService")],mn.prototype,"menuService",2);B([we],mn.prototype,"postConstruct",1);var Pp=mn,Fp=class extends ye{constructor(e,t,r,i){super(),this.columnOrGroup=e,this.eCell=t,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=i,this.beans=r}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?Tt(this.colsSpanning):this.columnOrGroup}postConstruct(){this.addManagedListener(this.columnOrGroup,Wt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,$.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onLeftChanged.bind(this))}setLeftFirstTime(){const e=this.beans.gos.get("suppressColumnMoveAnimation"),t=ve(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&t&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=e.getLeft(),r=e.getOldLeft(),i=this.modifyLeftForPrintLayout(e,r),s=this.modifyLeftForPrintLayout(e,t);this.setLeft(i),this.actualLeft=s,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===s&&this.setLeft(s)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){if(!this.beans.gos.isDomLayout("print")||e.getPinned()==="left")return t;const i=this.beans.columnModel.getDisplayedColumnsLeftWidth();if(e.getPinned()==="right"){const s=this.beans.columnModel.getBodyContainerWidth();return i+s+t}return i+t}setLeft(e){if(ve(e)&&(this.eCell.style.left=`${e}px`),this.columnOrGroup instanceof Wt)this.columnOrGroup;else{const r=this.columnOrGroup.getLeafColumns();if(!r.length)return;r.length>1&&vS(this.ariaEl,r.length),r[0]}}};B([we],Fp.prototype,"postConstruct",1);var xc=class extends ye{constructor(e,t){super(),this.columns=e,this.element=t}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}};B([q("columnHoverService")],xc.prototype,"columnHoverService",2);B([we],xc.prototype,"postConstruct",1);var iD=class extends Pp{constructor(e,t,r){super(e,t,r),this.iconCreated=!1,this.column=e}setComp(e,t,r,i){this.comp=e,this.eButtonShowMainFilter=r,this.eFloatingFilterBody=i,this.setGui(t),this.setupActive(),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this)),this.setupFilterChangedListener(),this.addManagedListener(this.column,Wt.EVENT_COL_DEF_CHANGED,this.onColDefChanged.bind(this))}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),t=!!e.filter,r=!!e.floatingFilter;this.active=t&&r}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=nr("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(){this.createManagedBean(new eo(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();Ui(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(this.gos.getActiveDomElement()===this.eGui)return;const i=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(i){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),i.focus();return}const s=this.findNextColumnWithFloatingFilter(e.shiftKey);s&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:s},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.columnModel;let r=this.column;do if(r=e?t.getDisplayedColBefore(r):t.getDisplayedColAfter(r),!r)break;while(!r.getColDef().filter||!r.getColDef().floatingFilter);return r}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case ae.UP:case ae.DOWN:t||e.preventDefault();case ae.LEFT:case ae.RIGHT:if(t)return;e.stopPropagation();case ae.ENTER:t&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case ae.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const r=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),i=!!e.relatedTarget&&Mo(e.relatedTarget,"ag-floating-filter");if(r&&i&&e.target===this.eGui){const n=this.lastFocusEvent,o=!!(n&&n.key===ae.TAB);if(n&&o){const a=n.shiftKey;this.focusService.focusInto(this.eGui,a)}}const s=this.getRowIndex();this.beans.focusService.setFocusedHeader(s,this.column)}setupHover(){this.createManagedBean(new xc([this.column],this.eGui));const e=()=>{if(!this.gos.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};this.addManagedListener(this.eventService,$.EVENT_COLUMN_HOVER_CHANGED,e),e()}setupLeft(){const e=new Fp(this.column,this.eGui,this.beans);this.createManagedBean(e)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){if(!this.active)return;const e=this.beans.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(){if(!this.active)return;const{filterManager:e}=this.beans,t=r=>{if((r==null?void 0:r.source)==="filterDestroyed"&&this.context.isDestroyed())return;const i=this.comp.getFloatingFilterComp();i&&i.then(s=>{var n;if(s){const o=e.getCurrentFloatingFilterParentModel(this.column);s.onParentModelChanged(o,r?this.gos.addGridCommonParams({columns:(n=r.columns)!=null?n:[],type:$.EVENT_FILTER_CHANGED,source:r.source==="api"?"api":"columnFilter"}):null)}})};this.destroySyncListener=this.addManagedListener(this.column,Wt.EVENT_FILTER_CHANGED,t),e.isFilterActive(this.column)&&t(null)}setupWidth(){const e=()=>{const t=`${this.column.getActualWidth()}px`;this.comp.setWidth(t)};this.addManagedListener(this.column,Wt.EVENT_WIDTH_CHANGED,e),e()}setupFilterChangedListener(){this.active&&(this.destroyFilterChangedListener=this.addManagedListener(this.column,Wt.EVENT_FILTER_CHANGED,this.updateFilterButton.bind(this)),this.updateFilterButton())}updateFilterButton(){if(!this.suppressFilterButton&&this.comp){const e=this.beans.filterManager.isFilterAllowed(this.column);this.comp.setButtonWrapperDisplayed(e),this.highlightFilterButtonWhenActive&&e&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(){var e,t;const r=this.active;this.setupActive();const i=!r&&this.active;r&&!this.active&&((e=this.destroySyncListener)==null||e.call(this),(t=this.destroyFilterChangedListener)==null||t.call(this));const s=this.active?this.beans.filterManager.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,n=this.comp.getFloatingFilterComp();!n||!s?this.updateCompDetails(s,i):n.then(o=>{var a;!o||this.beans.filterManager.areFilterCompsDifferent((a=this.userCompDetails)!=null?a:null,s)?this.updateCompDetails(s,i):this.updateFloatingFilterParams(s)})}updateCompDetails(e,t){this.isAlive()&&(this.setCompDetails(e),this.setupFilterButton(),this.setupUi(),t&&(this.setupSyncWithFilter(),this.setupFilterChangedListener()))}updateFloatingFilterParams(e){var t;if(!e)return;const r=e.params;(t=this.comp.getFloatingFilterComp())==null||t.then(i=>{let s=!1;i!=null&&i.refresh&&typeof i.refresh=="function"&&i.refresh(r)!==null&&(s=!0),!s&&(i!=null&&i.onParamsUpdated)&&typeof i.onParamsUpdated=="function"&&i.onParamsUpdated(r)!==null&&We("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.destroySyncListener=null,this.destroyFilterChangedListener=null}},xl=class extends ye{constructor(e,t,r,i,s){super(),this.pinned=e,this.column=t,this.eResize=r,this.comp=i,this.ctrl=s}postConstruct(){const e=[];let t,r;const i=()=>{if(Ct(this.eResize,t),!t)return;const o=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(o),r){const a=this.gos.get("skipHeaderOnAutoSize"),u=()=>{this.columnModel.autoSizeColumn(this.column,"uiColumnResized",a)};this.eResize.addEventListener("dblclick",u);const l=new kr(this.eResize);l.addEventListener(kr.EVENT_DOUBLE_TAP,u),e.push(()=>{this.eResize.removeEventListener("dblclick",u),l.removeEventListener(kr.EVENT_DOUBLE_TAP,u),l.destroy()})}},s=()=>{e.forEach(o=>o()),e.length=0},n=()=>{const o=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(o!==t||a!==r)&&(t=o,r=a,s(),i())};n(),this.addDestroyFunc(s),this.ctrl.addRefreshFunction(n)}onResizing(e,t){const{column:r,lastResizeAmount:i,resizeStartWidth:s}=this,n=this.normaliseResizeAmount(t),o=s+n,a=[{key:r,newWidth:o}];if(this.column.getPinned()){const u=this.pinnedWidthService.getPinnedLeftWidth(),l=this.pinnedWidthService.getPinnedRightWidth(),c=ea(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(u+l+(n-i)>c)return}this.lastResizeAmount=n,this.columnModel.setColumnWidths(a,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const r=this.pinned!=="left",i=this.pinned==="right";return this.gos.get("enableRtl")?r&&(t*=-1):i&&(t*=-1),t}};B([q("horizontalResizeService")],xl.prototype,"horizontalResizeService",2);B([q("pinnedWidthService")],xl.prototype,"pinnedWidthService",2);B([q("ctrlsService")],xl.prototype,"ctrlsService",2);B([q("columnModel")],xl.prototype,"columnModel",2);B([we],xl.prototype,"postConstruct",1);var h0=class extends ye{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(this.gos.getActiveDomElement())&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new wp),this.cbSelectAll.addCssClass("ag-header-select-all"),ur(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,$.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,$.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,$.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,$.EVENT_PAGINATION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,$.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,$.EVENT_FIELD_VALUE_CHANGED,this.onCbSelectAll.bind(this)),fc(this.cbSelectAll.getGui(),!0),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible,{skipAriaHidden:!0}),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const t=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!t),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),r=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),i=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${i} (${r})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(`${i} (${r})`),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return this.gos.get("rowSelection")==="multiple"?!0:(console.warn(`AG Grid: ${e} is only available if using 'multiple' rowSelection.`),!1)}checkRightRowModelType(e){const t=this.rowModel.getType();return t==="clientSide"||t==="serverSide"?!0:(console.warn(`AG Grid: ${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.isFilteredOnly(),r=this.isCurrentPageOnly();let i="uiSelectAll";r?i="uiSelectAllCurrentPage":t&&(i="uiSelectAllFiltered");const s={source:i,justFiltered:t,justCurrentPage:r};e?this.selectionService.selectAllRowNodes(s):this.selectionService.deselectAllRowNodes(s)}isCheckboxSelection(){let e=this.column.getColDef().headerCheckboxSelection;if(typeof e=="function"){const t=e,r=this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()});e=t(r)}return e?this.checkRightRowModelType("headerCheckboxSelection")&&this.checkSelectionType("headerCheckboxSelection"):!1}isFilteredOnly(){return!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){return!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}};B([q("rowModel")],h0.prototype,"rowModel",2);B([q("selectionService")],h0.prototype,"selectionService",2);var sD=class extends Pp{constructor(e,t,r){super(e,t,r),this.refreshFunctions=[],this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,t,r,i){this.comp=e,this.setGui(t),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight(i),this.addColumnHoverListener(),this.setupFilterClass(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.refreshAria(),this.resizeFeature=this.createManagedBean(new xl(this.getPinned(),this.column,r,e,this)),this.createManagedBean(new xc([this.column],t)),this.createManagedBean(new Fp(this.column,t,this.beans)),this.createManagedBean(new eo(t,{shouldStopEventPropagation:s=>this.shouldStopEventPropagation(s),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(),this.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],this.refresh.bind(this)),this.addManagedListener(this.column,Wt.EVENT_COL_DEF_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,$.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,$.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,$.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this)),this.addManagedListener(this.eventService,$.EVENT_HEADER_HEIGHT_CHANGED,this.onHeaderHeightChanged.bind(this))}resizeHeader(e,t){var r,i;if(!this.column.isResizable())return;const s=this.column.getActualWidth(),n=(r=this.column.getMinWidth())!=null?r:0,o=(i=this.column.getMaxWidth())!=null?i:Number.MAX_SAFE_INTEGER,a=Math.min(Math.max(s+e,n),o);this.beans.columnModel.setColumnWidths([{key:this.column,newWidth:a}],t,!0,"uiColumnResized")}moveHeader(e){const{eGui:t,column:r,gos:i,ctrlsService:s}=this,n=this.getPinned(),o=t.getBoundingClientRect().left,a=r.getActualWidth(),u=i.get("enableRtl"),l=e===0!==u,c=ko.normaliseX(l?o-20:o+a+20,n,!0,i,s);ko.attemptMoveColumns({allMovingColumns:[r],isFromHeader:!0,hDirection:e,xPosition:c,pinned:n,fromEnter:!1,fakeEvent:!1,gos:i,columnModel:this.beans.columnModel}),s.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(r,"auto")}setupUserComp(){const e=this.lookupUserCompDetails();this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(t,e)}createParams(){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:t=>{this.menuService.showColumnMenu({column:this.column,buttonElement:t,positionBy:"button"})},showColumnMenuAfterMouseClick:t=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:t,positionBy:"mouse"})},showFilter:t=>{this.menuService.showFilterMenu({column:this.column,buttonElement:t,containerType:"columnFilter",positionBy:"button"})},progressSort:t=>{this.beans.sortController.progressSort(this.column,!!t,"uiColumnSorted")},setSort:(t,r)=>{this.beans.sortController.setSortForColumn(this.column,t,!!r,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(t,r)=>{this.setupTooltip(t,r)}})}setupSelectAll(){this.selectAllFeature=this.createManagedBean(new h0(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===ae.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===ae.ENTER&&this.onEnterKeyDown(e),e.key===ae.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){const t=e.shiftKey;this.beans.sortController.progressSort(this.column,t,"uiColumnSorted")}}showMenuOnKeyPress(e,t){const r=this.comp.getUserCompInstance();!r||!(r instanceof Zg)||r.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const t=this.getRowIndex();this.focusService.setFocusedHeader(t,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const r=this.gos.get("tooltipShowMode")==="whenTruncated",i=this.eGui,s=this.column.getColDef();!t&&r&&!s.headerComponent&&(t=()=>{const a=i.querySelector(".ag-header-cell-text");return a?a.scrollWidth>a.clientWidth:!0});const n={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>i,getLocation:()=>"header",getTooltipValue:()=>e??this.column.getColDef().headerTooltip,shouldDisplayTooltip:t},o=this.createManagedBean(new pn(n));this.refreshFunctions.push(()=>o.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),r=Tp.getHeaderClassesFromColDef(t,this.gos,this.column,null),i=this.userHeaderClasses;this.userHeaderClasses=new Set(r),r.forEach(s=>{i.has(s)?i.delete(s):this.comp.addOrRemoveCssClass(s,!0)}),i.forEach(s=>this.comp.addOrRemoveCssClass(s,!1))};this.refreshFunctions.push(e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:t,beans:r,displayName:i,dragAndDropService:s,gos:n}=this,{columnModel:o}=r;let a=!this.gos.get("suppressDragLeaveHidesColumns");const u=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>a?ot.ICON_HIDE:ot.ICON_NOT_ALLOWED,getDragItem:()=>this.createDragItem(t),dragItemName:i,onDragStarted:()=>{a=!n.get("suppressDragLeaveHidesColumns"),t.setMoving(!0,"uiColumnMoved")},onDragStopped:()=>t.setMoving(!1,"uiColumnMoved"),onGridEnter:l=>{var c;if(a){const h=((c=l==null?void 0:l.columns)==null?void 0:c.filter(d=>!d.getColDef().lockVisible))||[];o.setColumnsVisible(h,!0,"uiColumnMoved")}},onGridExit:l=>{var c;if(a){const h=((c=l==null?void 0:l.columns)==null?void 0:c.filter(d=>!d.getColDef().lockVisible))||[];o.setColumnsVisible(h,!1,"uiColumnMoved")}}};s.addDragSource(u,!0)}createDragItem(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}addRefreshFunction(e){this.refreshFunctions.push(e)}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),this.refreshFunctions.forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.columnModel.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}onColumnRowGroupChanged(){this.checkDisplayName()}onColumnPivotChanged(){this.checkDisplayName()}onColumnValueChanged(){this.checkDisplayName()}setupWidth(){const e=()=>{const t=this.column.getActualWidth();this.comp.setWidth(`${t}px`)};this.addManagedListener(this.column,Wt.EVENT_WIDTH_CHANGED,e),e()}setupMovingCss(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};this.addManagedListener(this.column,Wt.EVENT_MOVING_CHANGED,e),e()}setupMenuClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};this.addManagedListener(this.column,Wt.EVENT_MENU_VISIBLE_CHANGED,e),e()}setupSortableClass(){const e=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};e(),this.addRefreshFunction(e),this.addManagedListener(this.eventService,Wt.EVENT_SORT_CHANGED,this.refreshAriaSort.bind(this))}setupFilterClass(){const e=()=>{const t=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",t),this.refreshAria()};this.addManagedListener(this.column,Wt.EVENT_FILTER_ACTIVE_CHANGED,e),e()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.addRefreshFunction(e)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:r,beans:i}=this;if(!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),r.addOrRemoveCssClass("ag-header-span-height",!1),r.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:s,isSpanningTotal:n}=this.column.getColumnGroupPaddingInfo();r.addOrRemoveCssClass("ag-header-span-height",s>0);const{columnModel:o}=i,a=o.getColumnHeaderRowHeight();if(s===0){r.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${a}px`);return}r.addOrRemoveCssClass("ag-header-span-total",n);const l=o.isPivotMode()?o.getPivotGroupHeaderHeight():o.getGroupHeaderHeight(),c=s*l;e.style.setProperty("top",`${-c}px`),e.style.setProperty("height",`${a+c}px`)}setupAutoHeight(e){const{columnModel:t,resizeObserverService:r}=this.beans,i=l=>{if(!this.isAlive())return;const{paddingTop:c,paddingBottom:h,borderBottomWidth:d,borderTopWidth:p}=Jn(this.getGui()),g=c+h+d+p,f=e.offsetHeight+g;if(l<5){const y=this.beans.gos.getDocument(),m=!y||!y.contains(e),w=f==0;if(m||w){window.setTimeout(()=>i(l+1),0);return}}t.setColumnHeaderHeight(this.column,f)};let s=!1,n;const o=()=>{const l=this.column.isAutoHeaderHeight();l&&!s&&a(),!l&&s&&u()},a=()=>{s=!0,i(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),n=r.observeResize(e,()=>i(0))},u=()=>{s=!1,n&&n(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),n=void 0};o(),this.addDestroyFunc(()=>u()),this.addManagedListener(this.column,Wt.EVENT_WIDTH_CHANGED,()=>s&&i(0)),this.addManagedListener(this.eventService,Wt.EVENT_SORT_CHANGED,()=>{s&&window.setTimeout(()=>i(0))}),this.addRefreshFunction(o)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),t=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(aS(t)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(this.beans.gos.getActiveDomElement()))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((t,r)=>t==="filter"?-1:r.charCodeAt(0)-t.charCodeAt(0)).map(t=>this.ariaDescriptionProperties.get(t)).join(". ");this.beans.ariaAnnouncementService.announceValue(e)}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(){const e=()=>{if(!this.gos.get("columnHoverHighlight"))return;const t=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",t)};this.addManagedListener(this.eventService,$.EVENT_COLUMN_HOVER_CHANGED,e),e()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(){const e=i=>this.handleMouseOverChange(i.type==="mouseenter"),t=()=>this.dispatchColumnMouseEvent($.EVENT_COLUMN_HEADER_CLICKED,this.column),r=i=>this.handleContextMenuMouseEvent(i,void 0,this.column);this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e),this.addManagedListener(this.getGui(),"click",t),this.addManagedListener(this.getGui(),"contextmenu",r)}handleMouseOverChange(e){this.setActiveHeader(e);const r={type:e?$.EVENT_COLUMN_HEADER_MOUSE_OVER:$.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column};this.eventService.dispatchEvent(r)}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return t instanceof Zg?t.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy(),this.refreshFunctions=null,this.selectAllFeature=null,this.dragSourceElement=null,this.userCompDetails=null,this.userHeaderClasses=null,this.ariaDescriptionProperties=null}},_c=class extends ye{constructor(e,t,r,i){super(),this.eResize=t,this.comp=e,this.pinned=r,this.columnGroup=i}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){const t=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const r=[];this.columnGroup.getDisplayedLeafColumns().forEach(s=>{s.getColDef().suppressAutoSize||r.push(s.getColId())}),r.length>0&&this.columnModel.autoSizeColumns({columns:r,skipHeader:t,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){const t=this.getInitialValues(e);this.storeLocalValues(t),this.toggleColumnResizing(!0)}onResizing(e,t,r="uiColumnResized"){const i=this.normaliseDragChange(t),s=this.resizeStartWidth+i;this.resizeColumnsFromLocalValues(s,r,e)}getInitialValues(e){const t=this.getColumnsToResize(),r=this.getInitialSizeOfColumns(t),i=this.getSizeRatiosOfColumns(t,r),s={columnsToResize:t,resizeStartWidth:r,resizeRatios:i};let n=null;if(e&&(n=this.columnModel.getDisplayedGroupAtDirection(this.columnGroup,"After")),n){const o=n.getDisplayedLeafColumns(),a=s.groupAfterColumns=o.filter(l=>l.isResizable()),u=s.groupAfterStartWidth=this.getInitialSizeOfColumns(a);s.groupAfterRatios=this.getSizeRatiosOfColumns(a,u)}else s.groupAfterColumns=void 0,s.groupAfterStartWidth=void 0,s.groupAfterRatios=void 0;return s}storeLocalValues(e){const{columnsToResize:t,resizeStartWidth:r,resizeRatios:i,groupAfterColumns:s,groupAfterStartWidth:n,groupAfterRatios:o}=e;this.resizeCols=t,this.resizeStartWidth=r,this.resizeRatios=i,this.resizeTakeFromCols=s,this.resizeTakeFromStartWidth=n,this.resizeTakeFromRatios=o}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const t=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),r=this.getInitialValues();t>r.resizeStartWidth&&this.resizeColumns(r,t,e,!0)}resizeColumnsFromLocalValues(e,t,r=!0){var i,s,n;if(!this.resizeCols||!this.resizeRatios)return;const o={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:(i=this.resizeTakeFromCols)!=null?i:void 0,groupAfterStartWidth:(s=this.resizeTakeFromStartWidth)!=null?s:void 0,groupAfterRatios:(n=this.resizeTakeFromRatios)!=null?n:void 0};this.resizeColumns(o,e,t,r)}resizeColumns(e,t,r,i=!0){const{columnsToResize:s,resizeStartWidth:n,resizeRatios:o,groupAfterColumns:a,groupAfterStartWidth:u,groupAfterRatios:l}=e,c=[];if(c.push({columns:s,ratios:o,width:t}),a){const h=t-n;c.push({columns:a,ratios:l,width:u-h})}this.columnModel.resizeColumnSets({resizeSets:c,finished:i,source:r}),i&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}getInitialSizeOfColumns(e){return e.reduce((t,r)=>t+r.getActualWidth(),0)}getSizeRatiosOfColumns(e,t){return e.map(r=>r.getActualWidth()/t)}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.clearLocalValues()}};B([q("horizontalResizeService")],_c.prototype,"horizontalResizeService",2);B([q("autoWidthCalculator")],_c.prototype,"autoWidthCalculator",2);B([q("columnModel")],_c.prototype,"columnModel",2);B([we],_c.prototype,"postConstruct",1);var YE=class extends ye{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,Mr.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.addEventListener("widthChanged",e),t.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.removeEventListener("widthChanged",e),t.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}};B([we],YE.prototype,"postConstruct",1);var nD=class extends Pp{constructor(e,t,r){super(e,t,r),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const i=this.getGui();this.setDragSource(i)}},this.column=e}setComp(e,t,r){this.comp=e,this.setGui(t),this.displayName=this.beans.columnModel.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.addDestroyFunc(()=>{this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature))}),this.setupUserComp(),this.addHeaderMouseListeners();const i=this.getParentRowCtrl().getPinned(),s=this.column.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new xc(s,t)),this.createManagedBean(new Fp(this.column,t,this.beans)),this.createManagedBean(new YE(e,this.column)),this.resizeFeature=this.createManagedBean(new _c(e,r,i,this.column)),this.createManagedBean(new eo(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addManagedPropertyListener($.EVENT_SUPPRESS_COLUMN_MOVE_CHANGED,this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners()}resizeHeader(e,t){if(!this.resizeFeature)return;const r=this.resizeFeature.getInitialValues(t);this.resizeFeature.resizeColumns(r,r.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:t,eGui:r,column:i,gos:s,ctrlsService:n}=this,o=s.get("enableRtl"),a=e===0,u=this.getPinned(),l=r.getBoundingClientRect(),c=l.left,h=l.width,d=ko.normaliseX(a!==o?c-20:c+h+20,u,!0,s,n),p=i.getGroupId(),g=this.focusService.getFocusedHeader();ko.attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,hDirection:e,xPosition:d,pinned:u,fromEnter:!1,fakeEvent:!1,gos:s,columnModel:t.columnModel});const v=i.getDisplayedLeafColumns(),f=a?v[0]:Tt(v);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(f,"auto"),!this.isAlive()&&g&&this.restoreFocus(p,i,g)}restoreFocus(e,t,r){const i=t.getLeafColumns();if(!i.length)return;const s=i[0].getParent();if(!s)return;const n=this.findGroupWidthId(s,e);n&&this.focusService.focusHeaderPosition({headerPosition:er(Be({},r),{column:n})})}findGroupWidthId(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(){const e=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:r=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),r,"gridInitializing")},setTooltip:(r,i)=>{this.setupTooltip(r,i)}}),t=this.userComponentFactory.getHeaderGroupCompDetails(e);this.comp.setUserCompDetails(t)}addHeaderMouseListeners(){const e=i=>this.handleMouseOverChange(i.type==="mouseenter"),t=()=>this.dispatchColumnMouseEvent($.EVENT_COLUMN_HEADER_CLICKED,this.column.getProvidedColumnGroup()),r=i=>this.handleContextMenuMouseEvent(i,void 0,this.column.getProvidedColumnGroup());this.addManagedListener(this.getGui(),"mouseenter",e),this.addManagedListener(this.getGui(),"mouseleave",e),this.addManagedListener(this.getGui(),"click",t),this.addManagedListener(this.getGui(),"contextmenu",r)}handleMouseOverChange(e){const r={type:e?$.EVENT_COLUMN_HEADER_MOUSE_OVER:$.EVENT_COLUMN_HEADER_MOUSE_LEAVE,column:this.column.getProvidedColumnGroup()};this.eventService.dispatchEvent(r)}setupTooltip(e,t){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const r=this.column.getColGroupDef(),i=this.gos.get("tooltipShowMode")==="whenTruncated",s=this.eGui;!t&&i&&!(r!=null&&r.headerGroupComponent)&&(t=()=>{const o=s.querySelector(".ag-header-group-text");return o?o.scrollWidth>o.clientWidth:!0});const n={getColumn:()=>this.column,getGui:()=>s,getLocation:()=>"headerGroup",getTooltipValue:()=>e??(r&&r.headerTooltip),shouldDisplayTooltip:t};r&&(n.getColDef=()=>r),this.createBean(new pn(n))}setupExpandable(){const e=this.column.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(e,vr.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(e,vr.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))}refreshExpanded(){const e=this.column;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),t=Tp.getHeaderClassesFromColDef(e,this.gos,null,this.column);this.column.isPadding()?(t.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(i=>i.isSpanHeaderHeight())&&t.push("ag-header-span-height")):t.push("ag-header-group-cell-with-group"),t.forEach(r=>this.comp.addOrRemoveCssClass(r,!0))}setupMovingCss(){const t=this.column.getProvidedColumnGroup().getLeafColumns(),r=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());t.forEach(i=>{this.addManagedListener(i,Wt.EVENT_MOVING_CHANGED,r)}),r()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const t=this.getRowIndex();this.beans.focusService.setFocusedHeader(t,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===ae.ENTER){const r=this.column,i=!r.isExpanded();this.beans.columnModel.setColumnGroupOpened(r.getProvidedColumnGroup(),i,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;const{beans:t,column:r,displayName:i,gos:s,dragAndDropService:n}=this,{columnModel:o}=t,a=r.getProvidedColumnGroup().getLeafColumns();let u=!s.get("suppressDragLeaveHidesColumns");const l=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>u?ot.ICON_HIDE:ot.ICON_NOT_ALLOWED,dragItemName:i,getDragItem:()=>this.getDragItemForGroup(r),onDragStarted:()=>{u=!s.get("suppressDragLeaveHidesColumns"),a.forEach(c=>c.setMoving(!0,"uiColumnDragged"))},onDragStopped:()=>a.forEach(c=>c.setMoving(!1,"uiColumnDragged")),onGridEnter:c=>{var h;if(u){const d=((h=c==null?void 0:c.columns)==null?void 0:h.filter(p=>!p.getColDef().lockVisible))||[];o.setColumnsVisible(d,!0,"uiColumnMoved")}},onGridExit:c=>{var h;if(u){const d=((h=c==null?void 0:c.columns)==null?void 0:h.filter(p=>!p.getColDef().lockVisible))||[];o.setColumnsVisible(d,!1,"uiColumnMoved")}}};n.addDragSource(l,!0)}getDragItemForGroup(e){const t=e.getProvidedColumnGroup().getLeafColumns(),r={};t.forEach(s=>r[s.getId()]=s.isVisible());const i=[];return this.beans.columnModel.getAllDisplayedColumns().forEach(s=>{t.indexOf(s)>=0&&(i.push(s),yi(t,s))}),t.forEach(s=>i.push(s)),{columns:i,visibleState:r}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(r=>{(r.getColDef().suppressMovable||r.getColDef().lockPosition)&&(e=!0)}),e||this.gos.get("suppressMovableColumns")}},oD=0,pu=class extends ye{constructor(e,t,r){super(),this.instanceId=oD++,this.rowIndex=e,this.pinned=t,this.type=r;const i=r=="group"?"ag-header-row-column-group":r=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${i}`}postConstruct(){this.isPrintLayout=this.gos.isDomLayout("print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}getInstanceId(){return this.instanceId}setComp(e,t=!0){this.comp=e,t&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners()}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(){this.addManagedListener(this.eventService,$.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.eventService,$.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,$.EVENT_VIRTUAL_COLUMNS_CHANGED,e=>this.onVirtualColumnsChanged(e.afterScroll)),this.addManagedListener(this.eventService,$.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,$.EVENT_GRID_STYLES_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.eventService,$.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),this.addManagedPropertyListener("ensureDomOrder",e=>this.isEnsureDomOrder=e.currentValue),this.addManagedPropertyListener("headerHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("groupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("pivotGroupHeaderHeight",this.onRowHeightChanged.bind(this)),this.addManagedPropertyListener("floatingFiltersHeight",this.onRowHeightChanged.bind(this))}getHeaderCellCtrl(e){if(this.headerCellCtrls)return Do(this.headerCellCtrls).find(t=>t.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=this.gos.isDomLayout("print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{columnModel:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){var{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{columnModel:e,filterManager:t}=this.beans;let r=e.getHeaderRowCount();const i=[];let s=0;t.hasFloatingFilters()&&(r++,s=1);const n=e.getColumnGroupHeaderRowHeight(),o=e.getColumnHeaderRowHeight(),a=1+s,u=r-a;for(let h=0;h<u;h++)i.push(n);i.push(o);for(let h=0;h<s;h++)i.push(e.getFloatingFiltersHeight());let l=0;for(let h=0;h<this.rowIndex;h++)l+=i[h];const c=i[this.rowIndex];return{topOffset:l,rowHeight:c}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){const t=this.getHeaderCtrls(),r=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,r,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const t=this.getColumnsInViewport();for(const s of t)this.recycleAndCreateHeaderCtrls(s,e);const r=s=>{const{focusService:n,columnModel:o}=this.beans;return n.isHeaderWrapperFocused(s)?o.isDisplayed(s.getColumnGroupChild()):!1};if(e)for(const[s,n]of e)r(n)?this.headerCellCtrls.set(s,n):this.destroyBean(n);return Array.from(this.headerCellCtrls.values())}recycleAndCreateHeaderCtrls(e,t){if(!this.headerCellCtrls||e.isEmptyGroup())return;const r=e.getUniqueId();let i;if(t&&(i=t.get(r),t.delete(r)),i&&i.getColumnGroupChild()!=e&&(this.destroyBean(i),i=void 0),i==null)switch(this.type){case"filter":i=this.createBean(new iD(e,this.beans,this));break;case"group":i=this.createBean(new nD(e,this.beans,this));break;default:i=this.createBean(new sD(e,this.beans,this));break}this.headerCellCtrls.set(r,i)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{columnModel:r}=this.beans;return["left",null,"right"].forEach(i=>{const s=r.getVirtualHeaderGroupRow(i,t);e=e.concat(s)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())}focusHeader(e,t){if(!this.headerCellCtrls)return!1;const i=Array.from(this.headerCellCtrls.values()).find(s=>s.getColumnGroupChild()==e);return i?i.focus(t):!1}destroy(){this.headerCellCtrls&&this.headerCellCtrls.forEach(e=>{this.destroyBean(e)}),this.headerCellCtrls=void 0,super.destroy()}};B([q("beans")],pu.prototype,"beans",2);B([we],pu.prototype,"postConstruct",1);var to=class extends ye{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}setComp(e,t){this.comp=e,this.eViewport=t,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport),this.addManagedListener(this.eventService,$.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,$.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,$.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()}setupDragAndDrop(e){const t=new Sl(this.pinned,e);this.createManagedBean(t)}refresh(e=!1){const t=new il,r=this.focusService.getFocusHeaderToUseAfterRefresh(),i=()=>{const a=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let u=0;u<a;u++){const l=this.createBean(new pu(t.next(),this.pinned,"group"));this.groupsRowCtrls.push(l)}},s=()=>{const a=t.next(),u=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==a);(u||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),u&&(this.columnsRowCtrl=this.createBean(new pu(a,this.pinned,"column")))},n=()=>{this.includeFloatingFilter=this.filterManager.hasFloatingFilters()&&!this.hidden;const a=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){a();return}const u=t.next();if(this.filtersRowCtrl){const l=this.filtersRowCtrl.getRowIndex()!==u;(!e||l)&&a()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new pu(u,this.pinned,"filter")))};i(),s(),n();const o=this.getAllCtrls();this.comp.setCtrls(o),this.restoreFocusOnHeader(r)}restoreFocusOnHeader(e){e==null||e.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:e})}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){const e=this.filterManager.hasFloatingFilters()&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new Cl(e=>this.comp.setCenterWidth(`${e}px`),!0))}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}setupPinnedWidth(){if(this.pinned==null)return;const e=this.pinned==="left",t=this.pinned==="right";this.hidden=!0;const r=()=>{const i=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(i==null)return;const s=i==0,n=this.hidden!==s,o=this.gos.get("enableRtl"),a=this.gos.getScrollbarWidth(),l=this.scrollVisibleService.isVerticalScrollShowing()&&(o&&e||!o&&t)?i+a:i;this.comp.setPinnedContainerWidth(`${l}px`),this.comp.setDisplayed(!s),n&&(this.hidden=s,this.refresh())};this.addManagedListener(this.eventService,$.EVENT_LEFT_PINNED_WIDTH_CHANGED,r),this.addManagedListener(this.eventService,$.EVENT_RIGHT_PINNED_WIDTH_CHANGED,r),this.addManagedListener(this.eventService,$.EVENT_SCROLL_VISIBILITY_CHANGED,r),this.addManagedListener(this.eventService,$.EVENT_SCROLLBAR_WIDTH_CHANGED,r)}getHeaderCtrlForColumn(e){if(e instanceof Wt)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(e):void 0;if(this.groupsRowCtrls.length!==0)for(let t=0;t<this.groupsRowCtrls.length;t++){const r=this.groupsRowCtrls[t].getHeaderCellCtrl(e);if(r)return r}}getHtmlElementForColumnHeader(e){const t=this.getHeaderCtrlForColumn(e);return t?t.getGui():null}getRowType(e){const r=this.getAllCtrls()[e];return r?r.getType():void 0}focusHeader(e,t,r){const s=this.getAllCtrls()[e];return s?s.focusHeader(t,r):!1}getViewport(){return this.eViewport}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}};B([q("ctrlsService")],to.prototype,"ctrlsService",2);B([q("scrollVisibleService")],to.prototype,"scrollVisibleService",2);B([q("pinnedWidthService")],to.prototype,"pinnedWidthService",2);B([q("columnModel")],to.prototype,"columnModel",2);B([q("focusService")],to.prototype,"focusService",2);B([q("filterManager")],to.prototype,"filterManager",2);var la=class Td extends it{constructor(t){super(),this.headerRowComps={},this.rowCompsList=[],this.pinned=t}init(){this.selectAndSetTemplate();const t={setDisplayed:i=>this.setDisplayed(i),setCtrls:i=>this.setCtrls(i),setCenterWidth:i=>this.eCenterContainer.style.width=i,setViewportScrollLeft:i=>this.getGui().scrollLeft=i,setPinnedContainerWidth:i=>{const s=this.getGui();s.style.width=i,s.style.maxWidth=i,s.style.minWidth=i}};this.createManagedBean(new to(this.pinned)).setComp(t,this.getGui())}selectAndSetTemplate(){const t=this.pinned=="left",r=this.pinned=="right",i=t?Td.PINNED_LEFT_TEMPLATE:r?Td.PINNED_RIGHT_TEMPLATE:Td.CENTER_TEMPLATE;this.setTemplate(i),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()}destroyRowComps(){this.setCtrls([])}destroyRowComp(t){this.destroyBean(t),this.eRowContainer.removeChild(t.getGui())}setCtrls(t){const r=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let i;const s=n=>{const o=n.getGui();o.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(o),i&&Wv(this.eRowContainer,o,i),i=o};t.forEach(n=>{const o=n.getInstanceId(),a=r[o];delete r[o];const u=a||this.createBean(new d0(n));this.headerRowComps[o]=u,this.rowCompsList.push(u),s(u)}),Un(r).forEach(n=>this.destroyRowComp(n))}};la.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="rowgroup"></div>';la.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="rowgroup"></div>';la.CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>
        </div>`;B([Ee("eCenterContainer")],la.prototype,"eCenterContainer",2);B([we],la.prototype,"init",1);B([ui],la.prototype,"destroyRowComps",1);var Af=la,zo=class extends ye{constructor(){super(...arguments),this.currentHeaderRowWithoutSpan=-1}postConstruct(){this.ctrlsService.whenReady(t=>{this.gridBodyCon=t.gridBodyCtrl});const e=this.gos.getDocument();this.addManagedListener(e,"mousedown",()=>this.setCurrentHeaderRowWithoutSpan(-1))}getHeaderRowCount(){const e=this.ctrlsService.getHeaderRowContainerCtrl();return e?e.getRowCount():0}navigateVertically(e,t,r){if(t||(t=this.focusService.getFocusedHeader()),!t)return!1;const{headerRowIndex:i,column:s}=t,n=this.getHeaderRowCount(),o=e===0;let{headerRowIndex:a,column:u,headerRowIndexWithoutSpan:l}=o?this.headerPositionUtils.getColumnVisibleParent(s,i):this.headerPositionUtils.getColumnVisibleChild(s,i),c=!1;return a<0&&(a=0,u=s,c=!0),a>=n?(a=-1,this.setCurrentHeaderRowWithoutSpan(-1)):l!==void 0&&(this.currentHeaderRowWithoutSpan=l),!c&&!u?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:u},allowUserOverride:!0,event:r})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,t=!1,r){const i=this.focusService.getFocusedHeader(),s=e===2,n=this.gos.get("enableRtl");let o,a;if(this.currentHeaderRowWithoutSpan!==-1?i.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=i.headerRowIndex,s!==n?(a="Before",o=this.headerPositionUtils.findHeader(i,a)):(a="After",o=this.headerPositionUtils.findHeader(i,a)),o||!t)return this.focusService.focusHeaderPosition({headerPosition:o,direction:a,fromTab:t,allowUserOverride:!0,event:r});if(t){const u=this.gos.getCallback("tabToNextHeader");if(u)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:u,headerPosition:o,direction:a})}return this.focusNextHeaderRow(i,a,r)}focusNextHeaderRow(e,t,r){const i=e.headerRowIndex;let s=null,n;if(t==="Before"?i>0&&(n=i-1,this.currentHeaderRowWithoutSpan-=1,s=this.headerPositionUtils.findColAtEdgeForHeaderRow(n,"end")):(n=i+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),s=this.headerPositionUtils.findColAtEdgeForHeaderRow(n,"start")),!s)return!1;const{column:o,headerRowIndex:a}=this.headerPositionUtils.getHeaderIndexToFocus(s.column,s==null?void 0:s.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:o,headerRowIndex:a},direction:t,fromTab:!0,allowUserOverride:!0,event:r})}scrollToColumn(e,t="After"){if(e.getPinned())return;let r;if(e instanceof Mr){const i=e.getDisplayedLeafColumns();r=t==="Before"?Tt(i):i[0]}else r=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(r)}};B([q("focusService")],zo.prototype,"focusService",2);B([q("headerPositionUtils")],zo.prototype,"headerPositionUtils",2);B([q("ctrlsService")],zo.prototype,"ctrlsService",2);B([we],zo.prototype,"postConstruct",1);zo=B([ke("headerNavigationService")],zo);var ro=class extends ye{setComp(e,t,r){this.comp=e,this.eGui=t,this.createManagedBean(new eo(r,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,$.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,$.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight();const i=this.onHeaderContextMenu.bind(this);this.addManagedListener(this.eGui,"contextmenu",i),this.mockContextMenuForIPad(i),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListener("headerHeight",e),this.addManagedPropertyListener("pivotHeaderHeight",e),this.addManagedPropertyListener("groupHeaderHeight",e),this.addManagedPropertyListener("pivotGroupHeaderHeight",e),this.addManagedPropertyListener("floatingFiltersHeight",e),this.addManagedListener(this.eventService,$.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,$.EVENT_COLUMN_HEADER_HEIGHT_CHANGED,e),this.addManagedListener(this.eventService,$.EVENT_GRID_STYLES_CHANGED,e),this.addManagedListener(this.eventService,$.EVENT_ADVANCED_FILTER_ENABLED_CHANGED,e)}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){const{columnModel:e}=this;let t=0,r=e.getHeaderRowCount(),i;this.filterManager.hasFloatingFilters()&&(r++,t=1);const n=this.columnModel.getColumnGroupHeaderRowHeight(),o=this.columnModel.getColumnHeaderRowHeight(),a=1+t,u=r-a;if(i=t*e.getFloatingFiltersHeight(),i+=u*n,i+=o,this.headerHeight===i)return;this.headerHeight=i;const l=`${i+1}px`;this.comp.setHeightAndMinHeight(l),this.eventService.dispatchEvent({type:$.EVENT_HEADER_HEIGHT_CHANGED})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const t=this.columnModel.getAllDisplayedColumns().some(r=>r.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",t)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),r=e.shiftKey!==t?2:3;(this.headerNavigationService.navigateHorizontally(r,!0,e)||this.focusService.focusNextGridCoreContainer(e.shiftKey))&&e.preventDefault()}handleKeyDown(e){let t=null;switch(e.key){case ae.LEFT:t=2;case ae.RIGHT:ve(t)||(t=3),this.headerNavigationService.navigateHorizontally(t,!1,e);break;case ae.UP:t=0;case ae.DOWN:ve(t)||(t=1),this.headerNavigationService.navigateVertically(t,null,e)&&e.preventDefault();break;default:return}}onFocusOut(e){const{relatedTarget:t}=e;!t&&this.eGui.contains(this.gos.getActiveDomElement())||this.eGui.contains(t)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,t,r){if(!e&&!r||!this.menuService.isHeaderContextMenuEnabled())return;const{target:i}=e??t;(i===this.eGui||i===this.ctrlsService.getHeaderRowContainerCtrl().getViewport())&&this.menuService.showHeaderContextMenu(void 0,e,r)}mockContextMenuForIPad(e){if(!hn())return;const t=new kr(this.eGui),r=i=>{e(void 0,i.touchStart,i.touchEvent)};this.addManagedListener(t,kr.EVENT_LONG_TAP,r),this.addDestroyFunc(()=>t.destroy())}};B([q("headerNavigationService")],ro.prototype,"headerNavigationService",2);B([q("focusService")],ro.prototype,"focusService",2);B([q("columnModel")],ro.prototype,"columnModel",2);B([q("ctrlsService")],ro.prototype,"ctrlsService",2);B([q("filterManager")],ro.prototype,"filterManager",2);B([q("menuService")],ro.prototype,"menuService",2);var p0=class XE extends it{constructor(){super(XE.TEMPLATE)}postConstruct(){const t={addOrRemoveCssClass:(s,n)=>this.addOrRemoveCssClass(s,n),setHeightAndMinHeight:s=>{this.getGui().style.height=s,this.getGui().style.minHeight=s}};this.createManagedBean(new ro).setComp(t,this.getGui(),this.getFocusableElement());const i=s=>{this.createManagedBean(s),this.appendChild(s)};i(new Af("left")),i(new Af(null)),i(new Af("right"))}};p0.TEMPLATE='<div class="ag-header" role="presentation"/>';B([we],p0.prototype,"postConstruct",1);var aD=p0,Uu=class extends ye{addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(t),()=>this.dragService.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const r=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(r)}setResizeIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e,t){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}};B([q("dragService")],Uu.prototype,"dragService",2);B([q("ctrlsService")],Uu.prototype,"ctrlsService",2);Uu=B([ke("horizontalResizeService")],Uu);var $n=class extends ye{hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,t,r){this.showPopup(e,i=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:r,mouseEvent:t,ePopup:i})},r,t.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,t,r){let i=-1,s="left";const n=this.menuService.isLegacyMenuEnabled();!n&&this.gos.get("enableRtl")&&(i=1,s="right");let o=n?void 0:4*i,a=n?void 0:4;this.showPopup(e,u=>{this.popupService.positionPopupByComponent({type:r,eventSource:t,ePopup:u,nudgeX:o,nudgeY:a,alignSide:s,keepWithinBounds:!0,position:"under",column:e})},r,t,n)}showPopup(e,t,r,i,s){const n=e?this.createBean(new _p(e,"COLUMN_MENU")):void 0;if(this.activeMenu=n,!(n!=null&&n.hasFilter())||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const o=document.createElement("div");ur(o,"presentation"),o.classList.add("ag-menu"),s||o.classList.add("ag-filter-menu"),this.tabListener=this.addManagedListener(o,"keydown",g=>this.trapFocusWithin(g,o)),o.appendChild(n==null?void 0:n.getGui());let a;const u=()=>n==null?void 0:n.afterGuiDetached(),l=this.menuService.isColumnMenuAnchoringEnabled()?i??this.ctrlsService.getGridBodyCtrl().getGui():void 0,c=g=>{e.setMenuVisible(!1,"contextMenu");const v=g instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),v&&i&&Ai(i)){const f=this.focusService.findTabbableParent(i);f&&f.focus()}u(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,r,e)},h=this.localeService.getLocaleTextFunc(),d=s&&r!=="columnFilter"?h("ariaLabelColumnMenu","Column Menu"):h("ariaLabelColumnFilter","Column Filter"),p=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:c,positionCallback:()=>t(o),anchorToElement:l,ariaLabel:d});p&&(this.hidePopup=a=p.hideFunc),n.afterInit().then(()=>{t(o),n.afterGuiAttached({container:r,hidePopup:a})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,r,e)}trapFocusWithin(e,t){e.key!==ae.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(t,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,r){const i={type:$.EVENT_COLUMN_MENU_VISIBLE_CHANGED,visible:e,switchingTab:!1,key:t,column:r??null};this.eventService.dispatchEvent(i)}isMenuEnabled(e){var t;return e.isFilterAllowed()&&((t=e.getColDef().menuTabs)!=null?t:["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}};B([q("filterManager")],$n.prototype,"filterManager",2);B([q("popupService")],$n.prototype,"popupService",2);B([q("focusService")],$n.prototype,"focusService",2);B([q("ctrlsService")],$n.prototype,"ctrlsService",2);B([q("menuService")],$n.prototype,"menuService",2);$n=B([ke("filterMenuFactory")],$n);var Ad=(e=>(e.TAB_GUARD="ag-tab-guard",e.TAB_GUARD_TOP="ag-tab-guard-top",e.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",e))(Ad||{}),Ip=class extends ye{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1;const{comp:t,eTopGuard:r,eBottomGuard:i,focusTrapActive:s,forceFocusOutWhenTabGuardsAreEmpty:n,focusInnerElement:o,onFocusIn:a,onFocusOut:u,shouldStopEventPropagation:l,onTabKeyDown:c,handleKeyDown:h,eFocusableElement:d}=e;this.comp=t,this.eTopGuard=r,this.eBottomGuard=i,this.providedFocusInnerElement=o,this.eFocusableElement=d,this.focusTrapActive=!!s,this.forceFocusOutWhenTabGuardsAreEmpty=!!n,this.providedFocusIn=a,this.providedFocusOut=u,this.providedShouldStopEventPropagation=l,this.providedOnTabKeyDown=c,this.providedHandleKeyDown=h}postConstruct(){this.createManagedBean(new eo(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedListener(e,"focus",this.onFocus.bind(this)))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}const t=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t)}findNextElementOutsideAndFocus(e){const t=this.gos.getDocument(),r=this.focusService.findFocusableElements(t.body,null,!0),i=r.indexOf(e?this.eTopGuard:this.eBottomGuard);if(i===-1)return;let s,n;e?(s=0,n=i):(s=i+1,n=r.length);const o=r.slice(s,n),a=this.gos.get("tabIndex");o.sort((u,l)=>{const c=parseInt(u.getAttribute("tabindex")||"0"),h=parseInt(l.getAttribute("tabindex")||"0");return h===a?1:c===a?-1:c===0?1:h===0?-1:c-h}),o[e?o.length-1:0].focus()}onFocusIn(e){this.focusTrapActive||(this.providedFocusIn&&this.providedFocusIn(e),this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const r=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),r&&(r.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length&&t[e?t.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e){return e===this.eTopGuard||e===this.eBottomGuard}};B([q("focusService")],Ip.prototype,"focusService",2);B([we],Ip.prototype,"postConstruct",1);var Rc=class extends it{initialiseTabGuard(t){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();const r=[this.eTopGuard,this.eBottomGuard],i={setTabIndex:s=>{r.forEach(n=>s!=null?n.setAttribute("tabindex",s):n.removeAttribute("tabindex"))}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new Ip({comp:i,focusTrapActive:!!t.focusTrapActive,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:t.onFocusIn,onFocusOut:t.onFocusOut,focusInnerElement:t.focusInnerElement,handleKeyDown:t.handleKeyDown,onTabKeyDown:t.onTabKeyDown,shouldStopEventPropagation:t.shouldStopEventPropagation,forceFocusOutWhenTabGuardsAreEmpty:t.forceFocusOutWhenTabGuardsAreEmpty}))}createTabGuard(t){const r=document.createElement("div"),i=t==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return r.classList.add("ag-tab-guard",i),ur(r,"presentation"),r}addTabGuards(t,r){this.eFocusableElement.insertAdjacentElement("afterbegin",t),this.eFocusableElement.insertAdjacentElement("beforeend",r)}removeAllChildrenExceptTabGuards(){const t=[this.eTopGuard,this.eBottomGuard];mr(this.getFocusableElement()),this.addTabGuards(...t)}forceFocusOutOfContainer(t=!1){this.tabGuardCtrl.forceFocusOutOfContainer(t)}appendChild(t,r){mc(t)||(t=t.getGui());const{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",t):super.appendChild(t,r)}},kp=class QE extends Rc{constructor(t){super(QE.getTemplate(t.cssClass)),this.items=[],this.tabbedItemScrollMap=new Map,this.params=t}postConstruct(){this.setupHeader(),this.params.items&&this.params.items.forEach(t=>this.addItem(t)),this.initialiseTabGuard({onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),focusInnerElement:this.focusInnerElement.bind(this),focusTrapActive:!0}),this.addDestroyFunc(()=>{var t,r,i;return(i=(r=(t=this.activeItem)==null?void 0:t.tabbedItem)==null?void 0:r.afterDetachedCallback)==null?void 0:i.call(r)})}static getTemplate(t){return`<div class="ag-tabs ${t}">
            <div ref="eHeader"></div>
            <div ref="eBody" role="presentation" class="ag-tabs-body ${t?`${t}-body`:""}"></div>
        </div>`}setupHeader(){const{enableCloseButton:t,cssClass:r}=this.params,i=(s,n)=>{s.classList.add(`ag-tabs-${n}`),r&&s.classList.add(`${r}-${n}`)};t?(this.setupCloseButton(i),this.eTabHeader=this.gos.getDocument().createElement("div"),i(this.eHeader,"header-wrapper"),ur(this.eHeader,"presentation"),this.eHeader.appendChild(this.eTabHeader)):this.eTabHeader=this.eHeader,ur(this.eTabHeader,"tablist"),i(this.eTabHeader,"header")}setupCloseButton(t){const r=this.gos.getDocument(),i=r.createElement("button");t(i,"close-button");const s=nr("close",this.gos,void 0,!0);Ui(i,this.params.closeButtonAriaLabel),i.appendChild(s),this.addManagedListener(i,"click",()=>{var o,a;return(a=(o=this.params).onCloseClicked)==null?void 0:a.call(o)});const n=r.createElement("div");t(n,"close-button-wrapper"),ur(n,"presentation"),n.appendChild(i),this.eHeader.appendChild(n),this.eCloseButton=i}handleKeyDown(t){switch(t.key){case ae.RIGHT:case ae.LEFT:if(!this.eTabHeader.contains(this.gos.getActiveDomElement()))return;const r=t.key===ae.RIGHT,i=this.gos.get("enableRtl"),s=this.items.indexOf(this.activeItem),n=r!==i?Math.min(s+1,this.items.length-1):Math.max(s-1,0);if(s===n)return;t.preventDefault();const o=this.items[n];this.showItemWrapper(o),o.eHeaderButton.focus();break;case ae.UP:case ae.DOWN:t.stopPropagation();break}}onTabKeyDown(t){var r,i,s,n;if(t.defaultPrevented)return;const{focusService:o,eHeader:a,eBody:u,activeItem:l,params:c}=this,{suppressTrapFocus:h,enableCloseButton:d}=c,p=this.gos.getActiveDomElement(),g=t.target,v=t.shiftKey;if(a.contains(p)){t.preventDefault(),d&&v&&!((r=this.eCloseButton)!=null&&r.contains(p))?(i=this.eCloseButton)==null||i.focus():h&&v?(s=this.focusService.findFocusableElementBeforeTabGuard(this.gos.getDocument().body,g))==null||s.focus():this.focusBody(t.shiftKey);return}let f=null;if(o.isTargetUnderManagedComponent(u,g)&&(v&&(f=this.focusService.findFocusableElementBeforeTabGuard(u,g)),!f&&!h&&(f=l.eHeaderButton)),!f&&u.contains(p)&&(f=o.findNextFocusableElement(u,!1,v),!f)){t.preventDefault(),h&&!v?this.forceFocusOutOfContainer(v):d&&!v?(n=this.eCloseButton)==null||n.focus():this.focusHeader();return}f&&(t.preventDefault(),f.focus())}focusInnerElement(t){t?this.focusHeader():this.focusBody(!0)}focusHeader(t){this.activeItem.eHeaderButton.focus({preventScroll:t})}focusBody(t){this.focusService.focusInto(this.eBody,t)}setAfterAttachedParams(t){this.afterAttachedParams=t}showFirstItem(){this.items.length>0&&this.showItemWrapper(this.items[0])}addItem(t){const r=document.createElement("span");ur(r,"tab"),r.setAttribute("tabindex","-1"),r.appendChild(t.title),r.classList.add("ag-tab"),this.eTabHeader.appendChild(r),Ui(r,t.titleLabel);const i={tabbedItem:t,eHeaderButton:r};this.items.push(i),r.addEventListener("click",this.showItemWrapper.bind(this,i))}showItem(t){const r=this.items.find(i=>i.tabbedItem===t);r&&this.showItemWrapper(r)}showItemWrapper(t){var r,i,s,n,o,a;const{tabbedItem:u,eHeaderButton:l}=t;if((i=(r=this.params).onItemClicked)==null||i.call(r,{item:u}),this.activeItem===t){(n=(s=this.params).onActiveItemClicked)==null||n.call(s);return}this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),mr(this.eBody),u.bodyPromise.then(c=>{this.eBody.appendChild(c);const h=!this.focusService.isKeyboardMode();if(this.params.suppressFocusBodyOnOpen||this.focusService.focusInto(this.eBody,!1,h),u.afterAttachedCallback&&u.afterAttachedCallback(this.afterAttachedParams),this.params.keepScrollPosition){const d=u.getScrollableContainer&&u.getScrollableContainer()||c;this.lastScrollListener=this.addManagedListener(d,"scroll",()=>{this.tabbedItemScrollMap.set(u.name,d.scrollTop)});const p=this.tabbedItemScrollMap.get(u.name);p!==void 0&&setTimeout(()=>{d.scrollTop=p},0)}}),this.activeItem&&(this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),(a=(o=this.activeItem.tabbedItem).afterDetachedCallback)==null||a.call(o)),l.classList.add("ag-tab-selected"),this.activeItem=t}};B([q("focusService")],kp.prototype,"focusService",2);B([Ee("eHeader")],kp.prototype,"eHeader",2);B([Ee("eBody")],kp.prototype,"eBody",2);B([we],kp.prototype,"postConstruct",1);var lD=50,im=class extends ye{constructor(){super(...arguments),this.polyfillFunctions=[]}observeResize(e,t){const r=this.gos.getWindow(),i=()=>{const a=new r.ResizeObserver(t);return a.observe(e),()=>a.disconnect()},s=()=>{var a,u;let l=(a=e==null?void 0:e.clientWidth)!=null?a:0,c=(u=e==null?void 0:e.clientHeight)!=null?u:0,h=!0;const d=()=>{var p,g;if(h){const v=(p=e==null?void 0:e.clientWidth)!=null?p:0,f=(g=e==null?void 0:e.clientHeight)!=null?g:0;(v!==l||f!==c)&&(l=v,c=f,t()),this.doNextPolyfillTurn(d)}};return d(),()=>h=!1},n=this.gos.get("suppressBrowserResizeObserver");return!!r.ResizeObserver&&!n?i():this.getFrameworkOverrides().wrapIncoming(()=>s(),"resize-observer")}doNextPolyfillTurn(e){this.polyfillFunctions.push(e),this.schedulePolyfill()}schedulePolyfill(){if(this.polyfillScheduled)return;const e=()=>{const t=this.polyfillFunctions;this.polyfillScheduled=!1,this.polyfillFunctions=[],t.forEach(r=>r())};this.polyfillScheduled=!0,window.setTimeout(e,lD)}};im=B([ke("resizeObserverService")],im);var nl=class extends ye{constructor(){super(...arguments),this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}setScrollTop(e){const t=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,t&&e===0){const r=this.paginationProxy.getCurrentPage();r!==this.lastPage&&(this.lastPage=r,this.scrollGoingDown=!0)}this.lastScrollTop=e}init(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&console.warn(`AG Grid: AnimationFrameService.${e} called but animation frames are off`)}createTask(e,t,r){this.verifyAnimationFrameOn(r);const i={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[r],i),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((r,i)=>r.index!==i.index?t*(i.index-r.index):i.createOrder-r.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const t=this.createTasksP1,r=t.list,i=this.createTasksP2,s=i.list,n=this.destroyTasks,o=new Date().getTime();let a=new Date().getTime()-o;const u=e<=0,l=this.ctrlsService.getGridBodyCtrl();for(;u||a<e;){if(!l.getScrollFeature().scrollGridIfNeeded()){let h;if(r.length)this.sortTaskList(t),h=r.pop().task;else if(s.length)this.sortTaskList(i),h=s.pop().task;else if(n.length)h=n.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(h)||h()}a=new Date().getTime()-o}r.length||s.length||n.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const t=this.gos.getWindow();t.requestAnimationFrame?t.requestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let t=!1;return()=>{if(!this.isOn()){window.setTimeout(e,0);return}t||(t=!0,this.addDestroyTask(()=>{t=!1,e()}))}}};B([q("ctrlsService")],nl.prototype,"ctrlsService",2);B([q("paginationProxy")],nl.prototype,"paginationProxy",2);B([we],nl.prototype,"init",1);nl=B([ke("animationFrameService")],nl);var ju=class extends ye{postConstruct(){this.isClientSideRowModel=this.rowModel.getType()==="clientSide"}expandRows(e){if(!this.isClientSideRowModel)return;const t=new Set(e);this.rowModel.forEachNode(r=>{r.id&&t.has(r.id)&&(r.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode(({expanded:t,id:r})=>{t&&r&&e.push(r)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,t,r,i){e&&(r&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,t,r,i),e.setExpanded(t,void 0,i))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}};B([q("rowModel")],ju.prototype,"rowModel",2);B([we],ju.prototype,"postConstruct",1);ju=B([ke("expansionService")],ju);var ls=class extends ye{postConstruct(){var e;this.activeMenuFactory=(e=this.enterpriseMenuFactory)!=null?e:this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const t=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(t,e,e.containerType,!0)}showHeaderContextMenu(e,t,r){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,t,r)}getContextMenuPosition(e,t){const r=this.getRowCtrl(e),i=this.getCellGui(r,t);if(!i)return r?{x:0,y:r.getRowYPosition()}:{x:0,y:0};const s=i.getBoundingClientRect();return{x:s.x+s.width/2,y:s.y+s.height/2}}showContextMenu(e){var t,r,i;const{column:s,rowNode:n}=e;let{anchorToElement:o,value:a}=e;n&&s&&a==null&&(a=n.getValueFromValueService(s)),o==null&&(o=this.getContextMenuAnchorElement(n,s)),(i=this.contextMenuFactory)==null||i.onContextMenu((t=e.mouseEvent)!=null?t:null,(r=e.touchEvent)!=null?r:null,n??null,s??null,a,o)}showColumnChooser(e){var t;(t=this.columnChooserFactory)==null||t.showColumnChooser(e)}hidePopupMenu(){var e;(e=this.contextMenuFactory)==null||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var e;(e=this.columnChooserFactory)==null||e.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:t,suppressHeaderMenuButton:r}=e.getColDef();return!(r??t)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){return!e.getColDef().suppressHeaderFilterButton&&this.filterManager.isFilterAllowed(e)}isHeaderContextMenuEnabled(e){return!(e!=null&&e.getColDef().suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(hn()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){return this.filterManager.isFilterAllowed(e)&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(e){var t;const r=e.getColDef(),i=(t=r.floatingFilterComponentParams)==null?void 0:t.suppressFilterButton;return i!=null&&We("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),r.suppressFloatingFilterButton==null?!i:!r.suppressFloatingFilterButton}getColumnMenuType(){var e;return(e=this.gos.get("columnMenu"))!=null?e:"legacy"}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()||this.gos.exists("suppressMenuHide")?e:!0}showColumnMenuCommon(e,t,r,i){const{column:s,positionBy:n}=t;if(n==="button"){const{buttonElement:o}=t;e.showMenuAfterButtonClick(s,o,r,i)}else if(n==="mouse"){const{mouseEvent:o}=t;e.showMenuAfterMouseEvent(s,o,r,i)}else s&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(s,"auto"),this.animationFrameService.requestAnimationFrame(()=>{const o=this.ctrlsService.getHeaderRowContainerCtrl(s.getPinned()).getHeaderCtrlForColumn(s);e.showMenuAfterButtonClick(s,o.getAnchorElementForMenu(i),r,!0)}))}getRowCtrl(e){const{rowIndex:t,rowPinned:r}=e||{};if(t!=null)return this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:r})||void 0}getCellGui(e,t){if(!e||!t)return;const r=e.getCellCtrl(t);return(r==null?void 0:r.getGui())||void 0}getContextMenuAnchorElement(e,t){const r=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),i=this.getRowCtrl(e);if(!i)return r;const s=this.getCellGui(i,t);return s||(i.isFullWidth()?i.getFullWidthElement():r)}};B([q("filterMenuFactory")],ls.prototype,"filterMenuFactory",2);B([q("ctrlsService")],ls.prototype,"ctrlsService",2);B([q("animationFrameService")],ls.prototype,"animationFrameService",2);B([q("filterManager")],ls.prototype,"filterManager",2);B([q("rowRenderer")],ls.prototype,"rowRenderer",2);B([Lt("columnChooserFactory")],ls.prototype,"columnChooserFactory",2);B([Lt("contextMenuFactory")],ls.prototype,"contextMenuFactory",2);B([Lt("enterpriseMenuFactory")],ls.prototype,"enterpriseMenuFactory",2);B([we],ls.prototype,"postConstruct",1);ls=B([ke("menuService")],ls);var Uo=class extends ye{postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const r=this.getHeaderCellForColumn(e);if(!r)return-1;const i=this.rowRenderer.getAllCellsForColumn(e);return t||i.push(r),this.addElementsToContainerAndGetWidth(i)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.addElementsToContainerAndGetWidth([t]):-1}addElementsToContainerAndGetWidth(e){const t=document.createElement("form");t.style.position="fixed";const r=this.centerRowContainerCtrl.getContainerElement();e.forEach(n=>this.cloneItemIntoDummy(n,t)),r.appendChild(t);const i=t.offsetWidth;r.removeChild(t);const s=this.getAutoSizePadding();return i+s}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let t=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(r=>{const i=r.getHtmlElementForColumnHeader(e);i!=null&&(t=i)}),t}cloneItemIntoDummy(e,t){const r=e.cloneNode(!0);r.style.width="",r.style.position="static",r.style.left="";const i=document.createElement("div"),s=i.classList;["ag-header-cell","ag-header-group-cell"].some(a=>r.classList.contains(a))?(s.add("ag-header","ag-header-row"),i.style.position="static"):s.add("ag-row");let o=e.parentElement;for(;o;){if(["ag-header-row","ag-row"].some(u=>o.classList.contains(u))){for(let u=0;u<o.classList.length;u++){const l=o.classList[u];l!="ag-row-position-absolute"&&s.add(l)}break}o=o.parentElement}i.appendChild(r),t.appendChild(i)}};B([q("rowRenderer")],Uo.prototype,"rowRenderer",2);B([q("ctrlsService")],Uo.prototype,"ctrlsService",2);B([q("rowCssClassCalculator")],Uo.prototype,"rowCssClassCalculator",2);B([we],Uo.prototype,"postConstruct",1);Uo=B([ke("autoWidthCalculator")],Uo);var Tc=class extends ye{constructor(e,t){super(),this.createRowCon=e,this.destroyRowCtrls=t,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.topContainerHeight=0,this.bottomContainerHeight=0}postConstruct(){this.isClientSide=this.rowModel.getType()==="clientSide",this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl})}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){var t,r,i,s;if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let o=(t=e.childStore)==null?void 0:t.getStoreBounds();return e.footer&&(o=(r=e.sibling.childStore)==null?void 0:r.getStoreBounds()),((i=o==null?void 0:o.heightPx)!=null?i:0)+((s=o==null?void 0:o.topPx)!=null?s:0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){const t=e.footer&&e.rowIndex===0,r=!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1;if(t||r){let i=e.footer?e.sibling:e;for(;i.isExpandable()&&i.expanded;)if(i.master)i=i.detailNode;else if(i.childrenAfterSort){if(i.childrenAfterSort.length===0)break;i=Tt(i.childrenAfterSort)}return i.rowTop+i.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){const t=e==="top";let r=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,r);const i=t?this.rowRenderer.getFirstVisibleVerticalPixel():this.rowRenderer.getLastVisibleVerticalPixel(),s=new Set,n=l=>{if(s.add(l),t){const c=this.getLastPixelOfGroup(l),h=i+r+l.rowHeight;c<h?l.stickyRowTop=r+(c-h):l.stickyRowTop=r}else{const c=this.getFirstPixelOfGroup(l),h=i-(r+l.rowHeight);c>h?l.stickyRowTop=r-(c-h):l.stickyRowTop=r}r=0,s.forEach(c=>{const h=c.stickyRowTop+c.rowHeight;r<h&&(r=h)})},o=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky"),u=l=>l.displayed?l.footer?o===!0||o==="grand"&&l.level===-1||o==="group"&&l.level>-1?!1:!s.has(l):l.isExpandable()?a===!0?!1:!s.has(l)&&l.expanded:!1:!1;for(let l=0;l<100;l++){let c=i+r;t||(c=i-r);const h=this.rowModel.getRowIndexAtPixel(c),d=this.rowModel.getRow(h);if(d==null)break;const g=this.getStickyAncestors(d).find(f=>(t?f.rowIndex<h:f.rowIndex>h)&&u(f));if(g){n(g);continue}if((t?d.rowTop<c:d.rowTop+d.rowHeight>c)&&u(d)){n(d);continue}break}return t||s.forEach(l=>{l.stickyRowTop=r-(l.stickyRowTop+l.rowHeight)}),this.refreshNodesAndContainerHeight(e,s,r)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(e===!0)return!0;const t=!!this.gos.get("groupIncludeFooter")||e==="group",r=!!this.gos.get("groupIncludeTotalFooter")||e==="grand";return t&&r?!0:r?"grand":t?"group":!1}canRowsBeSticky(){const e=this.gos.isGroupRowsSticky(),t=this.areFooterRowsStickySuppressed(),r=this.gos.get("suppressGroupRowsSticky");return e&&(!t||!r)}getStickyAncestors(e){const t=[];let r=e.footer?e.sibling:e.parent;for(;r;)r.sibling&&t.push(r.sibling),t.push(r),r=r.parent;return t.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),t=this.updateStickyRows("bottom");return e||t}destroyStickyCtrls(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const t=new Set;if(this.stickyTopRowCtrls.some(r=>r.getRowNode()===e)){for(let r=0;r<this.stickyTopRowCtrls.length;r++){const i=this.stickyTopRowCtrls[r].getRowNode();i!==e&&t.add(i)}this.refreshNodesAndContainerHeight("top",t,this.topContainerHeight)&&this.checkStickyRows();return}for(let r=0;r<this.stickyBottomRowCtrls.length;r++){const i=this.stickyBottomRowCtrls[r].getRowNode();i!==e&&t.add(i)}this.refreshNodesAndContainerHeight("bottom",t,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,t,r){const i=e==="top",s=i?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,n={},o=[];for(let h=0;h<s.length;h++){const d=s[h].getRowNode();if(!t.has(d)){n[d.id]=s[h],d.sticky=!1;continue}o.push(s[h])}const a=new Set;for(let h=0;h<o.length;h++)a.add(o[h].getRowNode());const u=[];t.forEach(h=>{a.has(h)||(h.sticky=!0,u.push(this.createRowCon(h,!1,!1)))});let l=!!u.length||o.length!==s.length;i?this.topContainerHeight!==r&&(this.topContainerHeight=r,this.gridBodyCtrl.setStickyTopHeight(r),l=!0):this.bottomContainerHeight!==r&&(this.bottomContainerHeight=r,this.gridBodyCtrl.setStickyBottomHeight(r),l=!0),this.destroyRowCtrls(n,!1);const c=[...o,...u];return c.sort((h,d)=>d.getRowNode().rowIndex-h.getRowNode().rowIndex),i||c.reverse(),c.forEach(h=>h.setRowTop(h.getRowNode().stickyRowTop)),l?(i?this.stickyTopRowCtrls=c:this.stickyBottomRowCtrls=c,!0):!1}};B([q("rowModel")],Tc.prototype,"rowModel",2);B([q("rowRenderer")],Tc.prototype,"rowRenderer",2);B([q("ctrlsService")],Tc.prototype,"ctrlsService",2);B([we],Tc.prototype,"postConstruct",1);var ji=class extends ye{constructor(){super(...arguments),this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(n=>n.onRangeSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(n=>n.updateRangeBordersIfRangeCount())},r=()=>{this.eventService.addEventListener($.EVENT_RANGE_SELECTION_CHANGED,e),this.eventService.addEventListener($.EVENT_COLUMN_MOVED,t),this.eventService.addEventListener($.EVENT_COLUMN_PINNED,t),this.eventService.addEventListener($.EVENT_COLUMN_VISIBLE,t)},i=()=>{this.eventService.removeEventListener($.EVENT_RANGE_SELECTION_CHANGED,e),this.eventService.removeEventListener($.EVENT_COLUMN_MOVED,t),this.eventService.removeEventListener($.EVENT_COLUMN_PINNED,t),this.eventService.removeEventListener($.EVENT_COLUMN_VISIBLE,t)};this.addDestroyFunc(()=>i()),this.addManagedPropertyListener("enableRangeSelection",n=>{n.currentValue?r():i()}),this.gos.get("enableRangeSelection")&&r()}}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){if(this.addManagedListener(this.eventService,$.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,$.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,$.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,$.EVENT_BODY_SCROLL,this.onBodyScroll.bind(this)),this.addManagedListener(this.eventService,$.EVENT_BODY_HEIGHT_CHANGED,this.redraw.bind(this)),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListeners(["suppressCellFocus","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.gos.isGroupRowsSticky()){const e=this.rowModel.getType();(e==="clientSide"||e==="serverSide")&&(this.stickyRowFeature=this.createManagedBean(new Tc(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this))))}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gos.isDomLayout("print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new uD(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const e=Un(this.rowCtrlsByRowIndex),t=Un(this.zombieRowCtrls),r=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];t.length>0||r.length>0?this.allRowCtrls=[...e,...t,...r]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}registerCellEventListeners(){this.addManagedListener(this.eventService,$.EVENT_CELL_FOCUSED,e=>{this.onCellFocusChanged(e)}),this.addManagedListener(this.eventService,$.EVENT_CELL_FOCUS_CLEARED,()=>{this.onCellFocusChanged()}),this.addManagedListener(this.eventService,$.EVENT_FLASH_CELLS,e=>{this.getAllCellCtrls().forEach(t=>t.onFlashCells(e))}),this.addManagedListener(this.eventService,$.EVENT_COLUMN_HOVER_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())}),this.addManagedListener(this.eventService,$.EVENT_DISPLAYED_COLUMNS_CHANGED,()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())}),this.addManagedListener(this.eventService,$.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,$.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getAllGridColumns().forEach(t=>{const r=u=>{this.getAllCellCtrls().forEach(l=>{l.getColumn()===t&&u(l)})},i=()=>{r(u=>u.onLeftChanged())},s=()=>{r(u=>u.onWidthChanged())},n=()=>{r(u=>u.onFirstRightPinnedChanged())},o=()=>{r(u=>u.onLastLeftPinnedChanged())},a=()=>{r(u=>u.onColDefChanged())};t.addEventListener("leftChanged",i),t.addEventListener("widthChanged",s),t.addEventListener("firstRightPinnedChanged",n),t.addEventListener("lastLeftPinnedChanged",o),t.addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.removeEventListener("leftChanged",i),t.removeEventListener("widthChanged",s),t.removeEventListener("firstRightPinnedChanged",n),t.removeEventListener("lastLeftPinnedChanged",o),t.removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=this.gos.isDomLayout("print"),t=e||this.gos.get("embedFullWidthRows"),r=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,r&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsForColumn(e){const t=[];return this.getAllRowCtrls().forEach(r=>{const i=r.getCellElement(e);i&&t.push(i)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,t){e.forEach(r=>{r.destroyFirstPass(),r.destroySecondPass()}),e.length=0,t&&t.forEach(r=>{const i=new Io(r,this.beans,!1,!1,this.printLayout);e.push(i)})}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var r;if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if((r=this.cachedRowCtrls)!=null&&r.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const i=s=>{const n=s[e.rowIndex];n&&n.getRowNode()===e&&(n.destroyFirstPass(),n.destroySecondPass(),s[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":i(this.topRowCtrls);break;case"bottom":i(this.bottomRowCtrls);break;default:i(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(r=>this.redrawRow(r,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const t=e!=null&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(t==null)return null;const r=this.gos.getActiveDomElement(),i=this.gos.getDomData(r,Fo.DOM_DATA_KEY_CELL_CTRL),s=this.gos.getDomData(r,Io.DOM_DATA_KEY_ROW_CTRL);return i||s?t:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const t=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const r=!e.domLayoutChanged&&!!e.recycleRows,i=e.animate&&this.gos.isAnimateRows(),s=r?this.getRowsToRecycle():null;r||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature&&this.stickyRowFeature.checkStickyRows(),this.recycleRows(s,i),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){const t=e.newData||e.newPage,r=this.gos.get("suppressScrollOnNewData");t&&!r&&this.gridBodyCtrl.getScrollFeature().scrollToTop()}updateContainerHeights(){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let e=this.paginationProxy.getCurrentPageHeight();e===0&&(e=1),this.rowContainerHeightService.setModelHeight(e)}getLockOnRefresh(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0}releaseLockOnRefresh(){this.refreshInProgress=!1}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&(this.focusService.setRestoreFocusedCell(e),this.onCellFocusChanged(this.beans.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"mock"})))}stopEditing(e=!1){this.getAllRowCtrls().forEach(t=>{t.stopEditing(e)})}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),r=t.length;for(let i=0;i<r;i++){const s=t[i].getAllCellCtrls(),n=s.length;for(let o=0;o<n;o++)e.push(s[o])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],t=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],r=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...t];for(const i in this.rowCtrlsByRowIndex)r.push(this.rowCtrlsByRowIndex[i]);return r}addRenderedRowListener(e,t,r){const i=this.rowCtrlsByRowIndex[t];i&&i.addEventListener(e,r)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(t=>t.flashCell(e))}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};this.getCellCtrls(e.rowNodes,e.columns).forEach(r=>r.refreshOrDestroyCell(t)),e.rowNodes&&(this.getRowCtrls(e.rowNodes).forEach(r=>{if(!r.isFullWidth())return;r.refreshFullWidth()||this.redrawRow(r.getRowNode(),!0)}),this.dispatchDisplayedRowsChanged(!1))}getCellRendererInstances(e){var t;const r=this.getCellCtrls(e.rowNodes,e.columns).map(n=>n.getCellRenderer()).filter(n=>n!=null);if((t=e.columns)!=null&&t.length)return r;const i=[],s=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(n=>{if(s&&!this.isRowInMap(n.getRowNode(),s)||!n.isFullWidth())return;const o=n.getFullWidthCellRenderers();for(let a=0;a<o.length;a++){const u=o[a];u!=null&&i.push(u)}}),[...i,...r]}getCellEditorInstances(e){const t=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(r=>{const i=r.getCellEditor();i&&t.push(i)}),t}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(t=>{if(t.isEditing()){const r=t.getCellPosition();e.push(r)}}),e}mapRowNodes(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(r=>{const i=r.id;switch(r.rowPinned){case"top":t.top[i]=r;break;case"bottom":t.bottom[i]=r;break;default:t.normal[i]=r;break}}),t}isRowInMap(e,t){const r=e.id;switch(e.rowPinned){case"top":return t.top[r]!=null;case"bottom":return t.bottom[r]!=null;default:return t.normal[r]!=null}}getRowCtrls(e){const t=this.mapRowNodes(e),r=this.getAllRowCtrls();return!e||!t?r:r.filter(i=>{const s=i.getRowNode();return this.isRowInMap(s,t)})}getCellCtrls(e,t){let r;ve(t)&&(r={},t.forEach(s=>{const n=this.columnModel.getGridColumn(s);ve(n)&&(r[n.getId()]=!0)}));const i=[];return this.getRowCtrls(e).forEach(s=>{s.getAllCellCtrls().forEach(n=>{const o=n.getColumn().getId();r&&!r[o]||i.push(n)})}),i}destroy(){this.removeAllRowComps(),super.destroy()}removeAllRowComps(){const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const e=[];qr(this.rowCtrlsByRowIndex,(r,i)=>{i.getRowNode().id==null&&e.push(r)}),this.removeRowCtrls(e);const t={};return qr(this.rowCtrlsByRowIndex,(r,i)=>{const s=i.getRowNode();t[s.id]=i}),this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(r=>{const i=this.rowCtrlsByRowIndex[r];i&&(i.destroyFirstPass(t),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[r]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{afterScroll:t}=e;let r;this.stickyRowFeature&&kv()&&(r=this.getCellToRestoreFocusToAfterRefresh()||void 0);const i=this.firstRenderedRow,s=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let n=!1;this.stickyRowFeature&&(n=this.stickyRowFeature.checkStickyRows());const o=this.firstRenderedRow!==i||this.lastRenderedRow!==s;if(!(t&&!n&&!o)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,t),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(t&&!n),r!=null)){const a=this.getCellToRestoreFocusToAfterRefresh();r!=null&&a==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(r))}}removeRowCompsNotToDraw(e,t){const r={};e.forEach(n=>r[n]=!0);const s=Object.keys(this.rowCtrlsByRowIndex).filter(n=>!r[n]);this.removeRowCtrls(s,t)}calculateIndexesToDraw(e){let t=AS(this.firstRenderedRow,this.lastRenderedRow);const r=(s,n)=>{const o=n.getRowNode().rowIndex;o!=null&&(o<this.firstRenderedRow||o>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(n)&&t.push(o)};qr(this.rowCtrlsByRowIndex,r),qr(e,r),t.sort((s,n)=>s-n);const i=[];for(let s=0;s<t.length;s++){const n=t[s],o=this.paginationProxy.getRow(n);o&&!o.sticky&&i.push(n)}return i}recycleRows(e,t=!1,r=!1){const i=this.calculateIndexesToDraw(e);(this.printLayout||r)&&(t=!1),this.removeRowCompsNotToDraw(i,!t),i.forEach(s=>{this.createOrUpdateRowCtrl(s,e,t,r)}),e&&(r&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){const t={type:$.EVENT_DISPLAYED_ROWS_CHANGED,afterScroll:e};this.eventService.dispatchEvent(t)}onDisplayedColumnsChanged(){const e=this.columnModel.isPinningLeft(),t=this.columnModel.isPinningRight();(this.pinningLeft!==e||t!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=t,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const r=t.getRowNode().rowIndex;e.push(r.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=this.mapRowNodes(e);return this.getAllRowCtrls().filter(r=>{if(!r.isFullWidth())return!1;const i=r.getRowNode();return!(t!=null&&!this.isRowInMap(i,t))})}createOrUpdateRowCtrl(e,t,r,i){let s,n=this.rowCtrlsByRowIndex[e];if(n||(s=this.paginationProxy.getRow(e),ve(s)&&ve(t)&&t[s.id]&&s.alreadyRendered&&(n=t[s.id],t[s.id]=null)),!n)if(s||(s=this.paginationProxy.getRow(e)),ve(s))n=this.createRowCon(s,r,i);else return;return s&&(s.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=n,n}destroyRowCtrls(e,t){const r=[];qr(e,(i,s)=>{if(s){if(this.cachedRowCtrls&&s.isCacheable()){this.cachedRowCtrls.addRow(s);return}s.destroyFirstPass(!t),t?(this.zombieRowCtrls[s.getInstanceId()]=s,r.push(()=>{s.destroySecondPass(),delete this.zombieRowCtrls[s.getInstanceId()]})):s.destroySecondPass()}}),t&&(r.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),L1(r))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=this.gos.getRowHeightAsNumber();return e*t}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let e,t;if(!this.paginationProxy.isRowsToRender())e=0,t=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.paginationProxy.getPageFirstRow(),t=this.paginationProxy.getPageLastRow();else{const a=this.getRowBufferInPixels(),u=this.ctrlsService.getGridBodyCtrl(),l=this.gos.get("suppressRowVirtualisation");let c=!1,h,d;do{const y=this.paginationProxy.getPixelOffset(),{pageFirstPixel:m,pageLastPixel:w}=this.paginationProxy.getCurrentPagePixelRange(),_=this.rowContainerHeightService.getDivStretchOffset(),A=u.getScrollFeature().getVScrollPosition(),F=A.top,G=A.bottom;l?(h=m+_,d=w+_):(h=Math.max(F+y-a,m)+_,d=Math.min(G+y+a,w)+_),this.firstVisibleVPixel=Math.max(F+y,m)+_,this.lastVisibleVPixel=Math.min(G+y,w)+_,c=this.ensureAllRowsInRangeHaveHeightsCalculated(h,d)}while(c);let p=this.paginationProxy.getRowIndexAtPixel(h),g=this.paginationProxy.getRowIndexAtPixel(d);const v=this.paginationProxy.getPageFirstRow(),f=this.paginationProxy.getPageLastRow();p<v&&(p=v),g>f&&(g=f),e=p,t=g}const r=this.gos.isDomLayout("normal"),i=this.gos.get("suppressMaxRenderedRowRestriction"),s=Math.max(this.getRowBuffer(),500);r&&!i&&t-e>s&&(t=e+s);const n=e!==this.firstRenderedRow,o=t!==this.lastRenderedRow;if(n||o){this.firstRenderedRow=e,this.lastRenderedRow=t;const a={type:$.EVENT_VIEWPORT_CHANGED,firstRow:e,lastRow:t};this.eventService.dispatchEvent(a)}}dispatchFirstDataRenderedEvent(){if(this.dataFirstRenderedFired)return;this.dataFirstRenderedFired=!0;const e={type:$.EVENT_FIRST_DATA_RENDERED,firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow};window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent(e)})}ensureAllRowsInRangeHaveHeightsCalculated(e,t){const r=this.paginationProxy.ensureRowHeightsValid(e,t,-1,-1);return r&&this.updateContainerHeights(),r}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const i=e.getRowNode(),s=this.focusService.isRowNodeFocused(i),n=e.isEditing(),o=i.detail;return s||n||o?!!this.paginationProxy.isRowPresent(i):!1}createRowCon(e,t,r){const i=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(i)return i;const s=this.gos.get("suppressAnimationFrame"),n=r&&!s&&!this.printLayout;return new Io(e,this.beans,t,n,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.values(e).map(t=>t.getRowNode())}getRowByPosition(e){let t;const{rowIndex:r}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[r];break;case"bottom":t=this.bottomRowCtrls[r];break;default:t=this.rowCtrlsByRowIndex[r],t||(t=this.getStickyTopRowCtrls().find(i=>i.getRowNode().rowIndex===r)||null,t||(t=this.getStickyBottomRowCtrls().find(i=>i.getRowNode().rowIndex===r)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const i=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!i}};B([q("animationFrameService")],ji.prototype,"animationFrameService",2);B([q("paginationProxy")],ji.prototype,"paginationProxy",2);B([q("columnModel")],ji.prototype,"columnModel",2);B([q("pinnedRowModel")],ji.prototype,"pinnedRowModel",2);B([q("rowModel")],ji.prototype,"rowModel",2);B([q("focusService")],ji.prototype,"focusService",2);B([q("beans")],ji.prototype,"beans",2);B([q("rowContainerHeightService")],ji.prototype,"rowContainerHeightService",2);B([q("ctrlsService")],ji.prototype,"ctrlsService",2);B([we],ji.prototype,"postConstruct",1);ji=B([ke("rowRenderer")],ji);var uD=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.getRowNode()!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,r=this.entriesMap[t];delete this.entriesMap[t],yi(this.entriesList,r)}removeFromCache(e){const t=e.getRowNode().id;delete this.entriesMap[t],yi(this.entriesList,e)}getEntries(){return this.entriesList}},$u=class extends ye{init(){this.setPinnedTopRowData(),this.setPinnedBottomRowData(),this.addManagedPropertyListener("pinnedTopRowData",()=>this.setPinnedTopRowData()),this.addManagedPropertyListener("pinnedBottomRowData",()=>this.setPinnedBottomRowData())}isEmpty(e){const t=e==="top"?this.pinnedTopRows:this.pinnedBottomRows;return Zi(t)}isRowsToRender(e){return!this.isEmpty(e)}getRowAtPixel(e,t){const r=t==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(Zi(r))return 0;for(let i=0;i<r.length;i++){const s=r[i];if(s.rowTop+s.rowHeight-1>=e)return i}return r.length-1}setPinnedTopRowData(){const e=this.gos.get("pinnedTopRowData");this.pinnedTopRows=this.createNodesFromData(e,!0);const t={type:$.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(t)}setPinnedBottomRowData(){const e=this.gos.get("pinnedBottomRowData");this.pinnedBottomRows=this.createNodesFromData(e,!1);const t={type:$.EVENT_PINNED_ROW_DATA_CHANGED};this.eventService.dispatchEvent(t)}createNodesFromData(e,t){const r=[];if(e){let i=0;e.forEach((s,n)=>{const o=new ht(this.beans);o.data=s;const a=t?ht.ID_PREFIX_TOP_PINNED:ht.ID_PREFIX_BOTTOM_PINNED;o.id=a+n,o.rowPinned=t?"top":"bottom",o.setRowTop(i),o.setRowHeight(this.gos.getRowHeightForNode(o).height),o.setRowIndex(n),i+=o.rowHeight,r.push(o)})}return r}getPinnedTopRowData(){return this.pinnedTopRows}getPinnedBottomRowData(){return this.pinnedBottomRows}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedTopRowCount(){return this.pinnedTopRows?this.pinnedTopRows.length:0}getPinnedBottomRowCount(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0}getPinnedTopRow(e){return this.pinnedTopRows[e]}getPinnedBottomRow(e){return this.pinnedBottomRows[e]}forEachPinnedTopRow(e){Zi(this.pinnedTopRows)||this.pinnedTopRows.forEach(e)}forEachPinnedBottomRow(e){Zi(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(e)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getTotalHeight(e){if(!e||e.length===0)return 0;const t=Tt(e);return t.rowTop+t.rowHeight}};B([q("beans")],$u.prototype,"beans",2);B([we],$u.prototype,"init",1);$u=B([ke("pinnedRowModel")],$u);var Lp=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,t){if(e.children)for(let r=0;r<e.children.length;r++)this.depthFirstSearchChangedPath(e.children[r],t);t(e.rowNode)}depthFirstSearchEverything(e,t,r){if(e.childrenAfterGroup)for(let i=0;i<e.childrenAfterGroup.length;i++){const s=e.childrenAfterGroup[i];s.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[i],t,r):r&&t(s)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,r=!1){this.active&&!r?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,r=0;for(;!this.mapToItems[t.id];){const i={rowNode:t,children:null};this.mapToItems[t.id]=i,r++,t=t.parent}return r}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let r=e;for(;r;)this.nodeIdsToColumns[r.id]||(this.nodeIdsToColumns[r.id]={}),t.forEach(i=>this.nodeIdsToColumns[r.id][i.getId()]=!0),r=r.parent}linkPathItems(e,t){let r=e;for(let i=0;i<t;i++){const s=this.mapToItems[r.id],n=this.mapToItems[r.parent.id];n.children||(n.children=[]),n.children.push(s),r=r.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const r=this.createPathItems(e);this.linkPathItems(e,r),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const r=this.nodeIdsToColumns[e.id];return t.filter(s=>r[s.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const r=this.nodeIdsToColumns[e.id];return t.filter(s=>!r[s.getId()])}},_l=class go extends ye{constructor(t){super(),this.state=go.STATE_WAITING_TO_LOAD,this.version=0,this.id=t}getId(){return this.id}load(){this.state=go.STATE_LOADING,this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state=go.STATE_WAITING_TO_LOAD}getState(){return this.state}pageLoadFailed(t){this.isRequestMostRecentAndLive(t)&&(this.state=go.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)}success(t,r){this.successCommon(t,r)}pageLoaded(t,r,i){this.successCommon(t,{rowData:r,rowCount:i})}isRequestMostRecentAndLive(t){const r=t===this.version,i=this.isAlive();return r&&i}successCommon(t,r){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(t)&&(this.state=go.STATE_LOADED,this.processServerResult(r))}dispatchLoadCompleted(t=!0){const r={type:go.EVENT_LOAD_COMPLETE,success:t,block:this};this.dispatchEvent(r)}};_l.EVENT_LOAD_COMPLETE="loadComplete";_l.STATE_WAITING_TO_LOAD="needsLoading";_l.STATE_LOADING="loading";_l.STATE_LOADED="loaded";_l.STATE_FAILED="failed";var sm=_l,Ws=class extends ye{constructor(){super(...arguments),this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Qe.debounce(this.performCheckBlocksToLoad.bind(this),e))}setBeans(e){this.logger=e.create("RowNodeBlockLoader")}getMaxConcurrentDatasourceRequests(){const e=this.gos.get("maxConcurrentDatasourceRequests");if(e==null)return 2;if(!(e<=0))return e}addBlock(e){this.blocks.push(e),e.addEventListener(sm.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Qe.removeFromArray(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchEvent({type:Ws.BLOCK_LOADED_EVENT}),this.activeBlockLoadsCount==0&&this.dispatchEvent({type:Ws.BLOCK_LOADER_FINISHED_EVENT})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.logger.log("checkBlockToLoad: max loads exceeded");return}const e=this.getAvailableLoadingCount(),t=this.blocks.filter(r=>r.getState()===sm.STATE_WAITING_TO_LOAD).slice(0,e);this.registerLoads(t.length),t.forEach(r=>r.load()),this.printCacheStatus()}getBlockState(){if(this.gos.isRowModelType("serverSide"))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(t=>{const{id:r,state:i}=t.getBlockStateJson();e[r]=i}),e}printCacheStatus(){this.logger.isLogging()&&this.logger.log(`printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}};Ws.BLOCK_LOADED_EVENT="blockLoaded";Ws.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished";B([q("rowModel")],Ws.prototype,"rowModel",2);B([we],Ws.prototype,"postConstruct",1);B([ys(0,es("loggerFactory"))],Ws.prototype,"setBeans",1);Ws=B([ke("rowNodeBlockLoader")],Ws);var Ku=class extends ye{constructor(){super(...arguments),this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.pixelOffset=0,this.masterRowCount=0}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedListener(this.eventService,$.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this)),this.onModelUpdated()}ensureRowHeightsValid(e,t,r,i){const s=this.rowModel.ensureRowHeightsValid(e,t,this.getPageFirstRow(),this.getPageLastRow());return s&&this.calculatePages(),s}isPaginateChildRows(){return this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren")?!0:this.gos.get("paginateChildRows")}onModelUpdated(e){this.calculatePages();const t={type:$.EVENT_PAGINATION_CHANGED,animate:e?e.animate:!1,newData:e?e.newData:!1,newPage:e?e.newPage:!1,newPageSize:e?e.newPageSize:!1,keepRenderedRows:e?e.keepRenderedRows:!1};this.eventService.dispatchEvent(t)}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages();const e={type:$.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!1,keepRenderedRows:!0};this.eventService.dispatchEvent(e)}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){if(!this.active||this.currentPage===e||typeof this.currentPage!="number")return;this.currentPage=e,this.calculatePages();const t={type:$.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!0,newPageSize:!1,keepRenderedRows:!1};this.eventService.dispatchEvent(t)}getPixelOffset(){return this.pixelOffset}getRow(e){return this.rowModel.getRow(e)}getRowNode(e){return this.rowModel.getRowNode(e)}getRowIndexAtPixel(e){return this.rowModel.getRowIndexAtPixel(e)}getCurrentPageHeight(){return tt(this.topRowBounds)||tt(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const e=this.topRowBounds?this.topRowBounds.rowTop:0,t=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:t}}isRowPresent(e){return this.rowModel.isRowPresent(e)?e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex:!1}isEmpty(){return this.rowModel.isEmpty()}isRowsToRender(){return this.rowModel.isRowsToRender()}forEachNode(e){return this.rowModel.forEachNode(e)}forEachNodeOnPage(e){const t=this.getPageFirstRow(),r=this.getPageLastRow();for(let i=t;i<=r;i++){const s=this.getRow(i);s&&e(s)}}getType(){return this.rowModel.getType()}getRowBounds(e){const t=this.rowModel.getRowBounds(e);return t.rowIndex=e,t}getPageFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getPageLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getRowCount(){return this.rowModel.getRowCount()}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const t=this.getPageForIndex(e);this.goToPage(t)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}isLastPageFound(){return this.rowModel.isLastRowIndexKnown()}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return ve(this.pageSizeAutoCalculated)?this.pageSizeAutoCalculated:ve(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:ve(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:ve(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;if(this.pageSizeAutoCalculated=void 0,this.pageSize===e)return;this.calculatePages();const t={type:$.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!0,keepRenderedRows:!1};this.eventService.dispatchEvent(t)}setPageSize(e,t){const r=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}if(r!==this.pageSize){this.calculatePages();const i={type:$.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,newPageSize:!0,keepRenderedRows:!0};this.eventService.dispatchEvent(i)}}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(ve(this.topRowBounds)?this.topRowBounds.rowTop:0)}setPixelOffset(e){this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:$.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const t=this.pageSize*this.currentPage;let r=this.pageSize*(this.currentPage+1)-1;if(r>e&&(r=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(t),r===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const i=this.rowModel.getTopLevelRowDisplayedIndex(r+1);this.bottomDisplayedRowIndex=i-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}};B([q("rowModel")],Ku.prototype,"rowModel",2);B([we],Ku.prototype,"postConstruct",1);Ku=B([ke("paginationProxy")],Ku);var Eh=class extends ye{processAllCellClasses(e,t,r,i){this.processClassRules(void 0,e.cellClassRules,t,r,i),this.processStaticCellClasses(e,t,r)}processClassRules(e,t,r,i,s){if(t==null&&e==null)return;const n={},o={},a=(u,l)=>{u.split(" ").forEach(c=>{c.trim()!=""&&l(c)})};if(t){const u=Object.keys(t);for(let l=0;l<u.length;l++){const c=u[l],h=t[c];let d;typeof h=="string"?d=this.expressionService.evaluate(h,r):typeof h=="function"&&(d=h(r)),a(c,p=>{d?n[p]=!0:o[p]=!0})}}e&&s&&Object.keys(e).forEach(u=>a(u,l=>{n[l]||(o[l]=!0)})),s&&Object.keys(o).forEach(s),Object.keys(n).forEach(i)}getStaticCellClasses(e,t){const{cellClass:r}=e;if(!r)return[];let i;return typeof r=="function"?i=r(t):i=r,typeof i=="string"&&(i=[i]),i||[]}processStaticCellClasses(e,t,r){this.getStaticCellClasses(e,t).forEach(s=>{r(s)})}};B([q("expressionService")],Eh.prototype,"expressionService",2);Eh=B([ke("stylingService")],Eh);var ZE=class extends wp{constructor(e){super(e,"ag-toggle-button")}setValue(e,t){return super.setValue(e,t),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}},cD=class extends ws{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const r=super.setValue(e,t);return this.eInput.value=e,r}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},dD=class extends ra{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct(),this.addManagedListener(this.eInput,"wheel",this.onWheel.bind(this));const e=Hs();this.addManagedListener(this.eInput,"mousedown",()=>{this.isDisabled()||e||this.eInput.focus()}),this.eInput.step="any"}onWheel(e){this.gos.getActiveDomElement()===this.eInput&&e.preventDefault()}setMin(e){var t;const r=e instanceof Date?(t=is(e??null,!1))!=null?t:void 0:e;return this.min===r?this:(this.min=r,Bs(this.eInput,"min",r),this)}setMax(e){var t;const r=e instanceof Date?(t=is(e??null,!1))!=null?t:void 0:e;return this.max===r?this:(this.max=r,Bs(this.eInput,"max",r),this)}setStep(e){return this.step===e?this:(this.step=e,Bs(this.eInput,"step",e),this)}getDate(){var e;if(this.eInput.validity.valid)return(e=Si(this.getValue()))!=null?e:void 0}setDate(e,t){this.setValue(is(e??null,!1),t)}},hD=class extends ws{constructor(e){super(e,"ag-range-field","range")}postConstruct(){super.postConstruct();const{min:e,max:t,step:r}=this.config;e!=null&&this.setMinValue(e),t!=null&&this.setMaxValue(t),this.setStep(r||1)}addInputListeners(){this.addManagedListener(this.eInput,"input",e=>{const t=e.target.value;this.setValue(t)})}setMinValue(e){return this.min=e,this.eInput.setAttribute("min",e.toString()),this}setMaxValue(e){return this.max=e,this.eInput.setAttribute("max",e.toString()),this}setStep(e){return this.eInput.setAttribute("step",e.toString()),this}setValue(e,t){this.min!=null&&(e=Math.max(parseFloat(e),this.min).toString()),this.max!=null&&(e=Math.min(parseFloat(e),this.max).toString());const r=super.setValue(e,t);return this.eInput.value=e,r}},f0=class extends it{constructor(e,t){super('<div class="ag-rich-select-row" role="presentation"></div>'),this.params=e,this.wrapperEl=t}postConstruct(){this.addManagedListener(this.getGui(),"click",this.onClick.bind(this))}setState(e){let t="";this.params.valueFormatter&&(t=this.params.valueFormatter(e)),this.populateWithRenderer(e,t)||this.populateWithoutRenderer(e,t),this.value=e}highlightString(e){const{parsedValue:t}=this;if(this.params.cellRenderer||!ve(t))return;let r=ve(e);if(r){const i=t==null?void 0:t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(i>=0){const s=i+e.length,n=Cr(t.slice(0,i),!0),o=Cr(t.slice(i,s),!0),a=Cr(t.slice(s));this.renderValueWithoutRenderer(`${n}<span class="ag-rich-select-row-text-highlight">${o}</span>${a}`)}else r=!1}r||this.renderValueWithoutRenderer(t)}updateHighlighted(e){var t;const r=this.getGui(),i=`ag-rich-select-row-${this.getCompId()}`;if((t=r.parentElement)==null||t.setAttribute("id",i),e){const s=this.getParentComponent().getAriaElement();Tv(s,i),this.wrapperEl.setAttribute("data-active-option",i)}tl(r.parentElement,e),this.addOrRemoveCssClass("ag-rich-select-row-selected",e)}populateWithoutRenderer(e,t){const r=this.gos.getDocument(),i=this.getGui(),s=r.createElement("span");s.style.overflow="hidden",s.style.textOverflow="ellipsis";const n=Cr(ve(t)?t:e,!0);this.parsedValue=ve(n)?n:null,i.appendChild(s),this.renderValueWithoutRenderer(n),this.setTooltip({newTooltipText:this.parsedValue,shouldDisplayTooltip:()=>s.scrollWidth>s.clientWidth})}renderValueWithoutRenderer(e){const t=this.getGui().querySelector("span");t&&(t.innerHTML=ve(e)?e:"&nbsp;")}populateWithRenderer(e,t){let r,i;return this.params.cellRenderer&&(i=this.userComponentFactory.getCellRendererDetails(this.params,{value:e,valueFormatted:t,setTooltip:(s,n)=>{this.setTooltip({newTooltipText:s,shouldDisplayTooltip:n})}})),i&&(r=i.newAgStackInstance()),r&&$v(r,this.getGui()),r?(r.then(s=>{this.addDestroyFunc(()=>{this.getContext().destroyBean(s)})}),!0):!1}onClick(){const e=this.getParentComponent(),t={type:$.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:!1,value:this.value};e==null||e.dispatchEvent(t)}};B([q("userComponentFactory")],f0.prototype,"userComponentFactory",2);B([we],f0.prototype,"postConstruct",1);var Ac=class JE extends Rc{constructor(t){super(JE.getTemplate((t==null?void 0:t.cssIdentifier)||"default")),this.renderedRows=new Map,this.rowHeight=20,this.pageSize=-1,this.isScrolling=!1,this.isHeightFromTheme=!0;const{cssIdentifier:r="default",ariaRole:i="listbox",listName:s}=t||{};this.cssIdentifier=r,this.ariaRole=i,this.listName=s}postConstruct(){this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:t=>this.onFocusIn(t),onFocusOut:t=>this.onFocusOut(t),focusInnerElement:t=>this.focusInnerElement(t),onTabKeyDown:t=>this.onTabKeyDown(t),handleKeyDown:t=>this.handleKeyDown(t)}),this.setAriaProperties(),this.addManagedListener(this.eventService,$.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanged.bind(this))}onGridStylesChanged(){this.rowHeight=this.getItemHeight(),this.refresh()}setAriaProperties(){const r=this.localeService.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),i=this.eContainer;ur(i,this.ariaRole),Ui(i,r)}addResizeObserver(){const t=()=>this.animationFrameService.requestAnimationFrame(()=>this.drawVirtualRows()),r=this.resizeObserverService.observeResize(this.getGui(),t);this.addDestroyFunc(r)}focusInnerElement(t){this.focusRow(t?this.model.getRowCount()-1:0)}onFocusIn(t){const r=t.target;r.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=lS(r)-1)}onFocusOut(t){this.getFocusableElement().contains(t.relatedTarget)||(this.lastFocusedRowIndex=null)}handleKeyDown(t){switch(t.key){case ae.UP:case ae.DOWN:this.navigate(t.key===ae.UP)&&t.preventDefault();break;case ae.PAGE_HOME:case ae.PAGE_END:case ae.PAGE_UP:case ae.PAGE_DOWN:this.navigateToPage(t.key)!==null&&t.preventDefault();break}}onTabKeyDown(t){this.navigate(t.shiftKey)?t.preventDefault():(Rs(t),this.forceFocusOutOfContainer(t.shiftKey))}navigate(t){if(this.lastFocusedRowIndex==null)return!1;const r=this.lastFocusedRowIndex+(t?-1:1);return r<0||r>=this.model.getRowCount()?!1:(this.focusRow(r),!0)}navigateToPage(t,r="focused"){let i=!1;r==="focused"&&(r=this.getLastFocusedRow(),i=!0);const s=this.model.getRowCount()-1;let n=-1;return t===ae.PAGE_HOME?n=0:t===ae.PAGE_END?n=s:t===ae.PAGE_DOWN?n=Math.min(r+this.pageSize,s):t===ae.PAGE_UP&&(n=Math.max(r-this.pageSize,0)),n===-1?null:(i?this.focusRow(n):this.ensureIndexVisible(n),n)}getLastFocusedRow(){return this.lastFocusedRowIndex}focusRow(t){this.isScrolling||(this.isScrolling=!0,this.ensureIndexVisible(t),this.animationFrameService.requestAnimationFrame(()=>{if(this.isScrolling=!1,!this.isAlive())return;const r=this.renderedRows.get(t);r&&r.eDiv.focus()}))}getComponentAt(t){const r=this.renderedRows.get(t);return r&&r.rowComponent}forEachRenderedRow(t){this.renderedRows.forEach((r,i)=>t(r.rowComponent,i))}static getTemplate(t){return`<div class="ag-virtual-list-viewport ag-${t}-virtual-list-viewport" role="presentation">
                <div class="ag-virtual-list-container ag-${t}-virtual-list-container" ref="eContainer"></div>
            </div>`}getItemHeight(){return this.isHeightFromTheme?this.environment.getListItemHeight():this.rowHeight}ensureIndexVisible(t,r=!0){const i=this.model.getRowCount();if(typeof t!="number"||t<0||t>=i)return console.warn("AG Grid: invalid row index for ensureIndexVisible: "+t),!1;const s=t*this.rowHeight,n=s+this.rowHeight,o=this.getGui(),a=o.scrollTop,u=o.offsetHeight,l=a+u,c=r?0:this.rowHeight,h=a>s+c,d=l<n-c;if(h)return o.scrollTop=s,!0;if(d){const p=n-u;return o.scrollTop=p,!0}return!1}setComponentCreator(t){this.componentCreator=t}setComponentUpdater(t){this.componentUpdater=t}getRowHeight(){return this.rowHeight}getScrollTop(){return this.getGui().scrollTop}setRowHeight(t){this.isHeightFromTheme=!1,this.rowHeight=t,this.refresh()}refresh(t){if(this.model==null||!this.isAlive())return;const r=this.model.getRowCount();this.eContainer.style.height=`${r*this.rowHeight}px`,wv(()=>this.eContainer.clientHeight>=r*this.rowHeight,()=>{this.isAlive()&&(this.canSoftRefresh(t)?this.drawVirtualRows(!0):(this.clearVirtualRows(),this.drawVirtualRows()))})}canSoftRefresh(t){return!!(t&&this.renderedRows.size&&typeof this.model.areRowsEqual=="function"&&this.componentUpdater)}clearVirtualRows(){this.renderedRows.forEach((t,r)=>this.removeRow(r))}drawVirtualRows(t){if(!this.isAlive()||!this.model)return;const r=this.getGui(),i=r.scrollTop,s=i+r.offsetHeight,n=Math.floor(i/this.rowHeight),o=Math.floor(s/this.rowHeight);this.pageSize=Math.floor((s-i)/this.rowHeight),this.ensureRowsRendered(n,o,t)}ensureRowsRendered(t,r,i){this.renderedRows.forEach((s,n)=>{(n<t||n>r)&&n!==this.lastFocusedRowIndex&&this.removeRow(n)}),i&&this.refreshRows();for(let s=t;s<=r;s++)this.renderedRows.has(s)||s<this.model.getRowCount()&&this.insertRow(s)}insertRow(t){const r=this.model.getRow(t),i=document.createElement("div");i.classList.add("ag-virtual-list-item",`ag-${this.cssIdentifier}-virtual-list-item`),ur(i,this.ariaRole==="tree"?"treeitem":"option"),cp(i,this.model.getRowCount()),dp(i,t+1),i.setAttribute("tabindex","-1"),i.style.height=`${this.rowHeight}px`,i.style.top=`${this.rowHeight*t}px`;const s=this.componentCreator(r,i);s.addGuiEventListener("focusin",()=>this.lastFocusedRowIndex=t),i.appendChild(s.getGui()),this.renderedRows.has(t-1)?this.renderedRows.get(t-1).eDiv.insertAdjacentElement("afterend",i):this.renderedRows.has(t+1)?this.renderedRows.get(t+1).eDiv.insertAdjacentElement("beforebegin",i):this.eContainer.appendChild(i),this.renderedRows.set(t,{rowComponent:s,eDiv:i,value:r})}removeRow(t){const r=this.renderedRows.get(t);this.eContainer.removeChild(r.eDiv),this.destroyBean(r.rowComponent),this.renderedRows.delete(t)}refreshRows(){const t=this.model.getRowCount();this.renderedRows.forEach((r,i)=>{var s,n;if(i>=t)this.removeRow(i);else{const o=this.model.getRow(i);(n=(s=this.model).areRowsEqual)!=null&&n.call(s,r.value,o)?this.componentUpdater(o,r.rowComponent):this.removeRow(i)}})}addScrollListener(){this.addGuiEventListener("scroll",()=>this.drawVirtualRows(),{passive:!0})}setModel(t){this.model=t}getAriaElement(){return this.eContainer}destroy(){this.isAlive()&&(this.clearVirtualRows(),super.destroy())}};B([q("resizeObserverService")],Ac.prototype,"resizeObserverService",2);B([q("animationFrameService")],Ac.prototype,"animationFrameService",2);B([Ee("eContainer")],Ac.prototype,"eContainer",2);B([we],Ac.prototype,"postConstruct",1);var e2=Ac,pD=`
    <div class="ag-picker-field" role="presentation">
        <div ref="eLabel"></div>
            <div ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-rich-select-value ag-picker-collapsed">
            <div ref="eDisplayField" class="ag-picker-field-display"></div>
            <ag-input-text-field ref="eInput" class="ag-rich-select-field-input"></ag-input-text-field>
            <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
        </div>
    </div>`,Np=class extends ta{constructor(e){var t,r;super(er(Be({pickerAriaLabelKey:"ariaLabelRichSelectField",pickerAriaLabelValue:"Rich Select Field",pickerType:"ag-list",className:"ag-rich-select",pickerIcon:"smallDown",ariaRole:"combobox",template:(t=e==null?void 0:e.template)!=null?t:pD,modalPicker:!1},e),{maxPickerHeight:(r=e==null?void 0:e.maxPickerHeight)!=null?r:"calc(var(--ag-row-height) * 6.5)"})),this.searchString="",this.highlightedItem=-1,this.lastRowHovered=-1,this.searchStringCreator=null;const{cellRowHeight:i,value:s,valueList:n,searchStringCreator:o}=e||{};i!=null&&(this.cellRowHeight=i),s!==void 0&&(this.value=s),n!=null&&(this.values=n),o&&(this.searchStringCreator=o)}postConstruct(){super.postConstruct(),this.createLoadingElement(),this.createListComponent();const{allowTyping:e,placeholder:t}=this.config;e?(this.eInput.setAutoComplete(!1).setInputPlaceholder(t),this.eDisplayField.classList.add("ag-hidden")):this.eInput.setDisplayed(!1),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{searchDebounceDelay:r=300}=this.config;this.clearSearchString=ri(this.clearSearchString,r),this.renderSelectedValue(),e&&(this.eInput.onValueChange(i=>this.searchTextFromString(i)),this.addManagedListener(this.eWrapper,"focus",this.onWrapperFocus.bind(this))),this.addManagedListener(this.eWrapper,"focusout",this.onWrapperFocusOut.bind(this))}createLoadingElement(){const e=this.gos.getDocument(),t=this.localeService.getLocaleTextFunc(),r=e.createElement("div");r.classList.add("ag-loading-text"),r.innerText=t("loadingOoo","Loading..."),this.eLoading=r}createListComponent(){this.listComponent=this.createBean(new e2({cssIdentifier:"rich-select"})),this.listComponent.setComponentCreator(this.createRowComponent.bind(this));const e=(a,u)=>{};this.listComponent.setComponentUpdater(e),this.listComponent.setParentComponent(this),this.addManagedListener(this.listComponent,$.EVENT_FIELD_PICKER_VALUE_SELECTED,a=>{this.onListValueSelected(a.value,a.fromEnterKey)});const{cellRowHeight:t}=this;t&&this.listComponent.setRowHeight(t);const r=this.listComponent.getGui(),i=this.listComponent.getAriaElement();this.addManagedListener(r,"mousemove",this.onPickerMouseMove.bind(this)),this.addManagedListener(r,"mousedown",a=>a.preventDefault()),r.classList.add("ag-rich-select-list");const s=`ag-rich-select-list-${this.listComponent.getCompId()}`;i.setAttribute("id",s);const o=this.localeService.getLocaleTextFunc()(this.config.pickerAriaLabelKey,this.config.pickerAriaLabelValue);Ui(i,o),Mv(this.eWrapper,i)}renderSelectedValue(){const{value:e,eDisplayField:t,config:r}=this,{allowTyping:i,initialInputValue:s}=this.config,n=this.config.valueFormatter?this.config.valueFormatter(e):e;if(i){this.eInput.setValue(s??n);return}let o;r.cellRenderer&&(o=this.userComponentFactory.getCellRendererDetails(this.config,{value:e,valueFormatted:n}));let a;if(o&&(a=o.newAgStackInstance()),a)mr(t),$v(a,t),a.then(u=>{this.addDestroyFunc(()=>this.getContext().destroyBean(u))});else{if(ve(this.value))t.innerText=n,t.classList.remove("ag-display-as-placeholder");else{const{placeholder:u}=r;ve(u)?(t.innerHTML=`${Cr(u)}`,t.classList.add("ag-display-as-placeholder")):mr(t)}this.setTooltip({newTooltipText:n??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth})}}getCurrentValueIndex(){const{currentList:e,value:t}=this;if(t==null||!e)return-1;for(let r=0;r<e.length;r++)if(e[r]===t)return r;return-1}highlightFilterMatch(){var e;(e=this.listComponent)==null||e.forEachRenderedRow((t,r)=>{t.highlightString(this.searchString)})}highlightSelectedValue(e){var t;e==null&&(e=this.getCurrentValueIndex()),this.highlightedItem=e,(t=this.listComponent)==null||t.forEachRenderedRow((r,i)=>{const s=e===-1?!1:this.highlightedItem===i;r.updateHighlighted(s)})}setRowHeight(e){e!==this.cellRowHeight&&(this.cellRowHeight=e),this.listComponent&&this.listComponent.setRowHeight(e)}createPickerComponent(){const{values:e}=this;return e&&this.setValueList({valueList:e}),this.listComponent}setSearchStringCreator(e){this.searchStringCreator=e}setValueList(e){const{valueList:t,refresh:r}=e;this.listComponent&&this.currentList!==t&&(this.currentList=t,this.listComponent.setModel({getRowCount:()=>t.length,getRow:i=>t[i],areRowsEqual:(i,s)=>i===s}),r&&(this.values?this.listComponent.refresh(!0):(this.values=t,this.isPickerDisplayed&&this.showCurrentValueInPicker())))}showPicker(){super.showPicker(),this.showCurrentValueInPicker(),this.displayOrHidePicker()}showCurrentValueInPicker(){var e,t;if(!this.listComponent)return;if(!this.currentList){this.isPickerDisplayed&&this.eLoading&&this.listComponent.appendChild(this.eLoading);return}(e=this.eLoading)!=null&&e.offsetParent&&((t=this.eLoading.parentElement)==null||t.removeChild(this.eLoading));const r=this.getCurrentValueIndex();r!==-1?(this.listComponent.refresh(),this.listComponent.ensureIndexVisible(r),this.listComponent.refresh(!0),this.highlightSelectedValue(r)):this.listComponent.refresh()}beforeHidePicker(){this.highlightedItem=-1,super.beforeHidePicker()}onWrapperFocus(){if(!this.eInput)return;const e=this.eInput.getFocusableElement();e.focus(),e.select()}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}buildSearchStringFromKeyboardEvent(e){let{key:t}=e;if(t===ae.BACKSPACE)this.searchString=this.searchString.slice(0,-1),t="";else if(!gp(e))return;e.preventDefault(),this.searchTextFromCharacter(t)}searchTextFromCharacter(e){this.searchString+=e,this.runSearch(),this.clearSearchString()}searchTextFromString(e){e==null&&(e=""),this.searchString=e,this.runSearch()}buildSearchStrings(e){const{valueFormatter:t=i=>i}=this.config;let r;return typeof e[0]=="number"||typeof e[0]=="string"?r=e.map(i=>t(i)):typeof e[0]=="object"&&this.searchStringCreator&&(r=this.searchStringCreator(e)),r}getSuggestionsAndFilteredValues(e,t){let r=[],i=[];if(!e.length)return{suggestions:r,filteredValues:i};const{searchType:s="fuzzy",filterList:n}=this.config;if(s==="fuzzy"){const o=vc(this.searchString,t,!0);r=o.values;const a=o.indices;if(n&&a.length)for(let u=0;u<a.length;u++)i.push(this.values[a[u]])}else r=t.filter((o,a)=>{const u=o.toLocaleLowerCase(),l=this.searchString.toLocaleLowerCase(),c=s==="match"?u.startsWith(l):u.indexOf(l)!==-1;return n&&c&&i.push(this.values[a]),c});return{suggestions:r,filteredValues:i}}filterListModel(e){const{filterList:t}=this.config;t&&(this.setValueList({valueList:e,refresh:!0}),this.alignPickerToComponent())}runSearch(){var e,t;const{values:r}=this,i=this.buildSearchStrings(r);if(!i){this.highlightSelectedValue(-1);return}const{suggestions:s,filteredValues:n}=this.getSuggestionsAndFilteredValues(this.searchString,i),{filterList:o,highlightMatch:a,searchType:u="fuzzy"}=this.config,l=n.length,c=!!(o&&this.searchString!=="");if(this.filterListModel(c?n:r),s.length){const h=c?0:i.indexOf(s[0]);this.selectListItem(h)}else if(this.highlightSelectedValue(-1),!c||l)(e=this.listComponent)==null||e.ensureIndexVisible(0);else if(c){this.getAriaElement().removeAttribute("data-active-option");const h=(t=this.listComponent)==null?void 0:t.getAriaElement();h&&Tv(h,null)}a&&u!=="fuzzy"&&this.highlightFilterMatch(),this.displayOrHidePicker()}displayOrHidePicker(){var e;const t=(e=this.listComponent)==null?void 0:e.getGui(),r=this.currentList?this.currentList.length===0:!1;t==null||t.classList.toggle("ag-hidden",r)}clearSearchString(){this.searchString=""}selectListItem(e,t){if(!this.isPickerDisplayed||!this.currentList||!this.listComponent||e<0||e>=this.currentList.length)return;this.listComponent.ensureIndexVisible(e,!t)&&!t&&this.listComponent.refresh(!0),this.highlightSelectedValue(e)}setValue(e,t,r){const i=this.currentList?this.currentList.indexOf(e):-1;return i===-1?this:(this.value=e,r||this.selectListItem(i),this.renderSelectedValue(),super.setValue(e,t))}createRowComponent(e){const t=new f0(this.config,this.eWrapper);t.setParentComponent(this.listComponent),this.getContext().createBean(t),t.setState(e);const{highlightMatch:r,searchType:i="fuzzy"}=this.config;return r&&i!=="fuzzy"&&t.highlightString(this.searchString),t}getRowForMouseEvent(e){const{listComponent:t}=this;if(!t)return-1;const i=(t==null?void 0:t.getGui()).getBoundingClientRect(),s=t.getScrollTop(),n=e.clientY-i.top+s;return Math.floor(n/t.getRowHeight())}onPickerMouseMove(e){if(!this.listComponent)return;const t=this.getRowForMouseEvent(e);t!==-1&&t!=this.lastRowHovered&&(this.lastRowHovered=t,this.selectListItem(t,!0))}onNavigationKeyDown(e,t){e.preventDefault();const r=t===ae.DOWN;if(!this.isPickerDisplayed&&r){this.showPicker();return}const i=this.highlightedItem,n=i===-1?0:i+(r?1:-1);this.selectListItem(n)}onPageNavigation(e){var t;if(!this.isPickerDisplayed)return;const r=(t=this.listComponent)==null?void 0:t.navigateToPage(e,this.highlightedItem);r!=null&&this.animationFrameService.requestAnimationFrame(()=>{if(!this.isAlive())return null;this.highlightSelectedValue(r)})}onEnterKeyDown(e){this.isPickerDisplayed&&(e.preventDefault(),this.currentList&&this.onListValueSelected(this.currentList[this.highlightedItem],!0))}onTabKeyDown(){!this.isPickerDisplayed||!this.currentList||this.setValue(this.currentList[this.highlightedItem],!1,!0)}onListValueSelected(e,t){this.setValue(e,!1,!0),this.dispatchPickerEvent(e,t),this.hidePicker()}dispatchPickerEvent(e,t){const r={type:$.EVENT_FIELD_PICKER_VALUE_SELECTED,fromEnterKey:t,value:e};this.dispatchEvent(r)}getFocusableElement(){const{allowTyping:e}=this.config;return e?this.eInput.getFocusableElement():super.getFocusableElement()}onKeyDown(e){const t=e.key,{allowTyping:r}=this.config;switch(t){case ae.LEFT:case ae.RIGHT:r||e.preventDefault();break;case ae.PAGE_HOME:case ae.PAGE_END:if(r){e.preventDefault();const i=this.eInput.getInputElement(),s=t===ae.PAGE_HOME?0:i.value.length;i.setSelectionRange(s,s);break}case ae.PAGE_UP:case ae.PAGE_DOWN:e.preventDefault(),this.onPageNavigation(t);break;case ae.DOWN:case ae.UP:this.onNavigationKeyDown(e,t);break;case ae.ESCAPE:this.isPickerDisplayed&&(Ai(this.listComponent.getGui())&&(e.preventDefault(),Rs(e)),this.hidePicker());break;case ae.ENTER:this.onEnterKeyDown(e);break;case ae.TAB:this.onTabKeyDown();break;default:r||this.buildSearchStringFromKeyboardEvent(e)}}destroy(){this.listComponent&&(this.destroyBean(this.listComponent),this.listComponent=void 0),this.eLoading=void 0,super.destroy()}};B([q("userComponentFactory")],Np.prototype,"userComponentFactory",2);B([q("animationFrameService")],Np.prototype,"animationFrameService",2);B([Ee("eInput")],Np.prototype,"eInput",2);var Rl=class t2 extends Xv{constructor(t){super(t,t2.TEMPLATE),this.labelAlignment="top"}init(){this.eSlider.addCssClass("ag-slider-field");const{minValue:t,maxValue:r,textFieldWidth:i,step:s,value:n,onValueChange:o}=this.config;t!=null&&this.setMinValue(t),r!=null&&this.setMaxValue(r),i!=null&&this.setTextFieldWidth(i),s!=null&&this.setStep(s),n!=null&&this.setValue(n),o!=null&&this.onValueChange(o)}onValueChange(t){const r=$.EVENT_FIELD_VALUE_CHANGED;return this.addManagedListener(this.eText,r,()=>{const i=parseFloat(this.eText.getValue());this.eSlider.setValue(i.toString(),!0),t(i||0)}),this.addManagedListener(this.eSlider,r,()=>{const i=this.eSlider.getValue();this.eText.setValue(i,!0),t(parseFloat(i))}),this}setSliderWidth(t){return this.eSlider.setWidth(t),this}setTextFieldWidth(t){return this.eText.setWidth(t),this}setMinValue(t){return this.eSlider.setMinValue(t),this.eText.setMin(t),this}setMaxValue(t){return this.eSlider.setMaxValue(t),this.eText.setMax(t),this}getValue(){return this.eText.getValue()}setValue(t,r){return this.getValue()===t?this:(this.eText.setValue(t,!0),this.eSlider.setValue(t,!0),r||this.dispatchEvent({type:$.EVENT_FIELD_VALUE_CHANGED}),this)}setStep(t){return this.eSlider.setStep(t),this.eText.setStep(t),this}};Rl.TEMPLATE=`<div class="ag-slider">
            <label ref="eLabel"></label>
            <div class="ag-wrapper ag-slider-wrapper">
                <ag-input-range ref="eSlider"></ag-input-range>
                <ag-input-number-field ref="eText"></ag-input-number-field>
            </div>
        </div>`;B([Ee("eLabel")],Rl.prototype,"eLabel",2);B([Ee("eSlider")],Rl.prototype,"eSlider",2);B([Ee("eText")],Rl.prototype,"eText",2);B([we],Rl.prototype,"init",1);var fD=Rl,io=class Ca extends it{constructor(t={}){super(Ca.getTemplate(t)),this.params=t,this.suppressEnabledCheckbox=!0,this.suppressToggleExpandOnEnableChange=!1;const{enabled:r,items:i,suppressEnabledCheckbox:s,expanded:n,suppressToggleExpandOnEnableChange:o,useToggle:a}=t;this.cssIdentifier=t.cssIdentifier||"default",this.enabled=r??!0,this.items=i||[],this.useToggle=a??!1,this.alignItems=t.alignItems||"center",this.expanded=n??!0,s!=null&&(this.suppressEnabledCheckbox=s),o!=null&&(this.suppressToggleExpandOnEnableChange=o)}static getTemplate(t){const r=t.cssIdentifier||"default",i=t.direction||"vertical";return`
            <div class="ag-group ag-${r}-group" role="presentation">
                <div ref="eToolbar" class="ag-group-toolbar ag-${r}-group-toolbar">
                    <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>
                </div>
                <div ref="eContainer" class="ag-group-container ag-group-container-${i} ag-${r}-group-container"></div>
            </div>
        `}postConstruct(){if(this.setupTitleBar(),this.items.length){const s=this.items;this.items=[],this.addItems(s)}const t=this.localeService.getLocaleTextFunc();this.cbGroupEnabled.setLabel(t("enabled","Enabled")),this.enabled&&this.setEnabled(this.enabled,void 0,!0),this.setAlignItems(this.alignItems);const{onEnableChange:r,suppressOpenCloseIcons:i}=this.params;this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(i??!1),this.refreshChildDisplay(),Ct(this.eContainer,this.expanded),this.cbGroupEnabled.onValueChange(s=>{this.setEnabled(s,!0,this.suppressToggleExpandOnEnableChange),this.dispatchEnableChangeEvent(s)}),r!=null&&this.onEnableChange(r)}refreshChildDisplay(){var t;Ct(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),(t=this.eTitleBar)==null||t.refreshOnExpand(this.expanded)}isExpanded(){return this.expanded}setAlignItems(t){this.alignItems!==t&&this.removeCssClass(`ag-group-item-alignment-${this.alignItems}`),this.alignItems=t;const r=`ag-group-item-alignment-${this.alignItems}`;return this.addCssClass(r),this}toggleGroupExpand(t){var r;let i=!1;if((r=this.eTitleBar)!=null&&r.isSuppressCollapse()&&!this.useToggle)t=!0,i=!0;else if(t=t??!this.expanded,this.expanded===t)return this;return this.expanded=t,this.refreshChildDisplay(),Ct(this.eContainer,t),i||this.dispatchEvent({type:t?Ca.EVENT_EXPANDED:Ca.EVENT_COLLAPSED}),this}addItems(t){t.forEach(r=>this.addItem(r))}prependItem(t){this.insertItem(t,!0)}addItem(t){this.insertItem(t,!1)}insertItem(t,r){const i=this.eContainer,s=t instanceof it?t.getGui():t;s.classList.add("ag-group-item",`ag-${this.cssIdentifier}-group-item`),r?(i.insertAdjacentElement("afterbegin",s),this.items.unshift(s)):(i.appendChild(s),this.items.push(s))}hideItem(t,r){const i=this.items[r];Ct(i,!t)}getItemIndex(t){const r=t instanceof it?t.getGui():t;return this.items.indexOf(r)}setTitle(t){var r;return(r=this.eTitleBar)==null||r.setTitle(t),this}addTitleBarWidget(t){var r;return(r=this.eTitleBar)==null||r.addWidget(t),this}addCssClassToTitleBar(t){var r;(r=this.eTitleBar)==null||r.addCssClass(t)}dispatchEnableChangeEvent(t){const r={type:Ca.EVENT_ENABLE_CHANGE,enabled:t};this.dispatchEvent(r)}setEnabled(t,r,i){var s;return this.enabled=t,this.refreshDisabledStyles(),i||this.toggleGroupExpand(t),r||(this.cbGroupEnabled.setValue(t),(s=this.eToggle)==null||s.setValue(t)),this}isEnabled(){return this.enabled}onEnableChange(t){return this.addManagedListener(this,Ca.EVENT_ENABLE_CHANGE,r=>t(r.enabled)),this}hideEnabledCheckbox(t){return this.suppressEnabledCheckbox=t,this.refreshChildDisplay(),this.refreshDisabledStyles(),this}hideOpenCloseIcons(t){var r;return(r=this.eTitleBar)==null||r.hideOpenCloseIcons(t),this}refreshDisabledStyles(){var t;const r=!this.enabled;this.eContainer.classList.toggle("ag-disabled",r),(t=this.eTitleBar)==null||t.refreshDisabledStyles(this.suppressEnabledCheckbox&&r),this.eContainer.classList.toggle("ag-disabled-group-container",r)}setupTitleBar(){const t=this.useToggle?this.createToggleTitleBar():this.createDefaultTitleBar();this.eToolbar.insertAdjacentElement("beforebegin",t.getGui())}createDefaultTitleBar(){const t=this.createManagedBean(new uC(this.params));return this.eTitleBar=t,t.refreshOnExpand(this.expanded),this.addManagedListener(t,uC.EVENT_EXPAND_CHANGED,r=>this.toggleGroupExpand(r.expanded)),t}createToggleTitleBar(){var t;const r=this.createManagedBean(new ZE({value:this.enabled,label:this.params.title,labelAlignment:"left",labelWidth:"flex",onValueChange:i=>{this.setEnabled(i,!0),this.dispatchEnableChangeEvent(i)}}));return r.addCssClass("ag-group-title-bar"),r.addCssClass(`ag-${(t=this.params.cssIdentifier)!=null?t:"default"}-group-title-bar ag-unselectable`),this.eToggle=r,this.toggleGroupExpand(this.enabled),r}};io.EVENT_EXPANDED="expanded";io.EVENT_COLLAPSED="collapsed";io.EVENT_ENABLE_CHANGE="enableChange";B([Ee("eToolbar")],io.prototype,"eToolbar",2);B([Ee("cbGroupEnabled")],io.prototype,"cbGroupEnabled",2);B([Ee("eContainer")],io.prototype,"eContainer",2);B([we],io.prototype,"postConstruct",1);var gD=io,Df="ag-disabled-group-title-bar",Tl=class nm extends it{constructor(t={}){super(nm.getTemplate(t)),this.suppressOpenCloseIcons=!1;const{title:r,suppressOpenCloseIcons:i}=t;r&&r.length>0&&(this.title=r),i!=null&&(this.suppressOpenCloseIcons=i)}static getTemplate(t){var r;const i=(r=t.cssIdentifier)!=null?r:"default";return`
            <div class="ag-group-title-bar ag-${i}-group-title-bar ag-unselectable" role="button">
                <span class="ag-group-title-bar-icon ag-${i}-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>
                <span class="ag-group-title-bar-icon ag-${i}-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>
                <span ref="eTitle" class="ag-group-title ag-${i}-group-title"></span>
            </div>
        `}postConstruct(){this.setTitle(this.title),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract()}setupExpandContract(){this.eGroupClosedIcon.appendChild(Yi("columnSelectClosed",this.gos,null)),this.eGroupOpenedIcon.appendChild(Yi("columnSelectOpen",this.gos,null)),this.addManagedListener(this.getGui(),"click",()=>this.dispatchExpandChanged()),this.addManagedListener(this.getGui(),"keydown",t=>{switch(t.key){case ae.ENTER:case ae.SPACE:t.preventDefault(),this.dispatchExpandChanged();break;case ae.RIGHT:case ae.LEFT:t.preventDefault(),this.dispatchExpandChanged(t.key===ae.RIGHT);break}})}refreshOnExpand(t){this.refreshAriaStatus(t),this.refreshOpenCloseIcons(t)}refreshAriaStatus(t){this.suppressOpenCloseIcons||on(this.getGui(),t)}refreshOpenCloseIcons(t){const r=!this.suppressOpenCloseIcons;Ct(this.eGroupOpenedIcon,r&&t),Ct(this.eGroupClosedIcon,r&&!t)}isSuppressCollapse(){return this.suppressOpenCloseIcons}dispatchExpandChanged(t){const r={type:nm.EVENT_EXPAND_CHANGED,expanded:t};this.dispatchEvent(r)}setTitle(t){const r=this.getGui(),i=!!t&&t.length>0;t=i?t:void 0,this.eTitle.textContent=t??"",Ct(r,i),t!==this.title&&(this.title=t);const s=r.classList.contains(Df);return this.refreshDisabledStyles(s),this}addWidget(t){return this.getGui().appendChild(t),this}hideOpenCloseIcons(t){return this.suppressOpenCloseIcons=t,t&&this.dispatchExpandChanged(!0),this}refreshDisabledStyles(t){const r=this.getGui();t?(r.classList.add(Df),r.removeAttribute("tabindex")):(r.classList.remove(Df),typeof this.title=="string"?r.setAttribute("tabindex","0"):r.removeAttribute("tabindex"))}};Tl.EVENT_EXPAND_CHANGED="expandedChanged";B([Ee("eGroupOpenedIcon")],Tl.prototype,"eGroupOpenedIcon",2);B([Ee("eGroupClosedIcon")],Tl.prototype,"eGroupClosedIcon",2);B([Ee("eTitle")],Tl.prototype,"eTitle",2);B([we],Tl.prototype,"postConstruct",1);var uC=Tl,g0=class extends Rc{constructor(e=0,t){super('<div class="ag-menu-list" role="tree"></div>'),this.level=e,this.menuItems=[],this.params=t??{column:null,node:null,value:null}}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.handleFocusIn(e),onFocusOut:e=>this.handleFocusOut(e)})}onTabKeyDown(e){const t=this.getParentComponent(),r=t&&t.getGui();r&&r.classList.contains("ag-focus-managed")||e.preventDefault(),e.shiftKey&&this.closeIfIsChild(e)}handleKeyDown(e){switch(e.key){case ae.UP:case ae.RIGHT:case ae.DOWN:case ae.LEFT:e.preventDefault(),this.handleNavKey(e.key);break;case ae.ESCAPE:this.closeIfIsChild()&&Rs(e);break}}handleFocusIn(e){var t,r;const i=e.relatedTarget;!this.tabGuardCtrl.isTabGuard(i)&&(this.getGui().contains(i)||(r=(t=this.activeMenuItem)==null?void 0:t.getSubMenuGui())!=null&&r.contains(i))||(this.activeMenuItem?this.activeMenuItem.activate():this.activateFirstItem())}handleFocusOut(e){var t;const r=e.relatedTarget;!this.activeMenuItem||this.getGui().contains(r)||(t=this.activeMenuItem.getSubMenuGui())!=null&&t.contains(r)||this.activeMenuItem.isSubMenuOpening()||this.activeMenuItem.deactivate()}clearActiveItem(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)}addMenuItems(e){e!=null&&wr.all(e.map(t=>t==="separator"?wr.resolve({eGui:this.createSeparator()}):typeof t=="string"?(console.warn(`AG Grid: unrecognised menu item ${t}`),wr.resolve({eGui:null})):this.addItem(t))).then(t=>{t.forEach(r=>{r!=null&&r.eGui&&(this.appendChild(r.eGui),r.comp&&this.menuItems.push(r.comp))})})}addItem(e){const t=this.createManagedBean(new od);return t.init({menuItemDef:e,isAnotherSubMenuOpen:()=>this.menuItems.some(r=>r.isSubMenuOpen()),level:this.level,contextParams:this.params}).then(()=>(t.setParentComponent(this),this.addManagedListener(t,od.EVENT_CLOSE_MENU,r=>{this.dispatchEvent(r)}),this.addManagedListener(t,od.EVENT_MENU_ITEM_ACTIVATED,r=>{this.activeMenuItem&&this.activeMenuItem!==r.menuItem&&this.activeMenuItem.deactivate(),this.activeMenuItem=r.menuItem}),{comp:t,eGui:t.getGui()}))}activateFirstItem(){const e=this.menuItems.filter(t=>!t.isDisabled())[0];e&&e.activate()}createSeparator(){return Ei(`
            <div class="ag-menu-separator" aria-hidden="true">
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
                <div class="ag-menu-separator-part"></div>
            </div>`)}handleNavKey(e){switch(e){case ae.UP:case ae.DOWN:const r=this.findNextItem(e===ae.UP);r&&r!==this.activeMenuItem&&r.activate();return}const t=this.gos.get("enableRtl")?ae.RIGHT:ae.LEFT;e===t?this.closeIfIsChild():this.openChild()}closeIfIsChild(e){const t=this.getParentComponent();return t&&t instanceof od?(e&&e.preventDefault(),t.closeSubMenu(),t.getGui().focus(),!0):!1}openChild(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)}findNextItem(e){const t=this.menuItems.filter(s=>!s.isDisabled());if(!t.length)return;if(!this.activeMenuItem)return e?Tt(t):t[0];e&&t.reverse();let r,i=!1;for(let s=0;s<t.length;s++){const n=t[s];if(!i){n===this.activeMenuItem&&(i=!0);continue}r=n;break}return i&&!r?t[0]:r||this.activeMenuItem}destroy(){this.clearActiveItem(),super.destroy()}};B([q("focusService")],g0.prototype,"focusService",2);B([we],g0.prototype,"postConstruct",1);var r2=class extends Rc{constructor(e){super(),this.wrappedComponent=e,this.setTemplateFromElement(e.getGui())}postConstruct(){this.initialiseTabGuard({onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e)})}handleKeyDown(e){e.key===ae.ESCAPE&&this.closePanel()}onTabKeyDown(e){e.defaultPrevented||(this.closePanel(),e.preventDefault())}closePanel(){const e=this.parentComponent;e.closeSubMenu(),setTimeout(()=>e.getGui().focus(),0)}};B([we],r2.prototype,"postConstruct",1);var Al=class wa extends ye{constructor(){super(...arguments),this.isActive=!1,this.subMenuIsOpen=!1,this.subMenuIsOpening=!1,this.suppressRootStyles=!0,this.suppressAria=!0,this.suppressFocus=!0}init(t){var r,i;const{menuItemDef:s,isAnotherSubMenuOpen:n,level:o,childComponent:a,contextParams:u}=t;return this.params=t.menuItemDef,this.level=o,this.isAnotherSubMenuOpen=n,this.childComponent=a,this.contextParams=u,this.cssClassPrefix=(i=(r=this.params.menuItemParams)==null?void 0:r.cssClassPrefix)!=null?i:"ag-menu-option",this.userComponentFactory.getMenuItemCompDetails(this.params,er(Be({},s),{level:o,isAnotherSubMenuOpen:n,openSubMenu:c=>this.openSubMenu(c),closeSubMenu:()=>this.closeSubMenu(),closeMenu:c=>this.closeMenu(c),updateTooltip:(c,h)=>this.refreshTooltip(c,h),onItemActivated:()=>this.onItemActivated()})).newAgStackInstance().then(c=>{var h;this.menuItemComp=c;const d=(h=c.configureDefaults)==null?void 0:h.call(c);d&&this.configureDefaults(d===!0?void 0:d)})}addListeners(t,r){r!=null&&r.suppressClick||this.addManagedListener(t,"click",i=>this.onItemSelected(i)),r!=null&&r.suppressKeyboardSelect||this.addManagedListener(t,"keydown",i=>{(i.key===ae.ENTER||i.key===ae.SPACE)&&(i.preventDefault(),this.onItemSelected(i))}),r!=null&&r.suppressMouseDown||this.addManagedListener(t,"mousedown",i=>{i.stopPropagation(),i.preventDefault()}),r!=null&&r.suppressMouseOver||(this.addManagedListener(t,"mouseenter",()=>this.onMouseEnter()),this.addManagedListener(t,"mouseleave",()=>this.onMouseLeave()))}isDisabled(){return!!this.params.disabled}openSubMenu(t=!1){var r,i;if(this.closeSubMenu(),!this.params.subMenu)return;this.subMenuIsOpening=!0;const s=Ei('<div class="ag-menu" role="presentation"></div>');this.eSubMenuGui=s;let n,o=()=>{this.subMenuIsOpening=!1};if(this.childComponent){const c=this.createBean(new r2(this.childComponent));c.setParentComponent(this);const h=c.getGui(),d="mouseenter",p=()=>this.cancelDeactivate();h.addEventListener(d,p),n=()=>h.removeEventListener(d,p),s.appendChild(h),this.childComponent.afterGuiAttached&&(o=()=>{this.childComponent.afterGuiAttached(),this.subMenuIsOpening=!1})}else if(this.params.subMenu){const c=this.createBean(new g0(this.level+1,this.contextParams));c.setParentComponent(this),c.addMenuItems(this.params.subMenu),s.appendChild(c.getGui()),this.addManagedListener(c,wa.EVENT_CLOSE_MENU,h=>this.dispatchEvent(h)),c.addGuiEventListener("mouseenter",()=>this.cancelDeactivate()),n=()=>this.destroyBean(c),t&&(o=()=>{c.activateFirstItem(),this.subMenuIsOpening=!1})}const a=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:this.eGui,ePopup:s}),u=this.localeService.getLocaleTextFunc(),l=this.popupService.addPopup({modal:!0,eChild:s,positionCallback:a,anchorToElement:this.eGui,ariaLabel:u("ariaLabelSubMenu","SubMenu"),afterGuiAttached:o});this.subMenuIsOpen=!0,this.setAriaExpanded(!0),this.hideSubMenu=()=>{var c,h;l&&l.hideFunc(),this.subMenuIsOpen=!1,this.setAriaExpanded(!1),n(),(h=(c=this.menuItemComp).setExpanded)==null||h.call(c,!1),this.eSubMenuGui=void 0},(i=(r=this.menuItemComp).setExpanded)==null||i.call(r,!0)}setAriaExpanded(t){this.suppressAria||on(this.eGui,t)}closeSubMenu(){this.hideSubMenu&&(this.hideSubMenu(),this.hideSubMenu=null,this.setAriaExpanded(!1))}isSubMenuOpen(){return this.subMenuIsOpen}isSubMenuOpening(){return this.subMenuIsOpening}activate(t){var r,i;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.suppressRootStyles||this.eGui.classList.add(`${this.cssClassPrefix}-active`),(i=(r=this.menuItemComp).setActive)==null||i.call(r,!0),this.suppressFocus||this.eGui.focus({preventScroll:!0}),t&&this.params.subMenu&&window.setTimeout(()=>{this.isAlive()&&this.isActive&&this.openSubMenu()},300),this.onItemActivated())}deactivate(){var t,r;this.cancelDeactivate(),this.suppressRootStyles||this.eGui.classList.remove(`${this.cssClassPrefix}-active`),(r=(t=this.menuItemComp).setActive)==null||r.call(t,!1),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()}getGui(){return this.menuItemComp.getGui()}getParentComponent(){return this.parentComponent}setParentComponent(t){this.parentComponent=t}getSubMenuGui(){return this.eSubMenuGui}onItemSelected(t){var r,i;(i=(r=this.menuItemComp).select)==null||i.call(r),this.params.action?this.getFrameworkOverrides().wrapOutgoing(()=>this.params.action(this.gos.addGridCommonParams(Be({},this.contextParams)))):this.openSubMenu(t&&t.type==="keydown"),!(this.params.subMenu&&!this.params.action||this.params.suppressCloseOnSelect)&&this.closeMenu(t)}closeMenu(t){const r={type:wa.EVENT_CLOSE_MENU};t&&(t instanceof MouseEvent?r.mouseEvent=t:r.keyboardEvent=t),this.dispatchEvent(r)}onItemActivated(){const t={type:wa.EVENT_MENU_ITEM_ACTIVATED,menuItem:this};this.dispatchEvent(t)}cancelActivate(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)}cancelDeactivate(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)}onMouseEnter(){this.cancelDeactivate(),this.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(()=>this.activate(!0),wa.ACTIVATION_DELAY):this.activate(!0)}onMouseLeave(){this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(()=>this.deactivate(),wa.ACTIVATION_DELAY):this.deactivate()}configureDefaults(t){var r,i,s;if(!this.menuItemComp){setTimeout(()=>this.configureDefaults(t));return}let n=this.menuItemComp.getGui();const o=(i=(r=this.menuItemComp).getRootElement)==null?void 0:i.call(r);o&&(t!=null&&t.suppressRootStyles||n.classList.add("ag-menu-option-custom"),n=o),this.eGui=n,this.suppressRootStyles=!!(t!=null&&t.suppressRootStyles),this.suppressRootStyles||(n.classList.add(this.cssClassPrefix),(s=this.params.cssClasses)==null||s.forEach(a=>n.classList.add(a)),this.params.disabled&&n.classList.add(`${this.cssClassPrefix}-disabled`)),t!=null&&t.suppressTooltip||this.refreshTooltip(this.params.tooltip),this.suppressAria=!!(t!=null&&t.suppressAria),this.suppressAria||(ur(n,"treeitem"),hS(n,this.level+1),this.params.disabled&&Rv(n,!0)),t!=null&&t.suppressTabIndex||n.setAttribute("tabindex","-1"),this.params.disabled||this.addListeners(n,t),this.suppressFocus=!!(t!=null&&t.suppressFocus)}refreshTooltip(t,r){this.tooltip=t,this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),!(!t||!this.menuItemComp)&&(this.tooltipFeature=this.createBean(new pn({getGui:()=>this.getGui(),getTooltipValue:()=>this.tooltip,getLocation:()=>"menu",shouldDisplayTooltip:r})))}destroy(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}};Al.EVENT_CLOSE_MENU="closeMenu";Al.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated";Al.ACTIVATION_DELAY=80;B([q("popupService")],Al.prototype,"popupService",2);B([q("userComponentFactory")],Al.prototype,"userComponentFactory",2);var od=Al,ua=class om extends it{constructor(t){super(om.getTemplate(t)),this.config=t,this.closable=!0}static getTemplate(t){const r=t.cssIdentifier||"default";return`<div class="ag-panel ag-${r}-panel" tabindex="-1">
            <div ref="eTitleBar" class="ag-panel-title-bar ag-${r}-panel-title-bar ag-unselectable">
                <span ref="eTitle" class="ag-panel-title-bar-title ag-${r}-panel-title-bar-title"></span>
                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-${r}-panel-title-bar-buttons"></div>
            </div>
            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-${r}-panel-content-wrapper"></div>
        </div>`}postConstruct(){const{component:t,closable:r,hideTitleBar:i,title:s,minWidth:n=250,width:o,minHeight:a=250,height:u,centered:l,popup:c,x:h,y:d}=this.config;this.positionableFeature=new vl(this.getGui(),{minWidth:n,width:o,minHeight:a,height:u,centered:l,x:h,y:d,popup:c,calculateTopBuffer:()=>this.positionableFeature.getHeight()-this.getBodyHeight()}),this.createManagedBean(this.positionableFeature);const p=this.getGui();t&&this.setBodyComponent(t),i?Ct(this.eTitleBar,!1):(s&&this.setTitle(s),this.setClosable(r??this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",g=>{if(p.contains(g.relatedTarget)||p.contains(this.gos.getActiveDomElement())||this.eTitleBarButtons.contains(g.target)){g.preventDefault();return}const v=this.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");v&&v.focus()}),!(c&&this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")}renderComponent(){const t=this.getGui();t.focus(),this.close=()=>{t.parentElement.removeChild(t),this.destroy()}}getHeight(){return this.positionableFeature.getHeight()}setHeight(t){this.positionableFeature.setHeight(t)}getWidth(){return this.positionableFeature.getWidth()}setWidth(t){this.positionableFeature.setWidth(t)}setClosable(t){if(t!==this.closable&&(this.closable=t),t){const r=this.closeButtonComp=new it(om.CLOSE_BTN_TEMPLATE);this.getContext().createBean(r);const i=r.getGui(),s=nr("close",this.gos);s.classList.add("ag-panel-title-bar-button-icon"),i.appendChild(s),this.addTitleBarButton(r),r.addManagedListener(i,"click",this.onBtClose.bind(this))}else if(this.closeButtonComp){const r=this.closeButtonComp.getGui();r.parentElement.removeChild(r),this.closeButtonComp=this.destroyBean(this.closeButtonComp)}}setBodyComponent(t){t.setParentComponent(this),this.eContentWrapper.appendChild(t.getGui())}addTitleBarButton(t,r){const i=this.eTitleBarButtons,s=i.children,n=s.length;r==null&&(r=n),r=Math.max(0,Math.min(r,n)),t.addCssClass("ag-panel-title-bar-button");const o=t.getGui();r===0?i.insertAdjacentElement("afterbegin",o):r===n?i.insertAdjacentElement("beforeend",o):s[r-1].insertAdjacentElement("afterend",o),t.setParentComponent(this)}getBodyHeight(){return gc(this.eContentWrapper)}getBodyWidth(){return ea(this.eContentWrapper)}setTitle(t){this.eTitle.innerText=t}onBtClose(){this.close()}destroy(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));const t=this.getGui();t&&Ai(t)&&this.close(),super.destroy()}};ua.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>';B([Ee("eContentWrapper")],ua.prototype,"eContentWrapper",2);B([Ee("eTitleBar")],ua.prototype,"eTitleBar",2);B([Ee("eTitleBarButtons")],ua.prototype,"eTitleBarButtons",2);B([Ee("eTitle")],ua.prototype,"eTitle",2);B([we],ua.prototype,"postConstruct",1);var mD=ua,vD=class extends mD{constructor(e){super(er(Be({},e),{popup:!0})),this.isMaximizable=!1,this.isMaximized=!1,this.maximizeListeners=[],this.resizeListenerDestroy=null,this.lastPosition={x:0,y:0,width:0,height:0}}postConstruct(){const e=this.getGui(),{movable:t,resizable:r,maximizable:i}=this.config;this.addCssClass("ag-dialog"),super.postConstruct(),this.addManagedListener(e,"focusin",s=>{this.popupService.bringPopupToFront(e)}),t&&this.setMovable(t),i&&this.setMaximizable(i),r&&this.setResizable(r)}renderComponent(){const e=this.getGui(),{alwaysOnTop:t,modal:r,title:i,afterGuiAttached:s}=this.config,n=this.localeService.getLocaleTextFunc(),o=this.popupService.addPopup({modal:r,eChild:e,closeOnEsc:!0,closedCallback:this.onClosed.bind(this),alwaysOnTop:t,ariaLabel:i||n("ariaLabelDialog","Dialog"),afterGuiAttached:s});o&&(this.close=o.hideFunc)}onClosed(e){var t,r;this.destroy(),(r=(t=this.config).closedCallback)==null||r.call(t,e)}toggleMaximize(){const e=this.positionableFeature.getPosition();if(this.isMaximized){const{x:t,y:r,width:i,height:s}=this.lastPosition;this.setWidth(i),this.setHeight(s),this.positionableFeature.offsetElement(t,r)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=e.x,this.lastPosition.y=e.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()}refreshMaximizeIcon(){Ct(this.maximizeIcon,!this.isMaximized),Ct(this.minimizeIcon,this.isMaximized)}clearMaximizebleListeners(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(e=>e()),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)}destroy(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),super.destroy()}setResizable(e){this.positionableFeature.setResizable(e)}setMovable(e){this.positionableFeature.setMovable(e,this.eTitleBar)}setMaximizable(e){if(!e){this.clearMaximizebleListeners(),this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0);return}const t=this.eTitleBar;if(!t||e===this.isMaximizable)return;const r=this.buildMaximizeAndMinimizeElements();this.refreshMaximizeIcon(),r.addManagedListener(r.getGui(),"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(r,0),this.maximizeListeners.push(this.addManagedListener(t,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",()=>{this.isMaximized=!1,this.refreshMaximizeIcon()})}buildMaximizeAndMinimizeElements(){const e=this.maximizeButtonComp=this.createBean(new it('<div class="ag-dialog-button"></span>')),t=e.getGui();return this.maximizeIcon=nr("maximize",this.gos),t.appendChild(this.maximizeIcon),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),this.minimizeIcon=nr("minimize",this.gos),t.appendChild(this.minimizeIcon),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon"),e}};B([q("popupService")],vD.prototype,"popupService",2);var yD=0,an=class extends ye{constructor(){super(...arguments),this.popupList=[]}postConstruct(){this.ctrlsService.whenReady(e=>{this.gridCtrl=e.gridCtrl}),this.addManagedListener(this.eventService,$.EVENT_GRID_STYLES_CHANGED,this.handleThemeChange.bind(this))}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:r}=e,i=this.getPopupIndex(r);if(i!==-1){const p=this.popupList[i];p.alignedToElement=t}const s=t.getBoundingClientRect(),n=this.getParentRect(),o=this.keepXYWithinBounds(r,s.top-n.top,0),a=r.clientWidth>0?r.clientWidth:200;r.style.minWidth=`${a}px`;const l=n.right-n.left-a;let c;this.gos.get("enableRtl")?(c=d(),c<0&&(c=h(),this.setAlignedStyles(r,"left")),c>l&&(c=0,this.setAlignedStyles(r,"right"))):(c=h(),c>l&&(c=d(),this.setAlignedStyles(r,"right")),c<0&&(c=0,this.setAlignedStyles(r,"left"))),r.style.left=`${c}px`,r.style.top=`${o}px`;function h(){return s.right-n.left-2}function d(){return s.left-n.left-a}}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:r,nudgeY:i,skipObserver:s}=e;this.positionPopup({ePopup:t,nudgeX:r,nudgeY:i,keepWithinBounds:!0,skipObserver:s,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:r,nudgeY:i,keepWithinBounds:s,eventSource:n,alignSide:o="left",position:a="over",column:u,rowNode:l,type:c}=e,h=n.getBoundingClientRect(),d=this.getParentRect(),p=this.getPopupIndex(t);if(p!==-1){const v=this.popupList[p];v.alignedToElement=n}const g=()=>{let v=h.left-d.left;o==="right"&&(v-=t.offsetWidth-h.width);let f;return a==="over"?(f=h.top-d.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,h,d,e.nudgeY||0)==="under"?f=h.top-d.top+h.height:f=h.top-t.offsetHeight-(i||0)*2-d.top),{x:v,y:f}};this.positionPopup({ePopup:t,nudgeX:r,nudgeY:i,keepWithinBounds:s,updatePosition:g,postProcessCallback:()=>this.callPostProcessPopup(c,t,n,null,u,l)})}shouldRenderUnderOrAbove(e,t,r,i){const s=r.bottom-t.bottom,n=t.top-r.top,o=e.offsetHeight+i;return s>o?"under":n>o||n>s?"above":"under"}setAlignedStyles(e,t){const r=this.getPopupIndex(e);if(r===-1)return;const i=this.popupList[r],{alignedToElement:s}=i;!s||(["right","left","over","above","under"].forEach(o=>{s.classList.remove(`ag-has-popup-positioned-${o}`),e.classList.remove(`ag-popup-positioned-${o}`)}),!t)||(s.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}callPostProcessPopup(e,t,r,i,s,n){const o=this.gos.getCallback("postProcessPopup");o&&o({column:s,rowNode:n,ePopup:t,type:e,eventSource:r,mouseEvent:i})}positionPopup(e){const{ePopup:t,keepWithinBounds:r,nudgeX:i,nudgeY:s,skipObserver:n,updatePosition:o}=e,a={width:0,height:0},u=(l=!1)=>{let{x:c,y:h}=o();l&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,i&&(c+=i),s&&(h+=s),r&&(c=this.keepXYWithinBounds(t,c,1),h=this.keepXYWithinBounds(t,h,0)),t.style.left=`${c}px`,t.style.top=`${h}px`,e.postProcessCallback&&e.postProcessCallback())};if(u(),!n){const l=this.resizeObserverService.observeResize(t,()=>u(!0));setTimeout(()=>l(),an.WAIT_FOR_POPUP_CONTENT_RESIZE)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=this.gos.getDocument();let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),Bv(t)}keepXYWithinBounds(e,t,r){const i=r===0,s=i?"clientHeight":"clientWidth",n=i?"top":"left",o=i?"offsetHeight":"offsetWidth",a=i?"scrollTop":"scrollLeft",u=this.gos.getDocument(),l=u.documentElement,c=this.getPopupParent(),h=c.getBoundingClientRect(),d=u.documentElement.getBoundingClientRect(),p=c===u.body,g=e[o];let f=p?(i?Vv:Gu)(l)+l[a]:c[s];p&&(f-=Math.abs(d[n]-h[n]));const y=f-g;return Math.min(Math.max(t,0),Math.abs(y))}addPopup(e){const t=this.gos.getDocument(),{eChild:r,ariaLabel:i,alwaysOnTop:s,positionCallback:n,anchorToElement:o}=e;if(!t)return console.warn("AG Grid: could not find the document, document is empty"),{hideFunc:()=>{}};const a=this.getPopupIndex(r);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(r);const u=this.createPopupWrapper(r,i,!!s),l=this.addEventListenersToPopup(er(Be({},e),{wrapperEl:u}));return n&&n(),this.addPopupToPopupList(r,u,l,o),{hideFunc:l}}initialisePopupPosition(e){const r=this.getPopupParent().getBoundingClientRect();ve(e.style.top)||(e.style.top=`${r.top*-1}px`),ve(e.style.left)||(e.style.left=`${r.left*-1}px`)}createPopupWrapper(e,t,r){const i=this.getPopupParent(),s=document.createElement("div"),{allThemes:n}=this.environment.getTheme();return n.length&&s.classList.add(...n),s.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||ur(e,"dialog"),Ui(e,t),s.appendChild(e),i.appendChild(s),r?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),s}handleThemeChange(){const{allThemes:e}=this.environment.getTheme();for(const t of this.popupList){for(const r of Array.from(t.wrapper.classList))r.startsWith("ag-theme-")&&t.wrapper.classList.remove(r);e.length&&t.wrapper.classList.add(...e)}}addEventListenersToPopup(e){const t=this.gos.getDocument(),r=this.getPopupParent(),{wrapperEl:i,eChild:s,closedCallback:n,afterGuiAttached:o,closeOnEsc:a,modal:u}=e;let l=!1;const c=g=>{if(!i.contains(this.gos.getActiveDomElement()))return;g.key===ae.ESCAPE&&!Es(g)&&p({keyboardEvent:g})},h=g=>p({mouseEvent:g}),d=g=>p({touchEvent:g}),p=(g={})=>{const{mouseEvent:v,touchEvent:f,keyboardEvent:y,forceHide:m}=g;!m&&(this.isEventFromCurrentPopup({mouseEvent:v,touchEvent:f},s)||l)||(l=!0,r.removeChild(i),t.removeEventListener("keydown",c),t.removeEventListener("mousedown",h),t.removeEventListener("touchstart",d),t.removeEventListener("contextmenu",h),this.eventService.removeEventListener($.EVENT_DRAG_STARTED,h),n&&n(v||f||y),this.removePopupFromPopupList(s))};return o&&o({hidePopup:p}),window.setTimeout(()=>{a&&t.addEventListener("keydown",c),u&&(t.addEventListener("mousedown",h),this.eventService.addEventListener($.EVENT_DRAG_STARTED,h),t.addEventListener("touchstart",d),t.addEventListener("contextmenu",h))},0),p}addPopupToPopupList(e,t,r,i){this.popupList.push({element:e,wrapper:t,hideFunc:r,instanceId:yD++,isAnchored:!!i}),i&&this.setPopupPositionRelatedToElement(e,i)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const r=this.getPopupIndex(e);if(r===-1)return;const i=this.popupList[r];if(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(n=>n&&n()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!t)return;const s=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:i.hideFunc});return i.stopAnchoringPromise=s,i.isAnchored=!0,s}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),r=t.getBoundingClientRect(),{element:i,ePopup:s}=e,n=i.getBoundingClientRect(),o=r.top-n.top,a=r.left-n.left;let u=o,l=a;const c=s.style.top,h=parseInt(c.substring(0,c.length-1),10),d=s.style.left,p=parseInt(d.substring(0,d.length-1),10);return new wr(g=>{this.getFrameworkOverrides().setInterval(()=>{const v=t.getBoundingClientRect(),f=i.getBoundingClientRect();if(f.top==0&&f.left==0&&f.height==0&&f.width==0){e.hidePopup();return}const m=v.top-f.top;if(m!=u){const _=this.keepXYWithinBounds(s,h+o-m,0);s.style.top=`${_}px`}u=m;const w=v.left-f.left;if(w!=l){const _=this.keepXYWithinBounds(s,p+a-w,1);s.style.left=`${_}px`}l=w},200).then(v=>{g(()=>{v!=null&&window.clearInterval(v)})})})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:r,touchEvent:i}=e,s=r||i;if(!s)return!1;const n=this.getPopupIndex(t);if(n===-1)return!1;for(let o=n;o<this.popupList.length;o++){const a=this.popupList[o];if(mh(a.element,s))return!0}return this.isElementWithinCustomPopup(s.target)}isElementWithinCustomPopup(e){const t=this.gos.getDocument();for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const r=this.getWrapper(e);r&&(r.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(r))}bringPopupToFront(e){const t=this.getPopupParent(),r=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),i=r.length,s=Array.prototype.slice.call(t.querySelectorAll(".ag-popup.ag-always-on-top")),n=s.length,o=this.getWrapper(e);if(!o||i<=1||!t.contains(e))return;const a=r.indexOf(o),u=o.querySelectorAll("div"),l=[];for(u.forEach(c=>{c.scrollTop!==0&&l.push([c,c.scrollTop])}),n?o.classList.contains("ag-always-on-top")?a!==i-1&&Tt(s).insertAdjacentElement("afterend",o):a!==i-n-1&&s[0].insertAdjacentElement("beforebegin",o):a!==i-1&&Tt(r).insertAdjacentElement("afterend",o);l.length;){const c=l.pop();c[0].scrollTop=c[1]}}};an.WAIT_FOR_POPUP_CONTENT_RESIZE=200;B([q("focusService")],an.prototype,"focusService",2);B([q("ctrlsService")],an.prototype,"ctrlsService",2);B([q("resizeObserverService")],an.prototype,"resizeObserverService",2);B([we],an.prototype,"postConstruct",1);an=B([ke("popupService")],an);var CD=class extends it{constructor(){super(`
        <div class="ag-autocomplete-row" role="presentation">
            <div class="ag-autocomplete-row-label"></div>
        </div>`),this.hasHighlighting=!1}setState(e,t){this.value=e,this.render(),this.updateSelected(t)}updateSelected(e){this.addOrRemoveCssClass("ag-autocomplete-row-selected",e)}setSearchString(e){var t;let r=!1;if(ve(e)){const i=(t=this.value)==null?void 0:t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase());if(i>=0){r=!0,this.hasHighlighting=!0;const s=i+e.length,n=Cr(this.value.slice(0,i)),o=Cr(this.value.slice(i,s)),a=Cr(this.value.slice(s));this.getGui().lastElementChild.innerHTML=`${n}<b>${o}</b>${a}`}}!r&&this.hasHighlighting&&(this.hasHighlighting=!1,this.render())}render(){var e;this.getGui().lastElementChild.innerHTML=(e=Cr(this.value))!=null?e:"&nbsp;"}},Op=class i2 extends ia{constructor(t){super(i2.TEMPLATE),this.params=t,this.searchString=""}destroy(){super.destroy()}init(){this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList=this.createManagedBean(new e2({cssIdentifier:"autocomplete"})),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),this.virtualList.setModel({getRowCount:()=>this.autocompleteEntries.length,getRow:r=>this.autocompleteEntries[r]});const t=this.virtualList.getGui();this.addManagedListener(t,"click",()=>this.params.onConfirmed()),this.addManagedListener(t,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(t,"mousedown",r=>r.preventDefault()),this.setSelectedValue(0)}onNavigationKeyDown(t,r){t.preventDefault();const i=this.autocompleteEntries.indexOf(this.selectedValue),s=r===ae.UP?i-1:i+1;this.checkSetSelectedValue(s)}setSearch(t){this.searchString=t,ve(t)?this.runSearch():(this.autocompleteEntries=this.params.autocompleteEntries,this.virtualList.refresh(),this.checkSetSelectedValue(0)),this.updateSearchInList()}runContainsSearch(t,r){let i,s=!1;const n=t.toLocaleLowerCase(),o=r.filter(a=>{const l=a.toLocaleLowerCase().indexOf(n),c=l===0,h=l>=0;return h&&(!i||!s&&c||s===c&&a.length<i.length)&&(i=a,s=c),h});return!i&&o.length&&(i=o[0]),{topMatch:i,allMatches:o}}runSearch(){var t,r;const{autocompleteEntries:i}=this.params,s=i.map(l=>{var c;return(c=l.displayValue)!=null?c:l.key});let n,o;if(this.params.useFuzzySearch)n=vc(this.searchString,s,!0).values,o=n.length?n[0]:void 0;else{const l=this.runContainsSearch(this.searchString,s);n=l.allMatches,o=l.topMatch}let a=i.filter(({key:l,displayValue:c})=>n.includes(c??l));if(!a.length&&this.selectedValue&&((r=(t=this.params)==null?void 0:t.forceLastSelection)!=null&&r.call(t,this.selectedValue,this.searchString))&&(a=[this.selectedValue]),this.autocompleteEntries=a,this.virtualList.refresh(),!o)return;const u=n.indexOf(o);this.checkSetSelectedValue(u)}updateSearchInList(){this.virtualList.forEachRenderedRow(t=>t.setSearchString(this.searchString))}checkSetSelectedValue(t){t>=0&&t<this.autocompleteEntries.length&&this.setSelectedValue(t)}setSelectedValue(t){const r=this.autocompleteEntries[t];this.selectedValue!==r&&(this.selectedValue=r,this.virtualList.ensureIndexVisible(t),this.virtualList.forEachRenderedRow((i,s)=>{i.updateSelected(t===s)}))}createRowComponent(t){var r;const i=new CD;return this.getContext().createBean(i),i.setState((r=t.displayValue)!=null?r:t.key,t===this.selectedValue),i}onMouseMove(t){const r=this.virtualList.getGui().getBoundingClientRect(),i=this.virtualList.getScrollTop(),s=t.clientY-r.top+i,n=Math.floor(s/this.virtualList.getRowHeight());this.checkSetSelectedValue(n)}afterGuiAttached(){this.virtualList.refresh()}getSelectedValue(){var t;return this.autocompleteEntries.length&&(t=this.selectedValue)!=null?t:null}};Op.TEMPLATE=`<div class="ag-autocomplete-list-popup">
            <div ref="eList" class="ag-autocomplete-list"></div>
        <div>`;B([Ee("eList")],Op.prototype,"eList",2);B([we],Op.prototype,"init",1);var wD=Op,so=class Ql extends it{constructor(){super(`
            <div class="ag-autocomplete" role="presentation">
                <ag-input-text-field ref="eAutocompleteInput"></ag-input-text-field>
            </div>`),this.isListOpen=!1,this.lastPosition=0,this.valid=!0}postConstruct(){this.eAutocompleteInput.onValueChange(t=>this.onValueChanged(t)),this.eAutocompleteInput.getInputElement().setAttribute("autocomplete","off"),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.addGuiEventListener("click",this.updatePositionAndList.bind(this)),this.addDestroyFunc(()=>{this.destroyBean(this.autocompleteList)}),this.addGuiEventListener("focusout",()=>this.onFocusOut())}onValueChanged(t){const r=Vs(t);this.updateValue(r),this.updateAutocompleteList(r)}updateValue(t){this.updateLastPosition(),this.dispatchEvent({type:Ql.EVENT_VALUE_CHANGED,value:t}),this.validate(t)}updateAutocompleteList(t){var r,i,s,n;const o=(i=(r=this.listGenerator)==null?void 0:r.call(this,t,this.lastPosition))!=null?i:{enabled:!1};if((!o.type||o.type!==((s=this.autocompleteListParams)==null?void 0:s.type))&&this.isListOpen&&this.closeList(),this.autocompleteListParams=o,(n=this.autocompleteListParams)!=null&&n.enabled){this.isListOpen||this.openList();const{searchString:a}=this.autocompleteListParams;this.autocompleteList.setSearch(a??"")}else this.isListOpen&&this.closeList()}onKeyDown(t){const r=t.key;switch(this.updateLastPosition(),r){case ae.ENTER:this.onEnterKeyDown(t);break;case ae.TAB:this.onTabKeyDown(t);break;case ae.DOWN:case ae.UP:this.onUpDownKeyDown(t,r);break;case ae.LEFT:case ae.RIGHT:case ae.PAGE_HOME:case ae.PAGE_END:setTimeout(()=>{this.updatePositionAndList()});break;case ae.ESCAPE:this.onEscapeKeyDown(t);break;case ae.SPACE:t.ctrlKey&&!this.isListOpen&&(t.preventDefault(),this.forceOpenList());break}}confirmSelection(){var t;const r=(t=this.autocompleteList)==null?void 0:t.getSelectedValue();r&&(this.closeList(),this.dispatchEvent({type:Ql.EVENT_OPTION_SELECTED,value:this.getValue(),position:this.lastPosition,updateEntry:r,autocompleteType:this.autocompleteListParams.type}))}onTabKeyDown(t){this.isListOpen&&(t.preventDefault(),t.stopPropagation(),this.confirmSelection())}onEnterKeyDown(t){t.preventDefault(),this.isListOpen?this.confirmSelection():this.onCompleted()}onUpDownKeyDown(t,r){var i;t.preventDefault(),this.isListOpen?(i=this.autocompleteList)==null||i.onNavigationKeyDown(t,r):this.forceOpenList()}onEscapeKeyDown(t){this.isListOpen&&(t.preventDefault(),t.stopPropagation(),this.closeList(),this.setCaret(this.lastPosition,!0))}onFocusOut(){this.isListOpen&&this.closeList()}updatePositionAndList(){var t;this.updateLastPosition(),this.updateAutocompleteList((t=this.eAutocompleteInput.getValue())!=null?t:null)}setCaret(t,r){const i=this.gos.getDocument(),s=this.gos.getActiveDomElement();r&&(!s||s===i.body)&&this.eAutocompleteInput.getFocusableElement().focus();const n=this.eAutocompleteInput.getInputElement();n.setSelectionRange(t,t),t===n.value.length&&(n.scrollLeft=n.scrollWidth)}forceOpenList(){this.onValueChanged(this.eAutocompleteInput.getValue())}updateLastPosition(){var t;this.lastPosition=(t=this.eAutocompleteInput.getInputElement().selectionStart)!=null?t:0}validate(t){var r;this.validator&&(this.validationMessage=this.validator(t),this.eAutocompleteInput.getInputElement().setCustomValidity((r=this.validationMessage)!=null?r:""),this.valid=!this.validationMessage,this.dispatchEvent({type:Ql.EVENT_VALID_CHANGED,isValid:this.valid,validationMessage:this.validationMessage}))}openList(){this.isListOpen=!0,this.autocompleteList=this.createBean(new wD({autocompleteEntries:this.autocompleteListParams.entries,onConfirmed:()=>this.confirmSelection(),forceLastSelection:this.forceLastSelection}));const t=this.autocompleteList.getGui(),r={ePopup:t,type:"autocomplete",eventSource:this.getGui(),position:"under",alignSide:this.gos.get("enableRtl")?"right":"left",keepWithinBounds:!0},i=this.popupService.addPopup({eChild:t,anchorToElement:this.getGui(),positionCallback:()=>this.popupService.positionPopupByComponent(r),ariaLabel:this.listAriaLabel});this.hidePopup=i.hideFunc,this.autocompleteList.afterGuiAttached()}closeList(){this.isListOpen=!1,this.hidePopup(),this.destroyBean(this.autocompleteList),this.autocompleteList=null}onCompleted(){this.isListOpen&&this.closeList(),this.dispatchEvent({type:Ql.EVENT_VALUE_CONFIRMED,value:this.getValue(),isValid:this.isValid()})}getValue(){return Vs(this.eAutocompleteInput.getValue())}setInputPlaceholder(t){return this.eAutocompleteInput.setInputPlaceholder(t),this}setInputAriaLabel(t){return this.eAutocompleteInput.setInputAriaLabel(t),this}setListAriaLabel(t){return this.listAriaLabel=t,this}setListGenerator(t){return this.listGenerator=t,this}setValidator(t){return this.validator=t,this}isValid(){return this.valid}setValue(t){const{value:r,position:i,silent:s,updateListOnlyIfOpen:n,restoreFocus:o}=t;this.eAutocompleteInput.setValue(r,!0),this.setCaret(i??this.lastPosition,o),s||this.updateValue(r),(!n||this.isListOpen)&&this.updateAutocompleteList(r)}setForceLastSelection(t){return this.forceLastSelection=t,this}setInputDisabled(t){return this.eAutocompleteInput.setDisabled(t),this}};so.EVENT_VALUE_CHANGED="eventValueChanged";so.EVENT_VALUE_CONFIRMED="eventValueConfirmed";so.EVENT_OPTION_SELECTED="eventOptionSelected";so.EVENT_VALID_CHANGED="eventValidChanged";B([q("popupService")],so.prototype,"popupService",2);B([Ee("eAutocompleteInput")],so.prototype,"eAutocompleteInput",2);B([we],so.prototype,"postConstruct",1);var bD=so,no=class Dd extends it{constructor(t,r,i,s){super(),this.dragSourceDropTarget=t,this.ghost=r,this.horizontal=i,this.template=s}init(){var t;this.setTemplate((t=this.template)!=null?t:Dd.TEMPLATE);const r=this.getGui();this.addElementClasses(r),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(nr("columnDrag",this.gos)),this.eButton.appendChild(nr("cancel",this.gos)),this.setupComponents(),!this.ghost&&this.isDraggable()&&this.addDragSource(),this.setupAria(),this.setupTooltip(),this.activateTabIndex(),this.refreshDraggable()}isDraggable(){return!0}refreshDraggable(){this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!this.isDraggable())}setupAria(){const t=this.localeService.getLocaleTextFunc(),r=[this.getAriaDisplayName()];this.addAdditionalAriaInstructions(r,t),Ui(this.getGui(),r.join(". "))}addAdditionalAriaInstructions(t,r){if(this.isRemovable()){const i=r("ariaDropZoneColumnComponentDescription","Press DELETE to remove");t.push(i)}}setupTooltip(){const t=()=>{const r=this.getTooltip();this.setTooltip({newTooltipText:r})};t(),this.addManagedListener(this.eventService,$.EVENT_NEW_COLUMNS_LOADED,t)}getDragSourceId(){}getDefaultIconName(){return ot.ICON_NOT_ALLOWED}addDragSource(){const{dragAndDropService:t,eDragHandle:r}=this,i=this.createGetDragItem(),s=this.getDefaultIconName(),n={type:this.getDragSourceType(),sourceId:this.getDragSourceId(),eElement:r,getDefaultIconName:()=>s,getDragItem:i,dragItemName:this.getDisplayName()};t.addDragSource(n,!0),this.addDestroyFunc(()=>t.removeDragSource(n))}setupComponents(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost")}isRemovable(){return!0}refreshRemove(){Ct(this.eButton,this.isRemovable())}setupRemove(){this.refreshRemove();const t={type:Dd.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",i=>this.onKeyDown(i)),this.addManagedListener(this.eButton,"click",i=>{this.dispatchEvent(t),i.stopPropagation()});const r=new kr(this.eButton);this.addManagedListener(r,kr.EVENT_TAP,()=>{this.dispatchEvent(t)}),this.addDestroyFunc(r.destroy.bind(r))}onKeyDown(t){t.key===ae.DELETE&&this.isRemovable()&&(t.preventDefault(),this.dispatchEvent({type:Dd.EVENT_COLUMN_REMOVE}))}getDisplayValue(){return this.getDisplayName()}setTextValue(){const t=this.getDisplayValue(),r=Cr(t);this.eText.innerHTML=r}addElementClasses(t,r){r=r?`-${r}`:"";const i=this.horizontal?"horizontal":"vertical";t.classList.add(`ag-column-drop-cell${r}`,`ag-column-drop-${i}-cell${r}`)}destroy(){super.destroy(),this.dragSourceDropTarget=null}};no.EVENT_COLUMN_REMOVE="columnRemove";no.TEMPLATE=`<span role="option">
          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>
          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>
          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>
        </span>`;B([q("dragAndDropService")],no.prototype,"dragAndDropService",2);B([Ee("eText")],no.prototype,"eText",2);B([Ee("eDragHandle")],no.prototype,"eDragHandle",2);B([Ee("eButton")],no.prototype,"eButton",2);B([we],no.prototype,"init",1);var SD=no,Dc=class Ms extends it{constructor(t){super('<div class="ag-unselectable" role="presentation"></div>'),this.horizontal=t,this.state=Ms.STATE_NOT_DRAGGING,this.guiDestroyFunctions=[],this.childPillComponents=[],this.resizeEnabled=!1,this.addElementClasses(this.getGui()),this.ePillDropList=document.createElement("div"),this.addElementClasses(this.ePillDropList,"list"),ur(this.ePillDropList,"listbox")}isHorizontal(){return this.horizontal}toggleResizable(t){this.positionableFeature.setResizable(t?{bottom:!0}:!1),this.resizeEnabled=t}isSourceEventFromTarget(t){const{dropZoneTarget:r,dragSource:i}=t;return r.contains(i.eElement)}destroy(){this.destroyGui(),super.destroy()}destroyGui(){this.guiDestroyFunctions.forEach(t=>t()),this.guiDestroyFunctions.length=0,this.childPillComponents.length=0,mr(this.getGui()),mr(this.ePillDropList)}init(t){this.params=t??{},this.createManagedBean(new eo(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.setupDropTarget(),this.positionableFeature=new vl(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),Ui(this.ePillDropList,this.getAriaLabel())}handleKeyDown(t){const r=!this.horizontal;let i=t.key===ae.DOWN,s=t.key===ae.UP;if(!r){const o=this.gos.get("enableRtl");i=!o&&t.key===ae.RIGHT||o&&t.key===ae.LEFT,s=!o&&t.key===ae.LEFT||o&&t.key===ae.RIGHT}if(!i&&!s)return;const n=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,s);n&&(t.preventDefault(),n.focus())}addElementClasses(t,r){r=r?`-${r}`:"";const i=this.horizontal?"horizontal":"vertical";t.classList.add(`ag-column-drop${r}`,`ag-column-drop-${i}${r}`)}setupDropTarget(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.dragAndDropService.addDropTarget(this.dropTarget)}minimumAllowedNewInsertIndex(){return 0}checkInsertIndex(t){const r=this.getNewInsertIndex(t);if(r<0)return!1;const i=this.minimumAllowedNewInsertIndex(),s=Math.max(i,r),n=s!==this.insertIndex;return n&&(this.insertIndex=s),n}getNewInsertIndex(t){const r=t.event,i=this.horizontal?r.clientX:r.clientY,s=this.childPillComponents.map(o=>o.getGui().getBoundingClientRect()),n=s.findIndex(o=>this.horizontal?o.right>i&&o.left<i:o.top<i&&o.bottom>i);if(n===-1){const o=this.gos.get("enableRtl");return s.every(l=>i>(this.horizontal?l.right:l.bottom))?o&&this.horizontal?0:this.childPillComponents.length:s.every(l=>i<(this.horizontal?l.left:l.top))?o&&this.horizontal?this.childPillComponents.length:0:this.insertIndex}return this.insertIndex<=n?n+1:n}checkDragStartedBySelf(t){this.state===Ms.STATE_NOT_DRAGGING&&(this.state=Ms.STATE_REARRANGE_ITEMS,this.potentialDndItems=this.getItems(t.dragSource.getDragItem()),this.refreshGui(),this.checkInsertIndex(t),this.refreshGui())}onDragging(t){this.checkDragStartedBySelf(t),this.checkInsertIndex(t)&&this.refreshGui()}handleDragEnterEnd(t){}onDragEnter(t){const r=this.getItems(t.dragSource.getDragItem());this.state=Ms.STATE_NEW_ITEMS_IN;const i=r.filter(n=>this.isItemDroppable(n,t)),s=i.every(n=>this.childPillComponents.map(o=>o.getItem()).indexOf(n)!==-1);if(i.length!==0){if(this.potentialDndItems=i,s){this.state=Ms.STATE_NOT_DRAGGING;return}this.handleDragEnterEnd(t),this.checkInsertIndex(t),this.refreshGui()}}isPotentialDndItems(){return U1(this.potentialDndItems)}handleDragLeaveEnd(t){}onDragLeave(t){if(this.state===Ms.STATE_REARRANGE_ITEMS){const r=this.getItems(t.dragSource.getDragItem());this.removeItems(r)}this.isPotentialDndItems()&&(this.handleDragLeaveEnd(t),this.potentialDndItems=[],this.refreshGui()),this.state=Ms.STATE_NOT_DRAGGING}refreshOnDragStop(){return!0}onDragStop(){if(this.isPotentialDndItems()){let t=!1;this.state===Ms.STATE_NEW_ITEMS_IN?(this.addItems(this.potentialDndItems),t=!0):t=this.rearrangeItems(this.potentialDndItems),this.potentialDndItems=[],(this.refreshOnDragStop()||!t)&&this.refreshGui()}this.state=Ms.STATE_NOT_DRAGGING}removeItems(t){const r=this.getExistingItems().filter(i=>!Wi(t,i));this.updateItems(r)}addItems(t){if(!t)return;const r=this.getExistingItems().slice(),i=t.filter(s=>r.indexOf(s)<0);Wg(r,i,this.insertIndex),this.updateItems(r)}addItem(t){this.insertIndex=this.getExistingItems().length,this.addItems([t]),this.refreshGui()}rearrangeItems(t){const r=this.getNonGhostItems().slice();return Wg(r,t,this.insertIndex),Ns(r,this.getExistingItems())?!1:(this.updateItems(r),!0)}refreshGui(){const t=this.ePillDropList.scrollTop,r=this.resizeEnabled,i=this.getFocusedItem();let s=this.focusService.findNextFocusableElement();s||(s=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addItemsToGui(),this.isHorizontal()||(this.ePillDropList.scrollTop=t),r&&this.toggleResizable(r),this.focusService.isKeyboardMode()&&this.restoreFocus(i,s)}getFocusedItem(){const t=this.getGui(),r=this.gos.getActiveDomElement();return t.contains(r)?Array.from(t.querySelectorAll(".ag-column-drop-cell")).indexOf(r):-1}restoreFocus(t,r){const i=this.getGui(),s=Array.from(i.querySelectorAll(".ag-column-drop-cell"));if(t===-1)return;s.length===0&&r.focus();const n=Math.min(s.length-1,t),o=s[n];o&&o.focus()}focusList(t){const r=t?this.childPillComponents.length-1:0;this.restoreFocus(r,this.getFocusableElement())}getNonGhostItems(){const t=this.getExistingItems();return this.isPotentialDndItems()?t.filter(r=>!Wi(this.potentialDndItems,r)):t}addItemsToGui(){const r=this.getNonGhostItems().map(i=>this.createItemComponent(i,!1));if(this.isPotentialDndItems()){const i=this.potentialDndItems.map(s=>this.createItemComponent(s,!0));this.insertIndex>=r.length?r.push(...i):r.splice(this.insertIndex,0,...i)}this.appendChild(this.ePillDropList),r.forEach((i,s)=>{s>0&&this.addArrow(this.ePillDropList),this.ePillDropList.appendChild(i.getGui())}),this.addAriaLabelsToComponents()}addAriaLabelsToComponents(){this.childPillComponents.forEach((t,r)=>{const i=t.getGui();dp(i,r+1),cp(i,this.childPillComponents.length)})}createItemComponent(t,r){const i=this.createPillComponent(t,this.dropTarget,r,this.horizontal);return i.addEventListener(SD.EVENT_COLUMN_REMOVE,this.removeItems.bind(this,[t])),this.context.createBean(i),this.guiDestroyFunctions.push(()=>this.destroyBean(i)),r||this.childPillComponents.push(i),i}addIconAndTitleToGui(){const{title:t,icon:r}=this.params;if(!t||!r)return;const i=document.createElement("div");if(fc(i,!0),this.addElementClasses(i,"title-bar"),this.addElementClasses(r,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingItemsEmpty()),i.appendChild(r),!this.horizontal){const s=document.createElement("span");this.addElementClasses(s,"title"),s.innerHTML=t,i.appendChild(s)}this.appendChild(i)}isExistingItemsEmpty(){return this.getExistingItems().length===0}addEmptyMessageToGui(){const{emptyMessage:t}=this.params;if(!t||!this.isExistingItemsEmpty()||this.isPotentialDndItems())return;const r=document.createElement("span");r.innerHTML=t,this.addElementClasses(r,"empty-message"),this.ePillDropList.appendChild(r)}addArrow(t){if(this.horizontal){const r=this.gos.get("enableRtl"),i=nr(r?"smallLeft":"smallRight",this.gos);this.addElementClasses(i,"cell-separator"),t.appendChild(i)}}};Dc.STATE_NOT_DRAGGING="notDragging";Dc.STATE_NEW_ITEMS_IN="newItemsIn";Dc.STATE_REARRANGE_ITEMS="rearrangeItems";B([q("focusService")],Dc.prototype,"focusService",2);B([q("dragAndDropService")],Dc.prototype,"dragAndDropService",2);var ED=["touchstart","touchend","touchmove","touchcancel"],s2=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t()}setInterval(e,t){return new wr(r=>{r(window.setInterval(e,t))})}addEventListener(e,t,r,i){const s=Wi(ED,t);e.addEventListener(t,r,{capture:!!i,passive:s})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},Kn=class extends ye{getNextCellToFocus(e,t,r=!1){return r?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const r=e===ae.UP,i=e===ae.DOWN,s=e===ae.LEFT;let n,o;if(r||i)o=r?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow(),n=t.column;else{const a=this.columnModel.getAllDisplayedColumns(),u=this.gos.get("enableRtl");o=t.rowIndex,n=s!==u?a[0]:Tt(a)}return{rowIndex:o,rowPinned:null,column:n}}getNextCellToFocusWithoutCtrlPressed(e,t){let r=t,i=!1;for(;!i;){switch(e){case ae.UP:r=this.getCellAbove(r);break;case ae.DOWN:r=this.getCellBelow(r);break;case ae.RIGHT:this.gos.get("enableRtl")?r=this.getCellToLeft(r):r=this.getCellToRight(r);break;case ae.LEFT:this.gos.get("enableRtl")?r=this.getCellToRight(r):r=this.getCellToLeft(r);break;default:r=null,console.warn("AG Grid: unknown key for navigation "+e);break}r?i=this.isCellGoodToFocusOn(r):i=!0}return r}isCellGoodToFocusOn(e){const t=e.column;let r;switch(e.rowPinned){case"top":r=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":r=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:r=this.rowModel.getRow(e.rowIndex);break}return r?!t.isSuppressNavigable(r):!1}getCellToLeft(e){if(!e)return null;const t=this.columnModel.getDisplayedColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.columnModel.getDisplayedColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getRowBelow(e){const t=e.rowIndex,r=e.rowPinned;if(this.isLastRowInContainer(e))switch(r){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}const i=this.rowModel.getRow(e.rowIndex),s=this.getNextStickyPosition(i);return s||{rowIndex:t+1,rowPinned:r}}getNextStickyPosition(e,t){if(!this.gos.isGroupRowsSticky()||!e||!e.sticky)return;const r=this.rowRenderer.getStickyTopRowCtrls().some(a=>a.getRowNode().rowIndex===e.rowIndex);let i=[];r?i=[...this.rowRenderer.getStickyTopRowCtrls()].sort((a,u)=>a.getRowNode().rowIndex-u.getRowNode().rowIndex):i=[...this.rowRenderer.getStickyBottomRowCtrls()].sort((a,u)=>u.getRowNode().rowIndex-a.getRowNode().rowIndex);const s=t?-1:1,n=i.findIndex(a=>a.getRowNode().rowIndex===e.rowIndex),o=i[n+s];if(o)return{rowIndex:o.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;const t=this.getRowBelow(e);return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}isLastRowInContainer(e){const t=e.rowPinned,r=e.rowIndex;return t==="top"?this.pinnedRowModel.getPinnedTopRowData().length-1<=r:t==="bottom"?this.pinnedRowModel.getPinnedBottomRowData().length-1<=r:this.paginationProxy.getPageLastRow()<=r}getRowAbove(e){const t=e.rowIndex,r=e.rowPinned;if(r?t===0:t===this.paginationProxy.getPageFirstRow())return r==="top"?null:r?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;const s=this.rowModel.getRow(e.rowIndex),n=this.getNextStickyPosition(s,!0);return n||{rowIndex:t-1,rowPinned:r}}getCellAbove(e){if(!e)return null;const t=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return t?{rowIndex:t.rowIndex,column:e.column,rowPinned:t.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:"top"}}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const t=this.columnModel.getAllDisplayedColumns();let r=e.rowIndex,i=e.rowPinned,s=this.columnModel.getDisplayedColAfter(e.column);if(!s){s=t[0];const n=this.getRowBelow(e);if(tt(n)||!n.rowPinned&&!this.paginationProxy.isRowInPage(n))return null;r=n?n.rowIndex:null,i=n?n.rowPinned:null}return{rowIndex:r,column:s,rowPinned:i}}getNextTabbedCellBackwards(e){const t=this.columnModel.getAllDisplayedColumns();let r=e.rowIndex,i=e.rowPinned,s=this.columnModel.getDisplayedColBefore(e.column);if(!s){s=Tt(t);const n=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(tt(n)||!n.rowPinned&&!this.paginationProxy.isRowInPage(n))return null;r=n?n.rowIndex:null,i=n?n.rowPinned:null}return{rowIndex:r,column:s,rowPinned:i}}};B([q("columnModel")],Kn.prototype,"columnModel",2);B([q("rowModel")],Kn.prototype,"rowModel",2);B([q("rowRenderer")],Kn.prototype,"rowRenderer",2);B([q("pinnedRowModel")],Kn.prototype,"pinnedRowModel",2);B([q("paginationProxy")],Kn.prototype,"paginationProxy",2);Kn=B([ke("cellNavigationService")],Kn);var jo=class extends ye{constructor(){super(...arguments),this.consuming=!1}setBeans(e){this.logger=e.create("AlignedGridsService")}getAlignedGridApis(){var e;let t=(e=this.gos.get("alignedGrids"))!=null?e:[];const r=typeof t=="function";typeof t=="function"&&(t=t());const i=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return t.map(n=>{var o;if(!n){Eo("alignedGrids contains an undefined option."),r||Eo(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),Eo(i());return}if(n instanceof gt)return n;const a=n;return"current"in a?(o=a.current)==null?void 0:o.api:(a.api||Eo(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${i()}`),a.api)}).filter(n=>!!n&&!n.isDestroyed())}init(){this.addManagedListener(this.eventService,$.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,$.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,$.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,$.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,$.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,$.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{if(t.isDestroyed())return;const r=t.__getAlignedGridService();e(r)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent(t=>{t.onColumnEvent(e)})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent(t=>{t.onScrollEvent(e)})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}getMasterColumns(e){const t=[];return e.columns?e.columns.forEach(r=>{t.push(r)}):e.column&&t.push(e.column),t}getColumnIds(e){const t=[];return e.columns?e.columns.forEach(r=>{t.push(r.getColId())}):e.column&&t.push(e.column.getColId()),t}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case $.EVENT_COLUMN_MOVED:case $.EVENT_COLUMN_VISIBLE:case $.EVENT_COLUMN_PINNED:case $.EVENT_COLUMN_RESIZED:const t=e;this.processColumnEvent(t);break;case $.EVENT_COLUMN_GROUP_OPENED:const r=e;this.processGroupOpenedEvent(r);break;case $.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){e.columnGroups.forEach(t=>{let r=null;if(t){const i=t.getGroupId();r=this.columnModel.getProvidedColumnGroup(i)}t&&!r||(this.logger.log("onColumnEvent-> processing "+e+" expanded = "+t.isExpanded()),this.columnModel.setColumnGroupOpened(r,t.isExpanded(),"alignedGridChanged"))})}processColumnEvent(e){var t;const r=e.column;let i=null;if(r&&(i=this.columnModel.getPrimaryColumn(r.getColId())),r&&!i)return;const s=this.getMasterColumns(e);switch(e.type){case $.EVENT_COLUMN_MOVED:{const l=e,h=e.api.getColumnState().map(d=>({colId:d.colId}));this.columnModel.applyColumnState({state:h,applyOrder:!0},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} toIndex = ${l.toIndex}`)}break;case $.EVENT_COLUMN_VISIBLE:{const l=e,h=e.api.getColumnState().map(d=>({colId:d.colId,hide:d.hide}));this.columnModel.applyColumnState({state:h},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} visible = ${l.visible}`)}break;case $.EVENT_COLUMN_PINNED:{const l=e,h=e.api.getColumnState().map(d=>({colId:d.colId,pinned:d.pinned}));this.columnModel.applyColumnState({state:h},"alignedGridChanged"),this.logger.log(`onColumnEvent-> processing ${e.type} pinned = ${l.pinned}`)}break;case $.EVENT_COLUMN_RESIZED:const a=e,u={};s.forEach(l=>{this.logger.log(`onColumnEvent-> processing ${e.type} actualWidth = ${l.getActualWidth()}`),u[l.getId()]={key:l.getColId(),newWidth:l.getActualWidth()}}),(t=a.flexColumns)==null||t.forEach(l=>{u[l.getId()]&&delete u[l.getId()]}),this.columnModel.setColumnWidths(Object.values(u),!1,a.finished,"alignedGridChanged");break}const o=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(a=>{a.setGridOption("alwaysShowVerticalScroll",o)})}};B([q("columnModel")],jo.prototype,"columnModel",2);B([q("ctrlsService")],jo.prototype,"ctrlsService",2);B([ys(0,es("loggerFactory"))],jo.prototype,"setBeans",1);B([we],jo.prototype,"init",1);jo=B([ke("alignedGridsService")],jo);var $o=class extends ye{constructor(){super(...arguments),this.selectedNodes=new Map,this.lastRowNode=null}init(){this.rowSelection=this.gos.get("rowSelection"),this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{this.groupSelectsChildren=this.gos.get("groupSelectsChildren"),this.rowSelection=this.gos.get("rowSelection"),this.deselectAllRowNodes({source:"api"})}),this.addManagedListener(this.eventService,$.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))}destroy(){super.destroy(),this.resetNodes(),this.lastRowNode=null}isMultiselect(){return this.rowSelection==="multiple"}setNodesSelected(e){var t;const{newValue:r,clearSelection:i,suppressFinishActions:s,rangeSelect:n,nodes:o,event:a,source:u="api"}=e;if(o.length===0)return 0;if(o.length>1&&!this.isMultiselect())return console.warn("AG Grid: cannot multi select while rowSelection='single'"),0;const l=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,c=o.map(d=>d.footer?d.sibling:d);if(n){if(o.length>1)return console.warn("AG Grid: cannot range select while selecting multiple rows"),0;let d=null;if(u==="checkboxSelected"&&r===!1&&this.lastRowNode&&(this.lastRowNode.id?d=this.lastRowNode:this.lastRowNode=null),d==null&&(d=this.getLastSelectedNode()),d){const p=c[0];if(p!==d&&this.isMultiselect())return this.selectRange(p,d,r,u)}}this.lastRowNode=r?null:c[0];let h=0;for(let d=0;d<c.length;d++){const p=c[d];l&&p.group||p.selectThisNode(r,a,u)&&h++,this.groupSelectsChildren&&((t=p.childrenAfterGroup)!=null&&t.length)&&(h+=this.selectChildren(p,r,l,u))}if(!s&&(r&&(i||!this.isMultiselect())&&(h+=this.clearOtherNodes(c[0],u)),h>0)){this.updateGroupsFromChildrenSelections(u);const p={type:$.EVENT_SELECTION_CHANGED,source:u};this.eventService.dispatchEvent(p)}return h}selectRange(e,t,r=!0,i){const s=this.rowModel.getNodesInRangeForSelection(e,t);let n=0;s.forEach(a=>{if(a.group&&this.groupSelectsChildren)return;a.selectThisNode(r,void 0,i)&&n++}),this.updateGroupsFromChildrenSelections(i);const o={type:$.EVENT_SELECTION_CHANGED,source:i};return this.eventService.dispatchEvent(o),n}selectChildren(e,t,r,i){const s=r?e.childrenAfterAggFilter:e.childrenAfterGroup;return tt(s)?0:this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:r,source:i,nodes:s})}getLastSelectedNode(){const e=Array.from(this.selectedNodes.keys());if(e.length==0)return null;const t=this.selectedNodes.get(Tt(e));return t||null}getSelectedNodes(){const e=[];return this.selectedNodes.forEach(t=>{t&&e.push(t)}),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>{t&&t.data&&e.push(t.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((r,i)=>{r&&e(r)&&t.set(i,r)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsChildren||this.rowModel.getType()!=="clientSide")return!1;const i=this.rowModel.getRootNode();t||(t=new Lp(!0,i),t.setInactive());let s=!1;return t.forEachChangedNodeDepthFirst(n=>{if(n!==i){const o=n.calculateSelectedFromChildren();s=n.selectThisNode(o===null?!1:o,void 0,e)||s}}),s}clearOtherNodes(e,t){const r=new Map;let i=0;return this.selectedNodes.forEach(s=>{if(s&&s.id!==e.id){const n=this.selectedNodes.get(s.id);i+=n.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsChildren&&s.parent&&r.set(s.parent.id,s.parent)}}),r.forEach(s=>{const n=s.calculateSelectedFromChildren();s.selectThisNode(n===null?!1:n,void 0,t)}),i}onRowSelected(e){const t=e.node;this.groupSelectsChildren&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}syncInOldRowNode(e,t){if(ve(t)&&e.id!==t.id&&t){const i=t.id;this.selectedNodes.get(i)==e&&this.selectedNodes.set(t.id,t)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const t=this.getSelectionCount();if(this.resetNodes(),t){const r={type:$.EVENT_SELECTION_CHANGED,source:e};this.eventService.dispatchEvent(r)}}resetNodes(){var e;(e=this.selectedNodes)==null||e.clear()}getBestCostNodeSelection(){if(this.rowModel.getType()!=="clientSide")return;const t=this.rowModel.getTopLevelNodes();if(t===null)return;const r=[];function i(s){for(let n=0,o=s.length;n<o;n++){const a=s[n];if(a.isSelected())r.push(a);else{const u=a;u.group&&u.children&&i(u.children)}}}return i(t),r}isEmpty(){let e=0;return this.selectedNodes.forEach(t=>{t&&e++}),e===0}deselectAllRowNodes(e){const t=a=>a.selectThisNode(!1,void 0,i),r=this.rowModel.getType()==="clientSide",{source:i,justFiltered:s,justCurrentPage:n}=e;if(n||s){if(!r){console.error("AG Grid: selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(s,n).forEach(t)}else this.selectedNodes.forEach(a=>{a&&t(a)}),this.reset(i);r&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(i);const o={type:$.EVENT_SELECTION_CHANGED,source:i};this.eventService.dispatchEvent(o)}getSelectedCounts(e,t){let r=0,i=0;const s=n=>{this.groupSelectsChildren&&n.group||(n.isSelected()?r++:n.selectable&&i++)};return this.getNodesToSelect(e,t).forEach(s),{selectedCount:r,notSelectedCount:i}}getSelectAllState(e,t){const{selectedCount:r,notSelectedCount:i}=this.getSelectedCounts(e,t);return r===0&&i===0?!1:r>0&&i>0?null:r>0}hasNodesToSelect(e=!1,t=!1){return this.getNodesToSelect(e,t).filter(r=>r.selectable).length>0}getNodesToSelect(e=!1,t=!1){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const r=[];if(t)return this.paginationProxy.forEachNodeOnPage(s=>{if(!s.group){r.push(s);return}if(!s.expanded){const n=o=>{var a;r.push(o),(a=o.childrenAfterFilter)!=null&&a.length&&o.childrenAfterFilter.forEach(n)};n(s);return}this.groupSelectsChildren||r.push(s)}),r;const i=this.rowModel;return e?(i.forEachNodeAfterFilter(s=>{r.push(s)}),r):(i.forEachNode(s=>{r.push(s)}),r)}selectAllRowNodes(e){if(this.rowModel.getType()!=="clientSide")throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`);const{source:t,justFiltered:r,justCurrentPage:i}=e,s=o=>o.selectThisNode(!0,void 0,t);this.getNodesToSelect(r,i).forEach(s),this.rowModel.getType()==="clientSide"&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(t);const n={type:$.EVENT_SELECTION_CHANGED,source:t};this.eventService.dispatchEvent(n)}getSelectionState(){const e=[];return this.selectedNodes.forEach(t=>{t!=null&&t.id&&e.push(t.id)}),e.length?e:null}setSelectionState(e,t){if(!Array.isArray(e))return;const r=new Set(e),i=[];this.rowModel.forEachNode(s=>{r.has(s.id)&&i.push(s)}),this.setNodesSelected({newValue:!0,nodes:i,source:t})}};B([q("rowModel")],$o.prototype,"rowModel",2);B([q("paginationProxy")],$o.prototype,"paginationProxy",2);B([we],$o.prototype,"init",1);$o=B([ke("selectionService")],$o);var ol=class{constructor(e){this.viaApi=(t,...r)=>(We(`Since v31, 'columnApi.${t}' is deprecated and moved to 'api.${t}'.`),this.api[t](...r)),this.api=e}sizeColumnsToFit(e){this.viaApi("sizeColumnsToFit",e)}setColumnGroupOpened(e,t){this.viaApi("setColumnGroupOpened",e,t)}getColumnGroup(e,t){return this.viaApi("getColumnGroup",e,t)}getProvidedColumnGroup(e){return this.viaApi("getProvidedColumnGroup",e)}getDisplayNameForColumn(e,t){return this.viaApi("getDisplayNameForColumn",e,t)}getDisplayNameForColumnGroup(e,t){return this.viaApi("getDisplayNameForColumnGroup",e,t)}getColumn(e){return this.viaApi("getColumn",e)}getColumns(){return this.viaApi("getColumns")}applyColumnState(e){return this.viaApi("applyColumnState",e)}getColumnState(){return this.viaApi("getColumnState")}resetColumnState(){this.viaApi("resetColumnState")}getColumnGroupState(){return this.viaApi("getColumnGroupState")}setColumnGroupState(e){this.viaApi("setColumnGroupState",e)}resetColumnGroupState(){this.viaApi("resetColumnGroupState")}isPinning(){return this.viaApi("isPinning")}isPinningLeft(){return this.viaApi("isPinningLeft")}isPinningRight(){return this.viaApi("isPinningRight")}getDisplayedColAfter(e){return this.viaApi("getDisplayedColAfter",e)}getDisplayedColBefore(e){return this.viaApi("getDisplayedColBefore",e)}setColumnVisible(e,t){this.viaApi("setColumnVisible",e,t)}setColumnsVisible(e,t){this.viaApi("setColumnsVisible",e,t)}setColumnPinned(e,t){this.viaApi("setColumnPinned",e,t)}setColumnsPinned(e,t){this.viaApi("setColumnsPinned",e,t)}getAllGridColumns(){return this.viaApi("getAllGridColumns")}getDisplayedLeftColumns(){return this.viaApi("getDisplayedLeftColumns")}getDisplayedCenterColumns(){return this.viaApi("getDisplayedCenterColumns")}getDisplayedRightColumns(){return this.viaApi("getDisplayedRightColumns")}getAllDisplayedColumns(){return this.viaApi("getAllDisplayedColumns")}getAllDisplayedVirtualColumns(){return this.viaApi("getAllDisplayedVirtualColumns")}moveColumn(e,t){this.viaApi("moveColumn",e,t)}moveColumnByIndex(e,t){this.viaApi("moveColumnByIndex",e,t)}moveColumns(e,t){this.viaApi("moveColumns",e,t)}moveRowGroupColumn(e,t){this.viaApi("moveRowGroupColumn",e,t)}setColumnAggFunc(e,t){this.viaApi("setColumnAggFunc",e,t)}setColumnWidth(e,t,r=!0,i){this.viaApi("setColumnWidth",e,t,r,i)}setColumnWidths(e,t=!0,r){this.viaApi("setColumnWidths",e,t,r)}setPivotMode(e){this.viaApi("setPivotMode",e)}isPivotMode(){return this.viaApi("isPivotMode")}getPivotResultColumn(e,t){return this.viaApi("getPivotResultColumn",e,t)}setValueColumns(e){this.viaApi("setValueColumns",e)}getValueColumns(){return this.viaApi("getValueColumns")}removeValueColumn(e){this.viaApi("removeValueColumn",e)}removeValueColumns(e){this.viaApi("removeValueColumns",e)}addValueColumn(e){this.viaApi("addValueColumn",e)}addValueColumns(e){this.viaApi("addValueColumns",e)}setRowGroupColumns(e){this.viaApi("setRowGroupColumns",e)}removeRowGroupColumn(e){this.viaApi("removeRowGroupColumn",e)}removeRowGroupColumns(e){this.viaApi("removeRowGroupColumns",e)}addRowGroupColumn(e){this.viaApi("addRowGroupColumn",e)}addRowGroupColumns(e){this.viaApi("addRowGroupColumns",e)}getRowGroupColumns(){return this.viaApi("getRowGroupColumns")}setPivotColumns(e){this.viaApi("setPivotColumns",e)}removePivotColumn(e){this.viaApi("removePivotColumn",e)}removePivotColumns(e){this.viaApi("removePivotColumns",e)}addPivotColumn(e){this.viaApi("addPivotColumn",e)}addPivotColumns(e){this.viaApi("addPivotColumns",e)}getPivotColumns(){return this.viaApi("getPivotColumns")}getLeftDisplayedColumnGroups(){return this.viaApi("getLeftDisplayedColumnGroups")}getCenterDisplayedColumnGroups(){return this.viaApi("getCenterDisplayedColumnGroups")}getRightDisplayedColumnGroups(){return this.viaApi("getRightDisplayedColumnGroups")}getAllDisplayedColumnGroups(){return this.viaApi("getAllDisplayedColumnGroups")}autoSizeColumn(e,t){return this.viaApi("autoSizeColumn",e,t)}autoSizeColumns(e,t){this.viaApi("autoSizeColumns",e,t)}autoSizeAllColumns(e){this.viaApi("autoSizeAllColumns",e)}setPivotResultColumns(e){this.viaApi("setPivotResultColumns",e)}getPivotResultColumns(){return this.viaApi("getPivotResultColumns")}};B([q("gridApi")],ol.prototype,"api",2);ol=B([ke("columnApi")],ol);var qn=class extends ye{constructor(){super(...arguments),this.initialised=!1,this.isSsrm=!1}init(){this.isSsrm=this.gos.isRowModelType("serverSide"),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=r=>this.callColumnCellValueChangedHandler(r),t=this.gos.useAsyncEvents();this.eventService.addEventListener($.EVENT_CELL_VALUE_CHANGED,e,t),this.addDestroyFunc(()=>this.eventService.removeEventListener($.EVENT_CELL_VALUE_CHANGED,e,t)),this.addManagedPropertyListener("treeData",r=>this.isTreeData=r.currentValue)}getValue(e,t,r=!1,i=!1){if(this.initialised||this.init(),!t)return;const s=e.getColDef(),n=s.field,o=e.getColId(),a=t.data;let u;const l=t.groupData&&t.groupData[o]!==void 0,c=!i&&t.aggData&&t.aggData[o]!==void 0,h=this.isSsrm&&i&&!!e.getColDef().aggFunc,d=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(r&&s.filterValueGetter?u=this.executeFilterValueGetter(s.filterValueGetter,a,e,t):this.isTreeData&&c?u=t.aggData[o]:this.isTreeData&&s.valueGetter?u=this.executeValueGetter(s.valueGetter,a,e,t):this.isTreeData&&n&&a?u=Wa(a,n,e.isFieldContainsDots()):l?u=t.groupData[o]:c?u=t.aggData[o]:s.valueGetter?u=this.executeValueGetter(s.valueGetter,a,e,t):d?u=Wa(a,t.field,e.isFieldContainsDots()):n&&a&&!h&&(u=Wa(a,n,e.isFieldContainsDots())),this.cellExpressions&&typeof u=="string"&&u.indexOf("=")===0){const p=u.substring(1);u=this.executeValueGetter(p,a,e,t)}if(u==null){const p=this.getOpenedGroup(t,e);if(p!=null)return p}return u}parseValue(e,t,r,i){const s=e.getColDef(),n=this.gos.addGridCommonParams({node:t,data:t==null?void 0:t.data,oldValue:i,newValue:r,colDef:s,column:e}),o=s.valueParser;return ve(o)?typeof o=="function"?o(n):this.expressionService.evaluate(o,n):r}formatValue(e,t,r,i,s=!0){let n=null,o;const a=e.getColDef();if(i?o=i:s&&(o=a.valueFormatter),o){const u=this.gos.addGridCommonParams({value:r,node:t,data:t?t.data:null,colDef:a,column:e});typeof o=="function"?n=o(u):n=this.expressionService.evaluate(o,u)}else if(a.refData)return a.refData[r]||"";return n==null&&Array.isArray(r)&&(n=r.join(", ")),n}getOpenedGroup(e,t){if(!this.gos.get("showOpenedGroup")||!t.getColDef().showRowGroup)return;const i=t.getColDef().showRowGroup;let s=e.parent;for(;s!=null;){if(s.rowGroupColumn&&(i===!0||i===s.rowGroupColumn.getColId()))return s.key;s=s.parent}}setValue(e,t,r,i){const s=this.columnModel.getPrimaryColumn(t);if(!e||!s)return!1;tt(e.data)&&(e.data={});const{field:n,valueSetter:o}=s.getColDef();if(tt(n)&&tt(o))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;if(!this.dataTypeService.checkType(s,r))return console.warn("AG Grid: Data type of the new value does not match the cell data type of the column"),!1;const a=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(s,e),newValue:r,colDef:s.getColDef(),column:s});a.newValue=r;let u;if(ve(o)?typeof o=="function"?u=o(a):u=this.expressionService.evaluate(o,a):u=this.setValueUsingField(e.data,n,r,s.isFieldContainsDots()),u===void 0&&(u=!0),!u)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),a.newValue=this.getValue(s,e);const l={type:$.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,api:a.api,columnApi:a.columnApi,colDef:a.colDef,context:a.context,data:e.data,node:e,oldValue:a.oldValue,newValue:a.newValue,value:a.newValue,source:i};return this.eventService.dispatchEvent(l),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,columnApi:e.columnApi,context:e.context})})}setValueUsingField(e,t,r,i){if(!t)return!1;let s=!1;if(!i)s=e[t]===r,s||(e[t]=r);else{const n=t.split(".");let o=e;for(;n.length>0&&o;){const a=n.shift();n.length===0?(s=o[a]===r,s||(o[a]=r)):o=o[a]}}return!s}executeFilterValueGetter(e,t,r,i){const s=this.gos.addGridCommonParams({data:t,node:i,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,i)});return typeof e=="function"?e(s):this.expressionService.evaluate(e,s)}executeValueGetter(e,t,r,i){const s=r.getColId(),n=this.valueCache.getValue(i,s);if(n!==void 0)return n;const o=this.gos.addGridCommonParams({data:t,node:i,column:r,colDef:r.getColDef(),getValue:this.getValueCallback.bind(this,i)});let a;return typeof e=="function"?a=e(o):a=this.expressionService.evaluate(e,o),this.valueCache.setValue(i,s,a),a}getValueCallback(e,t){const r=this.columnModel.getPrimaryColumn(t);return r?this.getValue(r,e):null}getKeyForNode(e,t){const r=this.getValue(e,t),i=e.getColDef().keyCreator;let s=r;if(i){const n=this.gos.addGridCommonParams({value:r,colDef:e.getColDef(),column:e,node:t,data:t.data});s=i(n)}return typeof s=="string"||s==null||(s=String(s),s==="[object Object]"&&We("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),s}};B([q("expressionService")],qn.prototype,"expressionService",2);B([q("columnModel")],qn.prototype,"columnModel",2);B([q("valueCache")],qn.prototype,"valueCache",2);B([q("dataTypeService")],qn.prototype,"dataTypeService",2);B([we],qn.prototype,"init",1);qn=B([ke("valueService")],qn);var xh=class extends ye{constructor(){super(...arguments),this.expressionToFunctionCache={}}setBeans(e){this.logger=e.create("ExpressionService")}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);console.error("AG Grid: value should be either a string or a function",e)}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.columnApi,t.getValue,t.column,t.columnGroup)}catch(r){return console.log("Processing of the expression failed"),console.log("Expression = "+e),console.log("Params =",t),console.log("Exception = "+r),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const t=this.createFunctionBody(e),r=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",t);return this.expressionToFunctionCache[e]=r,r}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}};B([ys(0,es("loggerFactory"))],xh.prototype,"setBeans",1);xh=B([ke("expressionService")],xh);var _h=class extends ye{setBeans(e){this.logging=e.get("debug")}create(e){return new m0(e,this.isLogging.bind(this))}isLogging(){return this.logging}};B([ys(0,es("gridOptionsService"))],_h.prototype,"setBeans",1);_h=B([ke("loggerFactory")],_h);var m0=class{constructor(e,t){this.name=e,this.isLoggingFunc=t}isLogging(){return this.isLoggingFunc()}log(e){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+e)}},oo=class extends ye{setComp(e,t,r){this.view=e,this.eGridHostDiv=t,this.eGui=r,this.eGui.setAttribute("grid-id",this.context.getGridId()),this.dragAndDropService.addDropTarget({getContainer:()=>this.eGui,isInterestedIn:s=>s===1||s===0,getIconName:()=>ot.ICON_NOT_ALLOWED}),this.mouseEventService.stampTopLevelGridCompWithGridInstance(t),this.createManagedBean(new Rp(this.view)),this.addRtlSupport();const i=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>i()),this.ctrlsService.register("gridCtrl",this)}isDetailGrid(){var e;const t=this.focusService.findTabbableParent(this.getGui());return((e=t==null?void 0:t.getAttribute("row-id"))==null?void 0:e.startsWith("detail"))||!1}showDropZones(){return Pt.__isRegistered("@ag-grid-enterprise/row-grouping",this.context.getGridId())}showSideBar(){return Pt.__isRegistered("@ag-grid-enterprise/side-bar",this.context.getGridId())}showStatusBar(){return Pt.__isRegistered("@ag-grid-enterprise/status-bar",this.context.getGridId())}showWatermark(){return Pt.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId())}onGridSizeChanged(){const e={type:$.EVENT_GRID_SIZE_CHANGED,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight};this.eventService.dispatchEvent(e)}addRtlSupport(){const e=this.gos.get("enableRtl")?"ag-rtl":"ag-ltr";this.view.setRtlClass(e)}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.view.getFocusableContainers(),r=this.gos.getActiveDomElement(),s=t.findIndex(n=>n.contains(r))+(e?-1:1);return s<=0||s>=t.length?!1:this.focusService.focusInto(t[s])}focusInnerElement(e){const t=this.view.getFocusableContainers(),r=this.columnModel.getAllDisplayedColumns();if(e){if(t.length>1)return this.focusService.focusInto(Tt(t),!0);const i=Tt(r);if(this.focusService.focusGridView(i,!0))return!0}if(this.gos.get("headerHeight")===0||this.gos.get("suppressHeaderFocus")){if(this.focusService.focusGridView(r[0]))return!0;for(let i=1;i<t.length;i++)if(this.focusService.focusInto(t[i]))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}};B([q("focusService")],oo.prototype,"focusService",2);B([q("resizeObserverService")],oo.prototype,"resizeObserverService",2);B([q("columnModel")],oo.prototype,"columnModel",2);B([q("ctrlsService")],oo.prototype,"ctrlsService",2);B([q("mouseEventService")],oo.prototype,"mouseEventService",2);B([q("dragAndDropService")],oo.prototype,"dragAndDropService",2);var Mc=class extends Rc{constructor(t){super(),this.eGridDiv=t}postConstruct(){this.logger=this.loggerFactory.create("GridComp");const t={destroyGridUi:()=>this.destroyBean(this),setRtlClass:i=>this.addCssClass(i),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:i=>{this.getGui().style.userSelect=i??"",this.getGui().style.webkitUserSelect=i??""},setCursor:i=>{this.getGui().style.cursor=i??""}};this.ctrl=this.createManagedBean(new oo);const r=this.createTemplate();this.setTemplate(r),this.ctrl.setComp(t,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:i=>this.ctrl.focusInnerElement(i),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){const t=this.getGui();this.eGridDiv.appendChild(t),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(t),this.logger.log("Grid removed from DOM")})}updateLayoutClasses(t,r){const i=this.eRootWrapperBody.classList;i.toggle("ag-layout-auto-height",r.autoHeight),i.toggle("ag-layout-normal",r.normal),i.toggle("ag-layout-print",r.print),this.addOrRemoveCssClass("ag-layout-auto-height",r.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",r.normal),this.addOrRemoveCssClass("ag-layout-print",r.print)}createTemplate(){const t=this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",r=this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"",i=this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"",s=this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"";return`<div class="ag-root-wrapper" role="presentation">
                ${t}
                <div class="ag-root-wrapper-body" ref="rootWrapperBody" role="presentation">
                    <ag-grid-body ref="gridBody"></ag-grid-body>
                    ${r}
                </div>
                ${i}
                <ag-pagination></ag-pagination>
                ${s}
            </div>`}getFocusableElement(){return this.eRootWrapperBody}getFocusableContainers(){const t=[this.gridBodyComp.getGui()];return this.sideBarComp&&t.push(this.sideBarComp.getGui()),t.filter(r=>Ai(r))}};B([q("loggerFactory")],Mc.prototype,"loggerFactory",2);B([Ee("gridBody")],Mc.prototype,"gridBodyComp",2);B([Ee("sideBar")],Mc.prototype,"sideBarComp",2);B([Ee("rootWrapperBody")],Mc.prototype,"eRootWrapperBody",2);B([we],Mc.prototype,"postConstruct",1);var Ko=class extends ye{progressSort(e,t,r){const i=this.getNextSortDirection(e);this.setSortForColumn(e,i,t,r)}setSortForColumn(e,t,r,i){t!=="asc"&&t!=="desc"&&(t=null);const s=this.gos.isColumnsSortingCoupledToGroup();let n=[e];if(s&&e.getColDef().showRowGroup){const u=this.columnModel.getSourceColumnsForGroupColumn(e),l=u==null?void 0:u.filter(c=>c.isSortable());l&&(n=[e,...l])}n.forEach(u=>u.setSort(t,i));const o=(r||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"),a=[];if(!o){const u=this.clearSortBarTheseColumns(n,i);a.push(...u)}this.updateSortIndex(e),a.push(...n),this.dispatchSortChangedEvents(i,a)}updateSortIndex(e){const t=this.gos.isColumnsSortingCoupledToGroup(),r=this.columnModel.getGroupDisplayColumnForGroup(e.getId()),i=t&&r||e,s=this.getColumnsWithSortingOrdered();this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(a=>a.setSortIndex(null));const n=s.filter(a=>t&&a.getColDef().showRowGroup?!1:a!==i);(i.getSort()?[...n,i]:n).forEach((a,u)=>{a.setSortIndex(u)})}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){const t=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(r=>!!r.getSort());return t&&t.length>0}dispatchSortChangedEvents(e,t){const r={type:$.EVENT_SORT_CHANGED,source:e};t&&(r.columns=t),this.eventService.dispatchEvent(r)}clearSortBarTheseColumns(e,t){const r=[];return this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(i=>{e.includes(i)||(i.getSort()&&r.push(i),i.setSort(void 0,t))}),r}getNextSortDirection(e){let t;if(e.getColDef().sortingOrder?t=e.getColDef().sortingOrder:this.gos.get("sortingOrder")?t=this.gos.get("sortingOrder"):t=Ko.DEFAULT_SORTING_ORDER,!Array.isArray(t)||t.length<=0)return console.warn(`AG Grid: sortingOrder must be an array with at least one element, currently it's ${t}`),null;const r=t.indexOf(e.getSort()),i=r<0,s=r==t.length-1;let n;return i||s?n=t[0]:n=t[r+1],Ko.DEFAULT_SORTING_ORDER.indexOf(n)<0?(console.warn("AG Grid: invalid sort type "+n),null):n}getIndexedSortMap(){let e=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(n=>!!n.getSort());if(this.columnModel.isPivotMode()){const n=this.gos.isColumnsSortingCoupledToGroup();e=e.filter(o=>{const a=!!o.getAggFunc(),u=!o.isPrimary(),l=n?this.columnModel.getGroupDisplayColumnForGroup(o.getId()):o.getColDef().showRowGroup;return a||u||l})}const t=this.columnModel.getRowGroupColumns().filter(n=>!!n.getSort()),r={};e.forEach((n,o)=>r[n.getId()]=o),e.sort((n,o)=>{const a=n.getSortIndex(),u=o.getSortIndex();if(a!=null&&u!=null)return a-u;if(a==null&&u==null){const l=r[n.getId()],c=r[o.getId()];return l>c?1:-1}else return u==null?-1:1});const i=this.gos.isColumnsSortingCoupledToGroup()&&!!t.length;i&&(e=[...new Set(e.map(n=>{var o;return(o=this.columnModel.getGroupDisplayColumnForGroup(n.getId()))!=null?o:n}))]);const s=new Map;return e.forEach((n,o)=>s.set(n,o)),i&&t.forEach(n=>{const o=this.columnModel.getGroupDisplayColumnForGroup(n.getId());s.set(n,s.get(o))}),s}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,t],[r,i])=>t-i).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=this.gos.isColumnsSortingCoupledToGroup(),r=!!e.getColDef().showRowGroup;return t&&r}getDisplaySortForColumn(e){const t=this.columnModel.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const i=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,s=i[0].getSort();return i.every(o=>o.getSort()==s)?s:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}};Ko.DEFAULT_SORTING_ORDER=["asc","desc",null];B([q("columnModel")],Ko.prototype,"columnModel",2);Ko=B([ke("sortController")],Ko);var Ht=class extends ye{static addKeyboardModeEvents(e){this.instanceCount>0||(e.addEventListener("keydown",Ht.toggleKeyboardMode),e.addEventListener("mousedown",Ht.toggleKeyboardMode))}static removeKeyboardModeEvents(e){this.instanceCount>0||(e.addEventListener("keydown",Ht.toggleKeyboardMode),e.addEventListener("mousedown",Ht.toggleKeyboardMode))}static toggleKeyboardMode(e){const t=Ht.keyboardModeActive,r=e.type==="keydown";r&&(e.ctrlKey||e.metaKey||e.altKey)||t!==r&&(Ht.keyboardModeActive=r)}static unregisterGridCompController(e){Ht.removeKeyboardModeEvents(e)}init(){const e=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,$.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,$.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,$.EVENT_COLUMN_GROUP_OPENED,e),this.addManagedListener(this.eventService,$.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(t=>{this.gridCtrl=t.gridCtrl})}registerKeyboardFocusEvents(){const e=this.gos.getDocument();Ht.addKeyboardModeEvents(e),Ht.instanceCount++,this.addDestroyFunc(()=>{Ht.instanceCount--,Ht.unregisterGridCompController(e)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const e=this.focusedCellPosition.column,t=this.columnModel.getGridColumn(e.getId());e!==t&&this.clearFocusedCell()}isKeyboardMode(){return Ht.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),Io.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(this.gos.getActiveDomElement(),Pp.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(e,t){let r=e;for(;r;){if(this.gos.getDomData(r,t))return!1;r=r.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(e){return this.isCellRestoreFocused(e)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}isCellRestoreFocused(e){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(e,this.restoredFocusedCellPosition)}setRestoreFocusedCell(e){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=e)}getFocusEventParams(){const{rowIndex:e,rowPinned:t,column:r}=this.focusedCellPosition,i={rowIndex:e,rowPinned:t,column:r,isFullWidthCell:!1},s=this.rowRenderer.getRowByPosition({rowIndex:e,rowPinned:t});return s&&(i.isFullWidthCell=s.isFullWidth()),i}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const e=Be({type:$.EVENT_CELL_FOCUS_CLEARED},this.getFocusEventParams());this.focusedCellPosition=null,this.eventService.dispatchEvent(e)}setFocusedCell(e){const{column:t,rowIndex:r,rowPinned:i,forceBrowserFocus:s=!1,preventScrollOnBrowserFocus:n=!1}=e,o=this.columnModel.getGridColumn(t);if(!o){this.focusedCellPosition=null;return}this.focusedCellPosition=o?{rowIndex:r,rowPinned:Vs(i),column:o}:null;const a=er(Be({type:$.EVENT_CELL_FOCUSED},this.getFocusEventParams()),{forceBrowserFocus:s,preventScrollOnBrowserFocus:n,floating:null});this.eventService.dispatchEvent(a)}isCellFocused(e){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(e,this.focusedCellPosition)}isRowNodeFocused(e){return this.isRowFocused(e.rowIndex,e.rowPinned)}isHeaderWrapperFocused(e){if(this.focusedHeaderPosition==null)return!1;const t=e.getColumnGroupChild(),r=e.getRowIndex(),i=e.getPinned(),{column:s,headerRowIndex:n}=this.focusedHeaderPosition;return t===s&&r===n&&i==s.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(e,t){this.focusedHeaderPosition={headerRowIndex:e,column:t}}focusHeaderPosition(e){if(this.gos.get("suppressHeaderFocus"))return!1;const{direction:t,fromTab:r,allowUserOverride:i,event:s,fromCell:n,rowWithoutSpanValue:o}=e;let{headerPosition:a}=e;if(n&&this.filterManager.isAdvancedFilterHeaderActive())return this.focusAdvancedFilter(a);if(i){const u=this.getFocusedHeader(),l=this.headerNavigationService.getHeaderRowCount();if(r){const c=this.gos.getCallback("tabToNextHeader");c&&(a=this.getHeaderPositionFromUserFunc({userFunc:c,direction:t,currentPosition:u,headerPosition:a,headerRowCount:l}))}else{const c=this.gos.getCallback("navigateToNextHeader");if(c&&s){const h={key:s.key,previousHeaderPosition:u,nextHeaderPosition:a,headerRowCount:l,event:s};a=c(h)}}}return a?this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:s,fromCell:n,rowWithoutSpanValue:o}):!1}focusHeaderPositionFromUserFunc(e){if(this.gos.get("suppressHeaderFocus"))return!1;const{userFunc:t,headerPosition:r,direction:i,event:s}=e,n=this.getFocusedHeader(),o=this.headerNavigationService.getHeaderRowCount(),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:i,currentPosition:n,headerPosition:r,headerRowCount:o});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:i,event:s})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:r,currentPosition:i,headerPosition:s,headerRowCount:n}=e,a=t({backwards:r==="Before",previousHeaderPosition:i,nextHeaderPosition:s,headerRowCount:n});return a===!0||a===null?(a===null&&We("Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),i):a===!1?null:a}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:r,fromCell:i,rowWithoutSpanValue:s,event:n}=e;if(t.headerRowIndex===-1)return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView(t.column);this.headerNavigationService.scrollToColumn(t.column,r);const a=this.ctrlsService.getHeaderRowContainerCtrl(t.column.getPinned()).focusHeader(t.headerRowIndex,t.column,n);return a&&(s!=null||i)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(s??-1),a}focusFirstHeader(){let e=this.columnModel.getAllDisplayedColumns()[0];if(!e)return!1;e.getParent()&&(e=this.columnModel.getColumnGroupAtLevel(e,0));const t=this.headerPositionUtils.getHeaderIndexToFocus(e,0);return this.focusHeaderPosition({headerPosition:t,rowWithoutSpanValue:0})}focusLastHeader(e){const t=this.headerNavigationService.getHeaderRowCount()-1,r=Tt(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:r},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){return this.filterManager.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(e,t){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===e&&this.focusedCellPosition.rowPinned===Vs(t)}findFocusableElements(e,t,r=!1){const i=MS;let s=Ov;t&&(s+=", "+t),r&&(s+=', [tabindex="-1"]');const n=Array.prototype.slice.apply(e.querySelectorAll(i)).filter(u=>Ai(u)),o=Array.prototype.slice.apply(e.querySelectorAll(s));return o.length?((u,l)=>u.filter(c=>l.indexOf(c)===-1))(n,o):n}focusInto(e,t=!1,r=!1){const i=this.findFocusableElements(e,null,r),s=t?Tt(i):i[0];return s?(s.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(e,t){if(!t)return null;const r=this.findFocusableElements(e),i=r.indexOf(t);if(i===-1)return null;let s=-1;for(let n=i-1;n>=0;n--)if(r[n].classList.contains("ag-tab-guard-top")){s=n;break}return s<=0?null:r[s-1]}findNextFocusableElement(e=this.eGridDiv,t,r){const i=this.findFocusableElements(e,t?':not([tabindex="-1"])':null),s=this.gos.getActiveDomElement();let n;t?n=i.findIndex(a=>a.contains(s)):n=i.indexOf(s);const o=n+(r?-1:1);return o<0||o>=i.length?null:i[o]}isTargetUnderManagedComponent(e,t){if(!t)return!1;const r=e.querySelectorAll(`.${eo.FOCUS_MANAGED_CLASS}`);if(!r.length)return!1;for(let i=0;i<r.length;i++)if(r[i].contains(t))return!0;return!1}findTabbableParent(e,t=5){let r=0;for(;e&&yh(e)===null&&++r<=t;)e=e.parentElement;return yh(e)===null?null:e}focusGridView(e,t){var r;if(this.gos.get("suppressCellFocus"))return t?this.gos.get("suppressHeaderFocus")?this.focusNextGridCoreContainer(!0,!0):this.focusLastHeader():this.focusNextGridCoreContainer(!1);const i=t?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!i)return!1;const{rowIndex:s,rowPinned:n}=i,o=this.getFocusedHeader();return!e&&o&&(e=o.column),s==null||!e?!1:(this.navigationService.ensureCellVisible({rowIndex:s,column:e,rowPinned:n}),this.setFocusedCell({rowIndex:s,column:e,rowPinned:Vs(n),forceBrowserFocus:!0}),(r=this.rangeService)==null||r.setRangeToCell({rowIndex:s,rowPinned:n,column:e}),!0)}focusNextGridCoreContainer(e,t=!1){return!t&&this.gridCtrl.focusNextInnerContainer(e)?!0:((t||!e&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(e),!1)}focusAdvancedFilter(e){var t,r;return this.advancedFilterFocusColumn=e==null?void 0:e.column,(r=(t=this.advancedFilterService)==null?void 0:t.getCtrl().focusHeaderComp())!=null?r:!1}focusNextFromAdvancedFilter(e,t){var r,i;const s=(i=t?void 0:this.advancedFilterFocusColumn)!=null?i:(r=this.columnModel.getAllDisplayedColumns())==null?void 0:r[0];return e?this.focusHeaderPosition({headerPosition:{column:s,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(s)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}};Ht.keyboardModeActive=!1;Ht.instanceCount=0;B([q("eGridDiv")],Ht.prototype,"eGridDiv",2);B([q("columnModel")],Ht.prototype,"columnModel",2);B([q("headerNavigationService")],Ht.prototype,"headerNavigationService",2);B([q("headerPositionUtils")],Ht.prototype,"headerPositionUtils",2);B([q("rowRenderer")],Ht.prototype,"rowRenderer",2);B([q("rowPositionUtils")],Ht.prototype,"rowPositionUtils",2);B([q("cellPositionUtils")],Ht.prototype,"cellPositionUtils",2);B([q("navigationService")],Ht.prototype,"navigationService",2);B([q("ctrlsService")],Ht.prototype,"ctrlsService",2);B([q("filterManager")],Ht.prototype,"filterManager",2);B([Lt("rangeService")],Ht.prototype,"rangeService",2);B([Lt("advancedFilterService")],Ht.prototype,"advancedFilterService",2);B([we],Ht.prototype,"init",1);Ht=B([ke("focusService")],Ht);var am=class extends ye{setMouseOver(e){this.selectedColumns=e;const t={type:$.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(t)}clearMouseOver(){this.selectedColumns=null;const e={type:$.EVENT_COLUMN_HOVER_CHANGED};this.eventService.dispatchEvent(e)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}};am=B([ke("columnHoverService")],am);var qu=class extends ye{constructor(){super(...arguments),this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.ctrlsService.whenReady(e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0)}finish(){this.active&&this.flush(()=>{this.active=!1})}executeNextVMTurn(e){this.active?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e();return}const t=r=>{for(;r.length;){const i=r.pop();i&&i()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>t(this.executeNextFuncs),0),window.setTimeout(()=>{e(),t(this.executeLaterFuncs)},200)})}};B([q("ctrlsService")],qu.prototype,"ctrlsService",2);B([we],qu.prototype,"postConstruct",1);qu=B([ke("columnAnimationService")],qu);var al=class extends ye{postConstruct(){this.ctrlsService.whenReady(e=>{this.centerRowsCtrl=e.center,this.addManagedListener(this.eventService,$.EVENT_BODY_HEIGHT_CHANGED,this.checkPageSize.bind(this)),this.addManagedListener(this.eventService,$.EVENT_SCROLL_VISIBILITY_CHANGED,this.checkPageSize.bind(this)),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationProxy.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){const t=()=>{const r=this.gos.getRowHeightAsNumber(),i=Math.floor(e/r);this.paginationProxy.setPageSize(i,"autoCalculated")};this.isBodyRendered?ri(()=>t(),50)():(t(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};B([q("ctrlsService")],al.prototype,"ctrlsService",2);B([q("paginationProxy")],al.prototype,"paginationProxy",2);B([we],al.prototype,"postConstruct",1);al=B([ke("paginationAutoPageSizeService")],al);var Rh=class extends ye{constructor(){super(...arguments),this.cacheVersion=0}init(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,r){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[t]=r)}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}};B([we],Rh.prototype,"init",1);Rh=B([ke("valueCache")],Rh);var xD="paste",ll=class extends ye{init(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,$.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))}onCellValueChanged(e){e.source!==xD&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,t){if(this.gos.get("suppressChangeDetection"))return;const r=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const i=this.gos.get("aggregateOnlyChangedColumns"),s=new Lp(i,this.clientSideRowModel.getRootNode());s.addParentNode(e.parent,[t]),this.clientSideRowModel.doAggregate(s),s.forEachChangedNodeDepthFirst(n=>{r.push(n)})}this.rowRenderer.refreshCells({rowNodes:r})}};B([q("rowModel")],ll.prototype,"rowModel",2);B([q("rowRenderer")],ll.prototype,"rowRenderer",2);B([we],ll.prototype,"init",1);ll=B([ke("changeDetectionService")],ll);var Th=class extends ye{adaptFunction(e,t){const r=this.componentMetadataProvider.retrieve(e);return r&&r.functionAdapter?r.functionAdapter(t):null}adaptCellRendererFunction(e){class t{refresh(i){return!1}getGui(){return this.eGui}init(i){const s=e(i),n=typeof s;if(n==="string"||n==="number"||n==="boolean"){this.eGui=Ei("<span>"+s+"</span>");return}if(s==null){this.eGui=Ei("<span></span>");return}this.eGui=s}}return t}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}};B([q("componentMetadataProvider")],Th.prototype,"componentMetadataProvider",2);Th=B([ke("agComponentUtils")],Th);var Yu=class extends ye{postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}};B([q("agComponentUtils")],Yu.prototype,"agComponentUtils",2);B([we],Yu.prototype,"postConstruct",1);Yu=B([ke("componentMetadataProvider")],Yu);var _D=25,cC=10,Mf=8,RD=4,Pf=4,Ff=6,TD=16,dC=14,If=8,AD={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:RD*5,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:Mf*7,headerCellMinWidth:48,listItemHeight:Mf*4,rowHeight:Mf*6,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:Pf*8,headerCellMinWidth:24,listItemHeight:Pf*6,rowHeight:Pf*7,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:Ff*8,headerCellMinWidth:36,listItemHeight:Ff*4,rowHeight:Ff*7,chartMenuPanelWidth:240},"ag-theme-quartz":{headerHeight:dC+If*4.25,headerCellMinWidth:36,listItemHeight:TD+If,rowHeight:dC+If*3.5,chartMenuPanelWidth:260}},hC={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Xu=class extends ye{constructor(){super(...arguments),this.calculatedSizes={},this.calculatedTheme=null}postConstruct(){var e;const t=(e=this.getTheme().el)!=null?e:this.eGridDiv;this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.mutationObserver=new MutationObserver(()=>{this.calculatedSizes={},this.calculatedTheme=null,this.calculatedTheme=this.getTheme(),this.fireGridStylesChangedEvent()}),this.mutationObserver.observe(t||this.eGridDiv,{attributes:!0,attributeFilter:["class"]})}fireGridStylesChangedEvent(){const e={type:$.EVENT_GRID_STYLES_CHANGED};this.eventService.dispatchEvent(e)}getSassVariable(e){const{themeFamily:t,el:r}=this.getTheme();if(!t||t.indexOf("ag-theme")!==0)return;this.calculatedSizes||(this.calculatedSizes={}),this.calculatedSizes[t]||(this.calculatedSizes[t]={});const i=this.calculatedSizes[t][e];return i??(this.calculatedSizes[t][e]=this.calculateValueForSassProperty(e,t,r),this.calculatedSizes[t][e])}calculateValueForSassProperty(e,t,r){const i="ag-theme-"+(t.match("material")?"material":t.match("balham")?"balham":t.match("alpine")?"alpine":"custom"),s=AD[i][e],n=this.gos.getDocument();if(r||(r=this.eGridDiv),!hC[e])return s;const o=hC[e],a=n.createElement("div"),u=Array.from(r.classList);a.classList.add(t,...u),a.style.position="absolute";const l=o.reduce((h,d)=>{const p=n.createElement("div");return p.style.position="static",p.classList.add(d),h.appendChild(p),p},a);let c=0;if(n.body){n.body.appendChild(a);const h=e.toLowerCase().indexOf("height")!==-1?"height":"width";c=parseInt(window.getComputedStyle(l)[h],10),n.body.removeChild(a)}return c||s}isThemeDark(){const{theme:e}=this.getTheme();return!!e&&e.indexOf("dark")>=0}chartMenuPanelWidth(){return this.getSassVariable("chartMenuPanelWidth")}getTheme(){if(this.calculatedTheme)return this.calculatedTheme;const e=/\bag-(material|(?:theme-([\w\-]*)))\b/g;let t=this.eGridDiv,r=null,i=[];for(;t;)if(r=e.exec(t.className),!r)t=t.parentElement||void 0;else{const n=t.className.match(e);n&&(i=n);break}if(!r)return{allThemes:i};const s=r[0];return this.calculatedTheme={theme:s,el:t,themeFamily:s.replace(/-dark$/,""),allThemes:i},this.calculatedTheme}getFromTheme(e,t){var r;return(r=this.getSassVariable(t))!=null?r:e}getDefaultRowHeight(){return this.getFromTheme(_D,"rowHeight")}getListItemHeight(){return this.getFromTheme(20,"listItemHeight")}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),t=this.gos.get("rowHeight");if(t==null||isNaN(t)||!isFinite(t))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const r=`${t}px`;return e!=r?(this.eGridDiv.style.setProperty("--ag-line-height",r),t):e!=""?parseFloat(e):-1}getMinColWidth(){const e=this.getFromTheme(null,"headerCellMinWidth");return ve(e)?Math.max(e,cC):cC}destroy(){this.calculatedSizes=null,this.mutationObserver&&this.mutationObserver.disconnect(),super.destroy()}};B([q("eGridDiv")],Xu.prototype,"eGridDiv",2);B([we],Xu.prototype,"postConstruct",1);Xu=B([ke("environment")],Xu);var ul=class extends ye{constructor(){super(...arguments),this.scrollY=0,this.uiBodyHeight=0}agWire(e){this.logger=e.create("RowContainerHeightService")}postConstruct(){this.addManagedListener(this.eventService,$.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=bS(),this.logger.log("maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,r=this.getUiBodyHeight();(t!==this.scrollY||r!==this.uiBodyHeight)&&(this.scrollY=t,this.uiBodyHeight=r,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;this.logger.log(`Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:$.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventService.dispatchEvent({type:$.EVENT_HEIGHT_SCALE_CHANGED}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const t=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return t.bottom-t.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),r=e/t;return this.maxScrollY*r}};B([q("ctrlsService")],ul.prototype,"ctrlsService",2);B([ys(0,es("loggerFactory"))],ul.prototype,"agWire",1);B([we],ul.prototype,"postConstruct",1);ul=B([ke("rowContainerHeightService")],ul);var cl=class extends ye{init(){this.addManagedPropertyListener("isRowSelectable",()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){const t=!!this.gos.get("rowSelection"),r=this.gos.get("isRowSelectable");if(!t||!r)return;const i=this.gos.get("groupSelectsChildren"),s=this.rowModel.getType()==="clientSide"&&i,n=[],o=a=>{if(e&&!a.group)return;if(s&&a.group){const l=a.childrenAfterGroup.some(c=>c.selectable===!0);a.setRowSelectable(l,!0);return}const u=r?r(a):!0;a.setRowSelectable(u,!0),!u&&a.isSelected()&&n.push(a)};if(s){const a=this.rowModel;new Lp(!1,a.getRootNode()).forEachChangedNodeDepthFirst(o,!0,!0)}else this.rowModel.forEachNode(o);n.length&&this.selectionService.setNodesSelected({nodes:n,newValue:!1,source:"selectableChanged"}),s&&this.selectionService instanceof $o&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}};B([q("rowModel")],cl.prototype,"rowModel",2);B([q("selectionService")],cl.prototype,"selectionService",2);B([we],cl.prototype,"init",1);cl=B([ke("selectableService")],cl);var Mi=class extends it{constructor(){super(),this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate());const{btFirst:t,btPrevious:r,btNext:i,btLast:s,pageSizeComp:n}=this;this.activateTabIndex([t,r,i,s]),t.insertAdjacentElement("afterbegin",nr(e?"last":"first",this.gos)),r.insertAdjacentElement("afterbegin",nr(e?"next":"previous",this.gos)),i.insertAdjacentElement("afterbegin",nr(e?"previous":"next",this.gos)),s.insertAdjacentElement("afterbegin",nr(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.onPaginationChanged()}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedListener(this.eventService,$.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:r}=e;this.addManagedListener(t,"click",r),this.addManagedListener(t,"keydown",i=>{(i.key===ae.ENTER||i.key===ae.SPACE)&&(i.preventDefault(),r())})}),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()}setCurrentPageLabel(){const e=this.paginationProxy.getTotalPages()>0,t=this.paginationProxy.getCurrentPage(),r=e?t+1:0;this.lbCurrent.textContent=this.formatNumber(r)}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");if(t)return t({value:e});const r=this.localeService.getLocaleTextFunc(),i=r("thousandSeparator",","),s=r("decimalSeparator",".");return Nv(e,i,s)}getTemplate(){const e=this.localeService.getLocaleTextFunc(),t=e("page","Page"),r=e("to","to"),i=e("of","of"),s=e("firstPage","First Page"),n=e("previousPage","Previous Page"),o=e("nextPage","Next Page"),a=e("lastPage","Last Page"),u=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${u}">
                <ag-page-size-selector ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel" role="status">
                    <span id="ag-${u}-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${u}-to">${r}</span>
                    <span id="ag-${u}-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${u}-of">${i}</span>
                    <span id="ag-${u}-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${s}"></div>
                    <div ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${n}"></div>
                    <span class="ag-paging-description" role="status">
                        <span id="ag-${u}-start-page">${t}</span>
                        <span id="ag-${u}-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${u}-of-page">${i}</span>
                        <span id="ag-${u}-of-page-number" ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${o}"></div>
                    <div ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${a}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()}enableOrDisableButtons(){const e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.isLastPageFound(),r=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const i=this.isZeroPagesToDisplay(),s=e===r-1;this.nextButtonDisabled=s||i,this.lastButtonDisabled=!t||i||e===r-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){Rv(e,t),e.classList.toggle("ag-disabled",t)}updateRowLabels(){const e=this.paginationProxy.getCurrentPage(),t=this.paginationProxy.getPageSize(),r=this.paginationProxy.isLastPageFound(),i=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;let s,n;if(this.isZeroPagesToDisplay()?s=n=0:(s=t*e+1,n=s+t-1,r&&n>i&&(n=i)),this.lbFirstRowOnPage.textContent=this.formatNumber(s),this.rowNodeBlockLoader.isLoading()){const o=this.localeService.getLocaleTextFunc();this.lbLastRowOnPage.innerHTML=o("pageLastRowUnknown","?")}else this.lbLastRowOnPage.textContent=this.formatNumber(n)}isZeroPagesToDisplay(){const e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages();return e&&t===0}setTotalLabels(){const e=this.paginationProxy.isLastPageFound(),t=this.paginationProxy.getTotalPages(),r=e?this.paginationProxy.getMasterRowCount():null;if(r===1){const i=this.paginationProxy.getRow(0);if(i&&i.group&&!(i.groupData||i.aggData)){this.setTotalLabelsToZero();return}}if(e)this.lbTotal.textContent=this.formatNumber(t),this.lbRecordCount.textContent=this.formatNumber(r);else{const i=this.localeService.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=i,this.lbRecordCount.innerHTML=i}}setTotalLabelsToZero(){this.lbFirstRowOnPage.textContent=this.formatNumber(0),this.lbCurrent.textContent=this.formatNumber(0),this.lbLastRowOnPage.textContent=this.formatNumber(0),this.lbTotal.textContent=this.formatNumber(0),this.lbRecordCount.textContent=this.formatNumber(0)}};B([q("paginationProxy")],Mi.prototype,"paginationProxy",2);B([q("rowNodeBlockLoader")],Mi.prototype,"rowNodeBlockLoader",2);B([Ee("btFirst")],Mi.prototype,"btFirst",2);B([Ee("btPrevious")],Mi.prototype,"btPrevious",2);B([Ee("btNext")],Mi.prototype,"btNext",2);B([Ee("btLast")],Mi.prototype,"btLast",2);B([Ee("lbRecordCount")],Mi.prototype,"lbRecordCount",2);B([Ee("lbFirstRowOnPage")],Mi.prototype,"lbFirstRowOnPage",2);B([Ee("lbLastRowOnPage")],Mi.prototype,"lbLastRowOnPage",2);B([Ee("lbCurrent")],Mi.prototype,"lbCurrent",2);B([Ee("lbTotal")],Mi.prototype,"lbTotal",2);B([Ee("pageSizeComp")],Mi.prototype,"pageSizeComp",2);B([we],Mi.prototype,"postConstruct",1);var Pc=class n2 extends it{constructor(){super(n2.TEMPLATE),this.inProgress=!1,this.destroyRequested=!1}updateLayoutClasses(t,r){const i=this.eOverlayWrapper.classList;i.toggle("ag-layout-auto-height",r.autoHeight),i.toggle("ag-layout-normal",r.normal),i.toggle("ag-layout-print",r.print)}postConstruct(){this.createManagedBean(new Rp(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.registerOverlayWrapperComp(this)}setWrapperTypeClass(t){const r=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&r.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=t,r.toggle(t,!0)}showOverlay(t,r,i){this.inProgress||(this.setWrapperTypeClass(r),this.destroyActiveOverlay(),this.inProgress=!0,t&&t.then(s=>{this.inProgress=!1,this.eOverlayWrapper.appendChild(s.getGui()),this.activeOverlay=s,this.updateListenerDestroyFunc=i,this.destroyRequested&&(this.destroyRequested=!1,this.destroyActiveOverlay())}),this.setDisplayed(!0,{skipAriaHidden:!0}))}destroyActiveOverlay(){var t;if(this.inProgress){this.destroyRequested=!0;return}this.activeOverlay&&(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),(t=this.updateListenerDestroyFunc)==null||t.call(this),mr(this.eOverlayWrapper))}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.destroyActiveOverlay(),super.destroy()}};Pc.TEMPLATE=`
        <div class="ag-overlay" role="presentation">
            <div class="ag-overlay-panel" role="presentation">
                <div class="ag-overlay-wrapper" ref="eOverlayWrapper" role="presentation"></div>
            </div>
        </div>`;B([q("overlayService")],Pc.prototype,"overlayService",2);B([Ee("eOverlayWrapper")],Pc.prototype,"eOverlayWrapper",2);B([we],Pc.prototype,"postConstruct",1);var DD=Pc,dl=class extends ye{getFirstRow(){let e=0,t;return this.pinnedRowModel.getPinnedTopRowCount()?t="top":this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(t="bottom"),t===void 0?null:{rowIndex:e,rowPinned:t}}getLastRow(){let e,t=null;const r=this.pinnedRowModel.getPinnedBottomRowCount(),i=this.pinnedRowModel.getPinnedTopRowCount();return r?(t="bottom",e=r-1):this.rowModel.getRowCount()?(t=null,e=this.paginationProxy.getPageLastRow()):i&&(t="top",e=i-1),e===void 0?null:{rowIndex:e,rowPinned:t}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRowData()[e.rowIndex];case"bottom":return this.pinnedRowModel.getPinnedBottomRowData()[e.rowIndex];default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}before(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(ve(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}};B([q("rowModel")],dl.prototype,"rowModel",2);B([q("pinnedRowModel")],dl.prototype,"pinnedRowModel",2);B([q("paginationProxy")],dl.prototype,"paginationProxy",2);dl=B([ke("rowPositionUtils")],dl);var lm=class extends ye{createId(e){const{rowIndex:t,rowPinned:r,column:i}=e;return this.createIdFromValues({rowIndex:t,column:i,rowPinned:r})}createIdFromValues(e){const{rowIndex:t,rowPinned:r,column:i}=e;return`${t}.${r??"null"}.${i.getId()}`}equals(e,t){const r=e.column===t.column,i=e.rowPinned===t.rowPinned,s=e.rowIndex===t.rowIndex;return r&&i&&s}};lm=B([ke("cellPositionUtils")],lm);var Zl=class{constructor(e){this.cellValueChanges=e}},kf=class extends Zl{constructor(e,t,r,i){super(e),this.initialRange=t,this.finalRange=r,this.ranges=i}},o2=class a2{constructor(t){this.actionStack=[],this.maxStackSize=t||a2.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(t){t.cellValueChanges&&t.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(t))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}};o2.DEFAULT_STACK_SIZE=10;var pC=o2,zs=class extends ye{constructor(){super(...arguments),this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},r=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,t),i=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,t);if(!(r||i||this.isPasting||this.isRangeInAction))return;const{rowPinned:n,rowIndex:o,column:a,oldValue:u,value:l}=e,c={rowPinned:n,rowIndex:o,columnId:a.getColId(),newValue:l,oldValue:u};this.cellValueChanges.push(c)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}init(){if(!this.gos.get("undoRedoCellEditing"))return;const e=this.gos.get("undoRedoCellEditingLimit");e<=0||(this.undoStack=new pC(e),this.redoStack=new pC(e),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addCellKeyListeners(),this.addManagedListener(this.eventService,$.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,$.EVENT_MODEL_UPDATED,t=>{t.keepUndoRedoStack||this.clearStacks()}),this.addManagedListener(this.eventService,$.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,$.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,$.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,$.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,$.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,$.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,$.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,$.EVENT_ROW_DRAG_END,this.clearStacks),this.ctrlsService.whenReady(t=>{this.gridBodyCtrl=t.gridBodyCtrl}))}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){const t={type:$.EVENT_UNDO_STARTED,source:e};this.eventService.dispatchEvent(t);const r=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo"),i={type:$.EVENT_UNDO_ENDED,source:e,operationPerformed:r};this.eventService.dispatchEvent(i)}redo(e){const t={type:$.EVENT_REDO_STARTED,source:e};this.eventService.dispatchEvent(t);const r=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo"),i={type:$.EVENT_REDO_ENDED,source:e,operationPerformed:r};this.eventService.dispatchEvent(i)}undoRedo(e,t,r,i,s){if(!e)return!1;const n=e.pop();return!n||!n.cellValueChanges?!1:(this.processAction(n,o=>o[i],s),n instanceof kf?this.processRange(this.rangeService,n.ranges||[n[r]]):this.processCell(n.cellValueChanges),t.push(n),!0)}processAction(e,t,r){e.cellValueChanges.forEach(i=>{const{rowIndex:s,rowPinned:n,columnId:o}=i,a={rowIndex:s,rowPinned:n},u=this.rowPositionUtils.getRowNode(a);u.displayed&&u.setDataValue(o,t(i),r)})}processRange(e,t){let r;e.removeAllCellRanges(!0),t.forEach((i,s)=>{if(!i)return;const n=i.startRow,o=i.endRow;s===t.length-1&&(r={rowPinned:n.rowPinned,rowIndex:n.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(r));const a={rowStartIndex:n.rowIndex,rowStartPinned:n.rowPinned,rowEndIndex:o.rowIndex,rowEndPinned:o.rowPinned,columnStart:i.startColumn,columns:i.columns};e.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:r,rowPinned:i}=t,s={rowIndex:r,rowPinned:i},n=this.rowPositionUtils.getRowNode(s),o={rowPinned:t.rowPinned,rowIndex:n.rowIndex,columnId:t.columnId};this.setLastFocusedCell(o,this.rangeService)}setLastFocusedCell(e,t){const{rowIndex:r,columnId:i,rowPinned:s}=e,n=this.gridBodyCtrl.getScrollFeature(),o=this.columnModel.getGridColumn(i);if(!o)return;n.ensureIndexVisible(r),n.ensureColumnVisible(o);const a={rowIndex:r,column:o,rowPinned:s};this.focusService.setFocusedCell(er(Be({},a),{forceBrowserFocus:!0})),t==null||t.setRangeToCell(a)}addRowEditingListeners(){this.addManagedListener(this.eventService,$.EVENT_ROW_EDITING_STARTED,e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,$.EVENT_ROW_EDITING_STOPPED,()=>{const e=new Zl(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null})}addCellEditingListeners(){this.addManagedListener(this.eventService,$.EVENT_CELL_EDITING_STARTED,e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}}),this.addManagedListener(this.eventService,$.EVENT_CELL_EDITING_STOPPED,e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const r=new Zl(this.cellValueChanges);this.pushActionsToUndoStack(r)}})}addPasteListeners(){this.addManagedListener(this.eventService,$.EVENT_PASTE_START,()=>{this.isPasting=!0}),this.addManagedListener(this.eventService,$.EVENT_PASTE_END,()=>{const e=new Zl(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1})}addFillListeners(){this.addManagedListener(this.eventService,$.EVENT_FILL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,$.EVENT_FILL_END,e=>{const t=new kf(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1})}addCellKeyListeners(){this.addManagedListener(this.eventService,$.EVENT_KEY_SHORTCUT_CHANGED_CELL_START,()=>{this.isRangeInAction=!0}),this.addManagedListener(this.eventService,$.EVENT_KEY_SHORTCUT_CHANGED_CELL_END,()=>{let e;this.rangeService&&this.gos.get("enableRangeSelection")?e=new kf(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new Zl(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}};B([q("focusService")],zs.prototype,"focusService",2);B([q("ctrlsService")],zs.prototype,"ctrlsService",2);B([q("cellPositionUtils")],zs.prototype,"cellPositionUtils",2);B([q("rowPositionUtils")],zs.prototype,"rowPositionUtils",2);B([q("columnModel")],zs.prototype,"columnModel",2);B([Lt("rangeService")],zs.prototype,"rangeService",2);B([we],zs.prototype,"init",1);zs=B([ke("undoRedoService")],zs);var Qu=class extends ye{findHeader(e,t){let r,i;if(e.column instanceof Mr?r=this.columnModel.getDisplayedGroupAtDirection(e.column,t):(i=`getDisplayedCol${t}`,r=this.columnModel[i](e.column)),!r)return;let{headerRowIndex:s}=e;if(this.getHeaderRowType(s)!=="filter"){const a=[r];for(;r.getParent();)r=r.getParent(),a.push(r);r=a[a.length-1-s]}const{column:n,headerRowIndex:o}=this.getHeaderIndexToFocus(r,s);return{column:n,headerRowIndex:o}}getHeaderIndexToFocus(e,t){let r;if(e instanceof Mr&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const i=e;r=i.getLeafColumns()[0];let s=r;for(;s!==i;)t++,s=s.getParent()}return{column:r||e,headerRowIndex:t}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,t){const r=this.getHeaderRowType(t),i=r==="filter",s=r==="column";let n=i?e:e.getParent(),o=t-1,a=o;if(s&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;n&&n.isPadding();)n=n.getParent(),o--;a=o,o<0&&(n=e,o=t,a=void 0)}return{column:n,headerRowIndex:o,headerRowIndexWithoutSpan:a}}getColumnVisibleChild(e,t,r="After"){const i=this.getHeaderRowType(t);let s=e,n=t+1,o=n;if(i==="group"){const a=e.getDisplayedLeafColumns(),u=r==="After"?a[0]:Tt(a),l=[];let c=u;for(;c.getParent()!==e;)c=c.getParent(),l.push(c);if(s=u,u.isSpanHeaderHeight())for(let h=l.length-1;h>=0;h--){const d=l[h];if(!d.isPadding()){s=d;break}n++}else s=Tt(l),s||(s=u)}return{column:s,headerRowIndex:n,headerRowIndexWithoutSpan:o}}getHeaderRowType(e){const t=this.ctrlsService.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const r=this.columnModel.getAllDisplayedColumns(),i=r[t==="start"?0:r.length-1];if(!i)return;const n=this.ctrlsService.getHeaderRowContainerCtrl(i.getPinned()).getRowType(e);if(n=="group"){const o=this.columnModel.getColumnGroupAtLevel(i,e);return{headerRowIndex:e,column:o}}return{headerRowIndex:n==null?-1:e,column:i}}};B([q("columnModel")],Qu.prototype,"columnModel",2);B([q("ctrlsService")],Qu.prototype,"ctrlsService",2);Qu=B([ke("headerPositionUtils")],Qu);var um=class{buildColumnDefs(e,t,r){const i=[],s={};return e.forEach(n=>{const o=this.createDefFromColumn(n,t,r);let a=!0,u=o,l=n.getOriginalParent(),c=null;for(;l;){let h=null;if(l.isPadding()){l=l.getOriginalParent();continue}const d=s[l.getGroupId()];if(d){d.children.push(u),a=!1;break}if(h=this.createDefFromGroup(l),h&&(h.children=[u],s[h.groupId]=h,u=h,l=l.getOriginalParent()),l!=null&&c===l){a=!1;break}c=l}a&&i.push(u)}),i}createDefFromGroup(e){const t=ph(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,r){const i=ph(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?r.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=e.isVisible()?void 0:!0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSort()?e.getSort():null,i.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,i}};um=B([ke("columnDefFactory")],um);var Zu=class{getInitialRowClasses(e){const t=[];return ve(e.extraCssClass)&&t.push(e.extraCssClass),t.push("ag-row"),t.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&t.push("ag-opacity-zero"),t.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&t.push("ag-row-pinned"),e.rowNode.isSelected()&&t.push("ag-row-selected"),e.rowNode.footer&&t.push("ag-row-footer"),t.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&t.push("ag-row-loading"),e.fullWidthRow&&t.push("ag-full-width-row"),e.expandable&&(t.push("ag-row-group"),t.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&t.push("ag-row-dragging"),Ug(t,this.processClassesFromGridOptions(e.rowNode)),Ug(t,this.preProcessRowClassRules(e.rowNode)),t.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&t.push("ag-row-first"),e.lastRowOnPage&&t.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&t.push("ag-cell-last-left-pinned"),e.pinned==="right"&&t.push("ag-cell-first-right-pinned")),t}processClassesFromGridOptions(e){const t=[],r=n=>{typeof n=="string"?t.push(n):Array.isArray(n)&&n.forEach(o=>t.push(o))},i=this.gos.get("rowClass");if(i){if(typeof i=="function")return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];r(i)}const s=this.gos.getCallback("getRowClass");if(s){const n={data:e.data,node:e,rowIndex:e.rowIndex},o=s(n);r(o)}return t}preProcessRowClassRules(e){const t=[];return this.processRowClassRules(e,r=>{t.push(r)},r=>{}),t}processRowClassRules(e,t,r){const i=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),i,t,r)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}};B([q("stylingService")],Zu.prototype,"stylingService",2);B([q("gridOptionsService")],Zu.prototype,"gos",2);Zu=B([ke("rowCssClassCalculator")],Zu);var hl=class extends ye{init(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup(),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=this.gos.isColumnsSortingCoupledToGroup())}doFullSort(e,t){const r=(s,n)=>({currentPos:n,rowNode:s}),i=e.map(r);return i.sort(this.compareRowNodes.bind(this,t)),i.map(s=>s.rowNode)}compareRowNodes(e,t,r){const i=t.rowNode,s=r.rowNode;for(let n=0,o=e.length;n<o;n++){const a=e[n],u=a.sort==="desc",l=this.getValue(i,a.column),c=this.getValue(s,a.column);let h;const d=this.getComparator(a,i);if(d?h=d(l,c,i,s,u):h=Qe.defaultComparator(l,c,this.isAccentedSort),!isNaN(h)&&h!==0)return a.sort==="asc"?h:h*-1}return t.currentPos-r.currentPos}getComparator(e,t){const r=e.column,i=r.getColDef().comparator;if(i!=null)return i;if(!r.getColDef().showRowGroup)return;const s=!t.group&&r.getColDef().field;if(!s)return;const n=this.columnModel.getPrimaryColumn(s);if(n)return n.getColDef().comparator}getValue(e,t){var r,i;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(t,e,!1,!1);if(e.rowGroupColumn===t){if(this.gos.isGroupUseEntireRow(this.columnModel.isPivotActive())){const a=(r=e.allLeafChildren)==null?void 0:r[0];return a?this.valueService.getValue(t,a,!1,!1):void 0}const o=this.columnModel.getGroupDisplayColumnForGroup(t.getId());return o?(i=e.groupData)==null?void 0:i[o.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return this.valueService.getValue(t,e,!1,!1)}};B([q("valueService")],hl.prototype,"valueService",2);B([q("columnModel")],hl.prototype,"columnModel",2);B([we],hl.prototype,"init",1);hl=B([ke("rowNodeSorter")],hl);var Lo=class extends ye{constructor(){super(...arguments),this.params={},this.ready=!1,this.readyCallbacks=[]}checkReady(){const e=this.params;this.ready=e.gridCtrl!=null&&e.gridBodyCtrl!=null&&e.center!=null&&e.left!=null&&e.right!=null&&e.bottomCenter!=null&&e.bottomLeft!=null&&e.bottomRight!=null&&e.topCenter!=null&&e.topLeft!=null&&e.topRight!=null&&e.stickyTopCenter!=null&&e.stickyTopLeft!=null&&e.stickyTopRight!=null&&e.stickyBottomCenter!=null&&e.stickyBottomLeft!=null&&e.stickyBottomRight!=null&&e.centerHeader!=null&&e.leftHeader!=null&&e.rightHeader!=null&&e.fakeHScrollComp!=null&&e.fakeVScrollComp!=null&&e.gridHeaderCtrl!=null,this.ready&&(this.readyCallbacks.forEach(t=>t(e)),this.readyCallbacks.length=0)}whenReady(e){this.ready?e(this.params):this.readyCallbacks.push(e)}register(e,t){this.params[e]=t,this.checkReady()}registerHeaderContainer(e,t){switch(t){case"left":this.params.leftHeader=e;break;case"right":this.params.rightHeader=e;break;default:this.params.centerHeader=e;break}this.checkReady()}get(e){return this.params[e]}getParams(){return this.params}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){return[this.params.leftHeader,this.params.rightHeader,this.params.centerHeader]}getHeaderRowContainerCtrl(e){switch(e){case"left":return this.params.leftHeader;case"right":return this.params.rightHeader;default:return this.params.centerHeader}}};Lo.NAME="ctrlsService";Lo=B([ke(Lo.NAME)],Lo);var cm=class extends ye{constructor(){super(...arguments),this.registry={}}register(e){this.registry[e.controllerName]=e.controllerClass}getInstance(e){const t=this.registry[e];if(t!=null)return new t}};cm=B([ke("ctrlsFactory")],cm);var ca=class extends it{constructor(e,t){super(e),this.direction=t,this.hideTimeout=null}postConstruct(){this.addManagedListener(this.eventService,$.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",Iv()||hn())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=Lv(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=["mouseenter","mousedown","touchstart"],t=["mouseleave","touchend"],r=this.getGui();e.forEach(i=>this.addManagedListener(r,i,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0))),t.forEach(i=>this.addManagedListener(r,i,()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1)))}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedListener(this.eventService,$.EVENT_BODY_SCROLL,e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))}),this.addManagedListener(this.eventService,$.EVENT_BODY_SCROLL_END,()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)})}attemptSettingScrollPosition(e){const t=this.getViewport();wv(()=>Ai(t),()=>this.setScrollPosition(e),100)}getViewport(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedListener(this.getViewport(),"scroll",e)}};B([Ee("eViewport")],ca.prototype,"eViewport",2);B([Ee("eContainer")],ca.prototype,"eContainer",2);B([q("scrollVisibleService")],ca.prototype,"scrollVisibleService",2);B([q("ctrlsService")],ca.prototype,"ctrlsService",2);B([q("animationFrameService")],ca.prototype,"animationFrameService",2);var da=class l2 extends ca{constructor(){super(l2.TEMPLATE,"horizontal")}postConstruct(){super.postConstruct();const t=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,$.EVENT_DISPLAYED_COLUMNS_CHANGED,t),this.addManagedListener(this.eventService,$.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,t),this.addManagedListener(this.eventService,$.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedPropertyListener("domLayout",t),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new Cl(r=>this.eContainer.style.width=`${r}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const t=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${t}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const t=this.scrollVisibleService.isVerticalScrollShowing();let r=this.columnModel.getDisplayedColumnsRightWidth();const i=!this.enableRtl&&t,s=this.gos.getScrollbarWidth();i&&(r+=s),ss(this.eRightSpacer,r),this.eRightSpacer.classList.toggle("ag-scroller-corner",r<=s);let n=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&t&&(n+=s),ss(this.eLeftSpacer,n),this.eLeftSpacer.classList.toggle("ag-scroller-corner",n<=s)}setScrollVisible(){const t=this.scrollVisibleService.isHorizontalScrollShowing(),r=this.invisibleScrollbar,i=this.gos.get("suppressHorizontalScroll"),s=t&&this.gos.getScrollbarWidth()||0,o=i?0:s===0&&r?16:s;this.addOrRemoveCssClass("ag-scrollbar-invisible",r),Po(this.getGui(),o),Po(this.eViewport,o),Po(this.eContainer,o),this.setDisplayed(t,{skipAriaHidden:!0})}getScrollPosition(){return Bu(this.getViewport(),this.enableRtl)}setScrollPosition(t){Ai(this.getViewport())||this.attemptSettingScrollPosition(t),Hu(this.getViewport(),t,this.enableRtl)}};da.TEMPLATE=`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>
        </div>`;B([Ee("eLeftSpacer")],da.prototype,"eLeftSpacer",2);B([Ee("eRightSpacer")],da.prototype,"eRightSpacer",2);B([q("columnModel")],da.prototype,"columnModel",2);B([q("pinnedRowModel")],da.prototype,"pinnedRowModel",2);B([we],da.prototype,"postConstruct",1);var MD=da,Ju=class extends ye{postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,$.EVENT_DISPLAYED_COLUMNS_CHANGED,e),this.addManagedListener(this.eventService,$.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,e),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=this.gos.isDomLayout("print"),t=e?0:this.columnModel.getDisplayedColumnsLeftWidth(),r=e?0:this.columnModel.getDisplayedColumnsRightWidth();t!=this.leftWidth&&(this.leftWidth=t,this.eventService.dispatchEvent({type:$.EVENT_LEFT_PINNED_WIDTH_CHANGED})),r!=this.rightWidth&&(this.rightWidth=r,this.eventService.dispatchEvent({type:$.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}};B([q("columnModel")],Ju.prototype,"columnModel",2);B([we],Ju.prototype,"postConstruct",1);Ju=B([ke("pinnedWidthService")],Ju);var pl=class extends ye{constructor(){super(...arguments),this.events=[]}postConstruct(){this.rowModel.getType()=="clientSide"&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,t){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);const r=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(i=>this.eventService.dispatchEvent(i)),this.events=[]};t?r():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(r)),this.dispatchExpandedDebounced())}};B([q("animationFrameService")],pl.prototype,"animationFrameService",2);B([q("rowModel")],pl.prototype,"rowModel",2);B([we],pl.prototype,"postConstruct",1);pl=B([ke("rowNodeEventThrottle")],pl);var PD={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},dndSource:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."},dndSourceOnRowDrag:{version:"31.2",message:"This feature has been replaced by `Row Dragging to an External DropZone`."}},bn=(e,t)=>{var r;return((r=t.rowModelType)!=null?r:"clientSide")==="clientSide"?{module:"@ag-grid-enterprise/row-grouping"}:null},FD={enableRowGroup:bn,rowGroup:bn,rowGroupIndex:bn,enablePivot:bn,enableValue:bn,pivot:bn,pivotIndex:bn,aggFunc:bn,cellEditor:e=>e.cellEditor==="agRichSelect"||e.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{var t;const r=["columnsMenuTab","generalMenuTab"];return(t=e.menuTabs)!=null&&t.some(i=>r.includes(i))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],dependencies:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],dependencies:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],dependencies:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>La},ID={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0},kD=Object.keys(ID),La={objectName:"colDef",allProperties:kD,docsUrl:"column-properties/",deprecations:PD,validations:FD},LD={enableChartToolPanelsButton:{version:"29"},functionsPassive:{version:"29.2"},onColumnRowGroupChangeRequest:{version:"29.2"},onColumnPivotChangeRequest:{version:"29.2"},onColumnValueChangeRequest:{version:"29.2"},onColumnAggFuncChangeRequest:{version:"29.2"},serverSideFilterAllLevels:{version:"30",message:"All server-side group levels are now filtered by default. This can be toggled using `serverSideOnlyRefreshFilteredGroups`."},suppressAggAtRootLevel:{version:"30",message:"The root level aggregation is now suppressed by default. This can be toggled using  `alwaysAggregateAtRootLevel`."},excludeHiddenColumnsFromQuickFilter:{version:"30",message:"Hidden columns are now excluded from the Quick Filter by default. This can be toggled using `includeHiddenColumnsInQuickFilter`."},enterMovesDown:{version:"30",renamed:"enterNavigatesVertically"},enterMovesDownAfterEdit:{version:"30",renamed:"enterNavigatesVerticallyAfterEdit"},suppressParentsInRowNodes:{version:"30.2",message:"Using suppressParentsInRowNodes is no longer recommended. To serialize nodes it is now recommended to instead remove the parent node reference before serialization."},advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."}},ND={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!1,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,suppressChartToolPanelsButton:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,functionsPassive:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1},OD={sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",dependencies:e=>{var t;const r=(t=e.rowModelType)!=null?t:"clientSide";switch(r){case"clientSide":const i=`treeData requires 'getDataPath' in the ${r} row model.`;return e.getDataPath?null:i;case"serverSide":const s=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${r} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:s}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],dependencies:e=>{var t;switch((t=e.rowModelType)!=null?t:"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},suppressParentsInRowNodes:{dependencies:{groupSelectsChildren:[void 0,!1]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},columnDefs:()=>La,defaultColDef:()=>La,defaultColGroupDef:()=>La,autoGroupColumnDef:()=>La},GD={objectName:"gridOptions",allProperties:[...Ou.ALL_PROPERTIES,...vh.EVENT_CALLBACKS],propertyExceptions:["api","columnApi"],docsUrl:"grid-options/",deprecations:LD,validations:OD},Ft=class{constructor(){this.destroyed=!1,this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new _s,this.globalEventHandlerFactory=e=>(t,r)=>{if(this.destroyed)return;const i=Ed.has(t);if(i&&!e||!i&&e)return;const s=vh.getCallbackForEvent(t),n=this.gridOptions[s];typeof n=="function"&&this.frameworkOverrides.wrapOutgoing(()=>{n(r)})}}get context(){return this.gridOptions.context}init(){this.columnApi=new ol(this.api);const e=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),e),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.getScrollbarWidth()}destroy(){this.destroyed=!0,this.columnApi=void 0}get(e){var t;return(t=this.gridOptions[e])!=null?t:ND[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return ve(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(r=>{const i=r;return i.api=this.api,i.columnApi=this.columnApi,i.context=this.context,e(i)})}static toBoolean(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}static toNumber(e){if(typeof e=="number")return e;if(typeof e=="string"){const t=parseInt(e);return isNaN(t)?void 0:t}}static toConstrainedNum(e,t){return r=>{const i=Ft.toNumber(r);if(!(i==null||i<e||i>t))return i}}static getCoercedValue(e,t){const r=Ft.PROPERTY_COERCIONS.get(e);return r?r(t):t}static getCoercedGridOptions(e){const t={};return Object.entries(e).forEach(([r,i])=>{const s=Ft.getCoercedValue(r,i);t[r]=s}),t}updateGridOptions({options:e,force:t,source:r="api"}){const i={id:Ft.changeSetId++,properties:[]},s=[];Object.entries(e).forEach(([n,o])=>{r==="api"&&hT[n]&&We(`${n} is an initial property and cannot be updated.`);const a=Ft.getCoercedValue(n,o),u=t||typeof a=="object"&&r==="api",l=this.gridOptions[n];if(u||l!==a){this.gridOptions[n]=a;const c={type:n,currentValue:a,previousValue:l,changeSet:i,source:r};s.push(c)}}),this.validationService.processGridOptions(this.gridOptions),i.properties=s.map(n=>n.type),s.forEach(n=>{this.gridOptions.debug&&console.log(`AG Grid: Updated property ${n.type} from `,n.previousValue," to  ",n.currentValue),this.propertyEventService.dispatchEvent(n)})}addEventListener(e,t){this.propertyEventService.addEventListener(e,t)}removeEventListener(e,t){this.propertyEventService.removeEventListener(e,t)}getScrollbarWidth(){if(this.scrollbarWidth==null){const t=typeof this.gridOptions.scrollbarWidth=="number"&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:xS();t!=null&&(this.scrollbarWidth=t,this.eventService.dispatchEvent({type:$.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth}isRowModelType(e){return this.gridOptions.rowModelType===e||e==="clientSide"&&tt(this.gridOptions.rowModelType)}isDomLayout(e){var t;return((t=this.gridOptions.domLayout)!=null?t:"normal")===e}isRowSelection(){return this.gridOptions.rowSelection==="single"||this.gridOptions.rowSelection==="multiple"}useAsyncEvents(){return!this.get("suppressAsyncEvents")}isGetRowHeightFunction(){return typeof this.gridOptions.getRowHeight=="function"}getRowHeightForNode(e,t=!1,r){if(r==null&&(r=this.environment.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(t)return{height:r,estimated:!0};const s={node:e,data:e.data},n=this.getCallback("getRowHeight")(s);if(this.isNumeric(n))return n===0&&We("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,n),estimated:!1}}return e.detail&&this.get("masterDetail")?this.getMasterDetailRowHeight():{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:r,estimated:!1}}getMasterDetailRowHeight(){return this.get("detailRowAutoHeight")?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}}getRowHeightAsNumber(){if(!this.gridOptions.rowHeight||tt(this.gridOptions.rowHeight))return this.environment.getDefaultRowHeight();const e=this.environment.refreshRowHeightVariable();return e!==-1?e:(console.warn("AG Grid row height must be a number if not using standard row model"),this.environment.getDefaultRowHeight())}isNumeric(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}getDomDataKey(){return this.domDataKey}getDomData(e,t){const r=e[this.getDomDataKey()];return r?r[t]:void 0}setDomData(e,t,r){const i=this.getDomDataKey();let s=e[i];tt(s)&&(s={},e[i]=s),s[t]=r}getDocument(){let e=null;return this.gridOptions.getDocument&&ve(this.gridOptions.getDocument)?e=this.gridOptions.getDocument():this.eGridDiv&&(e=this.eGridDiv.ownerDocument),e&&ve(e)?e:document}getWindow(){return this.getDocument().defaultView||window}getRootNode(){return this.eGridDiv.getRootNode()}getActiveDomElement(){return this.getRootNode().activeElement}getAsyncTransactionWaitMillis(){return ve(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:50}isAnimateRows(){return this.get("ensureDomOrder")?!1:this.get("animateRows")}isGroupRowsSticky(){return!(this.get("paginateChildRows")||this.get("groupHideOpenParents")||this.isDomLayout("print"))}isColumnsSortingCoupledToGroup(){const e=this.gridOptions.autoGroupColumnDef;return!(e!=null&&e.comparator)&&!this.get("treeData")}getGroupAggFiltering(){const e=this.gridOptions.groupAggFiltering;if(typeof e=="function")return this.getCallback("groupAggFiltering");if(e===!0)return()=>!0}getGrandTotalRow(){const e=this.gridOptions.grandTotalRow;if(e)return e;if(this.gridOptions.groupIncludeTotalFooter)return"bottom"}getGroupTotalRowCallback(){const e=this.get("groupTotalRow");if(typeof e=="function")return this.getCallback("groupTotalRow");if(e)return()=>e;const t=this.get("groupIncludeFooter");if(typeof t=="function"){const r=this.getCallback("groupIncludeFooter");return i=>r(i)?"bottom":void 0}return()=>t?"bottom":void 0}isGroupMultiAutoColumn(){return this.gridOptions.groupDisplayType?this.gridOptions.groupDisplayType==="multipleColumns":this.get("groupHideOpenParents")}isGroupUseEntireRow(e){return e?!1:this.gridOptions.groupDisplayType==="groupRows"}getGridCommonParams(){return{api:this.api,columnApi:this.columnApi,context:this.context}}addGridCommonParams(e){const t=e;return t.api=this.api,t.columnApi=this.columnApi,t.context=this.context,t}};Ft.PROPERTY_COERCIONS=new Map([...Ou.BOOLEAN_PROPERTIES.map(e=>[e,Ft.toBoolean]),...Ou.NUMBER_PROPERTIES.map(e=>[e,Ft.toNumber]),["groupAggFiltering",e=>typeof e=="function"?e:Ft.toBoolean(e)],["pageSize",Ft.toConstrainedNum(1,Number.MAX_VALUE)],["autoSizePadding",Ft.toConstrainedNum(0,Number.MAX_VALUE)],["keepDetailRowsCount",Ft.toConstrainedNum(1,Number.MAX_VALUE)],["rowBuffer",Ft.toConstrainedNum(0,Number.MAX_VALUE)],["infiniteInitialRowCount",Ft.toConstrainedNum(1,Number.MAX_VALUE)],["cacheOverflowSize",Ft.toConstrainedNum(1,Number.MAX_VALUE)],["cacheBlockSize",Ft.toConstrainedNum(1,Number.MAX_VALUE)],["serverSideInitialRowCount",Ft.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelPageSize",Ft.toConstrainedNum(1,Number.MAX_VALUE)],["viewportRowModelBufferSize",Ft.toConstrainedNum(0,Number.MAX_VALUE)]]);Ft.changeSetId=0;B([q("gridOptions")],Ft.prototype,"gridOptions",2);B([q("eventService")],Ft.prototype,"eventService",2);B([q("environment")],Ft.prototype,"environment",2);B([q("frameworkOverrides")],Ft.prototype,"frameworkOverrides",2);B([q("eGridDiv")],Ft.prototype,"eGridDiv",2);B([q("validationService")],Ft.prototype,"validationService",2);B([q("gridApi")],Ft.prototype,"api",2);B([we],Ft.prototype,"init",1);B([ui],Ft.prototype,"destroy",1);Ft=B([ke("gridOptionsService")],Ft);var dm=class extends ye{getLocaleTextFunc(){const e=this.gos.getCallback("getLocaleText");if(e)return(r,i,s)=>e({key:r,defaultValue:i,variableValues:s});const t=this.gos.get("localeText");return(r,i,s)=>{let n=t&&t[r];if(n&&s&&s.length){let o=0;for(;!(o>=s.length||n.indexOf("${variable}")===-1);)n=n.replace("${variable}",s[o++])}return n??i}}};dm=B([ke("localeService")],dm);var v0=class u2 extends ca{constructor(){super(u2.TEMPLATE,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new Ap(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedListener(this.eventService,$.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onRowContainerHeightChanged.bind(this))}setScrollVisible(){const t=this.scrollVisibleService.isVerticalScrollShowing(),r=this.invisibleScrollbar,i=t&&this.gos.getScrollbarWidth()||0,s=i===0&&r?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",r),ss(this.getGui(),s),ss(this.eViewport,s),ss(this.eContainer,s),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:t}=this,i=t.getGridBodyCtrl().getBodyViewportElement(),s=this.getScrollPosition(),n=i.scrollTop;s!=n&&this.setScrollPosition(n,!0)}getScrollPosition(){return this.getViewport().scrollTop}setScrollPosition(t,r){!r&&!Ai(this.getViewport())&&this.attemptSettingScrollPosition(t),this.getViewport().scrollTop=t}};v0.TEMPLATE=`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" ref="eViewport">
                <div class="ag-body-vertical-scroll-container" ref="eContainer"></div>
            </div>
        </div>`;B([we],v0.prototype,"postConstruct",1);var VD=v0,fC={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},gC=["january","february","march","april","may","june","july","august","september","october","november","december"],qo=class extends ye{constructor(){super(...arguments),this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}init(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(ka(e.source))})}processDataTypeDefinitions(){var e;const t=this.getDefaultDataTypes();this.dataTypeDefinitions={},Object.entries(t).forEach(([i,s])=>{this.dataTypeDefinitions[i]=er(Be({},s),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)})});const r=(e=this.gos.get("dataTypeDefinitions"))!=null?e:{};this.dataTypeMatchers={},Object.entries(r).forEach(([i,s])=>{const n=this.processDataTypeDefinition(s,r,[i],t);n&&(this.dataTypeDefinitions[i]=n,s.dataTypeMatcher&&(this.dataTypeMatchers[i]=s.dataTypeMatcher))}),this.checkObjectValueHandlers(t),["dateString","text","number","boolean","date"].forEach(i=>{const s=this.dataTypeMatchers[i];s&&delete this.dataTypeMatchers[i],this.dataTypeMatchers[i]=s??t[i].dataTypeMatcher})}mergeDataTypeDefinitions(e,t){const r=Be(Be({},e),t);return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(r.columnTypes=[...this.convertColumnTypes(e.columnTypes),...this.convertColumnTypes(t.columnTypes)]),r}processDataTypeDefinition(e,t,r,i){let s;const n=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let o=i[n];const a=t[n];if(o&&a&&(o=a),!this.validateDataTypeDefinition(e,o,n))return;s=this.mergeDataTypeDefinitions(o,e)}else{if(r.includes(n)){We('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}const o=t[n];if(!this.validateDataTypeDefinition(e,o,n))return;const a=this.processDataTypeDefinition(o,t,[...r,n],i);if(!a)return;s=this.mergeDataTypeDefinitions(a,e)}return er(Be({},s),{groupSafeValueFormatter:this.createGroupSafeValueFormatter(s)})}validateDataTypeDefinition(e,t,r){return t?t.baseDataType!==e.baseDataType?(We('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(We(`The data type definition ${r} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return t=>{var r,i;if((r=t.node)!=null&&r.group){const s=t.column.getAggFunc();if(s){if(s==="first"||s==="last")return e.valueFormatter(t);if(e.baseDataType==="number"&&s!=="count"){if(typeof t.value=="number")return e.valueFormatter(t);if(typeof t.value=="object"){if(!t.value)return;if("toNumber"in t.value)return e.valueFormatter(er(Be({},t),{value:t.value.toNumber()}));if("value"in t.value)return e.valueFormatter(er(Be({},t),{value:t.value.value}))}}}if(!this.gos.get("suppressGroupMaintainValueType"))return}else if(this.groupHideOpenParents&&t.column.isRowGroupActive()){if(typeof t.value!="string"||(i=e.dataTypeMatcher)!=null&&i.call(e,t.value))return e.valueFormatter(t);if(!this.gos.get("suppressGroupMaintainValueType"))return}return e.valueFormatter(t)}}updateColDefAndGetDataTypeDefinitionColumnType(e,t,r){let{cellDataType:i}=t;const{field:s}=t;if(i===void 0&&(i=e.cellDataType),(i==null||i===!0)&&(i=this.canInferCellDataType(e,t)?this.inferCellDataType(s,r):!1),!i){e.cellDataType=!1;return}const n=this.dataTypeDefinitions[i];if(!n){We(`Missing data type definition - "${i}"`);return}return e.cellDataType=i,n.groupSafeValueFormatter&&(e.valueFormatter=n.groupSafeValueFormatter),n.valueParser&&(e.valueParser=n.valueParser),n.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,n,r),n.columnTypes}updateColDefAndGetColumnType(e,t,r){var i,s;const n=this.updateColDefAndGetDataTypeDefinitionColumnType(e,t,r),o=(s=(i=t.type)!=null?i:n)!=null?s:e.type;return e.type=o,o?this.convertColumnTypes(o):void 0}addColumnListeners(e){if(!this.isWaitingForRowData)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const r=i=>{t.add(i.key)};e.addEventListener(Wt.EVENT_STATE_UPDATED,r),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener(Wt.EVENT_STATE_UPDATED,r))}canInferCellDataType(e,t){var r;if(this.rowModel.getType()!=="clientSide")return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(t,i))return!1;const s=t.type===null?e.type:t.type;if(s){const n=(r=this.gos.get("columnTypes"))!=null?r:{};if(this.convertColumnTypes(s).some(a=>{const u=n[a.trim()];return u&&this.doColDefPropsPreventInference(u,i)}))return!1}return!this.doColDefPropsPreventInference(e,i)}doColDefPropsPreventInference(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([r,i])=>this.doesColDefPropPreventInference(e,t,r,i))}doesColDefPropPreventInference(e,t,r,i){if(!t[r])return!1;const s=e[r];return s===null?(t[r]=!1,!1):i===void 0?!!s:s===i}inferCellDataType(e,t){var r;if(!e)return;let i;const s=this.getInitialData();if(s){const o=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");i=Wa(s,e,o)}else this.initWaitForRowData(t);if(i==null)return;const[n]=(r=Object.entries(this.dataTypeMatchers).find(([o,a])=>a(i)))!=null?r:["object"];return n}getInitialData(){const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const t=this.rowModel.getRootNode().allLeafChildren;if(t!=null&&t.length)return t[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions;t&&this.columnModel.queueResizeOperations();const r=this.addManagedListener(this.eventService,$.EVENT_ROW_DATA_UPDATE_STARTED,i=>{const{firstRowData:s}=i;if(!s)return;r==null||r(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(s,t),this.columnStateUpdatesPendingInference={},t&&this.columnModel.processResizeOperations();const n={type:$.EVENT_DATA_TYPES_INFERRED};this.eventService.dispatchEvent(n)})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,t){this.initialData=e;const r=[];this.columnStateUpdateListenerDestroyFuncs.forEach(n=>n()),this.columnStateUpdateListenerDestroyFuncs=[];const i={},s={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([n,o])=>{const a=this.columnModel.getGridColumn(n);if(!a)return;const u=a.getColDef();if(!this.columnModel.resetColumnDefIntoColumn(a,"cellDataTypeInferred"))return;const l=a.getColDef();if(t&&l.type&&l.type!==u.type){const c=this.getUpdatedColumnState(a,o);c.rowGroup&&c.rowGroupIndex==null&&(i[n]=c),c.pivot&&c.pivotIndex==null&&(s[n]=c),r.push(c)}}),t&&r.push(...this.columnModel.generateColumnStateForRowGroupAndPivotIndexes(i,s)),r.length&&this.columnModel.applyColumnState({state:r},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,t){const r=this.columnModel.getColumnStateFromColDef(e);return t.forEach(i=>{delete r[i],i==="rowGroup"?delete r.rowGroupIndex:i==="pivot"&&delete r.pivotIndex}),r}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,r=e.object;this.hasObjectValueParser=t.valueParser!==r.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==r.valueFormatter}convertColumnTypes(e){let t=[];return e instanceof Array?e.some(i=>typeof i!="string")?console.warn("if colDef.type is supplied an array it should be of type 'string[]'"):t=e:typeof e=="string"?t=e.split(","):console.warn("colDef.type should be of type 'string' | 'string[]'"),t}getDateStringTypeDefinition(e){var t;return e?(t=this.getDataTypeDefinition(e))!=null?t:this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var r;if(t==null)return!0;const i=(r=this.getDataTypeDefinition(e))==null?void 0:r.dataTypeMatcher;return i?i(t):!0}validateColDef(e){e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&We('Cell data type is "object" but no value formatter has been provided. Please either provide an object data type definition with a value formatter, or set "colDef.valueFormatter"'),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&We('Cell data type is "object" but no value parser has been provided. Please either provide an object data type definition with a value parser, or set "colDef.valueParser"'))}setColDefPropertiesForBaseDataType(e,t,r){const i=(a,u,l)=>{let c=a.getColDef().valueFormatter;return c===t.groupSafeValueFormatter&&(c=t.valueFormatter),this.valueService.formatValue(a,u,l,c)},s=Pt.__isRegistered("@ag-grid-enterprise/set-filter",this.context.getGridId()),n=this.localeService.getLocaleTextFunc(),o=a=>{const{filterParams:u}=e;e.filterParams=typeof u=="object"?Be(Be({},u),a):a};switch(t.baseDataType){case"number":{e.cellEditor="agNumberCellEditor",s&&o({comparator:(a,u)=>{const l=a==null?0:parseInt(a),c=u==null?0:parseInt(u);return l===c?0:l>c?1:-1}});break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=a=>!!a.colDef.editable&&a.event.key===ae.SPACE,o(s?{valueFormatter:a=>ve(a.value)?n(String(a.value),a.value?"True":"False"):n("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(a,u)=>u,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(a,u)=>u===!1,numberOfInputs:0}]});break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=a=>i(a.column,a.node,a.value),s&&o({valueFormatter:a=>{const u=i(a.column,a.node,a.value);return ve(u)?u:n("blanks","(Blanks)")},treeList:!0,treeListFormatter:(a,u)=>{if(u===1&&a!=null){const l=gC[Number(a)-1];return n(l,fC[l])}return a??n("blanks","(Blanks)")}});break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=u=>i(u.column,u.node,u.value);const a=t.dateParser;o(s?{valueFormatter:u=>{const l=i(u.column,u.node,u.value);return ve(l)?l:n("blanks","(Blanks)")},treeList:!0,treeListPathGetter:u=>{const l=a(u??void 0);return l?[String(l.getFullYear()),String(l.getMonth()+1),String(l.getDate())]:null},treeListFormatter:(u,l)=>{if(l===1&&u!=null){const c=gC[Number(u)-1];return n(c,fC[c])}return u??n("blanks","(Blanks)")}}:{comparator:(u,l)=>{const c=a(l);return l==null||c<u?-1:c>u?1:0}});break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(a,u)=>{const l=this.columnModel.getPrimaryColumn(r),c=l==null?void 0:l.getColDef();if(!l||!c)return 0;const h=a==null?"":i(l,null,a),d=u==null?"":i(l,null,u);return h===d?0:h>d?1:-1},e.keyCreator=a=>i(a.column,a.node,a.value),s?o({valueFormatter:a=>{const u=i(a.column,a.node,a.value);return ve(u)?u:n("blanks","(Blanks)")}}):e.filterValueGetter=a=>i(a.column,a.node,this.valueService.getValue(a.column,a.node));break}}}getDefaultDataTypes(){const e=r=>!!r.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:r=>{var i,s;return((s=(i=r.newValue)==null?void 0:i.trim)==null?void 0:s.call(i))===""?null:Number(r.newValue)},valueFormatter:r=>r.value==null?"":typeof r.value!="number"||isNaN(r.value)?t("invalidNumber","Invalid Number"):String(r.value),dataTypeMatcher:r=>typeof r=="number"},text:{baseDataType:"text",valueParser:r=>r.newValue===""?null:Iu(r.newValue),dataTypeMatcher:r=>typeof r=="string"},boolean:{baseDataType:"boolean",valueParser:r=>{var i,s;return r.newValue==null?r.newValue:((s=(i=r.newValue)==null?void 0:i.trim)==null?void 0:s.call(i))===""?null:String(r.newValue).toLowerCase()==="true"},valueFormatter:r=>r.value==null?"":String(r.value),dataTypeMatcher:r=>typeof r=="boolean"},date:{baseDataType:"date",valueParser:r=>Si(r.newValue==null?null:String(r.newValue)),valueFormatter:r=>{var i;return r.value==null?"":!(r.value instanceof Date)||isNaN(r.value.getTime())?t("invalidDate","Invalid Date"):(i=is(r.value,!1))!=null?i:""},dataTypeMatcher:r=>r instanceof Date},dateString:{baseDataType:"dateString",dateParser:r=>{var i;return(i=Si(r))!=null?i:void 0},dateFormatter:r=>{var i;return(i=is(r??null,!1))!=null?i:void 0},valueParser:r=>e(String(r.newValue))?r.newValue:null,valueFormatter:r=>e(String(r.value))?r.value:"",dataTypeMatcher:r=>typeof r=="string"&&e(r)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:r=>{var i;return(i=Iu(r.value))!=null?i:""}}}}};B([q("rowModel")],qo.prototype,"rowModel",2);B([q("columnModel")],qo.prototype,"columnModel",2);B([q("valueService")],qo.prototype,"valueService",2);B([we],qo.prototype,"init",1);qo=B([ke("dataTypeService")],qo);var Yo=class extends ye{constructor(){super(...arguments),this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.dispatchGridReadyEvent();const e=Pt.__isRegistered("@ag-grid-enterprise/core",this.context.getGridId());new m0("AG Grid",()=>this.gos.get("debug")).log(`initialised successfully, enterprise = ${e}`)}dispatchGridReadyEvent(){const e={type:$.EVENT_GRID_READY};this.eventService.dispatchEvent(e)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.columnModel.setColumnDefs(t,ka(e.source))}}};B([q("ctrlsService")],Yo.prototype,"ctrlsService",2);B([q("columnModel")],Yo.prototype,"columnModel",2);B([q("rowModel")],Yo.prototype,"rowModel",2);B([we],Yo.prototype,"postConstruct",1);Yo=B([ke("syncService")],Yo);var Xo=class extends ye{constructor(){super(...arguments),this.manuallyDisplayed=!1}postConstruct(){this.addManagedListener(this.eventService,$.EVENT_ROW_DATA_UPDATED,()=>this.onRowDataUpdated()),this.addManagedListener(this.eventService,$.EVENT_NEW_COLUMNS_LOADED,()=>this.onNewColumnsLoaded())}registerOverlayWrapperComp(e){this.overlayWrapperComp=e,(!this.gos.get("columnDefs")||this.gos.isRowModelType("clientSide")&&!this.gos.get("rowData"))&&this.showLoadingOverlay()}showLoadingOverlay(){if(this.gos.get("suppressLoadingOverlay"))return;const e={},t=this.userComponentFactory.getLoadingOverlayCompDetails(e);this.showOverlay(t,"ag-overlay-loading-wrapper","loadingOverlayComponentParams")}showNoRowsOverlay(){if(this.gos.get("suppressNoRowsOverlay"))return;const e={},t=this.userComponentFactory.getNoRowsOverlayCompDetails(e);this.showOverlay(t,"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams")}showOverlay(e,t,r){const i=e.newAgStackInstance(),s=this.addManagedPropertyListener(r,({currentValue:n})=>{i.then(o=>{o.refresh&&o.refresh(this.gos.addGridCommonParams(Be({},n??{})))})});this.manuallyDisplayed=this.columnModel.isReady()&&!this.paginationProxy.isEmpty(),this.overlayWrapperComp.showOverlay(i,t,s)}hideOverlay(){this.manuallyDisplayed=!1,this.overlayWrapperComp.hideOverlay()}showOrHideOverlay(){const e=this.paginationProxy.isEmpty(),t=this.gos.get("suppressNoRowsOverlay");e&&!t?this.showNoRowsOverlay():this.hideOverlay()}onRowDataUpdated(){this.showOrHideOverlay()}onNewColumnsLoaded(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&!this.manuallyDisplayed&&this.hideOverlay()}};B([q("userComponentFactory")],Xo.prototype,"userComponentFactory",2);B([q("paginationProxy")],Xo.prototype,"paginationProxy",2);B([q("columnModel")],Xo.prototype,"columnModel",2);B([we],Xo.prototype,"postConstruct",1);Xo=B([ke("overlayService")],Xo);var si=class extends ye{constructor(){super(...arguments),this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=ri(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=ri(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=ri(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){var e;this.isClientSideRowModel=this.rowModel.getType()==="clientSide",this.cachedState=(e=this.gos.get("initialState"))!=null?e:{},this.ctrlsService.whenReady(()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const t=this.addManagedListener(this.eventService,$.EVENT_NEW_COLUMNS_LOADED,({source:s})=>{s==="gridInitializing"&&(t==null||t(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))}),r=this.addManagedListener(this.eventService,$.EVENT_ROW_COUNT_READY,()=>{r==null||r(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())}),i=this.addManagedListener(this.eventService,$.EVENT_FIRST_DATA_RENDERED,()=>{i==null||i(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState()),this.addManagedListener(this.eventService,$.EVENT_TOOL_PANEL_VISIBLE_CHANGED,()=>this.updateCachedState("sideBar",this.getSideBarState())),this.addManagedListener(this.eventService,$.EVENT_SIDE_BAR_UPDATED,()=>this.updateCachedState("sideBar",this.getSideBarState()))}setupStateOnColumnsInitialised(){var e;const t=(e=this.gos.get("initialState"))!=null?e:{};this.setColumnState(t),this.setColumnGroupState(t),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState()),this.addManagedListener(this.eventService,$.EVENT_COLUMN_VALUE_CHANGED,()=>this.updateColumnState(["aggregation"])),this.addManagedListener(this.eventService,$.EVENT_COLUMN_MOVED,()=>this.updateColumnState(["columnOrder"])),this.addManagedListener(this.eventService,$.EVENT_COLUMN_PINNED,()=>this.updateColumnState(["columnPinning"])),this.addManagedListener(this.eventService,$.EVENT_COLUMN_RESIZED,()=>this.updateColumnState(["columnSizing"])),this.addManagedListener(this.eventService,$.EVENT_COLUMN_VISIBLE,()=>this.updateColumnState(["columnVisibility"])),this.addManagedListener(this.eventService,$.EVENT_COLUMN_PIVOT_CHANGED,()=>this.updateColumnState(["pivot"])),this.addManagedListener(this.eventService,$.EVENT_COLUMN_PIVOT_MODE_CHANGED,()=>this.updateColumnState(["pivot"])),this.addManagedListener(this.eventService,$.EVENT_COLUMN_ROW_GROUP_CHANGED,()=>this.updateColumnState(["rowGroup"])),this.addManagedListener(this.eventService,$.EVENT_SORT_CHANGED,()=>this.updateColumnState(["sort"])),this.addManagedListener(this.eventService,$.EVENT_NEW_COLUMNS_LOADED,()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"])),this.addManagedListener(this.eventService,$.EVENT_COLUMN_GROUP_OPENED,()=>this.updateCachedState("columnGroup",this.getColumnGroupState()))}setupStateOnRowCountReady(){var e;const{filter:t,rowGroupExpansion:r,rowSelection:i,pagination:s}=(e=this.gos.get("initialState"))!=null?e:{},n=this.gos.get("advancedFilterModel");(t||n)&&this.setFilterState(t,n),r&&this.setRowGroupExpansionState(r),i&&this.setRowSelectionState(i),s&&this.setPaginationState(s),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState()),this.addManagedListener(this.eventService,$.EVENT_FILTER_CHANGED,()=>this.updateCachedState("filter",this.getFilterState())),this.addManagedListener(this.eventService,$.EVENT_ROW_GROUP_OPENED,()=>this.onRowGroupOpenedDebounced()),this.addManagedListener(this.eventService,$.EVENT_EXPAND_COLLAPSE_ALL,()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())),this.addManagedListener(this.eventService,$.EVENT_SELECTION_CHANGED,()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()}),this.addManagedListener(this.eventService,$.EVENT_PAGINATION_CHANGED,o=>{(o.newPage||o.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())})}setupStateOnFirstDataRendered(){var e;const{scroll:t,rangeSelection:r,focusedCell:i,columnOrder:s}=(e=this.gos.get("initialState"))!=null?e:{};i&&this.setFocusedCellState(i),r&&this.setRangeSelectionState(r),t&&this.setScrollState(t),this.setColumnPivotState(!!(s!=null&&s.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState()),this.updateCachedState("rangeSelection",this.getRangeSelectionState()),this.updateCachedState("scroll",this.getScrollState()),this.addManagedListener(this.eventService,$.EVENT_CELL_FOCUSED,()=>this.updateCachedState("focusedCell",this.getFocusedCellState())),this.addManagedListener(this.eventService,$.EVENT_RANGE_SELECTION_CHANGED,n=>{n.finished&&this.updateCachedState("rangeSelection",this.getRangeSelectionState())}),this.addManagedListener(this.eventService,$.EVENT_BODY_SCROLL_END,()=>this.updateCachedState("scroll",this.getScrollState()))}getColumnState(){const e=this.columnModel.isPivotMode(),t=[],r=[],i=[],s=[],n=[],o=[],a=[],u=[],l=[],c=this.columnModel.getColumnState();for(let h=0;h<c.length;h++){const{colId:d,sort:p,sortIndex:g,rowGroup:v,rowGroupIndex:f,aggFunc:y,pivot:m,pivotIndex:w,pinned:_,hide:A,width:F,flex:G}=c[h];l.push(d),p&&(t[g??0]={colId:d,sort:p}),v&&(r[f??0]=d),typeof y=="string"&&i.push({colId:d,aggFunc:y}),m&&(s[w??0]=d),_&&(_==="right"?o:n).push(d),A&&a.push(d),(G||F)&&u.push({colId:d,flex:G??void 0,width:F})}return{sort:t.length?{sortModel:t}:void 0,rowGroup:r.length?{groupColIds:r}:void 0,aggregation:i.length?{aggregationModel:i}:void 0,pivot:s.length||e?{pivotMode:e,pivotColIds:s}:void 0,columnPinning:n.length||o.length?{leftColIds:n,rightColIds:o}:void 0,columnVisibility:a.length?{hiddenColIds:a}:void 0,columnSizing:u.length?{columnSizingModel:u}:void 0,columnOrder:l.length?{orderedColIds:l}:void 0}}setColumnState(e){const{sort:t,rowGroup:r,aggregation:i,pivot:s,columnPinning:n,columnVisibility:o,columnSizing:a,columnOrder:u}=e,l={},c=g=>{let v=l[g];return v||(v={colId:g},l[g]=v,v)};t&&t.sortModel.forEach(({colId:g,sort:v},f)=>{const y=c(g);y.sort=v,y.sortIndex=f}),r&&r.groupColIds.forEach((g,v)=>{const f=c(g);f.rowGroup=!0,f.rowGroupIndex=v}),i&&i.aggregationModel.forEach(({colId:g,aggFunc:v})=>{c(g).aggFunc=v}),s&&(s.pivotColIds.forEach((g,v)=>{const f=c(g);f.pivot=!0,f.pivotIndex=v}),this.gos.updateGridOptions({options:{pivotMode:s.pivotMode},source:"gridInitializing"})),n&&(n.leftColIds.forEach(g=>{c(g).pinned="left"}),n.rightColIds.forEach(g=>{c(g).pinned="right"})),o&&o.hiddenColIds.forEach(g=>{c(g).hide=!0}),a&&a.columnSizingModel.forEach(({colId:g,flex:v,width:f})=>{const y=c(g);y.flex=v??null,y.width=f});const h=u==null?void 0:u.orderedColIds,d=!!(h!=null&&h.length),p=d?h.map(g=>c(g)):Object.values(l);if(p.length){this.columnStates=p;const g={sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};this.columnModel.applyColumnState({state:p,applyOrder:d,defaultState:g},"gridInitializing")}}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const r=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.columnModel.isSecondaryColumnsPresent()){if(t){let i=[];for(const s of t)this.columnModel.getSecondaryColumn(s.colId)&&i.push(s);this.columnModel.applyColumnState({state:i,applyOrder:e},"gridInitializing")}r&&this.columnModel.setColumnGroupState(r,"gridInitializing")}}getColumnGroupState(){const e=this.columnModel.getColumnGroupState(),t=[];return e.forEach(({groupId:r,open:i})=>{i&&t.push(r)}),t.length?{openColumnGroupIds:t}:void 0}setColumnGroupState(e){var t;if(!e.hasOwnProperty("columnGroup"))return;const r=new Set((t=e.columnGroup)==null?void 0:t.openColumnGroupIds),s=this.columnModel.getColumnGroupState().map(({groupId:n})=>{const o=r.has(n);return o&&r.delete(n),{groupId:n,open:o}});r.forEach(n=>{s.push({groupId:n,open:!0})}),s.length&&(this.columnGroupStates=s),this.columnModel.setColumnGroupState(s,"gridInitializing")}getFilterState(){var e;let t=this.filterManager.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const r=(e=this.filterManager.getAdvancedFilterModel())!=null?e:void 0;return t||r?{filterModel:t,advancedFilterModel:r}:void 0}setFilterState(e,t){const{filterModel:r,advancedFilterModel:i}=e??{advancedFilterModel:t};r&&this.filterManager.setFilterModel(r,"columnFilter"),i&&this.filterManager.setAdvancedFilterModel(i)}getRangeSelectionState(){var e;const t=(e=this.rangeService)==null?void 0:e.getCellRanges().map(r=>{const{id:i,type:s,startRow:n,endRow:o,columns:a,startColumn:u}=r;return{id:i,type:s,startRow:n,endRow:o,colIds:a.map(l=>l.getColId()),startColId:u.getColId()}});return t!=null&&t.length?{cellRanges:t}:void 0}setRangeSelectionState(e){if(!this.gos.get("enableRangeSelection")||!this.rangeService)return;const t=[];e.cellRanges.forEach(r=>{const i=[];if(r.colIds.forEach(n=>{const o=this.columnModel.getGridColumn(n);o&&i.push(o)}),!i.length)return;let s=this.columnModel.getGridColumn(r.startColId);if(!s){const n=this.columnModel.getAllDisplayedColumns(),o=new Set(i);s=n.find(a=>o.has(a))}t.push(er(Be({},r),{columns:i,startColumn:s}))}),this.rangeService.setCellRanges(t)}getScrollState(){var e,t,r;if(!this.isClientSideRowModel)return;const i=(e=this.ctrlsService.getGridBodyCtrl())==null?void 0:e.getScrollFeature(),{left:s}=(t=i==null?void 0:i.getHScrollPosition())!=null?t:{left:0},{top:n}=(r=i==null?void 0:i.getVScrollPosition())!=null?r:{top:0};return n||s?{top:n,left:s}:void 0}setScrollState(e){var t;if(!this.isClientSideRowModel)return;const{top:r,left:i}=e;(t=this.ctrlsService.getGridBodyCtrl())==null||t.getScrollFeature().setScrollPosition(r,i)}getSideBarState(){var e,t;return(t=(e=this.sideBarService)==null?void 0:e.getSideBarComp())==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:t,rowIndex:r,rowPinned:i}=e;return{colId:t.getColId(),rowIndex:r,rowPinned:i}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:r,rowPinned:i}=e;this.focusService.setFocusedCell({column:this.columnModel.getGridColumn(t),rowIndex:r,rowPinned:i,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const e=this.paginationProxy.getCurrentPage(),t=this.gos.get("paginationAutoPageSize")?void 0:this.paginationProxy.getPageSize();if(!(!e&&!t))return{page:e,pageSize:t}}setPaginationState(e){e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationProxy.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationProxy.setPage(e.page)}getRowSelectionState(){var e;const t=this.selectionService.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!((e=t==null?void 0:t.toggledNodes)!=null&&e.length)?void 0:t}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let r=!1;Object.entries(t).forEach(([i,s])=>{Vg(s,this.cachedState[i])||(r=!0)}),this.cachedState=Be(Be({},this.cachedState),t),r&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const r=this.cachedState[e];this.setCachedStateValue(e,t),Vg(t,r)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState=er(Be({},this.cachedState),{[e]:t})}refreshStaleState(){this.staleStateKeys.forEach(e=>{switch(e){case"rowSelection":this.setCachedStateValue(e,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear();const t={type:$.EVENT_STATE_UPDATED,sources:e,state:this.cachedState};this.eventService.dispatchEvent(t)}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}};B([q("filterManager")],si.prototype,"filterManager",2);B([q("ctrlsService")],si.prototype,"ctrlsService",2);B([q("focusService")],si.prototype,"focusService",2);B([q("columnModel")],si.prototype,"columnModel",2);B([q("paginationProxy")],si.prototype,"paginationProxy",2);B([q("rowModel")],si.prototype,"rowModel",2);B([q("selectionService")],si.prototype,"selectionService",2);B([q("expansionService")],si.prototype,"expansionService",2);B([q("columnAnimationService")],si.prototype,"columnAnimationService",2);B([Lt("sideBarService")],si.prototype,"sideBarService",2);B([Lt("rangeService")],si.prototype,"rangeService",2);B([we],si.prototype,"postConstruct",1);si=B([ke("stateService")],si);var ec=class extends ye{init(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,GD)}processColumnDefs(e){this.processOptions(e,La)}processOptions(e,t){const{validations:r,deprecations:i,allProperties:s,propertyExceptions:n,objectName:o,docsUrl:a}=t;s&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...n??[],...Object.keys(i)],s,o,a);const u=new Set;Object.keys(e).forEach(c=>{var h;const d=i[c];if(d)if("renamed"in d){const{renamed:w,version:_}=d;u.add(`As of v${_}, ${String(c)} is deprecated. Please use ${String(w)} instead.`),e[w]=e[c]}else{const{message:w,version:_}=d;u.add(`As of v${_}, ${String(c)} is deprecated. ${w??""}`)}const p=e[c];if(p==null||p===!1)return;const g=r[c];let v;if(g)if(typeof g=="function"){const w=g(e,this.gridOptions);if(!w)return;if("objectName"in w){const _=e[c];if(Array.isArray(_)){_.forEach(A=>{this.processOptions(A,w)});return}this.processOptions(e[c],w);return}v=w}else v=g;else return;const{module:f,dependencies:y,supportedRowModels:m}=v;if(m){const w=(h=this.gridOptions.rowModelType)!=null?h:"clientSide";if(!m.includes(w)){u.add(`${String(c)} is not supported with the '${w}' row model.`);return}}if(f){const w=Array.isArray(f)?f:[f];let _=!0;if(w.forEach(A=>{Pt.__assertRegistered(A,String(c),this.context.getGridId())||(_=!1,u.add(`${String(c)} is only available when ${A} is loaded.`))}),!_)return}if(y){const w=this.checkForWarning(c,y,e);if(w){u.add(w);return}}}),u.size>0&&u.forEach(c=>{We(c)})}checkForWarning(e,t,r){if(typeof t=="function")return t(r,this.gridOptions);const s=Object.entries(t).find(([a,u])=>{const l=r[a];return!u.includes(l)});if(!s)return null;const[n,o]=s;return o.length>1?`'${String(e)}' requires '${n}' to be one of [${o.join(", ")}].`:`'${String(e)}' requires '${n}' to be ${o[0]}.`}checkProperties(e,t,r,i,s){const n=["__ob__","__v_skip","__metadata__"],o=GS(Object.getOwnPropertyNames(e),[...n,...t,...r],r);if(qr(o,(a,u)=>{We(`invalid ${i} property '${a}' did you mean any of these: ${u.slice(0,8).join(", ")}`)}),Object.keys(o).length>0&&s){const a=this.getFrameworkOverrides().getDocLink(s);We(`to see all the valid ${i} properties please check: ${a}`)}}};B([q("gridOptions")],ec.prototype,"gridOptions",2);B([we],ec.prototype,"init",1);ec=B([ke("validationService")],ec);var Ah=class extends ye{constructor(){super(...arguments),this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new bv(this.getFrameworkOverrides())}addEventListener(e,t){const r=this.frameworkEventWrappingService.wrap(t),i=this.gos.useAsyncEvents()&&!Ed.has(e),s=i?this.asyncEventListeners:this.syncEventListeners;s.has(e)||s.set(e,new Set),s.get(e).add(r),this.eventService.addEventListener(e,r,i)}removeEventListener(e,t){var r;const i=this.frameworkEventWrappingService.unwrap(t),s=this.asyncEventListeners.get(e),n=!!(s!=null&&s.delete(i));n||(r=this.syncEventListeners.get(e))==null||r.delete(i),this.eventService.removeEventListener(e,i,n)}addGlobalListener(e){const t=this.frameworkEventWrappingService.wrapGlobal(e);if(this.gos.useAsyncEvents()){const i=(n,o)=>{Ed.has(n)&&t(n,o)},s=(n,o)=>{Ed.has(n)||t(n,o)};this.globalEventListenerPairs.set(e,{syncListener:i,asyncListener:s}),this.eventService.addGlobalListener(i,!1),this.eventService.addGlobalListener(s,!0)}else this.syncGlobalEventListeners.add(t),this.eventService.addGlobalListener(t,!1)}removeGlobalListener(e){const t=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(t)){const{syncListener:i,asyncListener:s}=this.globalEventListenerPairs.get(t);this.eventService.removeGlobalListener(i,!1),this.eventService.removeGlobalListener(s,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(t),this.eventService.removeGlobalListener(t,!1)}destroyEventListeners(e,t){e.forEach((r,i)=>{r.forEach(s=>this.eventService.removeEventListener(i,s,t)),r.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(r=>this.eventService.removeGlobalListener(r,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:t})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(t,!0)}),this.globalEventListenerPairs.clear()}};B([we],Ah.prototype,"postConstruct",1);Ah=B([ke("apiEventService")],Ah);var y0=class extends it{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.paginationProxy.getPageSize()||(this.paginationProxy.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}init(){this.addManagedPropertyListener("paginationPageSizeSelector",()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedListener(this.eventService,$.EVENT_PAGINATION_CHANGED,e=>this.handlePaginationChanged(e))}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.paginationProxy.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp&&this.appendChild(this.selectPageSizeComp))}reset(){mr(this.getGui()),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0)}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get("paginationPageSizeSelector")!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.paginationProxy.getPageSize(),r=!t||!e.includes(t);r&&(e.unshift(""),We(`The paginationPageSize grid option is set to a value that is not in the list of page size options.
                Please make sure that the paginationPageSize grid option is set to one of the values in the 
                paginationPageSizeSelector array, or set the paginationPageSizeSelector to false to hide the page size selector.`)),this.selectPageSizeComp&&(this.destroyBean(this.selectPageSizeComp),this.selectPageSizeComp=void 0);const i=this.localeService.getLocaleTextFunc(),s=i("pageSizeSelectorLabel","Page Size:"),n=e.map(a=>({value:String(a),text:String(a)})),o=i("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new Cp).addOptions(n).setValue(String(r?"":t)).setAriaLabel(o).setLabel(s).onValueChange(()=>this.handlePageSizeItemSelected()),this.hasEmptyOption=r}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get("paginationPageSizeSelector");return!Array.isArray(t)||!this.validateValues(t)?e:[...t].sort((r,i)=>r-i)}validateValues(e){if(!e.length)return We(`The paginationPageSizeSelector grid option is an empty array. This is most likely a mistake.
                If you want to hide the page size selector, please set the paginationPageSizeSelector to false.`),!1;for(let t=0;t<e.length;t++){const r=e[t],i=typeof r=="number",s=r>0;if(!i)return We(`The paginationPageSizeSelector grid option contains a non-numeric value.
                    Please make sure that all values in the paginationPageSizeSelector array are numbers.`),!1;if(!s)return We(`The paginationPageSizeSelector grid option contains a negative number or zero.
                    Please make sure that all values in the paginationPageSizeSelector array are positive.`),!1}return!0}destroy(){this.toggleSelectDisplay(!1),super.destroy()}};B([q("paginationProxy")],y0.prototype,"paginationProxy",2);B([we],y0.prototype,"init",1);var tc=class extends ye{constructor(){super(),this.descriptionContainer=null,this.announceValue=ri(this.announceValue.bind(this),200)}postConstruct(){const e=this.gos.getDocument(),t=this.descriptionContainer=e.createElement("div");t.classList.add("ag-aria-description-container"),_v(t,"polite"),dS(t,"additions text"),cS(t,!0),this.eGridDiv.appendChild(t)}announceValue(e){this.descriptionContainer&&(this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50))}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(mr(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null}};B([q("eGridDiv")],tc.prototype,"eGridDiv",2);B([we],tc.prototype,"postConstruct",1);tc=B([ke("ariaAnnouncementService")],tc);var hm=class{};hm.gridOptions=void 0;var BD=1,HD=class{create(e,t,r,i,s){var n;let o={};hm.gridOptions?(bi(o,hm.gridOptions,!0,!0),o=Be(Be({},o),t)):o=t;const a=Ft.getCoercedGridOptions(o),u=!!a.debug,l=(n=a.gridId)!=null?n:String(BD++),c=this.getRegisteredModules(s,l),h=this.createBeansList(a.rowModelType,c,l),d=this.createProvidedBeans(e,a,s);if(!h){Eo("Failed to create grid.");return}const p={providedBeanInstances:d,beanClasses:h,debug:u,gridId:l},g=new m0("Context",()=>p.debug),v=new QR(p,g),f=v.getBean("beans");return this.registerModuleUserComponents(f,c),this.registerStackComponents(f,c),this.registerControllers(f,c),r(v),f.syncService.start(),i&&i(v),v.getBean("gridApi")}registerControllers(e,t){t.forEach(r=>{r.controllers&&r.controllers.forEach(i=>e.ctrlsFactory.register(i))})}registerStackComponents(e,t){const r=this.createAgStackComponentsList(t);e.agStackComponentsRegistry.setupComponents(r)}getRegisteredModules(e,t){const r=e?e.modules:null,i=Pt.__getRegisteredModules(t),s=[],n={},o=(a,u,l)=>{(h=>{n[h.moduleName]||(n[h.moduleName]=!0,s.push(h),Pt.__register(h,a,l))})(u),u.dependantModules&&u.dependantModules.forEach(h=>o(a,h,l))};return r&&r.forEach(a=>o(!0,a,t)),i&&i.forEach(a=>o(!Pt.__isPackageBased(),a,void 0)),s}registerModuleUserComponents(e,t){this.extractModuleEntity(t,i=>i.userComponents?i.userComponents:[]).forEach(i=>{e.userComponentRegistry.registerDefaultComponent(i.componentName,i.componentClass)})}createProvidedBeans(e,t,r){let i=r?r.frameworkOverrides:null;tt(i)&&(i=new s2);const s={gridOptions:t,eGridDiv:e,globalEventListener:r?r.globalEventListener:null,globalSyncEventListener:r?r.globalSyncEventListener:null,frameworkOverrides:i};return r&&r.providedBeanInstances&&Object.assign(s,r.providedBeanInstances),s}createAgStackComponentsList(e){let t=[{componentName:"AgCheckbox",componentClass:wp},{componentName:"AgRadioButton",componentClass:rE},{componentName:"AgToggleButton",componentClass:ZE},{componentName:"AgInputTextField",componentClass:ra},{componentName:"AgInputTextArea",componentClass:cD},{componentName:"AgInputNumberField",componentClass:e0},{componentName:"AgInputDateField",componentClass:dD},{componentName:"AgInputRange",componentClass:hD},{componentName:"AgRichSelect",componentClass:Np},{componentName:"AgSelect",componentClass:Cp},{componentName:"AgSlider",componentClass:fD},{componentName:"AgGridBody",componentClass:Ts},{componentName:"AgHeaderRoot",componentClass:aD},{componentName:"AgSortIndicator",componentClass:r0},{componentName:"AgPagination",componentClass:Mi},{componentName:"AgPageSizeSelector",componentClass:y0},{componentName:"AgOverlayWrapper",componentClass:DD},{componentName:"AgGroupComponent",componentClass:gD},{componentName:"AgRowContainer",componentClass:wl},{componentName:"AgFakeHorizontalScroll",componentClass:MD},{componentName:"AgFakeVerticalScroll",componentClass:VD},{componentName:"AgAutocomplete",componentClass:bD}];const r=this.extractModuleEntity(e,i=>i.agStackComponents?i.agStackComponents:[]);return t=t.concat(r),t}createBeansList(e="clientSide",t,r){const i=t.filter(u=>!u.rowModel||u.rowModel===e),s={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!s[e]){Eo("Could not find row model for rowModelType = "+e);return}if(!Pt.__assertRegistered(s[e],`rowModelType = '${e}'`,r))return;const n=[dt,dl,lm,Qu,al,gt,bh,Th,Yu,im,jn,ul,Uu,dm,ec,$u,zu,jg,_s,Ft,an,$o,as,Nr,zo,Ku,ji,xh,Lu,jo,Xr,Rh,qn,_h,Uo,$n,ot,ol,Ht,en,Xu,Kn,Eh,sl,Ko,am,qu,cl,Nu,ll,nl,zs,$g,um,Zu,Ws,hl,Lo,Ju,pl,cm,qo,xi,Yo,Xo,si,ju,Ah,tc,ls],o=this.extractModuleEntity(i,u=>u.beans?u.beans:[]);n.push(...o);const a=[];return n.forEach(u=>{a.indexOf(u)<0&&a.push(u)}),a}extractModuleEntity(e,t){return[].concat(...e.map(t))}},WD=class{wrap(e,t,r=[],i){const s=this.createWrapper(e,i);return t.forEach(n=>{this.createMethod(s,n,!0)}),r.forEach(n=>{this.createMethod(s,n,!1)}),s}unwrap(e){return e}createMethod(e,t,r){e.addMethod(t,this.createMethodProxy(e,t,r))}createMethodProxy(e,t,r){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(r&&console.warn("AG Grid: Framework component is missing the method "+t+"()"),null)}}},Dl=typeof global>"u"?{}:global;Dl.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;Dl.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;Dl.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;Dl.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;Dl.Node=typeof Node>"u"?{}:Node;Dl.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var C0=class Jl{constructor(t,r,i,s,n,o){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=t,this.gos=r,this.eventService=i,this.columnModel=s,this.beans=o,this.selectionService=n,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=Jl.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return Qe.cloneObject(this.allNodesMap)}getRowNode(t){return this.allNodesMap[t]}setRowData(t){if(typeof t=="string"){console.warn("AG Grid: rowData must be an array.");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t);const r=this.rootNode,i=this.rootNode.sibling;r.childrenAfterFilter=null,r.childrenAfterGroup=null,r.childrenAfterAggFilter=null,r.childrenAfterSort=null,r.childrenMapped=null,r.updateHasChildren(),this.nextId=0,this.allNodesMap={},t?r.allLeafChildren=t.map(s=>this.createNode(s,this.rootNode,Jl.TOP_LEVEL)):(r.allLeafChildren=[],r.childrenAfterGroup=[]),i&&(i.childrenAfterFilter=r.childrenAfterFilter,i.childrenAfterGroup=r.childrenAfterGroup,i.childrenAfterAggFilter=r.childrenAfterAggFilter,i.childrenAfterSort=r.childrenAfterSort,i.childrenMapped=r.childrenMapped,i.allLeafChildren=r.allLeafChildren)}updateRowData(t,r){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(t.add);const i={remove:[],update:[],add:[]},s=[];return this.executeRemove(t,i,s),this.executeUpdate(t,i,s),this.executeAdd(t,i),this.updateSelection(s,"rowDataChanged"),r&&Qe.sortRowNodesByOrder(this.rootNode.allLeafChildren,r),i}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(t){const r={type:$.EVENT_ROW_DATA_UPDATE_STARTED,firstRowData:t!=null&&t.length?t[0]:null};this.eventService.dispatchEvent(r)}updateSelection(t,r){const i=t.length>0;if(i&&this.selectionService.setNodesSelected({newValue:!1,nodes:t,suppressFinishActions:!0,source:r}),this.selectionService.updateGroupsFromChildrenSelections(r),i){const s={type:$.EVENT_SELECTION_CHANGED,source:r};this.eventService.dispatchEvent(s)}}executeAdd(t,r){var i;const{add:s,addIndex:n}=t;if(Qe.missingOrEmpty(s))return;const o=s.map(a=>this.createNode(a,this.rootNode,Jl.TOP_LEVEL));if(typeof n=="number"&&n>=0){const{allLeafChildren:a}=this.rootNode,u=a.length;let l=n;if(this.gos.get("treeData")&&n>0&&u>0){for(let p=0;p<u;p++)if(((i=a[p])==null?void 0:i.rowIndex)==n-1){l=p+1;break}}const h=a.slice(0,l),d=a.slice(l,a.length);this.rootNode.allLeafChildren=[...h,...o,...d]}else this.rootNode.allLeafChildren=[...this.rootNode.allLeafChildren,...o];this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),r.add=o}executeRemove(t,r,i){const{remove:s}=t;if(Qe.missingOrEmpty(s))return;const n={};s.forEach(o=>{const a=this.lookupRowNode(o);a&&(a.isSelected()&&i.push(a),a.clearRowTopAndRowIndex(),n[a.id]=!0,delete this.allNodesMap[a.id],r.remove.push(a))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(o=>!n[o.id]),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(t,r,i){const{update:s}=t;Qe.missingOrEmpty(s)||s.forEach(n=>{const o=this.lookupRowNode(n);o&&(o.updateData(n),!o.selectable&&o.isSelected()&&i.push(o),this.setMasterForRow(o,n,Jl.TOP_LEVEL,!1),r.update.push(o))})}lookupRowNode(t){const r=this.gos.getCallback("getRowId");let i;if(r){const s=r({data:t,level:0});if(i=this.allNodesMap[s],!i)return console.error(`AG Grid: could not find row id=${s}, data item was not found for this id`),null}else if(i=this.rootNode.allLeafChildren.find(s=>s.data===t),!i)return console.error("AG Grid: could not find data item as object was not found",t),console.error("Consider using getRowId to help the Grid find matching row data"),null;return i||null}createNode(t,r,i){const s=new ht(this.beans);s.group=!1,this.setMasterForRow(s,t,i,!0);const n=this.gos.get("suppressParentsInRowNodes");return r&&!n&&(s.parent=r),s.level=i,s.setDataAndId(t,this.nextId.toString()),this.allNodesMap[s.id]&&console.warn(`AG Grid: duplicate node id '${s.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[s.id]=s,this.nextId++,s}setMasterForRow(t,r,i,s){if(this.gos.get("treeData"))t.setMaster(!1),s&&(t.expanded=!1);else{if(this.gos.get("masterDetail")){const a=this.gos.get("isRowMaster");a?t.setMaster(a(r)):t.setMaster(!0)}else t.setMaster(!1);if(s){const a=this.columnModel.getRowGroupColumns(),u=a?a.length:0,l=i+u;t.expanded=t.master?this.isExpanded(l):!1}}}isExpanded(t){const r=this.gos.get("groupDefaultExpanded");return r===-1?!0:t<r}};C0.TOP_LEVEL=0;C0.ROOT_NODE_ID="ROOT_NODE_ID";var zD=C0,ni=class extends ye{constructor(){super(...arguments),this.onRowHeightChanged_debounced=Qe.debounce(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}init(){const e=this.refreshModel.bind(this,{step:"group"}),t=!this.gos.get("suppressAnimationFrame"),r=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:t});this.addManagedListener(this.eventService,$.EVENT_NEW_COLUMNS_LOADED,r),this.addManagedListener(this.eventService,$.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,$.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,$.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:"pivot"})),this.addManagedListener(this.eventService,$.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,$.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,$.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.addManagedListener(this.eventService,$.EVENT_GRID_STYLES_CHANGED,this.onGridStylesChanges.bind(this)),this.addManagedListener(this.eventService,$.EVENT_GRID_READY,()=>this.onGridReady()),this.addPropertyListeners(),this.rootNode=new ht(this.beans),this.nodeManager=new zD(this.rootNode,this.gos,this.eventService,this.columnModel,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),t=new Set(["suppressParentsInRowNodes","groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),r=new Set(["excludeChildrenWhenTreeDataFiltering"]),i=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),s=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),n=new Set(["postSortRows","groupDisplayType","accentedSort"]),o=new Set([]),a=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),u=[...e,...t,...r,...i,...i,...s,...n,...o,...a];this.addManagedPropertyListeners(u,l=>{var c;const h=(c=l.changeSet)==null?void 0:c.properties;if(!h)return;const d=p=>h.some(g=>p.has(g));if(d(e)){this.setRowData(this.rootNode.allLeafChildren.map(p=>p.data));return}if(d(t)){this.refreshModel({step:"group"});return}if(d(r)){this.refreshModel({step:"filter"});return}if(d(i)){this.refreshModel({step:"pivot"});return}if(d(s)){this.refreshModel({step:"aggregate"});return}if(d(n)){this.refreshModel({step:"sort"});return}if(d(o)){this.refreshModel({step:"filter_aggregates"});return}d(a)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,t,r,i){let s,n=!1;do{s=!1;const o=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),u=Math.max(o,r),l=Math.min(a,i);for(let c=u;c<=l;c++){const h=this.getRow(c);if(h.rowHeightEstimated){const d=this.gos.getRowHeightForNode(h);h.setRowHeight(d.height),s=!0,n=!0}}s&&this.setRowTopAndRowIndex()}while(s);return n}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let t=0;const r=new Set,i=this.gos.isDomLayout("normal");for(let s=0;s<this.rowsToDisplay.length;s++){const n=this.rowsToDisplay[s];if(n.id!=null&&r.add(n.id),n.rowHeight==null){const o=this.gos.getRowHeightForNode(n,i,e);n.setRowHeight(o.height,o.estimated)}n.setRowTop(t),n.setRowIndex(s),t+=n.rowHeight}return r}clearRowTopAndRowIndex(e,t){const r=e.isActive(),i=n=>{n&&n.id!=null&&!t.has(n.id)&&n.clearRowTopAndRowIndex()},s=n=>{if(i(n),i(n.detailNode),i(n.sibling),n.hasChildren()&&n.childrenAfterGroup){const o=n.level==-1;r&&!o&&!n.expanded||n.childrenAfterGroup.forEach(s)}};s(this.rootNode)}ensureRowsAtPixel(e,t,r=0){const i=this.getRowIndexAtPixel(t),s=this.getRow(i),n=!this.gos.get("suppressAnimationFrame");return s===e[0]?!1:(e.forEach(o=>{Qe.removeFromArray(this.rootNode.allLeafChildren,o)}),e.forEach((o,a)=>{Qe.insertIntoArray(this.rootNode.allLeafChildren,o,Math.max(i+r,0)+a)}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:n}),!0)}highlightRowAtPixel(e,t){const r=t!=null?this.getRowIndexAtPixel(t):null,i=r!=null?this.getRow(r):null;if(!i||!e||i===e||t==null){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null);return}const s=this.getHighlightPosition(t,i);this.lastHighlightedRow&&this.lastHighlightedRow!==i&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),i.setHighlighted(s),this.lastHighlightedRow=i}getHighlightPosition(e,t){if(!t){const s=this.getRowIndexAtPixel(e);if(t=this.getRow(s||0),!t)return 1}const{rowTop:r,rowHeight:i}=t;return e-r<i/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const t=this.rootNode.childrenAfterAggFilter;return t?t.length:0}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let r=this.rootNode.childrenAfterSort[e];if(this.gos.get("groupHideOpenParents"))for(;r.expanded&&r.childrenAfterSort&&r.childrenAfterSort.length>0;)r=r.childrenAfterSort[0];return r.rowIndex}getRowBounds(e){if(Qe.missing(this.rowsToDisplay))return null;const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=this.gos.isAnimateRows();this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=this.gos.isAnimateRows(),i=e.columns.length===0||e.columns.some(s=>s.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:i,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=this.gos.isAnimateRows();this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){const t=Qe.missingOrEmpty(e),r=new Lp(!1,this.rootNode);return(t||this.gos.get("treeData"))&&r.setInactive(),r}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;const t=e.rowNodeTransactions.filter(i=>i.add!=null&&i.add.length>0||i.remove!=null&&i.remove.length>0);return t==null||t.length==0}buildRefreshModelParams(e){let t="group";const r={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",sort:"sort",pivot:"pivot"};if(Qe.exists(e)&&(t=r[e]),Qe.missing(t)){console.error(`AG Grid: invalid step ${e}, available steps are ${Object.keys(r).join(", ")}`);return}const i=!this.gos.get("suppressAnimationFrame");return{step:t,keepRenderedRows:!0,keepEditingRows:!0,animate:i}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.shouldRowModelIgnoreRefresh())return;let t=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(!t||this.isSuppressModelUpdateAfterUpdateTransaction(t))return;const r=this.createChangePath(t.rowNodeTransactions);switch(this.isRefreshingModel=!0,t.step){case"group":this.doRowGrouping(t.rowNodeTransactions,t.rowNodeOrder,r,!!t.afterColumnsChanged);case"filter":this.doFilter(r);case"pivot":this.doPivot(r);case"aggregate":this.doAggregate(r);case"filter_aggregates":this.doFilterAggregates(r);case"sort":this.doSort(t.rowNodeTransactions,r);case"map":this.doRowsToDisplay()}const i=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(r,i),this.isRefreshingModel=!1;const s={type:$.EVENT_MODEL_UPDATED,animate:t.animate,keepRenderedRows:t.keepRenderedRows,newData:t.newData,newPage:!1,keepUndoRedoStack:t.keepUndoRedoStack};this.eventService.dispatchEvent(s)}isEmpty(){const e=Qe.missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return Qe.missing(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return Qe.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let r=!t,i=!1;const s=[],n=this.gos.get("groupSelectsChildren");return this.forEachNodeAfterFilterAndSort(o=>{if(i)return;if(r&&(o===t||o===e)&&(i=!0,o.group&&n)){s.push(...o.allLeafChildren);return}if(!r){if(o!==t&&o!==e)return;r=!0}if(!o.group||!n){s.push(o);return}}),s}setDatasource(e){console.error("AG Grid: should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let t=0,r=this.rowsToDisplay.length-1;if(e<=0)return 0;if(Qe.last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let s=-1,n=-1;for(;;){const o=Math.floor((t+r)/2),a=this.rowsToDisplay[o];if(this.isRowInPixel(a,e)||(a.rowTop<e?t=o+1:a.rowTop>e&&(r=o-1),s===t&&n===r))return o;s=t,n=r}}isRowInPixel(e,t){const r=e.rowTop,i=e.rowTop+e.rowHeight;return r<=t&&i>t}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((t,r)=>e(t,r))}forEachNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:t})}forEachNodeAfterFilter(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:t})}forEachNodeAfterFilterAndSort(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:t})}forEachPivotNode(e,t=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:t})}recursivelyWalkNodesAndCallback(e){const{nodes:t,callback:r,recursionType:i,includeFooterNodes:s}=e;let{index:n}=e;const o=a=>{var u;const l=(u=t[0])==null?void 0:u.parent;if(!l)return;const c=s&&this.gos.getGrandTotalRow(),h=this.gos.getGroupTotalRowCallback(),d=s&&h({node:l});if(l===this.rootNode){c===a&&(l.createFooter(),r(l.sibling,n++));return}d===a&&(l.createFooter(),r(l.sibling,n++))};o("top");for(let a=0;a<t.length;a++){const u=t[a];if(r(u,n++),u.hasChildren()&&!u.footer){let l=null;switch(i){case 0:l=u.childrenAfterGroup;break;case 1:l=u.childrenAfterAggFilter;break;case 2:l=u.childrenAfterSort;break;case 3:l=u.leafGroup?null:u.childrenAfterSort;break}l&&(n=this.recursivelyWalkNodesAndCallback({nodes:[...l],callback:r,recursionType:i,index:n,includeFooterNodes:s}))}}return o("bottom"),n}doAggregate(e){var t;(t=this.aggregationStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const t=this.gos.get("treeData"),r=this.columnModel.isPivotActive(),i=o=>{o&&o.forEach(a=>{const u=()=>{a.expanded=e,i(a.childrenAfterGroup)};if(t){Qe.exists(a.childrenAfterGroup)&&u();return}if(r){!a.leafGroup&&u();return}a.group&&u()})};this.rootNode&&i(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"});const s=e?"expandAll":"collapseAll",n={type:$.EVENT_EXPAND_COLLAPSE_ALL,source:s};this.eventService.dispatchEvent(n)}doSort(e,t){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:t})}doRowGrouping(e,t,r,i){if(this.groupStage){if(e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodeOrder:t,changedPath:r}):this.groupStage.execute({rowNode:this.rootNode,changedPath:r,afterColumnsChanged:i}),this.gos.get("groupSelectsChildren")&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",r)){const n={type:$.EVENT_SELECTION_CHANGED,source:"rowGroupChanged"};this.eventService.dispatchEvent(n)}}else this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren();this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:$.EVENT_ROW_COUNT_READY}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){var t;(t=this.pivotStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}getCopyOfNodesMap(){return this.nodeManager.getCopyOfNodesMap()}getRowNode(e){if(typeof e=="string"&&e.indexOf(ht.ID_PREFIX_ROW_GROUP)==0){let r;return this.forEachNode(i=>{i.id===e&&(r=i)}),r}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){const e={type:$.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(e),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const r=this.gos.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.executeBatchUpdateRowData()},r)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){this.valueCache.onDataChanged();const e=[],t=[];let r=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(i=>{const s=this.nodeManager.updateRowData(i.rowDataTransaction,void 0);t.push(s),i.callback&&e.push(i.callback.bind(null,s)),typeof i.rowDataTransaction.addIndex=="number"&&(r=!0)}),this.commonUpdateRowData(t,void 0,r),e.length>0&&window.setTimeout(()=>{e.forEach(i=>i())},0),t.length>0){const i={type:$.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:t};this.eventService.dispatchEvent(i)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e,t){this.valueCache.onDataChanged();const r=this.nodeManager.updateRowData(e,t),i=typeof e.addIndex=="number";return this.commonUpdateRowData([r],t,i),r}createRowNodeOrder(){if(this.gos.get("suppressMaintainUnsortedOrder"))return;const t={};if(this.rootNode&&this.rootNode.allLeafChildren)for(let r=0;r<this.rootNode.allLeafChildren.length;r++){const i=this.rootNode.allLeafChildren[r];t[i.id]=r}return t}commonUpdateRowData(e,t,r){if(!this.hasStarted)return;const i=!this.gos.get("suppressAnimationFrame");r&&(t=this.createRowNodeOrder());const s={type:$.EVENT_ROW_DATA_UPDATED};this.eventService.dispatchEvent(s),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodeOrder:t,keepRenderedRows:!0,keepEditingRows:!0,animate:i})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const r=t.detailNode;r&&r.setRowHeight(r.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(){this.columnModel.isAutoRowHeightActive()||this.resetRowHeights()}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}};B([q("columnModel")],ni.prototype,"columnModel",2);B([q("selectionService")],ni.prototype,"selectionService",2);B([q("valueCache")],ni.prototype,"valueCache",2);B([q("beans")],ni.prototype,"beans",2);B([q("filterStage")],ni.prototype,"filterStage",2);B([q("sortStage")],ni.prototype,"sortStage",2);B([q("flattenStage")],ni.prototype,"flattenStage",2);B([Lt("groupStage")],ni.prototype,"groupStage",2);B([Lt("aggregationStage")],ni.prototype,"aggregationStage",2);B([Lt("pivotStage")],ni.prototype,"pivotStage",2);B([Lt("filterAggregatesStage")],ni.prototype,"filterAggregatesStage",2);B([we],ni.prototype,"init",1);ni=B([ke("rowModel")],ni);var Dh=class extends ye{execute(e){const{changedPath:t}=e;this.filterService.filter(t)}};B([q("filterService")],Dh.prototype,"filterService",2);Dh=B([ke("filterStage")],Dh);var rc=class extends ye{execute(e){const t=this.sortController.getSortOptions(),r=Qe.exists(t)&&t.length>0,i=r&&Qe.exists(e.rowNodeTransactions)&&this.gos.get("deltaSort"),s=t.some(n=>this.gos.isColumnsSortingCoupledToGroup()?n.column.isPrimary()&&n.column.isRowGroupActive():!!n.column.getColDef().showRowGroup);this.sortService.sort(t,r,i,e.rowNodeTransactions,e.changedPath,s)}};B([q("sortService")],rc.prototype,"sortService",2);B([q("sortController")],rc.prototype,"sortController",2);rc=B([ke("sortStage")],rc);var Mh=class extends ye{execute(e){const t=e.rowNode,r=[],i=this.beans.columnModel.isPivotMode(),s=i&&t.leafGroup,n=s?[t]:t.childrenAfterSort,o=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(o,n,r,i,0);const a=r.length>0;if(!s&&a&&o.grandTotalRow){t.createFooter();const l=o.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(o,t.sibling,r,0,l)}return r}getFlattenDetails(){const e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:this.gos.isGroupMultiAutoColumn(),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:this.gos.getGrandTotalRow(),groupTotalRow:this.gos.getGroupTotalRowCallback()}}recursivelyAddToRowsToDisplay(e,t,r,i,s){if(!Qe.missingOrEmpty(t))for(let n=0;n<t.length;n++){const o=t[n],a=o.hasChildren(),u=i&&!a,l=e.groupRemoveSingleChildren&&a&&o.childrenAfterGroup.length===1,c=e.groupRemoveLowestSingleChildren&&a&&o.leafGroup&&o.childrenAfterGroup.length===1,h=i&&o.leafGroup,d=e.hideOpenParents&&o.expanded&&!o.master&&!h;if(!u&&!d&&!l&&!c&&this.addRowNodeToRowsToDisplay(e,o,r,s),!(i&&o.leafGroup)){if(a){const g=l||c;if(o.expanded||g){const v=e.groupTotalRow({node:o});v||o.destroyFooter();const f=g?s:s+1;v==="top"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,r,f)),this.recursivelyAddToRowsToDisplay(e,o.childrenAfterSort,r,i,f),v==="bottom"&&(o.createFooter(),this.addRowNodeToRowsToDisplay(e,o.sibling,r,f))}}else if(o.master&&o.expanded){const g=this.createDetailNode(o);this.addRowNodeToRowsToDisplay(e,g,r,s)}}}}addRowNodeToRowsToDisplay(e,t,r,i,s){s?r.unshift(t):r.push(t),t.setUiLevel(e.isGroupMultiAutoColumn?0:i)}createDetailNode(e){if(Qe.exists(e.detailNode))return e.detailNode;const t=new ht(this.beans);return t.detail=!0,t.selectable=!1,t.parent=e,Qe.exists(e.id)&&(t.id="detail_"+e.id),t.data=e.data,t.level=e.level+1,e.detailNode=t,t}};B([q("beans")],Mh.prototype,"beans",2);Mh=B([ke("flattenStage")],Mh);var ic=class extends ye{sort(e,t,r,i,s,n){const o=this.gos.get("groupMaintainOrder"),a=this.columnModel.getAllGridColumns().some(d=>d.isRowGroupActive());let u={};r&&i&&(u=this.calculateDirtyNodes(i));const l=this.columnModel.isPivotMode(),c=this.gos.getCallback("postSortRows"),h=d=>{var p;this.pullDownGroupDataForHideOpenParents(d.childrenAfterAggFilter,!0);const g=l&&d.leafGroup;if(o&&a&&!d.leafGroup&&!n){const f=(p=this.columnModel.getRowGroupColumns())==null?void 0:p[d.level+1],y=(f==null?void 0:f.getSort())===null,m=d.childrenAfterAggFilter.slice(0);if(d.childrenAfterSort&&!y){const w={};d.childrenAfterSort.forEach((_,A)=>{w[_.id]=A}),m.sort((_,A)=>{var F,G;return((F=w[_.id])!=null?F:0)-((G=w[A.id])!=null?G:0)})}d.childrenAfterSort=m}else!t||g?d.childrenAfterSort=d.childrenAfterAggFilter.slice(0):r?d.childrenAfterSort=this.doDeltaSort(d,u,s,e):d.childrenAfterSort=this.rowNodeSorter.doFullSort(d.childrenAfterAggFilter,e);if(d.sibling&&(d.sibling.childrenAfterSort=d.childrenAfterSort),this.updateChildIndexes(d),c){const f={nodes:d.childrenAfterSort};c(f)}};s&&s.forEachChangedNodeDepthFirst(h),this.updateGroupDataForHideOpenParents(s)}calculateDirtyNodes(e){const t={},r=i=>{i&&i.forEach(s=>t[s.id]=!0)};return e&&e.forEach(i=>{r(i.add),r(i.update),r(i.remove)}),t}doDeltaSort(e,t,r,i){const s=e.childrenAfterAggFilter,n=e.childrenAfterSort;if(!n)return this.rowNodeSorter.doFullSort(s,i);const o={},a=[];s.forEach(h=>{t[h.id]||!r.canSkip(h)?a.push(h):o[h.id]=!0});const u=n.filter(h=>o[h.id]),l=(h,d)=>({currentPos:d,rowNode:h}),c=a.map(l).sort((h,d)=>this.rowNodeSorter.compareRowNodes(i,h,d));return this.mergeSortedArrays(i,c,u.map(l)).map(({rowNode:h})=>h)}mergeSortedArrays(e,t,r){const i=[];let s=0,n=0;for(;s<t.length&&n<r.length;)this.rowNodeSorter.compareRowNodes(e,t[s],r[n])<0?i.push(t[s++]):i.push(r[n++]);for(;s<t.length;)i.push(t[s++]);for(;n<r.length;)i.push(r[n++]);return i}updateChildIndexes(e){if(Qe.missing(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let r=0;r<t.length;r++){const i=t[r],s=r===0,n=r===e.childrenAfterSort.length-1;i.setFirstChild(s),i.setLastChild(n),i.setChildIndex(r)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return Qe.warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const t=r=>{this.pullDownGroupDataForHideOpenParents(r.childrenAfterSort,!1),r.childrenAfterSort.forEach(i=>{i.hasChildren()&&t(i)})};e&&e.executeFromRootNode(r=>t(r))}pullDownGroupDataForHideOpenParents(e,t){!this.gos.get("groupHideOpenParents")||Qe.missing(e)||e.forEach(r=>{this.columnModel.getGroupDisplayColumns().forEach(s=>{const n=s.getColDef().showRowGroup;if(typeof n!="string"){console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}const o=n,a=this.columnModel.getPrimaryColumn(o);if(a!==r.rowGroupColumn)if(t)r.setGroupValue(s.getId(),void 0);else{const l=r.getFirstChildOfFirstChild(a);l&&r.setGroupValue(s.getId(),l.key)}})})}};B([q("columnModel")],ic.prototype,"columnModel",2);B([q("rowNodeSorter")],ic.prototype,"rowNodeSorter",2);ic=B([ke("sortService")],ic);var Ph=class extends ye{filter(e){const t=this.filterManager.isChildFilterPresent();this.filterNodes(t,e)}filterNodes(e,t){const r=(i,s)=>{i.hasChildren()&&e&&!s?i.childrenAfterFilter=i.childrenAfterGroup.filter(n=>{const o=n.childrenAfterFilter&&n.childrenAfterFilter.length>0,a=n.data&&this.filterManager.doesRowPassFilter({rowNode:n});return o||a}):i.childrenAfterFilter=i.childrenAfterGroup,i.sibling&&(i.sibling.childrenAfterFilter=i.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const i=(n,o)=>{if(n.childrenAfterGroup)for(let a=0;a<n.childrenAfterGroup.length;a++){const u=n.childrenAfterGroup[a],l=o||this.filterManager.doesRowPassFilter({rowNode:u});u.childrenAfterGroup?i(n.childrenAfterGroup[a],l):r(u,l)}r(n,o)},s=n=>i(n,!1);t.executeFromRootNode(s)}else{const i=s=>r(s,!1);t.forEachChangedNodeDepthFirst(i,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}};B([q("filterManager")],Ph.prototype,"filterManager",2);Ph=B([ke("filterService")],Ph);var Qo=class extends ye{postConstruct(){this.rowModel.getType()==="clientSide"&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const e=this.gos.exists("getRowId");return this.gos.get("resetRowDataOnUpdate")?!1:e}setRowData(e){const t=this.createTransactionForRowData(e);if(!t)return;const[r,i]=t;this.clientSideRowModel.updateRowData(r,i)}createTransactionForRowData(e){if(Qe.missing(this.clientSideRowModel)){console.error("AG Grid: ImmutableService only works with ClientSideRowModel");return}const t=this.gos.getCallback("getRowId");if(t==null){console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!");return}const r={remove:[],update:[],add:[]},i=this.clientSideRowModel.getCopyOfNodesMap(),n=this.gos.get("suppressMaintainUnsortedOrder")?void 0:{};return Qe.exists(e)&&e.forEach((o,a)=>{const u=t({data:o,level:0}),l=i[u];n&&(n[u]=a),l?(l.data!==o&&r.update.push(o),i[u]=void 0):r.add.push(o)}),Qe.iterateObject(i,(o,a)=>{a&&r.remove.push(a.data)}),[r,n]}onRowDataUpdated(){const e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}};B([q("rowModel")],Qo.prototype,"rowModel",2);B([q("rowRenderer")],Qo.prototype,"rowRenderer",2);B([q("selectionService")],Qo.prototype,"selectionService",2);B([we],Qo.prototype,"postConstruct",1);Qo=B([ke("immutableService")],Qo);var UD="31.3.2",jD={version:UD,moduleName:"@ag-grid-community/client-side-row-model",rowModel:"clientSide",beans:[ni,Dh,rc,Mh,ic,Ph,Qo]},$D=Object.defineProperty,KD=Object.getOwnPropertyDescriptor,di=(e,t,r,i)=>{for(var s=i>1?void 0:i?KD(t,r):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(s=(i?o(t,r,s):o(s))||s);return i&&s&&$D(t,r,s),s},qD=(e,t)=>(r,i)=>t(r,i,e),sc=class extends sm{constructor(e,t,r){super(e),this.parentCache=t,this.params=r,this.startRow=e*r.blockSize,this.endRow=this.startRow+r.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,t,r){Qe.exists(t)?e.setDataAndId(t,r.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(Qe.missing(this.params.datasource.getRows)){console.warn("AG Grid: datasource is missing getRows method");return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,t,r){this.rowNodes.forEach((i,s)=>{this.startRow+s<r&&e(i,t.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.next());const r=e-this.startRow;return this.rowNodes[r]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const t=this.startRow+e,r=new ht(this.beans);r.setRowHeight(this.params.rowHeight),r.uiLevel=0,r.setRowIndex(t),r.setRowTop(this.params.rowHeight*t),this.rowNodes.push(r)}}processServerResult(e){this.rowNodes.forEach((r,i)=>{const s=e.rowData?e.rowData[i]:void 0;!r.id&&r.alreadyRendered&&s&&(this.rowNodes[i]=new ht(this.beans),this.rowNodes[i].setRowIndex(r.rowIndex),this.rowNodes[i].setRowTop(r.rowTop),this.rowNodes[i].setRowHeight(r.rowHeight),r.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[i],s,this.startRow+i)});const t=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,t)}destroyRowNodes(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()})}};di([q("beans")],sc.prototype,"beans",2);di([we],sc.prototype,"postConstruct",1);di([ui],sc.prototype,"destroyRowNodes",1);var Ml=class c2 extends ye{constructor(t){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=t.initialRowCount,this.params=t}setBeans(t){this.logger=t.create("InfiniteCache")}getRow(t,r=!1){const i=Math.floor(t/this.params.blockSize);let s=this.blocks[i];if(!s){if(r)return;s=this.createBlock(i)}return s.getRow(t)}createBlock(t){const r=this.createBean(new sc(t,this,this.params));return this.blocks[r.getId()]=r,this.blockCount++,this.purgeBlocksIfNeeded(r),this.params.rowNodeBlockLoader.addBlock(r),r}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(r=>r.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroyAllBlocks(){this.getBlocksInOrder().forEach(t=>this.destroyBlock(t))}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(t,r){this.isAlive()&&(this.logger.log(`onPageLoaded: page = ${t.getId()}, lastRow = ${r}`),this.checkRowCount(t,r),this.onCacheUpdated())}purgeBlocksIfNeeded(t){const r=this.getBlocksInOrder().filter(a=>a!=t),i=(a,u)=>u.getLastAccessed()-a.getLastAccessed();r.sort(i);const s=this.params.maxBlocksInCache>0,n=s?this.params.maxBlocksInCache-1:null,o=c2.MAX_EMPTY_BLOCKS_TO_KEEP-1;r.forEach((a,u)=>{const l=a.getState()===sc.STATE_WAITING_TO_LOAD&&u>=o,c=s?u>=n:!1;if(l||c){if(this.isBlockCurrentlyDisplayed(a)||this.isBlockFocused(a))return;this.removeBlockFromCache(a)}})}isBlockFocused(t){const r=this.focusService.getFocusCellToUseAfterRefresh();if(!r||r.rowPinned!=null)return!1;const i=t.getStartRow(),s=t.getEndRow();return r.rowIndex>=i&&r.rowIndex<s}isBlockCurrentlyDisplayed(t){const r=t.getStartRow(),i=t.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(r,i)}removeBlockFromCache(t){t&&this.destroyBlock(t)}checkRowCount(t,r){if(typeof r=="number"&&r>=0)this.rowCount=r,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const s=(t.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<s&&(this.rowCount=s)}}setRowCount(t,r){this.rowCount=t,Qe.exists(r)&&(this.lastRowIndexKnown=r),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(t){const r=new il;this.getBlocksInOrder().forEach(i=>i.forEachNode(t,r,this.rowCount))}getBlocksInOrder(){const t=(i,s)=>i.getId()-s.getId();return Qe.getAllValuesInObject(this.blocks).sort(t)}destroyBlock(t){delete this.blocks[t.getId()],this.destroyBean(t),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(t)}onCacheUpdated(){if(this.isAlive()){this.destroyAllBlocksPastVirtualRowCount();const t={type:$.EVENT_STORE_UPDATED};this.eventService.dispatchEvent(t)}}destroyAllBlocksPastVirtualRowCount(){const t=[];this.getBlocksInOrder().forEach(r=>{r.getId()*this.params.blockSize>=this.rowCount&&t.push(r)}),t.length>0&&t.forEach(r=>this.destroyBlock(r))}purgeCache(){this.getBlocksInOrder().forEach(t=>this.removeBlockFromCache(t)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(t,r){const i=[];let s=-1,n=!1;const o=new il;Qe.missing(t)&&(n=!0);let a=!1;return this.getBlocksInOrder().forEach(l=>{if(!a){if(n&&s+1!==l.getId()){a=!0;return}s=l.getId(),l.forEachNode(c=>{const h=c===t||c===r;(n||h)&&i.push(c),h&&(n=!n)},o,this.rowCount)}}),a||n?[]:i}};Ml.MAX_EMPTY_BLOCKS_TO_KEEP=2;di([q("rowRenderer")],Ml.prototype,"rowRenderer",2);di([q("focusService")],Ml.prototype,"focusService",2);di([qD(0,es("loggerFactory"))],Ml.prototype,"setBeans",1);di([ui],Ml.prototype,"destroyAllBlocks",1);var YD=Ml,Us=class extends ye{getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(e,t,r,i){return!1}init(){this.gos.isRowModelType("infinite")&&(this.rowHeight=this.gos.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&Qe.warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroyDatasource(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedListener(this.eventService,$.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,$.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,$.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,$.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this)),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=this.gos.getRowHeightAsNumber(),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()}isSortModelDifferent(){return!Qe.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,t):[]}reset(){if(!this.datasource)return;this.gos.getCallback("getRowId")!=null||this.selectionService.reset("rowDataChanged"),this.resetCache()}createModelUpdatedEvent(){return{type:$.EVENT_MODEL_UPDATED,newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1}}resetCache(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:this.gos.getRowHeightAsNumber(),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new il},this.infiniteCache=this.createBean(new YD(this.cacheParams)),this.eventService.dispatchEventOnce({type:$.EVENT_ROW_COUNT_READY});const e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}updateRowHeights(){this.forEachNode(t=>{t.setRowHeight(this.rowHeight),t.setRowTop(this.rowHeight*t.rowIndex)});const e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){const e=this.createModelUpdatedEvent();this.eventService.dispatchEvent(e)}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let t;return this.forEachNode(r=>{r.id===e&&(t=r)}),t}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),r=this.getRowCount()-1;return t>r?r:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1}setRowCount(e,t){this.infiniteCache&&this.infiniteCache.setRowCount(e,t)}};di([q("filterManager")],Us.prototype,"filterManager",2);di([q("sortController")],Us.prototype,"sortController",2);di([q("selectionService")],Us.prototype,"selectionService",2);di([q("rowRenderer")],Us.prototype,"rowRenderer",2);di([q("rowNodeBlockLoader")],Us.prototype,"rowNodeBlockLoader",2);di([we],Us.prototype,"init",1);di([ui],Us.prototype,"destroyDatasource",1);Us=di([ke("rowModel")],Us);var XD="31.3.2",QD={version:XD,moduleName:"@ag-grid-community/infinite-row-model",rowModel:"infinite",beans:[Us]},ZD=Object.defineProperty,JD=Object.getOwnPropertyDescriptor,Pi=(e,t,r,i)=>{for(var s=i>1?void 0:i?JD(t,r):t,n=e.length-1,o;n>=0;n--)(o=e[n])&&(s=(i?o(t,r,s):o(s))||s);return i&&s&&ZD(t,r,s),s},eM=class{setBeans(e){this.beans=e}getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},tM=class{constructor(e){this.groupColumns=[];const{columnModel:t,valueService:r,gos:i,processCellCallback:s,processHeaderCallback:n,processGroupHeaderCallback:o,processRowGroupCallback:a}=e;this.columnModel=t,this.valueService=r,this.gos=i,this.processCellCallback=s,this.processHeaderCallback=n,this.processGroupHeaderCallback=o,this.processRowGroupCallback=a}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){const t=this.getHeaderName(this.processHeaderCallback,e);return t??""}extractRowCellValue(e,t,r,i,s){const o=(!this.gos.get("groupHideOpenParents")||s.footer)&&this.shouldRenderGroupSummaryCell(s,e,t)?this.createValueForGroupNode(e,s):this.valueService.getValue(e,s);return this.processCell({accumulatedRowIndex:r,rowNode:s,column:e,value:o,processCellCallback:this.processCellCallback,type:i})}shouldRenderGroupSummaryCell(e,t,r){var i;if(!(e&&e.group))return!1;if(this.groupColumns.indexOf(t)!==-1){if(((i=e.groupData)==null?void 0:i[t.getId()])!=null||this.gos.isRowModelType("serverSide")&&e.group)return!0;if(e.footer&&e.level===-1){const a=t.getColDef();return a==null||a.showRowGroup===!0||a.showRowGroup===this.columnModel.getRowGroupColumns()[0].getId()}}const o=this.gos.isGroupUseEntireRow(this.columnModel.isPivotMode());return r===0&&o}getHeaderName(e,t){return e?e(this.gos.addGridCommonParams({column:t})):this.columnModel.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:t}));const r=this.gos.get("treeData"),i=this.gos.get("suppressGroupMaintainValueType"),s=u=>{var l,c;if(r||i)return u.key;const h=(l=u.groupData)==null?void 0:l[e.getId()];return!h||!u.rowGroupColumn||u.rowGroupColumn.getColDef().useValueFormatterForExport===!1?h:(c=this.valueService.formatValue(u.rowGroupColumn,u,h))!=null?c:h},n=t.footer,o=[s(t)];if(!this.gos.isGroupMultiAutoColumn())for(;t.parent;)t=t.parent,o.push(s(t));const a=o.reverse().join(" -> ");return n?`Total ${a}`:a}processCell(e){var t;const{accumulatedRowIndex:r,rowNode:i,column:s,value:n,processCellCallback:o,type:a}=e;return o?{value:(t=o(this.gos.addGridCommonParams({accumulatedRowIndex:r,column:s,node:i,value:n,type:a,parseValue:u=>this.valueService.parseValue(s,i,u,this.valueService.getValue(s,i)),formatValue:u=>{var l;return(l=this.valueService.formatValue(s,i,u))!=null?l:u}})))!=null?t:""}:s.getColDef().useValueFormatterForExport!==!1?{value:n??"",valueFormatted:this.valueService.formatValue(s,i,n)}:{value:n??""}}},rM=class{static download(e,t){const r=document.defaultView||window;if(!r){console.warn("AG Grid: There is no `window` associated with the current `document`");return}const i=document.createElement("a"),s=r.URL.createObjectURL(t);i.setAttribute("href",s),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:r})),document.body.removeChild(i),r.setTimeout(()=>{r.URL.revokeObjectURL(s)},0)}},mC=`\r
`,iM=class extends tM{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:r}=e;this.suppressQuotes=t,this.columnSeparator=r}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,mC),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((r,i)=>{i!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(r.data.value||""),r.mergeAcross&&this.appendEmptyCells(r.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,r,i){r!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(i)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,r){var i;t!=0&&(this.result+=this.columnSeparator);const s=this.extractRowCellValue(e,t,t,"csv",r);this.result+=this.putInQuotes((i=s.valueFormatted)!=null?i:s.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=mC),this.isFirstLine=!1}},Yn=class extends eM{postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration.");return}const t=this.getMergedParams(e),r=this.getData(t),i=new Blob(["\uFEFF",r],{type:"text/plain"}),s=typeof t.fileName=="function"?t.fileName(this.gos.getGridCommonParams()):t.fileName;rM.download(this.getFileName(s),i)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const r=t?Object.assign({},e):this.getMergedParams(e);return this.getData(r)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:t,valueService:r,gos:i}=this,{processCellCallback:s,processHeaderCallback:n,processGroupHeaderCallback:o,processRowGroupCallback:a,suppressQuotes:u,columnSeparator:l}=e;return new iM({columnModel:t,valueService:r,gos:i,processCellCallback:s||void 0,processHeaderCallback:n||void 0,processGroupHeaderCallback:o||void 0,processRowGroupCallback:a||void 0,suppressQuotes:u||!1,columnSeparator:l||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};Pi([q("columnModel")],Yn.prototype,"columnModel",2);Pi([q("valueService")],Yn.prototype,"valueService",2);Pi([q("gridSerializer")],Yn.prototype,"gridSerializer",2);Pi([q("gridOptionsService")],Yn.prototype,"gos",2);Pi([we],Yn.prototype,"postConstruct",1);Yn=Pi([ke("csvCreator")],Yn);var js=class extends ye{serialize(e,t={}){const{allColumns:r,columnKeys:i,skipRowGroups:s}=t,n=this.getColumnsToExport(r,s,i);return Qe.compose(this.prepareSession(n),this.prependContent(t),this.exportColumnGroups(t,n),this.exportHeaders(t,n),this.processPinnedTopRows(t,n),this.processRows(t,n),this.processPinnedBottomRows(t,n),this.appendContent(t))(e).parse()}processRow(e,t,r,i){const s=t.shouldRowBeSkipped||(()=>!1),n=this.gos.get("groupRemoveSingleChildren"),o=this.gos.get("groupRemoveLowestSingleChildren"),u=t.rowPositions!=null||!!t.onlySelected,l=this.gos.get("groupHideOpenParents")&&!u,c=this.columnModel.isPivotMode()?i.leafGroup:!i.group,h=!!i.footer;t.skipRowGroups;const d=o&&i.leafGroup,p=i.allChildrenCount===1&&(n||d);if(!c&&!h&&(t.skipRowGroups||p||l)||t.onlySelected&&!i.isSelected()||t.skipPinnedTop&&i.rowPinned==="top"||t.skipPinnedBottom&&i.rowPinned==="bottom"||i.level===-1&&!c&&!h||s(this.gos.addGridCommonParams({node:i})))return;const f=e.onNewBodyRow(i);if(r.forEach((y,m)=>{f.onColumn(y,m,i)}),t.getCustomContentBelowRow){const y=t.getCustomContentBelowRow(this.gos.addGridCommonParams({node:i}));y&&e.addCustomContent(y)}}appendContent(e){return t=>{const r=e.appendContent;return r&&t.addCustomContent(r),t}}prependContent(e){return t=>{const r=e.prependContent;return r&&t.addCustomContent(r),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return r=>{if(!e.skipColumnGroupHeaders){const i=new eS,s=this.displayedGroupCreator.createDisplayedGroups(t,i,null);this.recursivelyAddHeaderGroups(s,r,e.processGroupHeaderCallback)}return r}}exportHeaders(e,t){return r=>{if(!e.skipColumnHeaders){const i=r.onNewHeaderRow();t.forEach((s,n)=>{i.onColumn(s,n,void 0)})}return r}}processPinnedTopRows(e,t){return r=>{const i=this.processRow.bind(this,r,e,t);return e.rowPositions?e.rowPositions.filter(s=>s.rowPinned==="top").sort((s,n)=>s.rowIndex-n.rowIndex).map(s=>this.pinnedRowModel.getPinnedTopRow(s.rowIndex)).forEach(i):this.pinnedRowModel.forEachPinnedTopRow(i),r}}processRows(e,t){return r=>{const i=this.rowModel,s=i.getType(),n=s==="clientSide",o=s==="serverSide",a=!n&&e.onlySelected,u=this.processRow.bind(this,r,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(c=>c.rowPinned==null).sort((c,h)=>c.rowIndex-h.rowIndex).map(c=>i.getRow(c.rowIndex)).forEach(u);else if(this.columnModel.isPivotMode())n?i.forEachPivotNode(u,!0):o?i.forEachNodeAfterFilterAndSort(u,!0):i.forEachNode(u);else if(e.onlySelectedAllPages||a){const c=this.selectionService.getSelectedNodes();this.replicateSortedOrder(c),c.forEach(u)}else l==="all"?i.forEachNode(u):n||o?i.forEachNodeAfterFilterAndSort(u,!0):i.forEachNode(u);return r}}replicateSortedOrder(e){const t=this.sortController.getSortOptions(),r=(i,s)=>{var n,o,a,u;return i.rowIndex!=null&&s.rowIndex!=null?i.rowIndex-s.rowIndex:i.level===s.level?((n=i.parent)==null?void 0:n.id)===((o=s.parent)==null?void 0:o.id)?this.rowNodeSorter.compareRowNodes(t,{rowNode:i,currentPos:(a=i.rowIndex)!=null?a:-1},{rowNode:s,currentPos:(u=s.rowIndex)!=null?u:-1}):r(i.parent,s.parent):i.level>s.level?r(i.parent,s):r(i,s.parent)};e.sort(r)}processPinnedBottomRows(e,t){return r=>{const i=this.processRow.bind(this,r,e,t);return e.rowPositions?e.rowPositions.filter(s=>s.rowPinned==="bottom").sort((s,n)=>s.rowIndex-n.rowIndex).map(s=>this.pinnedRowModel.getPinnedBottomRow(s.rowIndex)).forEach(i):this.pinnedRowModel.forEachPinnedBottomRow(i),r}}getColumnsToExport(e=!1,t=!1,r){const i=this.columnModel.isPivotMode();if(r&&r.length)return this.columnModel.getGridColumns(r);const s=this.gos.get("treeData");let n=[];return e&&!i?n=this.columnModel.getAllGridColumns():n=this.columnModel.getAllDisplayedColumns(),t&&!s&&(n=n.filter(o=>o.getColId()!==Ja)),n}recursivelyAddHeaderGroups(e,t,r){const i=[];e.forEach(s=>{const n=s;n.getChildren&&n.getChildren().forEach(o=>i.push(o))}),e.length>0&&e[0]instanceof Mr&&this.doAddHeaderHeader(t,e,r),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,t,r)}doAddHeaderHeader(e,t,r){const i=e.onNewHeaderGroupingRow();let s=0;t.forEach(n=>{const o=n;let a;r?a=r(this.gos.addGridCommonParams({columnGroup:o})):a=this.columnModel.getDisplayNameForColumnGroup(o,"header");const u=o.getLeafColumns().reduce((l,c,h,d)=>{let p=Qe.last(l);return c.getColumnGroupShow()==="open"?(!p||p[1]!=null)&&(p=[h],l.push(p)):p&&p[1]==null&&(p[1]=h-1),h===d.length-1&&p&&p[1]==null&&(p[1]=h),l},[]);i.onColumn(o,a||"",s++,o.getLeafColumns().length-1,u)})}};Pi([q("displayedGroupCreator")],js.prototype,"displayedGroupCreator",2);Pi([q("columnModel")],js.prototype,"columnModel",2);Pi([q("rowModel")],js.prototype,"rowModel",2);Pi([q("pinnedRowModel")],js.prototype,"pinnedRowModel",2);Pi([q("selectionService")],js.prototype,"selectionService",2);Pi([q("rowNodeSorter")],js.prototype,"rowNodeSorter",2);Pi([q("sortController")],js.prototype,"sortController",2);js=Pi([ke("gridSerializer")],js);var sM="31.3.2",nM={version:sM,moduleName:"@ag-grid-community/csv-export",beans:[Yn,js]};Pt.__registerModules([jD,QD,nM],!1,void 0);var Pl={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2=te;function ft(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mi=Object.prototype.hasOwnProperty,oM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vC={},yC={};function h2(e){return mi.call(yC,e)?!0:mi.call(vC,e)?!1:oM.test(e)?yC[e]=!0:(vC[e]=!0,!1)}function hi(e,t,r,i,s,n,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=n,this.removeEmptyString=o}var zr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){zr[e]=new hi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];zr[t]=new hi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){zr[e]=new hi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){zr[e]=new hi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){zr[e]=new hi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){zr[e]=new hi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){zr[e]=new hi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){zr[e]=new hi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){zr[e]=new hi(e,5,!1,e.toLowerCase(),null,!1,!1)});var w0=/[\-:]([a-z])/g;function b0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(w0,b0);zr[t]=new hi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(w0,b0);zr[t]=new hi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(w0,b0);zr[t]=new hi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){zr[e]=new hi(e,1,!1,e.toLowerCase(),null,!1,!1)});zr.xlinkHref=new hi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){zr[e]=new hi(e,1,!1,e.toLowerCase(),null,!0,!0)});var Md={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aM=["Webkit","ms","Moz","O"];Object.keys(Md).forEach(function(e){aM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Md[t]=Md[e]})});var lM=/["'&<>]/;function ti(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=lM.exec(e);if(t){var r="",i,s=0;for(i=t.index;i<e.length;i++){switch(e.charCodeAt(i)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}s!==i&&(r+=e.substring(s,i)),s=i+1,r+=t}e=s!==i?r+e.substring(s,i):r}return e}var uM=/([A-Z])/g,cM=/^ms-/,pm=Array.isArray;function Ks(e,t){return{insertionMode:e,selectedValue:t}}function dM(e,t,r){switch(t){case"select":return Ks(1,r.value!=null?r.value:r.defaultValue);case"svg":return Ks(2,null);case"math":return Ks(3,null);case"foreignObject":return Ks(1,null);case"table":return Ks(4,null);case"thead":case"tbody":case"tfoot":return Ks(5,null);case"colgroup":return Ks(7,null);case"tr":return Ks(6,null)}return 4<=e.insertionMode||e.insertionMode===0?Ks(1,null):e}var CC=new Map;function p2(e,t,r){if(typeof r!="object")throw Error(ft(62));t=!0;for(var i in r)if(mi.call(r,i)){var s=r[i];if(s!=null&&typeof s!="boolean"&&s!==""){if(i.indexOf("--")===0){var n=ti(i);s=ti((""+s).trim())}else{n=i;var o=CC.get(n);o!==void 0||(o=ti(n.replace(uM,"-$1").toLowerCase().replace(cM,"-ms-")),CC.set(n,o)),n=o,s=typeof s=="number"?s===0||mi.call(Md,i)?""+s:s+"px":ti((""+s).trim())}t?(t=!1,e.push(' style="',n,":",s)):e.push(";",n,":",s)}}t||e.push('"')}function Ii(e,t,r,i){switch(r){case"style":p2(e,t,i);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N"){if(t=zr.hasOwnProperty(r)?zr[r]:null,t!==null){switch(typeof i){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(r=t.attributeName,t.type){case 3:i&&e.push(" ",r,'=""');break;case 4:i===!0?e.push(" ",r,'=""'):i!==!1&&e.push(" ",r,'="',ti(i),'"');break;case 5:isNaN(i)||e.push(" ",r,'="',ti(i),'"');break;case 6:!isNaN(i)&&1<=i&&e.push(" ",r,'="',ti(i),'"');break;default:t.sanitizeURL&&(i=""+i),e.push(" ",r,'="',ti(i),'"')}}else if(h2(r)){switch(typeof i){case"function":case"symbol":return;case"boolean":if(t=r.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",r,'="',ti(i),'"')}}}function Pd(e,t,r){if(t!=null){if(r!=null)throw Error(ft(60));if(typeof t!="object"||!("__html"in t))throw Error(ft(61));t=t.__html,t!=null&&e.push(""+t)}}function hM(e){var t="";return d2.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function Lf(e,t,r,i){e.push(Ps(r));var s=r=null,n;for(n in t)if(mi.call(t,n)){var o=t[n];if(o!=null)switch(n){case"children":r=o;break;case"dangerouslySetInnerHTML":s=o;break;default:Ii(e,i,n,o)}}return e.push(">"),Pd(e,s,r),typeof r=="string"?(e.push(ti(r)),null):r}var pM=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,wC=new Map;function Ps(e){var t=wC.get(e);if(t===void 0){if(!pM.test(e))throw Error(ft(65,e));t="<"+e,wC.set(e,t)}return t}function fM(e,t,r,i,s){switch(t){case"select":e.push(Ps("select"));var n=null,o=null;for(c in r)if(mi.call(r,c)){var a=r[c];if(a!=null)switch(c){case"children":n=a;break;case"dangerouslySetInnerHTML":o=a;break;case"defaultValue":case"value":break;default:Ii(e,i,c,a)}}return e.push(">"),Pd(e,o,n),n;case"option":o=s.selectedValue,e.push(Ps("option"));var u=a=null,l=null,c=null;for(n in r)if(mi.call(r,n)){var h=r[n];if(h!=null)switch(n){case"children":a=h;break;case"selected":l=h;break;case"dangerouslySetInnerHTML":c=h;break;case"value":u=h;default:Ii(e,i,n,h)}}if(o!=null)if(r=u!==null?""+u:hM(a),pm(o)){for(i=0;i<o.length;i++)if(""+o[i]===r){e.push(' selected=""');break}}else""+o===r&&e.push(' selected=""');else l&&e.push(' selected=""');return e.push(">"),Pd(e,c,a),a;case"textarea":e.push(Ps("textarea")),c=o=n=null;for(a in r)if(mi.call(r,a)&&(u=r[a],u!=null))switch(a){case"children":c=u;break;case"value":n=u;break;case"defaultValue":o=u;break;case"dangerouslySetInnerHTML":throw Error(ft(91));default:Ii(e,i,a,u)}if(n===null&&o!==null&&(n=o),e.push(">"),c!=null){if(n!=null)throw Error(ft(92));if(pm(c)&&1<c.length)throw Error(ft(93));n=""+c}return typeof n=="string"&&n[0]===`
`&&e.push(`
`),n!==null&&e.push(ti(""+n)),null;case"input":e.push(Ps("input")),u=c=a=n=null;for(o in r)if(mi.call(r,o)&&(l=r[o],l!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(ft(399,"input"));case"defaultChecked":u=l;break;case"defaultValue":a=l;break;case"checked":c=l;break;case"value":n=l;break;default:Ii(e,i,o,l)}return c!==null?Ii(e,i,"checked",c):u!==null&&Ii(e,i,"checked",u),n!==null?Ii(e,i,"value",n):a!==null&&Ii(e,i,"value",a),e.push("/>"),null;case"menuitem":e.push(Ps("menuitem"));for(var d in r)if(mi.call(r,d)&&(n=r[d],n!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(ft(400));default:Ii(e,i,d,n)}return e.push(">"),null;case"title":e.push(Ps("title")),n=null;for(h in r)if(mi.call(r,h)&&(o=r[h],o!=null))switch(h){case"children":n=o;break;case"dangerouslySetInnerHTML":throw Error(ft(434));default:Ii(e,i,h,o)}return e.push(">"),n;case"listing":case"pre":e.push(Ps(t)),o=n=null;for(u in r)if(mi.call(r,u)&&(a=r[u],a!=null))switch(u){case"children":n=a;break;case"dangerouslySetInnerHTML":o=a;break;default:Ii(e,i,u,a)}if(e.push(">"),o!=null){if(n!=null)throw Error(ft(60));if(typeof o!="object"||!("__html"in o))throw Error(ft(61));r=o.__html,r!=null&&(typeof r=="string"&&0<r.length&&r[0]===`
`?e.push(`
`,r):e.push(""+r))}return typeof n=="string"&&n[0]===`
`&&e.push(`
`),n;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(Ps(t));for(var p in r)if(mi.call(r,p)&&(n=r[p],n!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(ft(399,t));default:Ii(e,i,p,n)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Lf(e,r,t,i);case"html":return s.insertionMode===0&&e.push("<!DOCTYPE html>"),Lf(e,r,t,i);default:if(t.indexOf("-")===-1&&typeof r.is!="string")return Lf(e,r,t,i);e.push(Ps(t)),o=n=null;for(l in r)if(mi.call(r,l)&&(a=r[l],a!=null))switch(l){case"children":n=a;break;case"dangerouslySetInnerHTML":o=a;break;case"style":p2(e,i,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:h2(l)&&typeof a!="function"&&typeof a!="symbol"&&e.push(" ",l,'="',ti(a),'"')}return e.push(">"),Pd(e,o,n),n}}function bC(e,t,r){if(e.push('<!--$?--><template id="'),r===null)throw Error(ft(395));return e.push(r),e.push('"></template>')}function gM(e,t,r,i){switch(r.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 4:return e.push('<table hidden id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(t.segmentPrefix),t=i.toString(16),e.push(t),e.push('">');default:throw Error(ft(397))}}function mM(e,t){switch(t.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error(ft(397))}}var vM=/[<\u2028\u2029]/g;function Nf(e){return JSON.stringify(e).replace(vM,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function yM(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function SC(e,t,r,i){return r.generateStaticMarkup?(e.push(ti(t)),!1):(t===""?e=i:(i&&e.push("<!-- -->"),e.push(ti(t)),e=!0),e)}var fu=Object.assign,CM=Symbol.for("react.element"),f2=Symbol.for("react.portal"),g2=Symbol.for("react.fragment"),m2=Symbol.for("react.strict_mode"),v2=Symbol.for("react.profiler"),y2=Symbol.for("react.provider"),C2=Symbol.for("react.context"),w2=Symbol.for("react.forward_ref"),b2=Symbol.for("react.suspense"),S2=Symbol.for("react.suspense_list"),E2=Symbol.for("react.memo"),S0=Symbol.for("react.lazy"),wM=Symbol.for("react.scope"),bM=Symbol.for("react.debug_trace_mode"),SM=Symbol.for("react.legacy_hidden"),EM=Symbol.for("react.default_value"),EC=Symbol.iterator;function fm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g2:return"Fragment";case f2:return"Portal";case v2:return"Profiler";case m2:return"StrictMode";case b2:return"Suspense";case S2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case C2:return(e.displayName||"Context")+".Consumer";case y2:return(e._context.displayName||"Context")+".Provider";case w2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case E2:return t=e.displayName||null,t!==null?t:fm(e.type)||"Memo";case S0:t=e._payload,e=e._init;try{return fm(e(t))}catch{}}return null}var x2={};function xC(e,t){if(e=e.contextTypes,!e)return x2;var r={},i;for(i in e)r[i]=t[i];return r}var _o=null;function Gp(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var r=t.parent;if(e===null){if(r!==null)throw Error(ft(401))}else{if(r===null)throw Error(ft(401));Gp(e,r)}t.context._currentValue2=t.value}}function _2(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&_2(e)}function R2(e){var t=e.parent;t!==null&&R2(t),e.context._currentValue2=e.value}function T2(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(ft(402));e.depth===t.depth?Gp(e,t):T2(e,t)}function A2(e,t){var r=t.parent;if(r===null)throw Error(ft(402));e.depth===r.depth?Gp(e,r):A2(e,r),t.context._currentValue2=t.value}function Fh(e){var t=_o;t!==e&&(t===null?R2(e):e===null?_2(t):t.depth===e.depth?Gp(t,e):t.depth>e.depth?T2(t,e):A2(t,e),_o=e)}var _C={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function RC(e,t,r,i){var s=e.state!==void 0?e.state:null;e.updater=_C,e.props=r,e.state=s;var n={queue:[],replace:!1};e._reactInternals=n;var o=t.contextType;if(e.context=typeof o=="object"&&o!==null?o._currentValue2:i,o=t.getDerivedStateFromProps,typeof o=="function"&&(o=o(r,s),s=o==null?s:fu({},s,o),e.state=s),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&_C.enqueueReplaceState(e,e.state,null),n.queue!==null&&0<n.queue.length)if(t=n.queue,o=n.replace,n.queue=null,n.replace=!1,o&&t.length===1)e.state=t[0];else{for(n=o?t[0]:e.state,s=!0,o=o?1:0;o<t.length;o++){var a=t[o];a=typeof a=="function"?a.call(e,n,r,i):a,a!=null&&(s?(s=!1,n=fu({},n,a)):fu(n,a))}e.state=n}else n.queue=null}var xM={id:1,overflow:""};function gm(e,t,r){var i=e.id;e=e.overflow;var s=32-Fd(i)-1;i&=~(1<<s),r+=1;var n=32-Fd(t)+s;if(30<n){var o=s-s%5;return n=(i&(1<<o)-1).toString(32),i>>=o,s-=o,{id:1<<32-Fd(t)+s|r<<s|i,overflow:n+e}}return{id:1<<n|r<<s|i,overflow:e}}var Fd=Math.clz32?Math.clz32:TM,_M=Math.log,RM=Math.LN2;function TM(e){return e>>>=0,e===0?32:31-(_M(e)/RM|0)|0}function AM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var DM=typeof Object.is=="function"?Object.is:AM,ln=null,E0=null,Id=null,Qt=null,eu=!1,Ih=!1,nc=0,Pn=null,Vp=0;function mo(){if(ln===null)throw Error(ft(321));return ln}function TC(){if(0<Vp)throw Error(ft(312));return{memoizedState:null,queue:null,next:null}}function x0(){return Qt===null?Id===null?(eu=!1,Id=Qt=TC()):(eu=!0,Qt=Id):Qt.next===null?(eu=!1,Qt=Qt.next=TC()):(eu=!0,Qt=Qt.next),Qt}function _0(){E0=ln=null,Ih=!1,Id=null,Vp=0,Qt=Pn=null}function D2(e,t){return typeof t=="function"?t(e):t}function AC(e,t,r){if(ln=mo(),Qt=x0(),eu){var i=Qt.queue;if(t=i.dispatch,Pn!==null&&(r=Pn.get(i),r!==void 0)){Pn.delete(i),i=Qt.memoizedState;do i=e(i,r.action),r=r.next;while(r!==null);return Qt.memoizedState=i,[i,t]}return[Qt.memoizedState,t]}return e=e===D2?typeof t=="function"?t():t:r!==void 0?r(t):t,Qt.memoizedState=e,e=Qt.queue={last:null,dispatch:null},e=e.dispatch=MM.bind(null,ln,e),[Qt.memoizedState,e]}function DC(e,t){if(ln=mo(),Qt=x0(),t=t===void 0?null:t,Qt!==null){var r=Qt.memoizedState;if(r!==null&&t!==null){var i=r[1];e:if(i===null)i=!1;else{for(var s=0;s<i.length&&s<t.length;s++)if(!DM(t[s],i[s])){i=!1;break e}i=!0}if(i)return r[0]}}return e=e(),Qt.memoizedState=[e,t],e}function MM(e,t,r){if(25<=Vp)throw Error(ft(301));if(e===ln)if(Ih=!0,e={action:r,next:null},Pn===null&&(Pn=new Map),r=Pn.get(t),r===void 0)Pn.set(t,e);else{for(t=r;t.next!==null;)t=t.next;t.next=e}}function PM(){throw Error(ft(394))}function ad(){}var MC={readContext:function(e){return e._currentValue2},useContext:function(e){return mo(),e._currentValue2},useMemo:DC,useReducer:AC,useRef:function(e){ln=mo(),Qt=x0();var t=Qt.memoizedState;return t===null?(e={current:e},Qt.memoizedState=e):t},useState:function(e){return AC(D2,e)},useInsertionEffect:ad,useLayoutEffect:function(){},useCallback:function(e,t){return DC(function(){return e},t)},useImperativeHandle:ad,useEffect:ad,useDebugValue:ad,useDeferredValue:function(e){return mo(),e},useTransition:function(){return mo(),[!1,PM]},useId:function(){var e=E0.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-Fd(e)-1)).toString(32)+t;var r=kd;if(r===null)throw Error(ft(404));return t=nc++,e=":"+r.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return mo(),t(e._source)},useSyncExternalStore:function(e,t,r){if(r===void 0)throw Error(ft(407));return r()}},kd=null,Of=d2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function FM(e){return console.error(e),null}function tu(){}function IM(e,t,r,i,s,n,o,a,u){var l=[],c=new Set;return t={destination:null,responseState:t,progressiveChunkSize:i===void 0?12800:i,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:l,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:s===void 0?FM:s,onAllReady:tu,onShellReady:o===void 0?tu:o,onShellError:tu,onFatalError:tu},r=kh(t,0,null,r,!1,!1),r.parentFlushed=!0,e=R0(t,e,null,r,c,x2,null,xM),l.push(e),t}function R0(e,t,r,i,s,n,o,a){e.allPendingTasks++,r===null?e.pendingRootTasks++:r.pendingTasks++;var u={node:t,ping:function(){var l=e.pingedTasks;l.push(u),l.length===1&&F2(e)},blockedBoundary:r,blockedSegment:i,abortSet:s,legacyContext:n,context:o,treeContext:a};return s.add(u),u}function kh(e,t,r,i,s,n){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:i,boundary:r,lastPushedText:s,textEmbedded:n}}function oc(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Lh(e,t){var r=e.onShellError;r(t),r=e.onFatalError,r(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function PC(e,t,r,i,s){for(ln={},E0=t,nc=0,e=r(i,s);Ih;)Ih=!1,nc=0,Vp+=1,Qt=null,e=r(i,s);return _0(),e}function FC(e,t,r,i){var s=r.render(),n=i.childContextTypes;if(n!=null){var o=t.legacyContext;if(typeof r.getChildContext!="function")i=o;else{r=r.getChildContext();for(var a in r)if(!(a in n))throw Error(ft(108,fm(i)||"Unknown",a));i=fu({},o,r)}t.legacyContext=i,Ni(e,t,s),t.legacyContext=o}else Ni(e,t,s)}function IC(e,t){if(e&&e.defaultProps){t=fu({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function mm(e,t,r,i,s){if(typeof r=="function")if(r.prototype&&r.prototype.isReactComponent){s=xC(r,t.legacyContext);var n=r.contextType;n=new r(i,typeof n=="object"&&n!==null?n._currentValue2:s),RC(n,r,i,s),FC(e,t,n,r)}else{n=xC(r,t.legacyContext),s=PC(e,t,r,i,n);var o=nc!==0;if(typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0)RC(s,r,i,n),FC(e,t,s,r);else if(o){i=t.treeContext,t.treeContext=gm(i,1,0);try{Ni(e,t,s)}finally{t.treeContext=i}}else Ni(e,t,s)}else if(typeof r=="string"){switch(s=t.blockedSegment,n=fM(s.chunks,r,i,e.responseState,s.formatContext),s.lastPushedText=!1,o=s.formatContext,s.formatContext=dM(o,r,i),vm(e,t,n),s.formatContext=o,r){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:s.chunks.push("</",r,">")}s.lastPushedText=!1}else{switch(r){case SM:case bM:case m2:case v2:case g2:Ni(e,t,i.children);return;case S2:Ni(e,t,i.children);return;case wM:throw Error(ft(343));case b2:e:{r=t.blockedBoundary,s=t.blockedSegment,n=i.fallback,i=i.children,o=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},u=kh(e,s.chunks.length,a,s.formatContext,!1,!1);s.children.push(u),s.lastPushedText=!1;var l=kh(e,0,null,s.formatContext,!1,!1);l.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=l;try{if(vm(e,t,i),e.responseState.generateStaticMarkup||l.lastPushedText&&l.textEmbedded&&l.chunks.push("<!-- -->"),l.status=1,Nh(a,l),a.pendingTasks===0)break e}catch(c){l.status=4,a.forceClientRender=!0,a.errorDigest=oc(e,c)}finally{t.blockedBoundary=r,t.blockedSegment=s}t=R0(e,n,r,u,o,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof r=="object"&&r!==null)switch(r.$$typeof){case w2:if(i=PC(e,t,r.render,i,s),nc!==0){r=t.treeContext,t.treeContext=gm(r,1,0);try{Ni(e,t,i)}finally{t.treeContext=r}}else Ni(e,t,i);return;case E2:r=r.type,i=IC(r,i),mm(e,t,r,i,s);return;case y2:if(s=i.children,r=r._context,i=i.value,n=r._currentValue2,r._currentValue2=i,o=_o,_o=i={parent:o,depth:o===null?0:o.depth+1,context:r,parentValue:n,value:i},t.context=i,Ni(e,t,s),e=_o,e===null)throw Error(ft(403));i=e.parentValue,e.context._currentValue2=i===EM?e.context._defaultValue:i,e=_o=e.parent,t.context=e;return;case C2:i=i.children,i=i(r._currentValue2),Ni(e,t,i);return;case S0:s=r._init,r=s(r._payload),i=IC(r,i),mm(e,t,r,i,void 0);return}throw Error(ft(130,r==null?r:typeof r,""))}}function Ni(e,t,r){if(t.node=r,typeof r=="object"&&r!==null){switch(r.$$typeof){case CM:mm(e,t,r.type,r.props,r.ref);return;case f2:throw Error(ft(257));case S0:var i=r._init;r=i(r._payload),Ni(e,t,r);return}if(pm(r)){kC(e,t,r);return}if(r===null||typeof r!="object"?i=null:(i=EC&&r[EC]||r["@@iterator"],i=typeof i=="function"?i:null),i&&(i=i.call(r))){if(r=i.next(),!r.done){var s=[];do s.push(r.value),r=i.next();while(!r.done);kC(e,t,s)}return}throw e=Object.prototype.toString.call(r),Error(ft(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}typeof r=="string"?(i=t.blockedSegment,i.lastPushedText=SC(t.blockedSegment.chunks,r,e.responseState,i.lastPushedText)):typeof r=="number"&&(i=t.blockedSegment,i.lastPushedText=SC(t.blockedSegment.chunks,""+r,e.responseState,i.lastPushedText))}function kC(e,t,r){for(var i=r.length,s=0;s<i;s++){var n=t.treeContext;t.treeContext=gm(n,i,s);try{vm(e,t,r[s])}finally{t.treeContext=n}}}function vm(e,t,r){var i=t.blockedSegment.formatContext,s=t.legacyContext,n=t.context;try{return Ni(e,t,r)}catch(u){if(_0(),typeof u=="object"&&u!==null&&typeof u.then=="function"){r=u;var o=t.blockedSegment,a=kh(e,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(a),o.lastPushedText=!1,e=R0(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,r.then(e,e),t.blockedSegment.formatContext=i,t.legacyContext=s,t.context=n,Fh(n)}else throw t.blockedSegment.formatContext=i,t.legacyContext=s,t.context=n,Fh(n),u}}function kM(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,P2(this,t,e)}function M2(e,t,r){var i=e.blockedBoundary;e.blockedSegment.status=3,i===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.push(null))):(i.pendingTasks--,i.forceClientRender||(i.forceClientRender=!0,e=r===void 0?Error(ft(432)):r,i.errorDigest=t.onError(e),i.parentFlushed&&t.clientRenderedBoundaries.push(i)),i.fallbackAbortableTasks.forEach(function(s){return M2(s,t,r)}),i.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(i=t.onAllReady,i()))}function Nh(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var r=t.children[0];r.id=t.id,r.parentFlushed=!0,r.status===1&&Nh(e,r)}else e.completedSegments.push(t)}function P2(e,t,r){if(t===null){if(r.parentFlushed){if(e.completedRootSegment!==null)throw Error(ft(389));e.completedRootSegment=r}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=tu,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(r.parentFlushed&&r.status===1&&Nh(t,r),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(kM,e),t.fallbackAbortableTasks.clear()):r.parentFlushed&&r.status===1&&(Nh(t,r),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function F2(e){if(e.status!==2){var t=_o,r=Of.current;Of.current=MC;var i=kd;kd=e.responseState;try{var s=e.pingedTasks,n;for(n=0;n<s.length;n++){var o=s[n],a=e,u=o.blockedSegment;if(u.status===0){Fh(o.context);try{Ni(a,o,o.node),a.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),o.abortSet.delete(o),u.status=1,P2(a,o.blockedBoundary,u)}catch(g){if(_0(),typeof g=="object"&&g!==null&&typeof g.then=="function"){var l=o.ping;g.then(l,l)}else{o.abortSet.delete(o),u.status=4;var c=o.blockedBoundary,h=g,d=oc(a,h);if(c===null?Lh(a,h):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=d,c.parentFlushed&&a.clientRenderedBoundaries.push(c))),a.allPendingTasks--,a.allPendingTasks===0){var p=a.onAllReady;p()}}}finally{}}}s.splice(0,n),e.destination!==null&&T0(e,e.destination)}catch(g){oc(e,g),Lh(e,g)}finally{kd=i,Of.current=r,r===MC&&Fh(t)}}}function ld(e,t,r){switch(r.parentFlushed=!0,r.status){case 0:var i=r.id=e.nextSegmentId++;return r.lastPushedText=!1,r.textEmbedded=!1,e=e.responseState,t.push('<template id="'),t.push(e.placeholderPrefix),e=i.toString(16),t.push(e),t.push('"></template>');case 1:r.status=2;var s=!0;i=r.chunks;var n=0;r=r.children;for(var o=0;o<r.length;o++){for(s=r[o];n<s.index;n++)t.push(i[n]);s=Bp(e,t,s)}for(;n<i.length-1;n++)t.push(i[n]);return n<i.length&&(s=t.push(i[n])),s;default:throw Error(ft(390))}}function Bp(e,t,r){var i=r.boundary;if(i===null)return ld(e,t,r);if(i.parentFlushed=!0,i.forceClientRender)return e.responseState.generateStaticMarkup||(i=i.errorDigest,t.push("<!--$!-->"),t.push("<template"),i&&(t.push(' data-dgst="'),i=ti(i),t.push(i),t.push('"')),t.push("></template>")),ld(e,t,r),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e;if(0<i.pendingTasks){i.rootSegmentID=e.nextSegmentId++,0<i.completedSegments.length&&e.partialBoundaries.push(i);var s=e.responseState,n=s.nextSuspenseID++;return s=s.boundaryPrefix+n.toString(16),i=i.id=s,bC(t,e.responseState,i),ld(e,t,r),t.push("<!--/$-->")}if(i.byteSize>e.progressiveChunkSize)return i.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(i),bC(t,e.responseState,i.id),ld(e,t,r),t.push("<!--/$-->");if(e.responseState.generateStaticMarkup||t.push("<!--$-->"),r=i.completedSegments,r.length!==1)throw Error(ft(391));return Bp(e,t,r[0]),e=e.responseState.generateStaticMarkup?!0:t.push("<!--/$-->"),e}function LC(e,t,r){return gM(t,e.responseState,r.formatContext,r.id),Bp(e,t,r),mM(t,r.formatContext)}function NC(e,t,r){for(var i=r.completedSegments,s=0;s<i.length;s++)I2(e,t,r,i[s]);if(i.length=0,e=e.responseState,i=r.id,r=r.rootSegmentID,t.push(e.startInlineScript),e.sentCompleteBoundaryFunction?t.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,t.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),i===null)throw Error(ft(395));return r=r.toString(16),t.push(i),t.push('","'),t.push(e.segmentPrefix),t.push(r),t.push('")<\/script>')}function I2(e,t,r,i){if(i.status===2)return!0;var s=i.id;if(s===-1){if((i.id=r.rootSegmentID)===-1)throw Error(ft(392));return LC(e,t,i)}return LC(e,t,i),e=e.responseState,t.push(e.startInlineScript),e.sentCompleteSegmentFunction?t.push('$RS("'):(e.sentCompleteSegmentFunction=!0,t.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),t.push(e.segmentPrefix),s=s.toString(16),t.push(s),t.push('","'),t.push(e.placeholderPrefix),t.push(s),t.push('")<\/script>')}function T0(e,t){try{var r=e.completedRootSegment;if(r!==null&&e.pendingRootTasks===0){Bp(e,t,r),e.completedRootSegment=null;var i=e.responseState.bootstrapChunks;for(r=0;r<i.length-1;r++)t.push(i[r]);r<i.length&&t.push(i[r])}var s=e.clientRenderedBoundaries,n;for(n=0;n<s.length;n++){var o=s[n];i=t;var a=e.responseState,u=o.id,l=o.errorDigest,c=o.errorMessage,h=o.errorComponentStack;if(i.push(a.startInlineScript),a.sentClientRenderFunction?i.push('$RX("'):(a.sentClientRenderFunction=!0,i.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),u===null)throw Error(ft(395));if(i.push(u),i.push('"'),l||c||h){i.push(",");var d=Nf(l||"");i.push(d)}if(c||h){i.push(",");var p=Nf(c||"");i.push(p)}if(h){i.push(",");var g=Nf(h);i.push(g)}if(!i.push(")<\/script>")){e.destination=null,n++,s.splice(0,n);return}}s.splice(0,n);var v=e.completedBoundaries;for(n=0;n<v.length;n++)if(!NC(e,t,v[n])){e.destination=null,n++,v.splice(0,n);return}v.splice(0,n);var f=e.partialBoundaries;for(n=0;n<f.length;n++){var y=f[n];e:{s=e,o=t;var m=y.completedSegments;for(a=0;a<m.length;a++)if(!I2(s,o,y,m[a])){a++,m.splice(0,a);var w=!1;break e}m.splice(0,a),w=!0}if(!w){e.destination=null,n++,f.splice(0,n);return}}f.splice(0,n);var _=e.completedBoundaries;for(n=0;n<_.length;n++)if(!NC(e,t,_[n])){e.destination=null,n++,_.splice(0,n);return}_.splice(0,n)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function LM(e,t){try{var r=e.abortableTasks;r.forEach(function(i){return M2(i,e,t)}),r.clear(),e.destination!==null&&T0(e,e.destination)}catch(i){oc(e,i),Lh(e,i)}}function NM(){}function k2(e,t,r,i){var s=!1,n=null,o="",a={push:function(l){return l!==null&&(o+=l),!0},destroy:function(l){s=!0,n=l}},u=!1;if(e=IM(e,yM(r,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,NM,void 0,function(){u=!0}),F2(e),LM(e,i),e.status===1)e.status=2,a.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=a;try{T0(e,a)}catch(l){oc(e,l),Lh(e,l)}}if(s)throw n;if(!u)throw Error(ft(426));return o}Pl.renderToNodeStream=function(){throw Error(ft(207))};Pl.renderToStaticMarkup=function(e,t){return k2(e,t,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Pl.renderToStaticNodeStream=function(){throw Error(ft(208))};Pl.renderToString=function(e,t){return k2(e,t,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};Pl.version="18.3.1";var A0={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L2=te;function yt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Oi=null,Gi=0;function Ue(e,t){if(t.length!==0)if(512<t.length)0<Gi&&(e.enqueue(new Uint8Array(Oi.buffer,0,Gi)),Oi=new Uint8Array(512),Gi=0),e.enqueue(t);else{var r=Oi.length-Gi;r<t.length&&(r===0?e.enqueue(Oi):(Oi.set(t.subarray(0,r),Gi),e.enqueue(Oi),t=t.subarray(r)),Oi=new Uint8Array(512),Gi=0),Oi.set(t,Gi),Gi+=t.length}}function ir(e,t){return Ue(e,t),!0}function OC(e){Oi&&0<Gi&&(e.enqueue(new Uint8Array(Oi.buffer,0,Gi)),Oi=null,Gi=0)}var N2=new TextEncoder;function bt(e){return N2.encode(e)}function Oe(e){return N2.encode(e)}function O2(e,t){typeof e.error=="function"?e.error(t):e.close()}var vi=Object.prototype.hasOwnProperty,OM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,GC={},VC={};function G2(e){return vi.call(VC,e)?!0:vi.call(GC,e)?!1:OM.test(e)?VC[e]=!0:(GC[e]=!0,!1)}function pi(e,t,r,i,s,n,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=n,this.removeEmptyString=o}var Ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ur[e]=new pi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ur[t]=new pi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ur[e]=new pi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ur[e]=new pi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ur[e]=new pi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ur[e]=new pi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ur[e]=new pi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ur[e]=new pi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ur[e]=new pi(e,5,!1,e.toLowerCase(),null,!1,!1)});var D0=/[\-:]([a-z])/g;function M0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(D0,M0);Ur[t]=new pi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(D0,M0);Ur[t]=new pi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(D0,M0);Ur[t]=new pi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ur[e]=new pi(e,1,!1,e.toLowerCase(),null,!1,!1)});Ur.xlinkHref=new pi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ur[e]=new pi(e,1,!1,e.toLowerCase(),null,!0,!0)});var Ld={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GM=["Webkit","ms","Moz","O"];Object.keys(Ld).forEach(function(e){GM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ld[t]=Ld[e]})});var VM=/["'&<>]/;function Vr(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=VM.exec(e);if(t){var r="",i,s=0;for(i=t.index;i<e.length;i++){switch(e.charCodeAt(i)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}s!==i&&(r+=e.substring(s,i)),s=i+1,r+=t}e=s!==i?r+e.substring(s,i):r}return e}var BM=/([A-Z])/g,HM=/^ms-/,ym=Array.isArray,WM=Oe("<script>"),zM=Oe("<\/script>"),UM=Oe('<script src="'),jM=Oe('<script type="module" src="'),BC=Oe('" async=""><\/script>'),$M=/(<\/|<)(s)(cript)/gi;function KM(e,t,r,i){return""+t+(r==="s"?"\\u0073":"\\u0053")+i}function qM(e,t,r,i,s){e=e===void 0?"":e,t=t===void 0?WM:Oe('<script nonce="'+Vr(t)+'">');var n=[];if(r!==void 0&&n.push(t,bt((""+r).replace($M,KM)),zM),i!==void 0)for(r=0;r<i.length;r++)n.push(UM,bt(Vr(i[r])),BC);if(s!==void 0)for(i=0;i<s.length;i++)n.push(jM,bt(Vr(s[i])),BC);return{bootstrapChunks:n,startInlineScript:t,placeholderPrefix:Oe(e+"P:"),segmentPrefix:Oe(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function Fs(e,t){return{insertionMode:e,selectedValue:t}}function YM(e){return Fs(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function XM(e,t,r){switch(t){case"select":return Fs(1,r.value!=null?r.value:r.defaultValue);case"svg":return Fs(2,null);case"math":return Fs(3,null);case"foreignObject":return Fs(1,null);case"table":return Fs(4,null);case"thead":case"tbody":case"tfoot":return Fs(5,null);case"colgroup":return Fs(7,null);case"tr":return Fs(6,null)}return 4<=e.insertionMode||e.insertionMode===0?Fs(1,null):e}var P0=Oe("<!-- -->");function HC(e,t,r,i){return t===""?i:(i&&e.push(P0),e.push(bt(Vr(t))),!0)}var WC=new Map,QM=Oe(' style="'),zC=Oe(":"),ZM=Oe(";");function V2(e,t,r){if(typeof r!="object")throw Error(yt(62));t=!0;for(var i in r)if(vi.call(r,i)){var s=r[i];if(s!=null&&typeof s!="boolean"&&s!==""){if(i.indexOf("--")===0){var n=bt(Vr(i));s=bt(Vr((""+s).trim()))}else{n=i;var o=WC.get(n);o!==void 0||(o=Oe(Vr(n.replace(BM,"-$1").toLowerCase().replace(HM,"-ms-"))),WC.set(n,o)),n=o,s=typeof s=="number"?s===0||vi.call(Ld,i)?bt(""+s):bt(s+"px"):bt(Vr((""+s).trim()))}t?(t=!1,e.push(QM,n,zC,s)):e.push(ZM,n,zC,s)}}t||e.push(vo)}var Sn=Oe(" "),ba=Oe('="'),vo=Oe('"'),UC=Oe('=""');function ki(e,t,r,i){switch(r){case"style":V2(e,t,i);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N"){if(t=Ur.hasOwnProperty(r)?Ur[r]:null,t!==null){switch(typeof i){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(r=bt(t.attributeName),t.type){case 3:i&&e.push(Sn,r,UC);break;case 4:i===!0?e.push(Sn,r,UC):i!==!1&&e.push(Sn,r,ba,bt(Vr(i)),vo);break;case 5:isNaN(i)||e.push(Sn,r,ba,bt(Vr(i)),vo);break;case 6:!isNaN(i)&&1<=i&&e.push(Sn,r,ba,bt(Vr(i)),vo);break;default:t.sanitizeURL&&(i=""+i),e.push(Sn,r,ba,bt(Vr(i)),vo)}}else if(G2(r)){switch(typeof i){case"function":case"symbol":return;case"boolean":if(t=r.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(Sn,bt(r),ba,bt(Vr(i)),vo)}}}var En=Oe(">"),jC=Oe("/>");function Nd(e,t,r){if(t!=null){if(r!=null)throw Error(yt(60));if(typeof t!="object"||!("__html"in t))throw Error(yt(61));t=t.__html,t!=null&&e.push(bt(""+t))}}function JM(e){var t="";return L2.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}var Gf=Oe(' selected=""');function Vf(e,t,r,i){e.push(Is(r));var s=r=null,n;for(n in t)if(vi.call(t,n)){var o=t[n];if(o!=null)switch(n){case"children":r=o;break;case"dangerouslySetInnerHTML":s=o;break;default:ki(e,i,n,o)}}return e.push(En),Nd(e,s,r),typeof r=="string"?(e.push(bt(Vr(r))),null):r}var Bf=Oe(`
`),eP=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,$C=new Map;function Is(e){var t=$C.get(e);if(t===void 0){if(!eP.test(e))throw Error(yt(65,e));t=Oe("<"+e),$C.set(e,t)}return t}var tP=Oe("<!DOCTYPE html>");function rP(e,t,r,i,s){switch(t){case"select":e.push(Is("select"));var n=null,o=null;for(c in r)if(vi.call(r,c)){var a=r[c];if(a!=null)switch(c){case"children":n=a;break;case"dangerouslySetInnerHTML":o=a;break;case"defaultValue":case"value":break;default:ki(e,i,c,a)}}return e.push(En),Nd(e,o,n),n;case"option":o=s.selectedValue,e.push(Is("option"));var u=a=null,l=null,c=null;for(n in r)if(vi.call(r,n)){var h=r[n];if(h!=null)switch(n){case"children":a=h;break;case"selected":l=h;break;case"dangerouslySetInnerHTML":c=h;break;case"value":u=h;default:ki(e,i,n,h)}}if(o!=null)if(r=u!==null?""+u:JM(a),ym(o)){for(i=0;i<o.length;i++)if(""+o[i]===r){e.push(Gf);break}}else""+o===r&&e.push(Gf);else l&&e.push(Gf);return e.push(En),Nd(e,c,a),a;case"textarea":e.push(Is("textarea")),c=o=n=null;for(a in r)if(vi.call(r,a)&&(u=r[a],u!=null))switch(a){case"children":c=u;break;case"value":n=u;break;case"defaultValue":o=u;break;case"dangerouslySetInnerHTML":throw Error(yt(91));default:ki(e,i,a,u)}if(n===null&&o!==null&&(n=o),e.push(En),c!=null){if(n!=null)throw Error(yt(92));if(ym(c)&&1<c.length)throw Error(yt(93));n=""+c}return typeof n=="string"&&n[0]===`
`&&e.push(Bf),n!==null&&e.push(bt(Vr(""+n))),null;case"input":e.push(Is("input")),u=c=a=n=null;for(o in r)if(vi.call(r,o)&&(l=r[o],l!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(yt(399,"input"));case"defaultChecked":u=l;break;case"defaultValue":a=l;break;case"checked":c=l;break;case"value":n=l;break;default:ki(e,i,o,l)}return c!==null?ki(e,i,"checked",c):u!==null&&ki(e,i,"checked",u),n!==null?ki(e,i,"value",n):a!==null&&ki(e,i,"value",a),e.push(jC),null;case"menuitem":e.push(Is("menuitem"));for(var d in r)if(vi.call(r,d)&&(n=r[d],n!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(yt(400));default:ki(e,i,d,n)}return e.push(En),null;case"title":e.push(Is("title")),n=null;for(h in r)if(vi.call(r,h)&&(o=r[h],o!=null))switch(h){case"children":n=o;break;case"dangerouslySetInnerHTML":throw Error(yt(434));default:ki(e,i,h,o)}return e.push(En),n;case"listing":case"pre":e.push(Is(t)),o=n=null;for(u in r)if(vi.call(r,u)&&(a=r[u],a!=null))switch(u){case"children":n=a;break;case"dangerouslySetInnerHTML":o=a;break;default:ki(e,i,u,a)}if(e.push(En),o!=null){if(n!=null)throw Error(yt(60));if(typeof o!="object"||!("__html"in o))throw Error(yt(61));r=o.__html,r!=null&&(typeof r=="string"&&0<r.length&&r[0]===`
`?e.push(Bf,bt(r)):e.push(bt(""+r)))}return typeof n=="string"&&n[0]===`
`&&e.push(Bf),n;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(Is(t));for(var p in r)if(vi.call(r,p)&&(n=r[p],n!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(yt(399,t));default:ki(e,i,p,n)}return e.push(jC),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return Vf(e,r,t,i);case"html":return s.insertionMode===0&&e.push(tP),Vf(e,r,t,i);default:if(t.indexOf("-")===-1&&typeof r.is!="string")return Vf(e,r,t,i);e.push(Is(t)),o=n=null;for(l in r)if(vi.call(r,l)&&(a=r[l],a!=null))switch(l){case"children":n=a;break;case"dangerouslySetInnerHTML":o=a;break;case"style":V2(e,i,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:G2(l)&&typeof a!="function"&&typeof a!="symbol"&&e.push(Sn,bt(l),ba,bt(Vr(a)),vo)}return e.push(En),Nd(e,o,n),n}}var iP=Oe("</"),sP=Oe(">"),nP=Oe('<template id="'),oP=Oe('"></template>'),aP=Oe("<!--$-->"),lP=Oe('<!--$?--><template id="'),uP=Oe('"></template>'),cP=Oe("<!--$!-->"),dP=Oe("<!--/$-->"),hP=Oe("<template"),pP=Oe('"'),fP=Oe(' data-dgst="');Oe(' data-msg="');Oe(' data-stck="');var gP=Oe("></template>");function KC(e,t,r){if(Ue(e,lP),r===null)throw Error(yt(395));return Ue(e,r),ir(e,uP)}var mP=Oe('<div hidden id="'),vP=Oe('">'),yP=Oe("</div>"),CP=Oe('<svg aria-hidden="true" style="display:none" id="'),wP=Oe('">'),bP=Oe("</svg>"),SP=Oe('<math aria-hidden="true" style="display:none" id="'),EP=Oe('">'),xP=Oe("</math>"),_P=Oe('<table hidden id="'),RP=Oe('">'),TP=Oe("</table>"),AP=Oe('<table hidden><tbody id="'),DP=Oe('">'),MP=Oe("</tbody></table>"),PP=Oe('<table hidden><tr id="'),FP=Oe('">'),IP=Oe("</tr></table>"),kP=Oe('<table hidden><colgroup id="'),LP=Oe('">'),NP=Oe("</colgroup></table>");function OP(e,t,r,i){switch(r.insertionMode){case 0:case 1:return Ue(e,mP),Ue(e,t.segmentPrefix),Ue(e,bt(i.toString(16))),ir(e,vP);case 2:return Ue(e,CP),Ue(e,t.segmentPrefix),Ue(e,bt(i.toString(16))),ir(e,wP);case 3:return Ue(e,SP),Ue(e,t.segmentPrefix),Ue(e,bt(i.toString(16))),ir(e,EP);case 4:return Ue(e,_P),Ue(e,t.segmentPrefix),Ue(e,bt(i.toString(16))),ir(e,RP);case 5:return Ue(e,AP),Ue(e,t.segmentPrefix),Ue(e,bt(i.toString(16))),ir(e,DP);case 6:return Ue(e,PP),Ue(e,t.segmentPrefix),Ue(e,bt(i.toString(16))),ir(e,FP);case 7:return Ue(e,kP),Ue(e,t.segmentPrefix),Ue(e,bt(i.toString(16))),ir(e,LP);default:throw Error(yt(397))}}function GP(e,t){switch(t.insertionMode){case 0:case 1:return ir(e,yP);case 2:return ir(e,bP);case 3:return ir(e,xP);case 4:return ir(e,TP);case 5:return ir(e,MP);case 6:return ir(e,IP);case 7:return ir(e,NP);default:throw Error(yt(397))}}var VP=Oe('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),BP=Oe('$RS("'),HP=Oe('","'),WP=Oe('")<\/script>'),zP=Oe('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),UP=Oe('$RC("'),jP=Oe('","'),$P=Oe('")<\/script>'),KP=Oe('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),qP=Oe('$RX("'),YP=Oe('"'),XP=Oe(")<\/script>"),Hf=Oe(","),QP=/[<\u2028\u2029]/g;function Wf(e){return JSON.stringify(e).replace(QP,function(t){switch(t){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var gu=Object.assign,ZP=Symbol.for("react.element"),B2=Symbol.for("react.portal"),H2=Symbol.for("react.fragment"),W2=Symbol.for("react.strict_mode"),z2=Symbol.for("react.profiler"),U2=Symbol.for("react.provider"),j2=Symbol.for("react.context"),$2=Symbol.for("react.forward_ref"),K2=Symbol.for("react.suspense"),q2=Symbol.for("react.suspense_list"),Y2=Symbol.for("react.memo"),F0=Symbol.for("react.lazy"),JP=Symbol.for("react.scope"),e3=Symbol.for("react.debug_trace_mode"),t3=Symbol.for("react.legacy_hidden"),r3=Symbol.for("react.default_value"),qC=Symbol.iterator;function Cm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H2:return"Fragment";case B2:return"Portal";case z2:return"Profiler";case W2:return"StrictMode";case K2:return"Suspense";case q2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case j2:return(e.displayName||"Context")+".Consumer";case U2:return(e._context.displayName||"Context")+".Provider";case $2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y2:return t=e.displayName||null,t!==null?t:Cm(e.type)||"Memo";case F0:t=e._payload,e=e._init;try{return Cm(e(t))}catch{}}return null}var X2={};function YC(e,t){if(e=e.contextTypes,!e)return X2;var r={},i;for(i in e)r[i]=t[i];return r}var Ro=null;function Hp(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var r=t.parent;if(e===null){if(r!==null)throw Error(yt(401))}else{if(r===null)throw Error(yt(401));Hp(e,r)}t.context._currentValue=t.value}}function Q2(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&Q2(e)}function Z2(e){var t=e.parent;t!==null&&Z2(t),e.context._currentValue=e.value}function J2(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(yt(402));e.depth===t.depth?Hp(e,t):J2(e,t)}function ex(e,t){var r=t.parent;if(r===null)throw Error(yt(402));e.depth===r.depth?Hp(e,r):ex(e,r),t.context._currentValue=t.value}function Oh(e){var t=Ro;t!==e&&(t===null?Z2(e):e===null?Q2(t):t.depth===e.depth?Hp(t,e):t.depth>e.depth?J2(t,e):ex(t,e),Ro=e)}var XC={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function QC(e,t,r,i){var s=e.state!==void 0?e.state:null;e.updater=XC,e.props=r,e.state=s;var n={queue:[],replace:!1};e._reactInternals=n;var o=t.contextType;if(e.context=typeof o=="object"&&o!==null?o._currentValue:i,o=t.getDerivedStateFromProps,typeof o=="function"&&(o=o(r,s),s=o==null?s:gu({},s,o),e.state=s),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&XC.enqueueReplaceState(e,e.state,null),n.queue!==null&&0<n.queue.length)if(t=n.queue,o=n.replace,n.queue=null,n.replace=!1,o&&t.length===1)e.state=t[0];else{for(n=o?t[0]:e.state,s=!0,o=o?1:0;o<t.length;o++){var a=t[o];a=typeof a=="function"?a.call(e,n,r,i):a,a!=null&&(s?(s=!1,n=gu({},n,a)):gu(n,a))}e.state=n}else n.queue=null}var i3={id:1,overflow:""};function wm(e,t,r){var i=e.id;e=e.overflow;var s=32-Od(i)-1;i&=~(1<<s),r+=1;var n=32-Od(t)+s;if(30<n){var o=s-s%5;return n=(i&(1<<o)-1).toString(32),i>>=o,s-=o,{id:1<<32-Od(t)+s|r<<s|i,overflow:n+e}}return{id:1<<n|r<<s|i,overflow:e}}var Od=Math.clz32?Math.clz32:o3,s3=Math.log,n3=Math.LN2;function o3(e){return e>>>=0,e===0?32:31-(s3(e)/n3|0)|0}function a3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var l3=typeof Object.is=="function"?Object.is:a3,un=null,I0=null,Gd=null,Zt=null,ru=!1,Gh=!1,ac=0,Fn=null,Wp=0;function yo(){if(un===null)throw Error(yt(321));return un}function ZC(){if(0<Wp)throw Error(yt(312));return{memoizedState:null,queue:null,next:null}}function k0(){return Zt===null?Gd===null?(ru=!1,Gd=Zt=ZC()):(ru=!0,Zt=Gd):Zt.next===null?(ru=!1,Zt=Zt.next=ZC()):(ru=!0,Zt=Zt.next),Zt}function L0(){I0=un=null,Gh=!1,Gd=null,Wp=0,Zt=Fn=null}function tx(e,t){return typeof t=="function"?t(e):t}function JC(e,t,r){if(un=yo(),Zt=k0(),ru){var i=Zt.queue;if(t=i.dispatch,Fn!==null&&(r=Fn.get(i),r!==void 0)){Fn.delete(i),i=Zt.memoizedState;do i=e(i,r.action),r=r.next;while(r!==null);return Zt.memoizedState=i,[i,t]}return[Zt.memoizedState,t]}return e=e===tx?typeof t=="function"?t():t:r!==void 0?r(t):t,Zt.memoizedState=e,e=Zt.queue={last:null,dispatch:null},e=e.dispatch=u3.bind(null,un,e),[Zt.memoizedState,e]}function ew(e,t){if(un=yo(),Zt=k0(),t=t===void 0?null:t,Zt!==null){var r=Zt.memoizedState;if(r!==null&&t!==null){var i=r[1];e:if(i===null)i=!1;else{for(var s=0;s<i.length&&s<t.length;s++)if(!l3(t[s],i[s])){i=!1;break e}i=!0}if(i)return r[0]}}return e=e(),Zt.memoizedState=[e,t],e}function u3(e,t,r){if(25<=Wp)throw Error(yt(301));if(e===un)if(Gh=!0,e={action:r,next:null},Fn===null&&(Fn=new Map),r=Fn.get(t),r===void 0)Fn.set(t,e);else{for(t=r;t.next!==null;)t=t.next;t.next=e}}function c3(){throw Error(yt(394))}function ud(){}var tw={readContext:function(e){return e._currentValue},useContext:function(e){return yo(),e._currentValue},useMemo:ew,useReducer:JC,useRef:function(e){un=yo(),Zt=k0();var t=Zt.memoizedState;return t===null?(e={current:e},Zt.memoizedState=e):t},useState:function(e){return JC(tx,e)},useInsertionEffect:ud,useLayoutEffect:function(){},useCallback:function(e,t){return ew(function(){return e},t)},useImperativeHandle:ud,useEffect:ud,useDebugValue:ud,useDeferredValue:function(e){return yo(),e},useTransition:function(){return yo(),[!1,c3]},useId:function(){var e=I0.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-Od(e)-1)).toString(32)+t;var r=Vd;if(r===null)throw Error(yt(404));return t=ac++,e=":"+r.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return yo(),t(e._source)},useSyncExternalStore:function(e,t,r){if(r===void 0)throw Error(yt(407));return r()}},Vd=null,zf=L2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function d3(e){return console.error(e),null}function iu(){}function h3(e,t,r,i,s,n,o,a,u){var l=[],c=new Set;return t={destination:null,responseState:t,progressiveChunkSize:i===void 0?12800:i,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:l,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:s===void 0?d3:s,onAllReady:n===void 0?iu:n,onShellReady:o===void 0?iu:o,onShellError:a===void 0?iu:a,onFatalError:u===void 0?iu:u},r=Vh(t,0,null,r,!1,!1),r.parentFlushed=!0,e=N0(t,e,null,r,c,X2,null,i3),l.push(e),t}function N0(e,t,r,i,s,n,o,a){e.allPendingTasks++,r===null?e.pendingRootTasks++:r.pendingTasks++;var u={node:t,ping:function(){var l=e.pingedTasks;l.push(u),l.length===1&&sx(e)},blockedBoundary:r,blockedSegment:i,abortSet:s,legacyContext:n,context:o,treeContext:a};return s.add(u),u}function Vh(e,t,r,i,s,n){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:i,boundary:r,lastPushedText:s,textEmbedded:n}}function lc(e,t){if(e=e.onError(t),e!=null&&typeof e!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function Bh(e,t){var r=e.onShellError;r(t),r=e.onFatalError,r(t),e.destination!==null?(e.status=2,O2(e.destination,t)):(e.status=1,e.fatalError=t)}function rw(e,t,r,i,s){for(un={},I0=t,ac=0,e=r(i,s);Gh;)Gh=!1,ac=0,Wp+=1,Zt=null,e=r(i,s);return L0(),e}function iw(e,t,r,i){var s=r.render(),n=i.childContextTypes;if(n!=null){var o=t.legacyContext;if(typeof r.getChildContext!="function")i=o;else{r=r.getChildContext();for(var a in r)if(!(a in n))throw Error(yt(108,Cm(i)||"Unknown",a));i=gu({},o,r)}t.legacyContext=i,Vi(e,t,s),t.legacyContext=o}else Vi(e,t,s)}function sw(e,t){if(e&&e.defaultProps){t=gu({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function bm(e,t,r,i,s){if(typeof r=="function")if(r.prototype&&r.prototype.isReactComponent){s=YC(r,t.legacyContext);var n=r.contextType;n=new r(i,typeof n=="object"&&n!==null?n._currentValue:s),QC(n,r,i,s),iw(e,t,n,r)}else{n=YC(r,t.legacyContext),s=rw(e,t,r,i,n);var o=ac!==0;if(typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0)QC(s,r,i,n),iw(e,t,s,r);else if(o){i=t.treeContext,t.treeContext=wm(i,1,0);try{Vi(e,t,s)}finally{t.treeContext=i}}else Vi(e,t,s)}else if(typeof r=="string"){switch(s=t.blockedSegment,n=rP(s.chunks,r,i,e.responseState,s.formatContext),s.lastPushedText=!1,o=s.formatContext,s.formatContext=XM(o,r,i),Sm(e,t,n),s.formatContext=o,r){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:s.chunks.push(iP,bt(r),sP)}s.lastPushedText=!1}else{switch(r){case t3:case e3:case W2:case z2:case H2:Vi(e,t,i.children);return;case q2:Vi(e,t,i.children);return;case JP:throw Error(yt(343));case K2:e:{r=t.blockedBoundary,s=t.blockedSegment,n=i.fallback,i=i.children,o=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:o,errorDigest:null},u=Vh(e,s.chunks.length,a,s.formatContext,!1,!1);s.children.push(u),s.lastPushedText=!1;var l=Vh(e,0,null,s.formatContext,!1,!1);l.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=l;try{if(Sm(e,t,i),l.lastPushedText&&l.textEmbedded&&l.chunks.push(P0),l.status=1,Hh(a,l),a.pendingTasks===0)break e}catch(c){l.status=4,a.forceClientRender=!0,a.errorDigest=lc(e,c)}finally{t.blockedBoundary=r,t.blockedSegment=s}t=N0(e,n,r,u,o,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof r=="object"&&r!==null)switch(r.$$typeof){case $2:if(i=rw(e,t,r.render,i,s),ac!==0){r=t.treeContext,t.treeContext=wm(r,1,0);try{Vi(e,t,i)}finally{t.treeContext=r}}else Vi(e,t,i);return;case Y2:r=r.type,i=sw(r,i),bm(e,t,r,i,s);return;case U2:if(s=i.children,r=r._context,i=i.value,n=r._currentValue,r._currentValue=i,o=Ro,Ro=i={parent:o,depth:o===null?0:o.depth+1,context:r,parentValue:n,value:i},t.context=i,Vi(e,t,s),e=Ro,e===null)throw Error(yt(403));i=e.parentValue,e.context._currentValue=i===r3?e.context._defaultValue:i,e=Ro=e.parent,t.context=e;return;case j2:i=i.children,i=i(r._currentValue),Vi(e,t,i);return;case F0:s=r._init,r=s(r._payload),i=sw(r,i),bm(e,t,r,i,void 0);return}throw Error(yt(130,r==null?r:typeof r,""))}}function Vi(e,t,r){if(t.node=r,typeof r=="object"&&r!==null){switch(r.$$typeof){case ZP:bm(e,t,r.type,r.props,r.ref);return;case B2:throw Error(yt(257));case F0:var i=r._init;r=i(r._payload),Vi(e,t,r);return}if(ym(r)){nw(e,t,r);return}if(r===null||typeof r!="object"?i=null:(i=qC&&r[qC]||r["@@iterator"],i=typeof i=="function"?i:null),i&&(i=i.call(r))){if(r=i.next(),!r.done){var s=[];do s.push(r.value),r=i.next();while(!r.done);nw(e,t,s)}return}throw e=Object.prototype.toString.call(r),Error(yt(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}typeof r=="string"?(i=t.blockedSegment,i.lastPushedText=HC(t.blockedSegment.chunks,r,e.responseState,i.lastPushedText)):typeof r=="number"&&(i=t.blockedSegment,i.lastPushedText=HC(t.blockedSegment.chunks,""+r,e.responseState,i.lastPushedText))}function nw(e,t,r){for(var i=r.length,s=0;s<i;s++){var n=t.treeContext;t.treeContext=wm(n,i,s);try{Sm(e,t,r[s])}finally{t.treeContext=n}}}function Sm(e,t,r){var i=t.blockedSegment.formatContext,s=t.legacyContext,n=t.context;try{return Vi(e,t,r)}catch(u){if(L0(),typeof u=="object"&&u!==null&&typeof u.then=="function"){r=u;var o=t.blockedSegment,a=Vh(e,o.chunks.length,null,o.formatContext,o.lastPushedText,!0);o.children.push(a),o.lastPushedText=!1,e=N0(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,r.then(e,e),t.blockedSegment.formatContext=i,t.legacyContext=s,t.context=n,Oh(n)}else throw t.blockedSegment.formatContext=i,t.legacyContext=s,t.context=n,Oh(n),u}}function p3(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,ix(this,t,e)}function rx(e,t,r){var i=e.blockedBoundary;e.blockedSegment.status=3,i===null?(t.allPendingTasks--,t.status!==2&&(t.status=2,t.destination!==null&&t.destination.close())):(i.pendingTasks--,i.forceClientRender||(i.forceClientRender=!0,e=r===void 0?Error(yt(432)):r,i.errorDigest=t.onError(e),i.parentFlushed&&t.clientRenderedBoundaries.push(i)),i.fallbackAbortableTasks.forEach(function(s){return rx(s,t,r)}),i.fallbackAbortableTasks.clear(),t.allPendingTasks--,t.allPendingTasks===0&&(i=t.onAllReady,i()))}function Hh(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var r=t.children[0];r.id=t.id,r.parentFlushed=!0,r.status===1&&Hh(e,r)}else e.completedSegments.push(t)}function ix(e,t,r){if(t===null){if(r.parentFlushed){if(e.completedRootSegment!==null)throw Error(yt(389));e.completedRootSegment=r}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=iu,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(r.parentFlushed&&r.status===1&&Hh(t,r),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(p3,e),t.fallbackAbortableTasks.clear()):r.parentFlushed&&r.status===1&&(Hh(t,r),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function sx(e){if(e.status!==2){var t=Ro,r=zf.current;zf.current=tw;var i=Vd;Vd=e.responseState;try{var s=e.pingedTasks,n;for(n=0;n<s.length;n++){var o=s[n],a=e,u=o.blockedSegment;if(u.status===0){Oh(o.context);try{Vi(a,o,o.node),u.lastPushedText&&u.textEmbedded&&u.chunks.push(P0),o.abortSet.delete(o),u.status=1,ix(a,o.blockedBoundary,u)}catch(g){if(L0(),typeof g=="object"&&g!==null&&typeof g.then=="function"){var l=o.ping;g.then(l,l)}else{o.abortSet.delete(o),u.status=4;var c=o.blockedBoundary,h=g,d=lc(a,h);if(c===null?Bh(a,h):(c.pendingTasks--,c.forceClientRender||(c.forceClientRender=!0,c.errorDigest=d,c.parentFlushed&&a.clientRenderedBoundaries.push(c))),a.allPendingTasks--,a.allPendingTasks===0){var p=a.onAllReady;p()}}}finally{}}}s.splice(0,n),e.destination!==null&&O0(e,e.destination)}catch(g){lc(e,g),Bh(e,g)}finally{Vd=i,zf.current=r,r===tw&&Oh(t)}}}function cd(e,t,r){switch(r.parentFlushed=!0,r.status){case 0:var i=r.id=e.nextSegmentId++;return r.lastPushedText=!1,r.textEmbedded=!1,e=e.responseState,Ue(t,nP),Ue(t,e.placeholderPrefix),e=bt(i.toString(16)),Ue(t,e),ir(t,oP);case 1:r.status=2;var s=!0;i=r.chunks;var n=0;r=r.children;for(var o=0;o<r.length;o++){for(s=r[o];n<s.index;n++)Ue(t,i[n]);s=zp(e,t,s)}for(;n<i.length-1;n++)Ue(t,i[n]);return n<i.length&&(s=ir(t,i[n])),s;default:throw Error(yt(390))}}function zp(e,t,r){var i=r.boundary;if(i===null)return cd(e,t,r);if(i.parentFlushed=!0,i.forceClientRender)i=i.errorDigest,ir(t,cP),Ue(t,hP),i&&(Ue(t,fP),Ue(t,bt(Vr(i))),Ue(t,pP)),ir(t,gP),cd(e,t,r);else if(0<i.pendingTasks){i.rootSegmentID=e.nextSegmentId++,0<i.completedSegments.length&&e.partialBoundaries.push(i);var s=e.responseState,n=s.nextSuspenseID++;s=Oe(s.boundaryPrefix+n.toString(16)),i=i.id=s,KC(t,e.responseState,i),cd(e,t,r)}else if(i.byteSize>e.progressiveChunkSize)i.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(i),KC(t,e.responseState,i.id),cd(e,t,r);else{if(ir(t,aP),r=i.completedSegments,r.length!==1)throw Error(yt(391));zp(e,t,r[0])}return ir(t,dP)}function ow(e,t,r){return OP(t,e.responseState,r.formatContext,r.id),zp(e,t,r),GP(t,r.formatContext)}function aw(e,t,r){for(var i=r.completedSegments,s=0;s<i.length;s++)nx(e,t,r,i[s]);if(i.length=0,e=e.responseState,i=r.id,r=r.rootSegmentID,Ue(t,e.startInlineScript),e.sentCompleteBoundaryFunction?Ue(t,UP):(e.sentCompleteBoundaryFunction=!0,Ue(t,zP)),i===null)throw Error(yt(395));return r=bt(r.toString(16)),Ue(t,i),Ue(t,jP),Ue(t,e.segmentPrefix),Ue(t,r),ir(t,$P)}function nx(e,t,r,i){if(i.status===2)return!0;var s=i.id;if(s===-1){if((i.id=r.rootSegmentID)===-1)throw Error(yt(392));return ow(e,t,i)}return ow(e,t,i),e=e.responseState,Ue(t,e.startInlineScript),e.sentCompleteSegmentFunction?Ue(t,BP):(e.sentCompleteSegmentFunction=!0,Ue(t,VP)),Ue(t,e.segmentPrefix),s=bt(s.toString(16)),Ue(t,s),Ue(t,HP),Ue(t,e.placeholderPrefix),Ue(t,s),ir(t,WP)}function O0(e,t){Oi=new Uint8Array(512),Gi=0;try{var r=e.completedRootSegment;if(r!==null&&e.pendingRootTasks===0){zp(e,t,r),e.completedRootSegment=null;var i=e.responseState.bootstrapChunks;for(r=0;r<i.length-1;r++)Ue(t,i[r]);r<i.length&&ir(t,i[r])}var s=e.clientRenderedBoundaries,n;for(n=0;n<s.length;n++){var o=s[n];i=t;var a=e.responseState,u=o.id,l=o.errorDigest,c=o.errorMessage,h=o.errorComponentStack;if(Ue(i,a.startInlineScript),a.sentClientRenderFunction?Ue(i,qP):(a.sentClientRenderFunction=!0,Ue(i,KP)),u===null)throw Error(yt(395));Ue(i,u),Ue(i,YP),(l||c||h)&&(Ue(i,Hf),Ue(i,bt(Wf(l||"")))),(c||h)&&(Ue(i,Hf),Ue(i,bt(Wf(c||"")))),h&&(Ue(i,Hf),Ue(i,bt(Wf(h)))),ir(i,XP)}s.splice(0,n);var d=e.completedBoundaries;for(n=0;n<d.length;n++)aw(e,t,d[n]);d.splice(0,n),OC(t),Oi=new Uint8Array(512),Gi=0;var p=e.partialBoundaries;for(n=0;n<p.length;n++){var g=p[n];e:{s=e,o=t;var v=g.completedSegments;for(a=0;a<v.length;a++)if(!nx(s,o,g,v[a])){a++,v.splice(0,a);var f=!1;break e}v.splice(0,a),f=!0}if(!f){e.destination=null,n++,p.splice(0,n);return}}p.splice(0,n);var y=e.completedBoundaries;for(n=0;n<y.length;n++)aw(e,t,y[n]);y.splice(0,n)}finally{OC(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function lw(e,t){try{var r=e.abortableTasks;r.forEach(function(i){return rx(i,e,t)}),r.clear(),e.destination!==null&&O0(e,e.destination)}catch(i){lc(e,i),Bh(e,i)}}A0.renderToReadableStream=function(e,t){return new Promise(function(r,i){var s,n,o=new Promise(function(c,h){n=c,s=h}),a=h3(e,qM(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),YM(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,n,function(){var c=new ReadableStream({type:"bytes",pull:function(h){if(a.status===1)a.status=2,O2(h,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=h;try{O0(a,h)}catch(d){lc(a,d),Bh(a,d)}}},cancel:function(){lw(a)}},{highWaterMark:0});c.allReady=o,r(c)},function(c){o.catch(function(){}),i(c)},s);if(t&&t.signal){var u=t.signal,l=function(){lw(a,u.reason),u.removeEventListener("abort",l)};u.addEventListener("abort",l)}sx(a)})};A0.version="18.3.1";var Fl,ox;Fl=Pl,ox=A0;Fl.version;Fl.renderToString;var f3=Fl.renderToStaticMarkup;Fl.renderToNodeStream;Fl.renderToStaticNodeStream;ox.renderToReadableStream;var g3=Object.defineProperty,m3=Object.defineProperties,v3=Object.getOwnPropertyDescriptors,uw=Object.getOwnPropertySymbols,y3=Object.prototype.hasOwnProperty,C3=Object.prototype.propertyIsEnumerable,cw=(e,t,r)=>t in e?g3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,or=(e,t)=>{for(var r in t||(t={}))y3.call(t,r)&&cw(e,r,t[r]);if(uw)for(var r of uw(t))C3.call(t,r)&&cw(e,r,t[r]);return e},oi=(e,t)=>m3(e,v3(t)),G0=te.createContext({setMethods:()=>{}}),w3=e=>{const{initialProps:t,addUpdateCallback:r,CustomComponentClass:i,setMethods:s}=e,[n,o]=te.useState(t);return te.useEffect(()=>{r(a=>o(a))},[]),xe.createElement(G0.Provider,{value:{setMethods:s}},xe.createElement(i,or({},n)))},b3=te.memo(w3),S3=0;function dw(){return`agPortalKey_${++S3}`}var ax=class{constructor(e,t,r,i){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!i,this.statelessComponent=this.isStateless(this.reactComponent),this.key=dw(),this.portalKey=dw(),this.instanceCreated=this.isStatelessComponent()?wr.resolve(!1):new wr(s=>{this.resolveInstanceCreated=s})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){return this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy(),this.portalManager.destroyPortal(this.portal)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(Qe.warnOnce('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&(Qe.warnOnce('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(t=>this.eParentElement.classList.add(t))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&t[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r){setTimeout(()=>this.callMethod(e,t));return}const i=r[e];if(i)return i.apply(r,t);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,t&&t[0]?t[0]:{})}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.params=e,this.createOrUpdatePortal(e),new wr(t=>this.createReactComponent(t))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=t=>{var r;this.componentInstance=t,this.addParentContainerStyleAndClasses(),(r=this.resolveInstanceCreated)==null||r.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,oi(or({},e),{key:this.key})),this.portal=sp.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return te.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,t=>{e(t)})}isNullValue(){return this.valueRenderedIsNull(this.params)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}valueRenderedIsNull(e){if(!this.componentType.cellRenderer)return!1;const t=console.error;try{return console.error=()=>{},f3(te.createElement(this.reactComponent,e))===""}catch{}finally{console.error=t}return!1}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function V0(e,t,r){e.forEach(i=>{const s=t[i];s&&(r[i]=s)})}var ao=class extends ax{constructor(){super(...arguments),this.awaitUpdateCallback=new wr(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=b3}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new wr(i=>{setTimeout(()=>{i()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,V0(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return oi(or({},this.sourceParams),{key:this.key,ref:this.ref})}refreshProps(){return this.updateCallback?this.updateCallback():new wr(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},E3=class extends ao{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},x3=class extends ao{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback()}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.model=e,this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function lx(e,t){e.parentFilterInstance(r=>{(r.setModel(t)||wr.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var _3=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return oi(or({},this.floatingFilterParams),{model:this.model,onModelChange:this.onModelChange})}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){V0(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),lx(this.floatingFilterParams,e)}},R3=class extends ao{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),lx(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},T3=class extends ao{refresh(e){this.sourceParams=e,this.refreshProps()}},A3=class extends ao{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},D3=class extends ao{refresh(e){this.sourceParams=e,this.refreshProps()}},M3=class extends ao{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},P3=class extends ao{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}},ux=class cx{constructor(t,r,i){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=r||"div",this.refresher=t,this.maxComponentCreationTimeMs=i||cx.MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(t){this.portals=this.portals.filter(r=>r!==t),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(t,r,i){this.portals=[...this.portals,t],this.waitForInstance(r,i),this.batchUpdate()}updateReactPortal(t,r){this.portals[this.portals.indexOf(t)]=r,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(t,r,i=Date.now()){if(this.destroyed){r(null);return}if(t.rendered())r(t);else{if(Date.now()-i>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){if(t.isNullValue()){r(t);return}console.error(`AG Grid: React Component '${t.getReactComponentName()}' not created within ${this.maxComponentCreationTimeMs}ms.`),console.error("    If the component is using `forwardRef` but not `useImperativeHandle`, add the following: `useImperativeHandle(ref, () => ({}));`");return}window.setTimeout(()=>{this.waitForInstance(t,r,i)})}}};ux.MAX_COMPONENT_CREATION_TIME_IN_MS=1e3;var F3=ux,fi=xe.createContext({}),ms=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),ts=class dx{constructor(...t){this.classesMap={},t.forEach(r=>{this.classesMap[r]=!0})}setClass(t,r){if(!!this.classesMap[t]==r)return this;const s=new dx;return s.classesMap=or({},this.classesMap),s.classesMap[t]=r,s}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},Il=e=>{const t=()=>typeof Symbol=="function"&&Symbol.for,r=()=>t()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},I3=Gg.createRoot!=null&&Gg.flushSync!=null,Bd=!1;function k3(e){return Bd||setTimeout(()=>Bd=!1,0),Bd=!0,e()}var B0=(e,t)=>{I3&&e&&!Bd?Gg.flushSync(t):t()};function H0(e,t,r){if(t==null||e==null)return t;if(e===t||t.length===0&&e.length===0)return e;if(r||e.length===0&&t.length>0||e.length>0&&t.length===0)return t;const i=[],s=[],n=new Map,o=new Map;for(let a=0;a<t.length;a++){const u=t[a];o.set(u.getInstanceId(),u)}for(let a=0;a<e.length;a++){const u=e[a];n.set(u.getInstanceId(),u),o.has(u.getInstanceId())&&i.push(u)}for(let a=0;a<t.length;a++){const u=t[a],l=u.getInstanceId();n.has(l)||s.push(u)}return i.length===e.length&&s.length===0?e:i.length===0&&s.length===t.length?t:i.length===0?s:s.length===0?i:[...i,...s]}var Fc=(e,t,r,i)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const n=e.newAgStackInstance();if(!n)return;let o,a,u=!1;return n.then(l=>{if(u){t.destroyBean(l);return}o=l,a=o.getGui(),r.appendChild(a),hw(i,o)}),()=>{u=!0,o&&(a&&a.parentElement&&a.parentElement.removeChild(a),t.destroyBean(o),i&&hw(i,void 0))}},hw=(e,t)=>{if(e)if(e instanceof Function)e(t);else{const r=e;r.current=t}},L3=e=>{const t=e.newAgStackInstance();if(t)return t.resolveNow(null,r=>r)},hx=te.forwardRef((e,t)=>{var r;const i=te.useContext(fi).context,s=te.useRef(null),n=te.useRef(null),o=te.useRef(null),a=te.useRef(null),u=te.useRef(null),l=te.useRef(),[c,h]=te.useState(),[d,p]=te.useState(),[g,v]=te.useState(),[f,y]=te.useState(()=>new ts),[m,w]=te.useState(()=>new ts("ag-hidden")),[_,A]=te.useState(()=>new ts("ag-hidden")),[F,G]=te.useState(()=>new ts("ag-invisible"));te.useImperativeHandle(t,()=>({refresh(){return!1}})),te.useLayoutEffect(()=>Fc(c,i,n.current),[c]);const L=te.useCallback(S=>{if(s.current=S,!s.current){i.destroyBean(l.current),l.current=null;return}const b={setInnerRenderer:(E,R)=>{h(E),v(R)},setChildCount:E=>p(E),addOrRemoveCssClass:(E,R)=>y(I=>I.setClass(E,R)),setContractedDisplayed:E=>A(R=>R.setClass("ag-hidden",!E)),setExpandedDisplayed:E=>w(R=>R.setClass("ag-hidden",!E)),setCheckboxVisible:E=>G(R=>R.setClass("ag-invisible",!E))};l.current=i.createBean(new sa),l.current.init(b,s.current,o.current,a.current,u.current,hx,e)},[]),O=te.useMemo(()=>`ag-cell-wrapper ${f.toString()}`,[f]),V=te.useMemo(()=>`ag-group-expanded ${m.toString()}`,[m]),z=te.useMemo(()=>`ag-group-contracted ${_.toString()}`,[_]),H=te.useMemo(()=>`ag-group-checkbox ${F.toString()}`,[F]),T=c&&c.componentFromFramework,M=T?c.componentClass:void 0,x=c==null&&g!=null,C=Qe.escapeString(g,!0);return xe.createElement("span",or({className:O,ref:L},e.colDef?{}:{role:(r=l.current)==null?void 0:r.getCellAriaRole()}),xe.createElement("span",{className:V,ref:a}),xe.createElement("span",{className:z,ref:u}),xe.createElement("span",{className:H,ref:o}),xe.createElement("span",{className:"ag-group-value",ref:n},x&&xe.createElement(xe.Fragment,null,C),T&&xe.createElement(M,or({},c.params))),xe.createElement("span",{className:"ag-group-child-count"},d))}),pw=hx,N3=e=>{const{ctrl:t}=e,r=t.isAlive(),{context:i}=te.useContext(fi),s=r?t.getColId():void 0,[n,o]=te.useState(),a=te.useRef(null),u=te.useRef(null),l=te.useRef(null),c=te.useRef();let h=te.useRef();r&&!h.current&&(h.current=new yc(()=>a.current));const d=te.useCallback(f=>{var y;if(a.current=f,!a.current||!r)return;const m={setWidth:_=>{a.current&&(a.current.style.width=_)},addOrRemoveCssClass:(_,A)=>h.current.addOrRemoveCssClass(_,A),setAriaSort:_=>{a.current&&(_?Qe.setAriaSort(a.current,_):Qe.removeAriaSort(a.current))},setUserCompDetails:_=>o(_),getUserCompInstance:()=>c.current||void 0};t.setComp(m,a.current,u.current,l.current);const w=t.getSelectAllGui();(y=u.current)==null||y.insertAdjacentElement("afterend",w)},[]);te.useLayoutEffect(()=>Fc(n,i,l.current,c),[n]),te.useEffect(()=>{t.setDragSource(a.current)},[n]);const p=te.useMemo(()=>!!((n==null?void 0:n.componentFromFramework)&&Il(n.componentClass)),[n]),g=n&&n.componentFromFramework,v=n&&n.componentClass;return xe.createElement("div",{ref:d,className:"ag-header-cell","col-id":s,role:"columnheader"},xe.createElement("div",{ref:u,className:"ag-header-cell-resize",role:"presentation"}),xe.createElement("div",{ref:l,className:"ag-header-cell-comp-wrapper",role:"presentation"},g&&p&&xe.createElement(v,or({},n.params)),g&&!p&&xe.createElement(v,oi(or({},n.params),{ref:c}))))},O3=te.memo(N3),G3=e=>{const{context:t}=te.useContext(fi),{ctrl:r}=e,[i,s]=te.useState(()=>new ts),[n,o]=te.useState(()=>new ts),[a,u]=te.useState("false"),[l,c]=te.useState(),[h,d]=te.useState(),p=te.useMemo(()=>r.getColId(),[]),g=te.useRef(null),v=te.useRef(null),f=te.useRef(),y=te.useCallback(G=>{if(g.current=G,!g.current)return;const L={setWidth:O=>{g.current&&(g.current.style.width=O)},addOrRemoveCssClass:(O,V)=>s(z=>z.setClass(O,V)),setUserCompDetails:O=>d(O),setResizableDisplayed:O=>{o(V=>V.setClass("ag-hidden",!O)),u(O?"false":"true")},setAriaExpanded:O=>c(O),getUserCompInstance:()=>f.current||void 0};r.setComp(L,g.current,v.current)},[]);te.useLayoutEffect(()=>Fc(h,t,g.current),[h]),te.useEffect(()=>{g.current&&r.setDragSource(g.current)},[h]);const m=te.useMemo(()=>!!((h==null?void 0:h.componentFromFramework)&&Il(h.componentClass)),[h]),w=te.useMemo(()=>"ag-header-group-cell "+i.toString(),[i]),_=te.useMemo(()=>"ag-header-cell-resize "+n.toString(),[n]),A=h&&h.componentFromFramework,F=h&&h.componentClass;return xe.createElement("div",{ref:y,className:w,"col-id":p,role:"columnheader","aria-expanded":l},A&&m&&xe.createElement(F,or({},h.params)),A&&!m&&xe.createElement(F,oi(or({},h.params),{ref:f})),xe.createElement("div",{ref:v,"aria-hidden":a,className:_}))},V3=te.memo(G3);function W0(){Qe.warnOnce("Using custom components without `reactiveCustomComponents = true` is deprecated.")}var B3=e=>{const{context:t,gos:r}=te.useContext(fi),[i,s]=te.useState(()=>new ts("ag-header-cell","ag-floating-filter")),[n,o]=te.useState(()=>new ts),[a,u]=te.useState(()=>new ts("ag-floating-filter-button","ag-hidden")),[l,c]=te.useState("false"),[h,d]=te.useState(),[p,g]=te.useState(1),v=te.useRef(null),f=te.useRef(null),y=te.useRef(null),m=te.useRef(null),w=te.useRef(),_=te.useRef(),A=S=>{S!=null&&w.current&&w.current(S)},{ctrl:F}=e,G=te.useCallback(S=>{if(v.current=S,!v.current)return;_.current=new wr(E=>{w.current=E});const b={addOrRemoveCssClass:(E,R)=>s(I=>I.setClass(E,R)),addOrRemoveBodyCssClass:(E,R)=>o(I=>I.setClass(E,R)),setButtonWrapperDisplayed:E=>{u(R=>R.setClass("ag-hidden",!E)),c(E?"false":"true")},setWidth:E=>{v.current&&(v.current.style.width=E)},setCompDetails:E=>d(E),getFloatingFilterComp:()=>_.current?_.current:null,setMenuIcon:E=>{var R;return(R=m.current)==null?void 0:R.appendChild(E)}};F.setComp(b,v.current,m.current,f.current)},[]);te.useLayoutEffect(()=>Fc(h,t,f.current,A),[h]);const L=te.useMemo(()=>i.toString(),[i]),O=te.useMemo(()=>n.toString(),[n]),V=te.useMemo(()=>a.toString(),[a]),z=te.useMemo(()=>!!(h&&h.componentFromFramework&&Il(h.componentClass)),[h]),H=te.useMemo(()=>r.get("reactiveCustomComponents"),[]),T=te.useMemo(()=>{if(h)if(H){const S=new _3(h.params,()=>g(b=>b+1));return A(S),S}else h.componentFromFramework&&W0()},[h]),M=T==null?void 0:T.getProps(),x=h&&h.componentFromFramework,C=h&&h.componentClass;return xe.createElement("div",{ref:G,className:L,role:"gridcell"},xe.createElement("div",{ref:f,className:O,role:"presentation"},x&&!H&&xe.createElement(C,oi(or({},h.params),{ref:z?()=>{}:A})),x&&H&&xe.createElement(G0.Provider,{value:{setMethods:S=>T.setMethods(S)}},xe.createElement(C,or({},M)))),xe.createElement("div",{ref:y,"aria-hidden":l,className:V,role:"presentation"},xe.createElement("button",{ref:m,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},H3=te.memo(B3),W3=e=>{const{ctrl:t}=e,{topOffset:r,rowHeight:i}=te.useMemo(()=>t.getTopAndHeight(),[]),s=t.getAriaRowIndex(),n=t.getHeaderRowClass(),[o,a]=te.useState(()=>i+"px"),[u,l]=te.useState(()=>r+"px"),c=te.useRef(null),h=te.useRef(null),[d,p]=te.useState(()=>t.getHeaderCtrls()),g=te.useRef(null),v=te.useCallback(m=>{if(g.current=m,!m)return;const w={setHeight:_=>a(_),setTop:_=>l(_),setHeaderCtrls:(_,A,F)=>{h.current=c.current,c.current=_;const G=H0(h.current,_,A);G!==h.current&&B0(F,()=>p(G))},setWidth:_=>{g.current&&(g.current.style.width=_)}};t.setComp(w,!1)},[]),f=te.useMemo(()=>({height:o,top:u}),[o,u]),y=te.useCallback(m=>{switch(t.getType()){case rm.COLUMN_GROUP:return xe.createElement(V3,{ctrl:m,key:m.getInstanceId()});case rm.FLOATING_FILTER:return xe.createElement(H3,{ctrl:m,key:m.getInstanceId()});default:return xe.createElement(O3,{ctrl:m,key:m.getInstanceId()})}},[]);return xe.createElement("div",{ref:v,className:n,role:"row",style:f,"aria-rowindex":s},d.map(y))},z3=te.memo(W3),U3=e=>{const[t,r]=te.useState(!0),[i,s]=te.useState([]),{context:n}=te.useContext(fi),o=te.useRef(null),a=te.useRef(null),u=te.useRef(null),l=e.pinned==="left",c=e.pinned==="right",h=!l&&!c,d=te.useCallback(v=>{if(o.current=v,!o.current){n.destroyBean(u.current),u.current=null;return}const f={setDisplayed:r,setCtrls:y=>s(y),setCenterWidth:y=>{a.current&&(a.current.style.width=y)},setViewportScrollLeft:y=>{o.current&&(o.current.scrollLeft=y)},setPinnedContainerWidth:y=>{o.current&&(o.current.style.width=y,o.current.style.minWidth=y,o.current.style.maxWidth=y)}};u.current=n.createBean(new to(e.pinned)),u.current.setComp(f,o.current)},[]),p=t?"":"ag-hidden",g=()=>i.map(v=>xe.createElement(z3,{ctrl:v,key:v.getInstanceId()}));return xe.createElement(xe.Fragment,null,l&&xe.createElement("div",{ref:d,className:"ag-pinned-left-header "+p,"aria-hidden":!t,role:"rowgroup"},g()),c&&xe.createElement("div",{ref:d,className:"ag-pinned-right-header "+p,"aria-hidden":!t,role:"rowgroup"},g()),h&&xe.createElement("div",{ref:d,className:"ag-header-viewport "+p,role:"presentation"},xe.createElement("div",{ref:a,className:"ag-header-container",role:"rowgroup"},g())))},Uf=te.memo(U3),j3=()=>{const[e,t]=te.useState(()=>new ts),[r,i]=te.useState(),{context:s}=te.useContext(fi),n=te.useRef(null),o=te.useRef(null),a=te.useCallback(c=>{if(n.current=c,!c){s.destroyBean(o.current),o.current=null;return}const h={addOrRemoveCssClass:(d,p)=>t(g=>g.setClass(d,p)),setHeightAndMinHeight:d=>i(d)};o.current=s.createBean(new ro),o.current.setComp(h,n.current,n.current)},[]),u=te.useMemo(()=>"ag-header "+e.toString(),[e]),l=te.useMemo(()=>({height:r,minHeight:r}),[r]);return xe.createElement("div",{ref:a,className:u,style:l,role:"presentation"},xe.createElement(Uf,{pinned:"left"}),xe.createElement(Uf,{pinned:null}),xe.createElement(Uf,{pinned:"right"}))},$3=te.memo(j3),K3=(e,t)=>{te.useEffect(()=>{const r=t.current;if(r){const i=r.parentElement;if(i){const s=document.createComment(e);return i.insertBefore(s,r),()=>{i.removeChild(s)}}}},[e])},Co=K3,q3=e=>{const t=te.useRef(e),r=te.useRef(),i=te.useRef(!1),s=te.useRef(!1),[,n]=te.useState(0);i.current&&(s.current=!0),te.useEffect(()=>(i.current||(r.current=t.current(),i.current=!0),n(o=>o+1),()=>{s.current&&r.current&&r.current()}),[])},Y3=e=>{const[t,r]=te.useState(),{context:i,popupService:s,localeService:n,gos:o}=te.useContext(fi);return q3(()=>{const{editDetails:a,cellCtrl:u,eParentCell:l}=e,{compDetails:c}=a,h=o.get("stopEditingWhenCellsLoseFocus"),d=i.createBean(new jE(c.params)),p=d.getGui();if(e.jsChildComp){const w=e.jsChildComp.getGui();w&&p.appendChild(w)}const g={column:u.getColumn(),rowNode:u.getRowNode(),type:"popupCellEditor",eventSource:l,ePopup:p,position:a.popupPosition,keepWithinBounds:!0},v=s.positionPopupByComponent.bind(s,g),f=n.getLocaleTextFunc(),y=s.addPopup({modal:h,eChild:p,closeOnEsc:!0,closedCallback:()=>{u.onPopupEditorClosed()},anchorToElement:l,positionCallback:v,ariaLabel:f("ariaLabelCellEditor","Cell Editor")}),m=y?y.hideFunc:void 0;return r(d),e.jsChildComp&&e.jsChildComp.afterGuiAttached&&e.jsChildComp.afterGuiAttached(),()=>{m!=null&&m(),i.destroyBean(d)}}),xe.createElement(xe.Fragment,null,t&&e.wrappedContent&&sp.createPortal(e.wrappedContent,t.getGui()))},fw=te.memo(Y3),X3=(e,t,r,i,s,n)=>{const{context:o}=te.useContext(fi),a=te.useCallback(()=>{const u=s.current;if(!u)return;const l=u.getGui();l&&l.parentElement&&l.parentElement.removeChild(l),o.destroyBean(u),s.current=void 0},[]);te.useEffect(()=>{const u=e!=null,l=e&&e.compDetails&&!e.compDetails.componentFromFramework,c=t&&r==null;if(!(u&&l&&!c)){a();return}const d=e.compDetails;if(s.current){const y=s.current,w=y.refresh!=null&&e.force==!1?y.refresh(d.params):!1;if(w===!0||w===void 0)return;a()}const p=d.newAgStackInstance();if(!p)return;const g=p.resolveNow(null,y=>y);if(!g)return;const v=g.getGui();if(!v)return;(t?r:n.current).appendChild(v),s.current=g},[e,t,i]),te.useEffect(()=>a,[])},Q3=X3,Z3=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new wr(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return oi(or({},this.cellEditorParams),{initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange})}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){V0(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,(t=this.resolveInstanceCreated)==null||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},J3=(e,t,r)=>{const i=r.getColumn();if(!e&&t.isPopup&&t.isPopup()){const s=`AG Grid: Found an issue in column ${i.getColId()}. If using React, specify an editor is a popup using colDef.cellEditorPopup=true. AG Grid React cannot depend on the editor component specifying if it's in a popup (via the isPopup() method on the editor), as React needs to know this information BEFORE the component is created.`;Qe.doOnce(()=>console.warn(s),"jsEditorComp-isPopup-"+r.getColumn().getColId())}if(e&&t.getPopupPosition&&t.getPopupPosition()!=null){const s=`AG Grid: Found an issue in column ${i.getColId()}. If using React, specify an editor popup position using colDef.cellEditorPopupPosition=true. AG Grid React cannot depend on the editor component specifying it's position (via the getPopupPosition() method on the editor), as React needs to know this information BEFORE the component is created.`;Qe.doOnce(()=>console.warn(s),"jsEditorComp-getPopupPosition-"+r.getColumn().getColId())}},eF=(e,t,r)=>{const{compProxy:i}=e;r(i);const s=i.getProps(),n=Il(t);return xe.createElement(G0.Provider,{value:{setMethods:o=>i.setMethods(o)}},n&&xe.createElement(t,or({},s)),!n&&xe.createElement(t,oi(or({},s),{ref:o=>i.setRef(o)})))},gw=(e,t,r)=>{const i=e.compProxy;return xe.createElement(xe.Fragment,null,!i&&xe.createElement(t,oi(or({},e.compDetails.params),{ref:r})),i&&eF(e,t,r))},tF=(e,t,r,i,s,n)=>{const o=e.compDetails,a=o.componentClass,u=o.componentFromFramework&&!e.popup,l=o.componentFromFramework&&e.popup,c=!o.componentFromFramework&&e.popup;return xe.createElement(xe.Fragment,null,u&&gw(e,a,t),l&&xe.createElement(fw,{editDetails:e,cellCtrl:s,eParentCell:i,wrappedContent:gw(e,a,r)}),c&&n&&xe.createElement(fw,{editDetails:e,cellCtrl:s,eParentCell:i,jsChildComp:n}))},rF=(e,t,r,i,s,n,o)=>{const{compDetails:a,value:u}=e,l=!a,c=a&&a.componentFromFramework,h=a&&a.componentClass,d=u!=null&&u.toString?u.toString():u,p=()=>xe.createElement(xe.Fragment,null,l&&xe.createElement(xe.Fragment,null,d),c&&!n&&xe.createElement(h,oi(or({},a.params),{key:t,ref:i})),c&&n&&xe.createElement(h,oi(or({},a.params),{key:t})));return xe.createElement(xe.Fragment,null,s?xe.createElement("span",{role:"presentation",id:`cell-${r}`,className:"ag-cell-value",ref:o},p()):p())},iF=e=>{const{context:t}=te.useContext(fi),{cellCtrl:r,printLayout:i,editingRow:s}=e,n=r.getTabIndex(),o=r.getColumnIdSanitised(),a=r.getInstanceId(),[u,l]=te.useState(()=>r.isCellRenderer()?void 0:{compDetails:void 0,value:r.getValueToDisplay(),force:!1}),[c,h]=te.useState(),[d,p]=te.useState(1),[g,v]=te.useState(),[f,y]=te.useState(!1),[m,w]=te.useState(!1),[_,A]=te.useState(!1),[F,G]=te.useState(),L=te.useMemo(()=>r.isForceWrapper(),[r]),O=te.useMemo(()=>r.getCellAriaRole(),[r]),V=te.useRef(null),z=te.useRef(null),H=te.useRef(),T=te.useRef(),M=te.useRef(),x=te.useRef([]),C=te.useRef(),[S,b]=te.useState(0),E=te.useCallback(Y=>{C.current=Y,b(ee=>ee+1)},[]),R=u!=null&&(f||_||m),I=L||R,k=te.useCallback((Y,ee)=>{T.current=ee,ee&&(J3(Y,ee,r),ee.isCancelBeforeStart&&ee.isCancelBeforeStart()&&setTimeout(()=>{r.stopEditing(!0),r.focusCell(!0)}))},[r]),U=te.useCallback(Y=>k(!0,Y),[k]),j=te.useCallback(Y=>k(!1,Y),[k]);let X=te.useRef();X.current||(X.current=new yc(()=>V.current)),Q3(u,I,C.current,S,H,V);const N=te.useRef();te.useLayoutEffect(()=>{const Y=N.current,ee=u;if(N.current=u,Y==null||Y.compDetails==null||ee==null||ee.compDetails==null)return;const Q=Y.compDetails,J=ee.compDetails;if(Q.componentClass!=J.componentClass||z.current==null||z.current.refresh==null)return;z.current.refresh(J.params)!=!0&&p(oe=>oe+1)},[u]),te.useLayoutEffect(()=>{if(!(c&&!c.compDetails.componentFromFramework))return;const ee=c.compDetails,Q=c.popup===!0,J=L3(ee);if(!J)return;const ne=J.getGui();if(k(Q,J),!Q){const oe=(L?M:V).current;oe==null||oe.appendChild(ne),J.afterGuiAttached&&J.afterGuiAttached()}return G(J),()=>{t.destroyBean(J),k(Q,void 0),G(void 0),ne&&ne.parentElement&&ne.parentElement.removeChild(ne)}},[c]);const K=te.useCallback(Y=>{if(M.current=Y,!M.current){x.current.forEach(Q=>Q()),x.current=[];return}const ee=Q=>{var J;if(Q){const ne=Q.getGui();(J=M.current)==null||J.insertAdjacentElement("afterbegin",ne),x.current.push(()=>{t.destroyBean(Q),Qe.removeFromParent(ne)})}return Q};if(f){const Q=r.createSelectionCheckbox();ee(Q)}_&&ee(r.createDndSource()),m&&ee(r.createRowDragComp())},[r,t,_,m,f]),P=te.useCallback(Y=>{if(V.current=Y,!V.current||!r)return;const ee={addOrRemoveCssClass:(J,ne)=>X.current.addOrRemoveCssClass(J,ne),setUserStyles:J=>v(J),getFocusableElement:()=>V.current,setIncludeSelection:J=>y(J),setIncludeRowDrag:J=>w(J),setIncludeDndSource:J=>A(J),getCellEditor:()=>T.current||null,getCellRenderer:()=>z.current?z.current:H.current,getParentOfValue:()=>C.current?C.current:M.current?M.current:V.current,setRenderDetails:(J,ne,oe)=>{l(Z=>(Z==null?void 0:Z.compDetails)!==J||(Z==null?void 0:Z.value)!==ne||(Z==null?void 0:Z.force)!==oe?{value:ne,compDetails:J,force:oe}:Z)},setEditDetails:(J,ne,oe,Z)=>{if(J){let ie;Z?ie=new Z3(J.params,()=>p(se=>se+1)):J.componentFromFramework&&W0(),h({compDetails:J,popup:ne,popupPosition:oe,compProxy:ie}),ne||l(void 0)}else h(ie=>{ie!=null&&ie.compProxy&&(T.current=void 0)})}},Q=M.current||void 0;r.setComp(ee,V.current,Q,i,s)},[]),D=te.useMemo(()=>!!(u&&u.compDetails&&u.compDetails.componentFromFramework&&Il(u.compDetails.componentClass)),[u]);te.useLayoutEffect(()=>{var Y;V.current&&(X.current.addOrRemoveCssClass("ag-cell-value",!I),X.current.addOrRemoveCssClass("ag-cell-inline-editing",!!c&&!c.popup),X.current.addOrRemoveCssClass("ag-cell-popup-editing",!!c&&!!c.popup),X.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!c||!!c.popup),(Y=r.getRowCtrl())==null||Y.setInlineEditingCss(!!c),r.shouldRestoreFocus()&&!r.isEditing()&&V.current.focus({preventScroll:!0}))});const W=()=>xe.createElement(xe.Fragment,null,u!=null&&rF(u,d,a,z,I,D,E),c!=null&&tF(c,j,U,V.current,r,F));return xe.createElement("div",{ref:P,style:g,tabIndex:n,role:O,"col-id":o},I?xe.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:K},W()):W())},sF=te.memo(iF),nF=e=>{const{context:t,gos:r}=te.useContext(fi),{rowCtrl:i,containerType:s}=e,n=i.getTabIndex(),o=te.useRef(i.getDomOrder()),a=i.isFullWidth(),u=i.getRowNode().displayed,[l,c]=te.useState(()=>u?i.getRowIndex():null),[h,d]=te.useState(()=>i.getRowId()),[p,g]=te.useState(()=>i.getBusinessKey()),[v,f]=te.useState(()=>i.getRowStyles()),y=te.useRef(null),m=te.useRef(null),[w,_]=te.useState(()=>null),[A,F]=te.useState(),[G,L]=te.useState(()=>u?i.getInitialRowTop(s):void 0),[O,V]=te.useState(()=>u?i.getInitialTransform(s):void 0),z=te.useRef(null),H=te.useRef(),T=te.useRef(!1),[M,x]=te.useState(0);te.useEffect(()=>{var X;if(T.current||!A||M>10)return;const N=(X=z.current)==null?void 0:X.firstChild;N?(i.setupDetailRowAutoHeight(N),T.current=!0):x(K=>K+1)},[A,M]);let C=te.useRef();C.current||(C.current=new yc(()=>z.current));const S=te.useCallback(X=>{if(z.current=X,!z.current){i.unsetComp(s);return}if(!i.isAlive())return;const N={setTop:L,setTransform:V,addOrRemoveCssClass:(K,P)=>C.current.addOrRemoveCssClass(K,P),setDomOrder:K=>o.current=K,setRowIndex:c,setRowId:d,setRowBusinessKey:g,setUserStyles:f,setCellCtrls:(K,P)=>{m.current=y.current,y.current=K;const D=H0(m.current,K,o.current);D!==m.current&&B0(P,()=>_(D))},showFullWidth:K=>F(K),getFullWidthCellRenderer:()=>H.current,refreshFullWidth:K=>k.current?(F(P=>oi(or({},P),{params:K()})),!0):!H.current||!H.current.refresh?!1:H.current.refresh(K())};i.setComp(N,z.current,s)},[]);te.useLayoutEffect(()=>Fc(A,t,z.current,H),[A]);const b=te.useMemo(()=>{const X={top:G,transform:O};return Object.assign(X,v),X},[G,O,v]),E=a&&A&&A.componentFromFramework,R=!a&&w!=null,I=te.useMemo(()=>!!((A==null?void 0:A.componentFromFramework)&&Il(A.componentClass)),[A]),k=te.useRef(!1);te.useEffect(()=>{k.current=I&&!!A&&!!r.get("reactiveCustomComponents")},[I,A]);const U=()=>w==null?void 0:w.map(X=>xe.createElement(sF,{cellCtrl:X,editingRow:i.isEditing(),printLayout:i.isPrintLayout(),key:X.getInstanceId()})),j=()=>{const X=A.componentClass;return xe.createElement(xe.Fragment,null,I&&xe.createElement(X,or({},A.params)),!I&&xe.createElement(X,oi(or({},A.params),{ref:H})))};return xe.createElement("div",{ref:S,role:"row",style:b,"row-index":l,"row-id":h,"row-business-key":p,tabIndex:n},R&&U(),E&&j())},oF=te.memo(nF),aF=e=>{const{context:t}=te.useContext(fi),{name:r}=e,i=te.useMemo(()=>WE(r),[r]),s=te.useRef(null),n=te.useRef(null),o=te.useRef([]),a=te.useRef([]),[u,l]=te.useState(()=>[]),c=te.useRef(!1),h=te.useRef(),d=te.useMemo(()=>Sh.getRowContainerCssClasses(r),[r]),p=te.useMemo(()=>ms(d.viewport),[d]),g=te.useMemo(()=>ms(d.container),[d]),v=r===Xt.CENTER||r===Xt.TOP_CENTER||r===Xt.BOTTOM_CENTER||r===Xt.STICKY_TOP_CENTER||r===Xt.STICKY_BOTTOM_CENTER,f=v?s:n;Co(" AG Row Container "+r+" ",f);const y=te.useCallback(()=>v?s.current!=null&&n.current!=null:n.current!=null,[]),m=te.useCallback(()=>v?s.current==null&&n.current==null:n.current==null,[]),w=te.useCallback(()=>{if(m()&&(t.destroyBean(h.current),h.current=null),y()){const G=O=>{const V=H0(a.current,o.current,c.current);V!==a.current&&(a.current=V,B0(O,()=>l(V)))},L={setViewportHeight:O=>{s.current&&(s.current.style.height=O)},setRowCtrls:({rowCtrls:O,useFlushSync:V})=>{const z=!!V&&o.current.length>0&&O.length>0;o.current=O,G(z)},setDomOrder:O=>{c.current!=O&&(c.current=O,G(!1))},setContainerWidth:O=>{n.current&&(n.current.style.width=O)}};h.current=t.createBean(new Sh(r)),h.current.setComp(L,n.current,s.current)}},[y,m]),_=te.useCallback(G=>{n.current=G,w()},[w]),A=te.useCallback(G=>{s.current=G,w()},[w]),F=()=>xe.createElement("div",{className:g,ref:_,role:"rowgroup"},u.map(G=>xe.createElement(oF,{rowCtrl:G,containerType:i,key:G.getInstanceId()})));return xe.createElement(xe.Fragment,null,v?xe.createElement("div",{className:p,ref:A,role:"presentation"},F()):F())},lF=te.memo(aF),uF=()=>{const{context:e,agStackComponentsRegistry:t,resizeObserverService:r}=te.useContext(fi),[i,s]=te.useState(""),[n,o]=te.useState(0),[a,u]=te.useState(0),[l,c]=te.useState("0px"),[h,d]=te.useState("0px"),[p,g]=te.useState("100%"),[v,f]=te.useState("0px"),[y,m]=te.useState("0px"),[w,_]=te.useState("100%"),[A,F]=te.useState(""),[G,L]=te.useState(""),[O,V]=te.useState(null),[z,H]=te.useState(""),[T,M]=te.useState(null),[x,C]=te.useState("ag-layout-normal");let S=te.useRef();S.current||(S.current=new yc(()=>b.current));const b=te.useRef(null),E=te.useRef(null),R=te.useRef(null),I=te.useRef(null),k=te.useRef(null),U=te.useRef(null),j=te.useRef(null),X=te.useRef([]),N=te.useRef([]);Co(" AG Grid Body ",b),Co(" AG Pinned Top ",E),Co(" AG Sticky Top ",R),Co(" AG Middle ",U),Co(" AG Pinned Bottom ",j);const K=te.useCallback(ue=>{if(b.current=ue,!b.current){e.destroyBeans(X.current),N.current.forEach(_e=>_e()),X.current=[],N.current=[];return}if(!e)return;const de=_e=>{const Te=t.getComponentClass(_e),Me=e.createBean(new Te);return X.current.push(Me),Me},fe=(_e,Te)=>{_e.appendChild(Te),N.current.push(()=>_e.removeChild(Te))};fe(b.current,document.createComment(" AG Fake Horizontal Scroll ")),fe(b.current,de("AG-FAKE-HORIZONTAL-SCROLL").getGui()),fe(b.current,document.createComment(" AG Overlay Wrapper ")),fe(b.current,de("AG-OVERLAY-WRAPPER").getGui()),k.current&&(fe(k.current,document.createComment(" AG Fake Vertical Scroll ")),fe(k.current,de("AG-FAKE-VERTICAL-SCROLL").getGui()));const ge={setRowAnimationCssOnBodyViewport:s,setColumnCount:_e=>{b.current&&Qe.setAriaColCount(b.current,_e)},setRowCount:_e=>{b.current&&Qe.setAriaRowCount(b.current,_e)},setTopHeight:o,setBottomHeight:u,setStickyTopHeight:c,setStickyTopTop:d,setStickyTopWidth:g,setTopDisplay:F,setBottomDisplay:L,setColumnMovingCss:(_e,Te)=>S.current.addOrRemoveCssClass(_e,Te),updateLayoutClasses:C,setAlwaysVerticalScrollClass:V,setPinnedTopBottomOverflowY:H,setCellSelectableCss:(_e,Te)=>M(Te?_e:null),setBodyViewportWidth:_e=>{U.current&&(U.current.style.width=_e)},registerBodyViewportResizeListener:_e=>{if(U.current){const Te=r.observeResize(U.current,_e);N.current.push(()=>Te())}},setStickyBottomHeight:f,setStickyBottomBottom:m,setStickyBottomWidth:_},be=e.createBean(new Zr);X.current.push(be),be.setComp(ge,b.current,U.current,E.current,j.current,R.current,I.current)},[]),P=te.useMemo(()=>ms("ag-root","ag-unselectable",x),[x]),D=te.useMemo(()=>ms("ag-body-viewport",i,x,O,T),[i,x,O,T]),W=te.useMemo(()=>ms("ag-body",x),[x]),Y=te.useMemo(()=>ms("ag-floating-top",T),[T]),ee=te.useMemo(()=>ms("ag-sticky-top",T),[T]),Q=te.useMemo(()=>ms("ag-sticky-bottom",T),[T]),J=te.useMemo(()=>ms("ag-floating-bottom",T),[T]),ne=te.useMemo(()=>({height:n,minHeight:n,display:A,overflowY:z}),[n,A,z]),oe=te.useMemo(()=>({height:l,top:h,width:p}),[l,h,p]),Z=te.useMemo(()=>({height:v,bottom:y,width:w}),[v,y,w]),ie=te.useMemo(()=>({height:a,minHeight:a,display:G,overflowY:z}),[a,G,z]),se=ue=>xe.createElement(lF,{name:ue,key:`${ue}-container`}),ce=({section:ue,children:de,className:fe,style:ge})=>xe.createElement("div",{ref:ue,className:fe,role:"presentation",style:ge},de.map(se));return xe.createElement("div",{ref:K,className:P,role:"treegrid"},xe.createElement($3,null),ce({section:E,className:Y,style:ne,children:[Xt.TOP_LEFT,Xt.TOP_CENTER,Xt.TOP_RIGHT,Xt.TOP_FULL_WIDTH]}),xe.createElement("div",{className:W,ref:k,role:"presentation"},ce({section:U,className:D,children:[Xt.LEFT,Xt.CENTER,Xt.RIGHT,Xt.FULL_WIDTH]})),ce({section:R,className:ee,style:oe,children:[Xt.STICKY_TOP_LEFT,Xt.STICKY_TOP_CENTER,Xt.STICKY_TOP_RIGHT,Xt.STICKY_TOP_FULL_WIDTH]}),ce({section:I,className:Q,style:Z,children:[Xt.STICKY_BOTTOM_LEFT,Xt.STICKY_BOTTOM_CENTER,Xt.STICKY_BOTTOM_RIGHT,Xt.STICKY_BOTTOM_FULL_WIDTH]}),ce({section:j,className:J,style:ie,children:[Xt.BOTTOM_LEFT,Xt.BOTTOM_CENTER,Xt.BOTTOM_RIGHT,Xt.BOTTOM_FULL_WIDTH]}))},cF=te.memo(uF),dF=(e,t)=>{const{children:r,eFocusableElement:i,onTabKeyDown:s,gridCtrl:n,forceFocusOutWhenTabGuardsAreEmpty:o}=e,{context:a}=te.useContext(fi),u=te.useRef(null),l=te.useRef(null),c=te.useRef(),h=f=>{const y=f==null?void 0:parseInt(f,10).toString();[u,l].forEach(m=>{var w,_;y===void 0?(w=m.current)==null||w.removeAttribute("tabindex"):(_=m.current)==null||_.setAttribute("tabindex",y)})};te.useImperativeHandle(t,()=>({forceFocusOutOfContainer(f){var y;(y=c.current)==null||y.forceFocusOutOfContainer(f)}}));const d=te.useCallback(()=>{if(!u.current&&!l.current){a.destroyBean(c.current),c.current=null;return}if(u.current&&l.current){const f={setTabIndex:h};c.current=a.createBean(new Ip({comp:f,eTopGuard:u.current,eBottomGuard:l.current,eFocusableElement:i,onTabKeyDown:s,forceFocusOutWhenTabGuardsAreEmpty:o,focusInnerElement:y=>n.focusInnerElement(y)}))}},[]),p=te.useCallback(f=>{u.current=f,d()},[d]),g=te.useCallback(f=>{l.current=f,d()},[d]),v=f=>{const y=f==="top"?Ad.TAB_GUARD_TOP:Ad.TAB_GUARD_BOTTOM;return xe.createElement("div",{className:`${Ad.TAB_GUARD} ${y}`,role:"presentation",ref:f==="top"?p:g})};return xe.createElement(xe.Fragment,null,v("top"),r,v("bottom"))},hF=te.forwardRef(dF),pF=te.memo(hF),fF=({context:e})=>{const[t,r]=te.useState(""),[i,s]=te.useState(""),[n,o]=te.useState(""),[a,u]=te.useState(null),[l,c]=te.useState(null),[h,d]=te.useState(!1),[p,g]=te.useState(),v=te.useRef(null),f=te.useRef(null),y=te.useRef(),[m,w]=te.useState(null),_=te.useRef(()=>{}),A=te.useCallback(()=>{},[]),F=te.useMemo(()=>e.isDestroyed()?null:e.getBean("beans"),[e]);Co(" AG Grid ",f);const G=te.useCallback(H=>{if(f.current=H,!f.current){e.destroyBean(v.current),v.current=null;return}if(e.isDestroyed())return;v.current=e.createBean(new oo);const T=v.current;_.current=T.focusInnerElement.bind(T);const M={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:x=>{var C;(C=y.current)==null||C.forceFocusOutOfContainer(x)},updateLayoutClasses:o,getFocusableContainers:()=>{var x,C;const S=[],b=(x=f.current)==null?void 0:x.querySelector(".ag-root"),E=(C=f.current)==null?void 0:C.querySelector(".ag-side-bar:not(.ag-hidden)");return b&&S.push(b),E&&S.push(E),S},setCursor:u,setUserSelect:c};T.setComp(M,f.current,f.current),d(!0)},[]);te.useEffect(()=>{if(!p||!F||!v.current||!m||!f.current)return;const H=v.current,T=[],{agStackComponentsRegistry:M}=F,x=M.getComponentClass("AG-GRID-HEADER-DROP-ZONES"),C=M.getComponentClass("AG-SIDE-BAR"),S=M.getComponentClass("AG-STATUS-BAR"),b=M.getComponentClass("AG-WATERMARK"),E=M.getComponentClass("AG-PAGINATION"),R=[],I=f.current;if(H.showDropZones()&&x){const k=e.createBean(new x),U=k.getGui();I.insertAdjacentElement("afterbegin",U),R.push(U),T.push(k)}if(H.showSideBar()&&C){const k=e.createBean(new C),U=k.getGui(),j=m.querySelector(".ag-tab-guard-bottom");j&&(j.insertAdjacentElement("beforebegin",U),R.push(U)),T.push(k)}if(H.showStatusBar()&&S){const k=e.createBean(new S),U=k.getGui();I.insertAdjacentElement("beforeend",U),R.push(U),T.push(k)}if(E){const k=e.createBean(new E),U=k.getGui();I.insertAdjacentElement("beforeend",U),R.push(U),T.push(k)}if(H.showWatermark()&&b){const k=e.createBean(new b),U=k.getGui();I.insertAdjacentElement("beforeend",U),R.push(U),T.push(k)}return()=>{e.destroyBeans(T),R.forEach(k=>{k.parentElement&&k.parentElement.removeChild(k)})}},[p,m,F]);const L=te.useMemo(()=>ms("ag-root-wrapper",t,i,n),[t,i,n]),O=te.useMemo(()=>ms("ag-root-wrapper-body","ag-focus-managed",n),[n]),V=te.useMemo(()=>({userSelect:l??"",WebkitUserSelect:l??"",cursor:a??""}),[l,a]),z=te.useCallback(H=>{y.current=H,g(H!==null)},[]);return xe.createElement("div",{ref:G,className:L,style:V,role:"presentation"},xe.createElement("div",{className:O,ref:w,role:"presentation"},h&&m&&F&&xe.createElement(fi.Provider,{value:F},xe.createElement(pF,{ref:z,eFocusableElement:m,onTabKeyDown:A,gridCtrl:v.current,forceFocusOutWhenTabGuardsAreEmpty:!0},xe.createElement(cF,null)))))},gF=te.memo(fF),px=e=>{var t,r;const i=te.useRef(),s=te.useRef(null),n=te.useRef(null),o=te.useRef([]),a=te.useRef([]),u=te.useRef(e),l=te.useRef(!1),[c,h]=te.useState(void 0),[,d]=te.useState(0),p=te.useCallback(f=>{if(s.current=f,!s.current){o.current.forEach(G=>G()),o.current.length=0;return}const y=e.modules||[];n.current||(n.current=new F3(()=>d(G=>G+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),o.current.push(()=>{var G;(G=n.current)==null||G.destroy(),n.current=null}));const m=vh.combineAttributesAndGridOptions(e.gridOptions,e),w={providedBeanInstances:{frameworkComponentWrapper:new vF(n.current,!!m.reactiveCustomComponents)},modules:y,frameworkOverrides:new CF},_=G=>{h(G),o.current.push(()=>{G.destroy()}),G.getBean(Lo.NAME).whenReady(()=>{if(G.isDestroyed())return;const O=i.current;O&&e.setGridApi&&e.setGridApi(O,new ol(O))})},A=G=>{G.getBean(Lo.NAME).whenReady(()=>{a.current.forEach(O=>O()),a.current.length=0,l.current=!0})},F=new HD;i.current=F.create(s.current,m,_,A,w)},[]),g=te.useMemo(()=>or({height:"100%"},e.containerStyle||{}),[e.containerStyle]),v=te.useCallback(f=>{l.current?f():a.current.push(f)},[]);return te.useEffect(()=>{const f=mF(u.current,e);u.current=e,v(()=>{i.current&&vh.processOnChange(f,i.current)})},[e]),xe.createElement("div",{style:g,className:e.className,ref:p},c&&!c.isDestroyed()?xe.createElement(gF,{context:c}):null,(r=(t=n.current)==null?void 0:t.getPortals())!=null?r:null)};function mF(e,t){const r={};return Object.keys(t).forEach(i=>{const s=t[i];e[i]!==s&&(r[i]=s)}),r}var vF=class extends WD{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const s=(n=>{switch(n){case"filter":return x3;case"floatingFilterComponent":return R3;case"dateComponent":return E3;case"loadingOverlayComponent":return T3;case"noRowsOverlayComponent":return D3;case"statusPanel":return M3;case"toolPanel":return P3;case"menuItem":return A3}})(t.propertyName);if(s)return new s(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":W0();break}const r=!t.cellRenderer&&t.propertyName!=="toolPanel";return new ax(e,this.parent,t,r)}},yF=te.forwardRef((e,t)=>{const{ctrlsFactory:r,context:i,gos:s,resizeObserverService:n,clientSideRowModel:o,serverSideRowModel:a}=te.useContext(fi),[u,l]=te.useState(()=>new ts),[c,h]=te.useState(()=>new ts),[d,p]=te.useState(),[g,v]=te.useState(),f=te.useRef(),y=te.useRef(null),m=te.useRef(),w=te.useMemo(()=>Pt.__getGridRegisteredModules(e.api.getGridId()),[e]),_=te.useMemo(()=>u.toString()+" ag-details-row",[u]),A=te.useMemo(()=>c.toString()+" ag-details-grid",[c]);t&&te.useImperativeHandle(t,()=>({refresh(){var L,O;return(O=(L=f.current)==null?void 0:L.refresh())!=null?O:!1}})),e.template&&Qe.warnOnce("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const F=te.useCallback(L=>{if(y.current=L,!y.current){i.destroyBean(f.current),m.current&&m.current();return}const O={addOrRemoveCssClass:(z,H)=>l(T=>T.setClass(z,H)),addOrRemoveDetailGridCssClass:(z,H)=>h(T=>T.setClass(z,H)),setDetailGrid:z=>p(z),setRowData:z=>v(z),getGui:()=>y.current},V=r.getInstance("detailCellRenderer");if(V&&(i.createBean(V),V.init(O,e),f.current=V,s.get("detailRowAutoHeight"))){const z=()=>{if(y.current==null)return;const H=y.current.clientHeight;H!=null&&H>0&&setTimeout(()=>{e.node.setRowHeight(H),o?o.onRowHeightChanged():a&&a.onRowHeightChanged()},0)};m.current=n.observeResize(y.current,z),z()}},[]),G=te.useCallback((L,O)=>{var V;(V=f.current)==null||V.registerDetailWithMaster(L,O)},[]);return xe.createElement("div",{className:_,ref:F},d&&xe.createElement(px,oi(or({className:A},d),{modules:w,rowData:g,setGridApi:G})))}),CF=class extends s2{constructor(){super("react"),this.frameworkComponents={agGroupCellRenderer:pw,agGroupRowRenderer:pw,agDetailCellRenderer:yF},this.wrapIncoming=(e,t)=>t==="ensureVisible"?k3(e):e(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}},wF=class extends te.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=(e,t)=>{this.api=e,this.columnApi=t,this.apiListeners.forEach(r=>r(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return xe.createElement(px,oi(or({},this.props),{setGridApi:this.setGridApi}))}};const bF=({SearchParams:e})=>{const[t,r]=te.useState(null);te.useEffect(()=>{(async()=>{try{const d=await fetch("/LocalAdaptationApp/data.xlsx");if(!d.ok)throw new Error("Network response was not ok");const g=await(await d.blob()).arrayBuffer(),v=new HR.Workbook;await v.xlsx.load(g),r(v.worksheets[0])}catch(d){console.error("Error reading Excel file:",d)}})()},[]);const[i,s]=te.useState(null),[n,o]=te.useState(null),[a,u]=te.useState(null);te.useEffect(()=>{if(t){let h=[],d=[];t.eachRow((p,g)=>{if(g==1){d=p.values,d.shift();const v=d.map(f=>({field:f}));u(v)}else{let v={};for(let f=0;f<d.length;f++)v[d[f]]=p.getCell(f+1).value;h.push(v)}}),s(h),o(h)}},[t]),te.useEffect(()=>{if(i!=null&&i.length>0){let h=[];for(let d=0;d<i.length;d++)l(i[d])&&h.push(i[d]);o(h)}},[e]);const l=h=>Object.keys(e).every(d=>{var v,f;const p=((v=e[d])==null?void 0:v.toLowerCase())||"";return(((f=h[d])==null?void 0:f.toString().toLowerCase())||"").includes(p)}),c={flex:1,minWidth:110,resizable:!0,autoHeight:!0};return Ar.jsxs("div",{children:[Ar.jsxs("h2",{children:[n==null?void 0:n.length," entries found"]}),n&&a&&Ar.jsx("div",{className:"ag-theme-quartz",style:{height:"400px",width:"100%"},children:Ar.jsx(wF,{rowData:n,columnDefs:a,defaultColDef:c})})]})},SF=({SearchParams:e})=>Ar.jsx("div",{children:Ar.jsx(bF,{SearchParams:e})});function EF(){const[e,t]=te.useState({"Paper Name":"",Authors:"",Year:"",Journal:"",Title:"",Abstract:"","Open Access":"","Reviewer 1":"","Reviewer 2":"",Scope:"","Eco-Evo Focus":"",Metric:"","Life history":"","Ecological Loci/Traits":"","Additional Loci/Traits":"","Mating system":"",Ploidy:"",Selection:"","Spatial Structure":"","Population Size":"","Ecological Model":"","Recurrent Mutation":"",IBS:""});return Ar.jsxs("div",{children:[Ar.jsx(VR,{selectedSearchParams:e,setSelectedSearchParams:t}),Ar.jsx(SF,{SearchParams:e})]})}jf.createRoot(document.getElementById("root")).render(Ar.jsx(xe.StrictMode,{children:Ar.jsx(EF,{})}));
